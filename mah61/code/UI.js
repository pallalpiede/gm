CBaseWnd=function(t,i,s,e){this.Papa=t,this.Threads=i,this.Group=s,this.GroupTop=e,this.ActiveFlag=!1,this.Buttons=[],this.Imgs=[],this.Texts=[],this.TextVecs=[],this.Xc=0,this.Yc=0,this.ImgsNum=0,this.TextsNum=0,this.TextVecsNum=0,this.ButtonsNum=0,this.ShiftX=0,this.ShiftY=0,this.Shifters=[],this.ShiftersNum=0,this.Faders=[],this.FadersNum=0,this.Groups=[],this.GroupsNum=0,this.Alpha=1,this.Scale=1},CBaseWnd.prototype.clear=function(){this.ShiftersNum=0,this.FadersNum=0},CBaseWnd.prototype.P3EasingIn=function(t){return t*t*t},CBaseWnd.prototype.P3EasingOut=function(t){return--t*t*t+1},CBaseWnd.prototype.P2EasingIn=function(t){return t*t},CBaseWnd.prototype.P2EasingOut=function(t){return t*(2-t)},CBaseWnd.prototype.initFading=function(t){this.FadersNum=0,this.FadersFunc=t,this.Threads.addThread(this,this.updateFadings)},CBaseWnd.prototype.addFading=function(t,i,s,e,h){null==this.Faders[this.FadersNum]&&(this.Faders[this.FadersNum]={obj:null,flag:!1});var a=this.Faders[this.FadersNum];return this.FadersNum++,a.obj=t,a.time=s,a.timeCntr=0,a.alpha=t.alphaCoeff,a.alpha0=t.alphaCoeff,a.alpha1=i,a.tweenFunc=e,a.delay=h,a.flag=!0,a},CBaseWnd.prototype.updateFadings=function(){for(var t=-1,i=0;i<this.FadersNum;i++){var s=this.Faders[i];if(s.flag)if(t=i,s.delay<0){s.timeCntr+=Base.RealTimeInt,s.timeCntr>=s.time&&(s.timeCntr=s.time,s.flag=!1);var e=s.timeCntr/s.time;e=s.tweenFunc(e),s.alpha=s.alpha0+(s.alpha1-s.alpha0)*e,null!==s.obj.obj&&(s.obj.alphaCoeff=s.alpha,s.obj.obj.alpha=s.obj.alphaCoeff)}else s.delay-=Base.RealTimeInt}t<0&&(this.Threads.removeThread(this,this.updateFadings),null!=this.FadersFunc&&this.FadersFunc.call(this))},CBaseWnd.prototype.initShifting=function(t){this.ShiftersNum=0,this.ShiftersFunc=t,this.Threads.addThread(this,this.updateShiftings)},CBaseWnd.prototype.addShifter=function(t,i,s,e,h,a){null==this.Shifters[this.ShiftersNum]&&(this.Shifters[this.ShiftersNum]={obj:null,flag:!1});var n=this.Shifters[this.ShiftersNum];return this.ShiftersNum++,n.obj=t,n.time=e,n.timeCntr=0,n.sx0=t.sx,n.sy0=t.sy,n.sx1=i,n.sy1=s,n.tweenFunc=h,n.delay=a,n.flag=!0,n},CBaseWnd.prototype.updateShiftings=function(){for(var t=-1,i=0;i<this.ShiftersNum;i++){var s=this.Shifters[i];if(s.flag&&(t=i,s.delay-=Base.RealTimeInt,s.delay<0)){s.timeCntr+=Base.RealTimeInt,s.timeCntr>=s.time&&(s.timeCntr=s.time,s.flag=!1);var e=s.timeCntr/s.time;e=s.tweenFunc(e),null!==s.obj.obj&&(s.obj.sx=s.sx0+(s.sx1-s.sx0)*e,s.obj.sy=s.sy0+(s.sy1-s.sy0)*e,s.obj.obj.x=this.Xc+s.obj.x+this.ShiftX+s.obj.sx,s.obj.obj.y=this.Yc+s.obj.y+this.ShiftY+s.obj.sy)}}t<0&&(this.Threads.removeThread(this,this.updateShiftings),null!=this.ShiftersFunc&&this.ShiftersFunc.call(this))},CBaseWnd.prototype.OnResize=function(){},CBaseWnd.prototype.setAlpha=function(t,i){t.alphaCoeff=i,t.obj.alpha=this.Alpha*t.alphaCoeff},CBaseWnd.prototype.setButtonsAlpha=function(t){for(var i=0;i<this.ButtonsNum;i++)null!=this.Buttons[i].obj&&(this.Buttons[i].alphaCoeff=t,this.Buttons[i].obj.alpha=this.Alpha*this.Buttons[i].alphaCoeff)},CBaseWnd.prototype.setTextsAlpha=function(t){for(var i=0;i<this.TextsNum;i++)null!=this.Texts[i].obj&&(this.Texts[i].alphaCoeff=t,this.Texts[i].obj.alpha=this.Alpha*this.Texts[i].alphaCoeff)},CBaseWnd.prototype.setTextVecsAlpha=function(t){for(var i=0;i<this.TextVecsNum;i++)null!=this.TextVecs[i].obj&&(this.TextVecs[i].alphaCoeff=t,this.TextVecs[i].obj.alpha=this.Alpha*this.TextVecs[i].alphaCoeff)},CBaseWnd.prototype.setImgsAlpha=function(t){for(var i=0;i<this.ImgsNum;i++)null!=this.Imgs[i].obj&&(this.Imgs[i].alphaCoeff=t,this.Imgs[i].obj.alpha=this.Alpha*this.Imgs[i].alphaCoeff)},CBaseWnd.prototype.setGroupsAlpha=function(t){for(var i=0;i<this.GroupsNum;i++)null!=this.Groups[i].obj&&(this.Groups[i].alphaCoeff=t,this.Groups[i].obj.alpha=this.Alpha*this.Groups[i].alphaCoeff)},CBaseWnd.prototype.makeElementsVisible=function(t){for(var i=0;i<this.ImgsNum;i++)null!=this.Imgs[i].obj&&(this.Imgs[i].obj.visible=t);for(i=0;i<this.ButtonsNum;i++)null!=this.Buttons[i].obj&&(this.Buttons[i].obj.visible=t);for(i=0;i<this.TextsNum;i++)null!=this.Texts[i].obj&&(this.Texts[i].obj.visible=t);for(i=0;i<this.TextVecsNum;i++)null!=this.TextVecs[i].obj&&(this.TextVecs[i].obj.visible=t);for(i=0;i<this.GroupsNum;i++)null!=this.Groups[i].obj&&(this.Groups[i].obj.visible=t)},CBaseWnd.prototype.setObjShift=function(t,i,s){t.sx=i,t.sy=s},CBaseWnd.prototype.setObjXY=function(t,i,s){t.x=i,t.y=s,this.updateObj(t)},CBaseWnd.prototype.killObj=function(t){null!=t&&null!=t.obj&&(t.obj.kill(),t.obj=null)},CBaseWnd.prototype.updateObj=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateImg=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateButton=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateText=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateTextVec=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateGroup=function(t){t.obj.x=this.Xc+t.x+this.ShiftX+t.sx,t.obj.y=this.Yc+t.y+this.ShiftY+t.sy,t.obj.alpha=this.Alpha*t.alphaCoeff,t.obj.scale.set(this.Scale*t.scaleCoeff)},CBaseWnd.prototype.updateElements=function(){for(var t=0;t<this.ImgsNum;t++)null!=this.Imgs[t].obj&&this.updateImg(this.Imgs[t]);for(t=0;t<this.ButtonsNum;t++)null!=this.Buttons[t].obj&&this.updateButton(this.Buttons[t]);for(t=0;t<this.TextsNum;t++)null!=this.Texts[t].obj&&this.updateText(this.Texts[t]);for(t=0;t<this.TextVecsNum;t++)null!=this.TextVecs[t].obj&&this.updateTextVec(this.TextVecs[t]);for(t=0;t<this.GroupsNum;t++)null!=this.Groups[t].obj&&this.updateGroup(this.Groups[t])},CBaseWnd.prototype.addGroup=function(t,i,s,e){null==this.Groups[this.GroupsNum]&&(this.Groups[this.GroupsNum]={x:0,y:0,obj:null});var h=this.Groups[this.GroupsNum];return this.GroupsNum++,h.obj=this.Papa.game.add.group(),s.add(h.obj),h.x=t,h.y=i,h.sx=0,h.sy=0,h.scaleCoeff=1,h.scalingFlag=!1,h.alphaCoeff=1,h.obj.Order=e,h},CBaseWnd.prototype.addImg=function(t,i,s,e,h,a){null==this.Imgs[this.ImgsNum]&&(this.Imgs[this.ImgsNum]={x:0,y:0,obj:null});var n=this.Imgs[this.ImgsNum];return this.ImgsNum++,n.obj=this.Papa.getZeroImg(this.Xc+t+this.ShiftX,this.Yc+i+this.ShiftY,s,e,h,0),n.x=t,n.y=i,n.sx=0,n.sy=0,n.scaleCoeff=1,n.scalingFlag=!1,n.alphaCoeff=1,n.obj.anchor.set(.5),n.obj.Order=a,n},CBaseWnd.prototype.addBitmapText=function(t,i,s,e,h,a,n){null==this.Texts[this.TextsNum]&&(this.Texts[this.TextsNum]={x:0,y:0,obj:null});var o=this.Texts[this.TextsNum];return this.TextsNum++,o.obj=this.Papa.getBitmapText(this.Xc+t+this.ShiftX,this.Yc+i+this.ShiftY,s,e,h,a),o.x=t,o.y=i,o.sx=0,o.sy=0,o.scaleCoeff=1,o.alphaCoeff=1,o.obj.Order=n,o},CBaseWnd.prototype.addText=function(t,i,s,e,h){null==this.TextVecs[this.TextVecsNum]&&(this.TextVecs[this.TextVecsNum]={x:0,y:0,obj:null});var a=this.TextVecs[this.TextVecsNum];return this.TextVecsNum++,e.add(s),a.obj=s,a.x=t,a.y=i,a.sx=0,a.sy=0,a.scaleCoeff=1,a.alphaCoeff=1,a.obj.Order=h,a},CBaseWnd.prototype.addButton=function(t,i,s,e,h,a,n,o){null==this.Buttons[this.ButtonsNum]&&(this.Buttons[this.ButtonsNum]={x:0,y:0,obj:null});var d=this.Buttons[this.ButtonsNum];return this.ButtonsNum++,d.obj=this.Papa.getButton(this.Xc+t+this.ShiftX,this.Yc+i+this.ShiftY,s,e,h,a,n),d.obj.anchor.set(.5),d.x=t,d.y=i,d.sx=0,d.sy=0,d.scaleCoeff=1,d.alphaCoeff=1,d.obj.Order=o,d},CWndCoins=function(t,i,s,e){CBaseWnd.call(this,t,i,s,e),this.MoveTween=null,this.MovingFlag=!1,this.CloseFrames=["closeButton.png","closeButton.png","closeButton.png","closeButton.png"],this.ResumeFrames=["buttonContinue.png","buttonContinue.png","buttonContinue.png","buttonContinue.png"],this.ReplayFrames=["replayB.png","replayB.png","replayB.png","replayB.png"]},CWndCoins.prototype=Object.create(CBaseWnd.prototype),CWndCoins.prototype.constructor=CWndCoins,CWndCoins.prototype.init=function(){var t=this.Papa.game.add.text(0,0,sgLang.adcoins[Base.Lang],{font:"40px FontVector",fill:"#FFFFFF",align:"center"});t.setShadow(0,2,"rgba(0.2,0.2,0,0.2)"),t.anchor.set(.5,1),t.Order=1,this.CoinsMoreText=this.addText(0,-70,t,this.Group,1),t.visible=!1,(t=this.Papa.game.add.text(0,0,sgLang.watch[Base.Lang],{font:"40px FontVector",fill:"#6b1f21",align:"center"})).setShadow(0,3,"rgba(0.1,0.1,0,0.3)"),t.anchor.set(.5),t.shadowBlur=3,t.Order=1,this.ButtCoinsText=this.addText(0,0,t,this.Group,2),t.visible=!1,this.ActiveFlag=!1},CWndCoins.prototype.create=function(){this.clear(),this.Xc=Base.Width/2,this.Yc=Base.HeightGame/2,this.EndCall=null,this.Type=0,this.HaltButtonsFlag=!1,this.BgImg=this.addImg(0,0,"atlas","bg.png",this.Group,0),this.BgImg.obj.anchor.set(.5),this.setObjXY(this.CoinsMoreText,0,-70),this.CoinsMoreText.obj.setText(sgLang.adcoins[Base.Lang]),this.CoinsMoreText.obj.width>560&&(this.CoinsMoreText.scaleCoeff=560/this.CoinsMoreText.obj.width),this.ButtClose=this.addButton(-270,0,"atlas",this.CloseFrames,this.OnClose,this,this.Group,1),this.ButtCoins=this.addButton(0,100,"atlas",this.ResumeFrames,this.OnCoins,this,this.Group,1),this.setObjXY(this.ButtCoinsText,25,95),this.ButtCoinsText.obj.setText(sgLang.watch[Base.Lang]),this.ButtCoinsText.scaleCoeff=1,this.updateTextVec(this.ButtCoinsText),this.ButtCoinsText.obj.width>175&&(this.ButtCoinsText.scaleCoeff=175/this.ButtCoinsText.obj.width),this.ButtCoinsImg=this.addImg(-100,92,"atlas","video.png",this.Group,2),this.CoinPanel=this.addImg(0,15,"atlas","coinPanel.png",this.Group,1),this.CoinsText=this.addBitmapText(10,26,"GoldFont",""+Base.VideoCoins,72,this.Group,2),this.CoinsText.obj.anchor.set(.5,1),this.CoinsImg=this.addImg(0,0,"atlas","coins.png",this.Group,1),this.CoinsImg.scaleCoeff=1.8,this.CoinTopPanel=this.addImg(225,0,"atlas","coinPanel.png",this.Group,1),this.CoinsTopText=this.addBitmapText(240,0,"GoldFont",""+Base.Coins,70,this.Group,2),this.CoinsTopText.obj.anchor.set(.5,1);var t=1;Base.Coins>=2e4&&(t=.8),Base.Coins>=2e5&&(t=.7),Base.Coins>=2e6&&(t=.6),this.CoinsTopText.scaleCoeff=t,this.updateText(this.CoinsTopText),this.makeElementsVisible(!0),this.BgAlpha=0,this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha;var i=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);i.createEasingOut(this),i.to({BgAlpha:.9},.5,!0,this.OnReady,this),i.start(),this.setButtonsAlpha(0),this.initFading(null),this.initShifting(null);var s=400;this.addFading(this.CoinsImg,1,.4,this.P3EasingIn,0),this.setObjShift(this.ButtClose,-400,0),this.addFading(this.ButtClose,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtClose,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.CoinTopPanel,s,0),this.addFading(this.CoinTopPanel,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinTopPanel,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.CoinsTopText,s,0),this.addFading(this.CoinsTopText,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinsTopText,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.CoinsMoreText,-400,0),this.addFading(this.CoinsMoreText,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinsMoreText,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.CoinPanel,s,0),this.addFading(this.CoinPanel,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinPanel,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.CoinsText,s,0),this.addFading(this.CoinsText,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinsText,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtCoins,-400,0),this.addFading(this.ButtCoins,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtCoins,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtCoinsText,-400,0),this.addFading(this.ButtCoinsText,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtCoinsText,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtCoinsImg,-400,0),this.addFading(this.ButtCoinsImg,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtCoinsImg,0,0,.75,this.P3EasingOut,0),this.ClickAllowFlag=!0,this.MovingFlag=!1,this.State=0,this.ActiveFlag=!0,this.Group.sort("Order",-1),this.Papa.PlaySnd(Base.SndWindow),this.OnResize(),this.EndCall=this.ShowResults},CWndCoins.prototype.setSecondType=function(){this.setObjXY(this.ButtCoinsText,0,95),this.setObjXY(this.CoinsMoreText,0,-50),this.killObj(this.ButtClose),this.killObj(this.ButtReplay),this.killObj(this.CoinPanel),this.killObj(this.CoinsText),this.killObj(this.ButtCoinsImg),this.CoinsMoreText.obj.setText(sgLang.thanks[Base.Lang]),this.CoinsMoreText.scaleCoeff=1,this.CoinsMoreText.obj.width>570&&(this.CoinsMoreText.scaleCoeff=570/this.CoinsMoreText.obj.width),this.ButtCoinsText.obj.setText(sgLang.continue[Base.Lang]),this.ButtCoinsText.scaleCoeff=1,this.updateTextVec(this.ButtCoinsText),this.ButtCoinsText.obj.update(),this.ButtCoinsText.obj.width>230&&(this.ButtCoinsText.scaleCoeff=230/this.ButtCoinsText.obj.width),this.Type=1,this.OnResize()},CWndCoins.prototype.setNoAdType=function(){this.setObjXY(this.ButtCoinsText,0,95),this.setObjXY(this.CoinsMoreText,0,-50),this.killObj(this.CoinPanel),this.killObj(this.CoinsText),this.killObj(this.ButtCoinsImg),this.CoinsMoreText.obj.setText(sgLang.noAdAvailable[Base.Lang]),this.CoinsMoreText.scaleCoeff=1,this.CoinsMoreText.obj.width>570&&(this.CoinsMoreText.scaleCoeff=570/this.CoinsMoreText.obj.width),this.ButtCoinsText.obj.setText(sgLang.continue[Base.Lang]),this.ButtCoinsText.scaleCoeff=1,this.updateTextVec(this.ButtCoinsText),this.ButtCoinsText.obj.update(),this.ButtCoinsText.obj.width>230&&(this.ButtCoinsText.scaleCoeff=230/this.ButtCoinsText.obj.width),this.Type=1,this.OnResize()},CWndCoins.prototype.OnReplay=function(){sdkHandler.trigger("interstitialAd",{callback:function(){this.Papa.PlaySnd(Base.SndButton),this.EndCall=this.Papa.OnReplay(),this.setFadeOut()}},this)},CWndCoins.prototype.OnClose=function(){this.HaltButtonsFlag||(this.Papa.PlaySnd(Base.SndButton),this.setFadeOut())},CWndCoins.prototype.ShowResults=function(){this.Papa.setResults()},CWndCoins.prototype.OnCoins=function(){this.HaltButtonsFlag||(0==this.Type&&sgSettings.config.rewarded.enabled?(this.HaltButtonsFlag=!0,sdkHandler.trigger("rewardedAd",{callback:function(t){t?(this.Papa.PlaySnd(Base.SndButton),this.HaltButtonsFlag=!1,this.Papa.addCoins(Base.VideoCoins),this.setSecondType(),this.Papa.OnContinue(),this.EndCall=null):(this.Papa.PlaySnd(Base.SndButton),this.HaltButtonsFlag=!1,this.setNoAdType())}},this)):(this.Papa.PlaySnd(Base.SndButton),this.setFadeOut()))},CWndCoins.prototype.OnReady=function(){this.BlockButtons(!1)},CWndCoins.prototype.BlockButtons=function(t){this.ButtCoins.obj.input.enabled=!t,null!=this.ButtClose.obj&&(this.ButtClose.obj.input.enabled=!t)},CWndCoins.prototype.setFadeOut=function(){this.BlockButtons(!0),this.initFading(null),this.initShifting(null),this.addFading(this.CoinsImg,0,.35,this.P2EasingOut,0),0==this.Type&&this.addFading(this.ButtClose,0,.35,this.P2EasingOut,0),this.addFading(this.CoinTopPanel,0,.35,this.P2EasingOut,0),this.addFading(this.CoinsTopText,0,.35,this.P2EasingOut,0);var t=-400;this.addFading(this.CoinsMoreText,0,.35,this.P2EasingOut,0),this.addShifter(this.CoinsMoreText,t,0,.75,this.P3EasingOut,0),t=-t,0==this.Type&&this.addFading(this.CoinPanel,0,.35,this.P2EasingOut,0),0==this.Type&&this.addShifter(this.CoinPanel,t,0,.75,this.P3EasingOut,0),0==this.Type&&this.addFading(this.CoinsText,0,.35,this.P2EasingOut,0),0==this.Type&&this.addShifter(this.CoinsText,t,0,.75,this.P3EasingOut,0),0==this.Type&&(t=-t),this.ButtReplay&&(this.addFading(this.ButtReplay,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtReplay,t,0,.75,this.P3EasingOut,0)),this.addFading(this.ButtCoins,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtCoins,t,0,.75,this.P3EasingOut,0),this.addFading(this.ButtCoinsText,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtCoinsText,t,0,.75,this.P3EasingOut,0),0==this.Type&&this.addFading(this.ButtCoinsImg,0,.35,this.P2EasingOut,0),0==this.Type&&this.addShifter(this.ButtCoinsImg,t,0,.75,this.P3EasingOut,0),t=-t;var i=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);i.createEasingOut(this),i.to({BgAlpha:0},.75,!0,this.OnEnd,this),i.start(),this.Papa.PlaySnd(Base.SndWindow)},CWndCoins.prototype.updateBgAlpha=function(){null!=this.BgImg.obj&&(this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha)},CWndCoins.prototype.OnEnd=function(){this.makeElementsVisible(!1),this.Papa.PauseOff(),this.killObj(this.BgImg),this.killObj(this.CoinsImg),this.killObj(this.ButtClose),this.killObj(this.ButtReplay),this.killObj(this.CoinTopPanel),this.killObj(this.CoinsTopText),this.killObj(this.CoinPanel),this.killObj(this.CoinsText),this.killObj(this.ButtCoins),this.killObj(this.ButtCoinsImg),this.ActiveFlag=!1,null!=this.EndCall&&this.EndCall.call(this)},CWndCoins.prototype.OnResize=function(){this.ActiveFlag&&(this.Yc=Base.HeightGame/2,this.CoinTopPanel.y=-Base.HeightGame/2+52,this.CoinsTopText.y=-Base.HeightGame/2+52+11,this.ButtClose.y=-Base.HeightGame/2+52,this.updateElements(),this.BgImg.obj.scale.set(1,Base.HeightGame/960))},CWndPause=function(t,i,s,e){CBaseWnd.call(this,t,i,s,e),this.MoveTween=null,this.MovingFlag=!1,this.ResumeFrames=["playB.png","playB.png","playB.png","playB.png"],this.ReplayFrames=["replayB.png","replayB.png","replayB.png","replayB.png"],this.SoundFrames0=["soundB.png","soundB.png","soundB.png","soundB.png"],this.SoundFrames1=["soundBgrey.png","soundBgrey.png","soundBgrey.png","soundBgrey.png"],this.MusicFrames0=["musicB.png","musicB.png","musicB.png","musicB.png"],this.MusicFrames1=["musicBgrey.png","musicBgrey.png","musicBgrey.png","musicBgrey.png"]},CWndPause.prototype=Object.create(CBaseWnd.prototype),CWndPause.prototype.constructor=CWndPause,CWndPause.prototype.init=function(){this.ActiveFlag=!1},CWndPause.prototype.create=function(){this.clear(),this.Xc=Base.Width/2,this.Yc=Base.HeightGame/2,this.EndCall=null,this.BgImg=this.addImg(0,0,"atlas","bg.png",this.Group,0),this.BgImg.obj.anchor.set(.5),this.ButtResume=this.addButton(0,-165,"atlas",this.ResumeFrames,this.OnResume,this,this.Group,1),this.ButtReplay=this.addButton(0,0,"atlas",this.ReplayFrames,this.OnReplay,this,this.Group,1),this.ButtReplay.scaleCoeff=.65,globalButtonHelper.pauseResumeBtn=this.ButtResume,globalButtonHelper.pauseReplayBtn=this.ButtReplay,this.ButtSound=this.addButton(-105,120,"atlas",this.SoundFrames0,this.OnSound,this,this.Group,1),this.ButtMusic=this.addButton(105,120,"atlas",this.MusicFrames0,this.OnMusic,this,this.Group,1),this.makeElementsVisible(!0),this.BgAlpha=0,this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha;var t=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);t.createEasingOut(this),t.to({BgAlpha:.85},.5,!0,this.OnReady,this),t.start(),this.setButtonsAlpha(0),this.initFading(null),this.initShifting(null);var i=400;this.setObjShift(this.ButtResume,-400,0),this.addFading(this.ButtResume,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtResume,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtReplay,i,0),this.addFading(this.ButtReplay,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtReplay,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtSound,-400,0),this.addFading(this.ButtSound,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtSound,0,0,.75,this.P3EasingOut,0),this.setObjShift(this.ButtMusic,i,0),this.addFading(this.ButtMusic,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtMusic,0,0,.75,this.P3EasingOut,0),Base.SoundFlag?this.ButtSound.obj.setFrames(this.SoundFrames0[0],this.SoundFrames0[1],this.SoundFrames0[2],this.SoundFrames0[3]):this.ButtSound.obj.setFrames(this.SoundFrames1[0],this.SoundFrames1[1],this.SoundFrames1[2],this.SoundFrames1[3]),Base.MusicFlag?this.ButtMusic.obj.setFrames(this.MusicFrames0[0],this.MusicFrames0[1],this.MusicFrames0[2],this.MusicFrames0[3]):this.ButtMusic.obj.setFrames(this.MusicFrames1[0],this.MusicFrames1[1],this.MusicFrames1[2],this.MusicFrames1[3]),this.ClickAllowFlag=!0,this.MovingFlag=!1,this.State=0,this.ActiveFlag=!0,this.OldSoundFlag=Base.SoundFlag,this.OldMusicFlag=Base.MusicFlag,this.Group.sort("Order",-1),this.Papa.PlaySnd(Base.SndWindow),this.OnResize(),this.Papa.Papa.MuteMusic(!0)},CWndPause.prototype.OnSound=function(){Base.SoundFlag=!Base.SoundFlag,this.Papa.PlaySnd(Base.SndButton),Base.SoundFlag?this.ButtSound.obj.setFrames(this.SoundFrames0[0],this.SoundFrames0[1],this.SoundFrames0[2],this.SoundFrames0[3]):this.ButtSound.obj.setFrames(this.SoundFrames1[0],this.SoundFrames1[1],this.SoundFrames1[2],this.SoundFrames1[3])},CWndPause.prototype.OnMusic=function(){Base.MusicFlag=!Base.MusicFlag,this.Papa.PlaySnd(Base.SndButton),Base.MusicFlag?this.ButtMusic.obj.setFrames(this.MusicFrames0[0],this.MusicFrames0[1],this.MusicFrames0[2],this.MusicFrames0[3]):this.ButtMusic.obj.setFrames(this.MusicFrames1[0],this.MusicFrames1[1],this.MusicFrames1[2],this.MusicFrames1[3]),this.Papa.Papa.MuteMusic(!Base.MusicFlag)},CWndPause.prototype.OnResume=function(){sdkHandler.trigger("interstitialAd",{callback:function(){this.Papa.PlaySnd(Base.SndButton),this.setFadeOut()}},this)},CWndPause.prototype.OnReplay=function(){sdkHandler.trigger("interstitialAd",{callback:function(){this.Papa.PlaySnd(Base.SndButton),this.EndCall=this.ReplayGame,this.setFadeOut()}},this)},CWndPause.prototype.ReplayGame=function(){this.Papa.OnReplay()},CWndPause.prototype.OnReady=function(){this.BlockButtons(!1)},CWndPause.prototype.BlockButtons=function(t){this.ButtResume.obj.input.enabled=!t,this.ButtReplay.obj.input.enabled=!t,this.ButtSound.obj.input.enabled=!t,this.ButtMusic.obj.input.enabled=!t},CWndPause.prototype.setFadeOut=function(){this.BlockButtons(!0),this.OldMusicFlag==Base.MusicFlag&&this.OldSoundFlag==Base.SoundFlag||this.Papa.Papa.saveAll(),this.initFading(null),this.initShifting(null),this.addFading(this.ButtResume,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtResume,400,0,.75,this.P3EasingOut,0),this.addFading(this.ButtReplay,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtReplay,-400,0,.75,this.P3EasingOut,0),this.addFading(this.ButtSound,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtSound,-400,0,.75,this.P3EasingOut,0),this.addFading(this.ButtMusic,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtMusic,400,0,.75,this.P3EasingOut,0);var t=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);t.createEasingOut(this),t.to({BgAlpha:0},.9,!0,this.OnEnd,this),t.start(),this.Papa.PlaySnd(Base.SndWindow)},CWndPause.prototype.updateBgAlpha=function(){null!=this.BgImg.obj&&(this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha)},CWndPause.prototype.OnEnd=function(){this.makeElementsVisible(!1),this.Papa.PauseOff(),this.killObj(this.BgImg),this.killObj(this.ButtResume),this.killObj(this.ButtMusic),this.killObj(this.ButtSound),this.killObj(this.ButtReplay),this.ActiveFlag=!1,Base.MusicFlag&&this.Papa.Papa.MuteMusic(!1),null!=this.EndCall&&this.EndCall.call(this)},CWndPause.prototype.OnResize=function(){this.ActiveFlag&&(this.Yc=Base.HeightGame/2,this.updateElements(),this.BgImg.obj.scale.set(1,Base.HeightGame/960))},CWndResults=function(t,i,s,e){CBaseWnd.call(this,t,i,s,e),this.ActiveFlag=!1,this.ReplayFrames=["replayB.png","replayB.png","replayB.png","replayB.png"],this.ConfFrames=["conf0.png","conf1.png","conf2.png","conf3.png"],this.ConfXYs=[{x:0,y:0},{x:45,y:29},{x:10,y:-30},{x:-30,y:-10},{x:-40,y:30}]},CWndResults.prototype=Object.create(CBaseWnd.prototype),CWndResults.prototype.constructor=CWndResults,CWndResults.prototype.init=function(){this.BgImg=this.addImg(0,0,"atlas","bg.png",this.Group,0),this.BgImg.obj.anchor.set(.5),this.CoinPanel=this.addImg(225,0,"atlas","coinPanel.png",this.Group,1),this.CoinsTopText=this.addBitmapText(240,0,"GoldFont",""+Base.Coins,75,this.Group,2),this.CoinsTopText.obj.anchor.set(.5,1);var t=this.Papa.game.add.text(0,0,sgLang.newhs[Base.Lang],{font:"50px FontVector",fill:"#f4dd36",align:"center"});t.setShadow(0,3,"rgba(0.2,0.2,0,0.2)"),t.shadowBlur=2,t.anchor.set(.5,1),t.Order=1,this.HSText=this.addText(0,-290,t,this.Group,1),t.width>500&&(this.HSText.scaleCoeff=500/t.width),this.GroupHiScore=this.addGroup(-20,-270,this.Group,1),this.HiScoreText=this.Papa.getBitmapText(-5,20,"GoldFont",""+Base.HiScore,120,this.GroupHiScore.obj),this.HiScoreText.anchor.set(0,1),this.HiScoreImg=this.Papa.getZeroImg(-40,0,"atlas","scoreIcon.png",this.GroupHiScore.obj),this.HiScoreImg.anchor.set(.5,.5),this.PosHiScore=[{x:-20,y:20},{x:-55,y:0}],(t=this.Papa.game.add.text(0,0,sgLang.score[Base.Lang],{font:"35px FontVector",fill:"#f4c536",align:"center"})).setShadow(0,3,"rgba(0.2,0.2,0,0.15)"),t.shadowBlur=2,t.anchor.set(1,1),t.Order=1,this.ScoreText=this.addText(-40,-143,t,this.Group,1),this.ScoreNumText=this.addBitmapText(-10,-150,"GoldFont","100",90,this.Group,1),this.ScoreNumText.obj.anchor.set(0,1),this.ScoreImg=this.addImg(0,-165,"atlas","scoreIcon.png",this.Group,1),this.ScoreImg.scaleCoeff=.6,(t=this.Papa.game.add.text(0,0,sgLang.coins[Base.Lang],{font:"35px FontVector",fill:"#f4c536",align:"center"})).setShadow(0,3,"rgba(0.2,0.2,0,0.2)"),t.shadowBlur=2,t.anchor.set(1,1),t.Order=1,this.CoinsText=this.addText(-40,-53,t,this.Group,1),this.CoinsNumText=this.addBitmapText(-10,-60,"GoldFont","100",90,this.Group,1),this.CoinsNumText.obj.anchor.set(0,1),this.CoinsImg=this.addImg(0,-75,"atlas","coin.png",this.Group,1),this.ButtReplay=this.addButton(0,170,"atlas",this.ReplayFrames,this.OnReplay,this,this.Group,1),this.ActiveFlag=!1},CWndResults.prototype.create=function(){this.clear(),this.Xc=Base.Width/2,this.Yc=Base.HeightGame/2,this.EndCall=null,this.HiScoreScalingFlag=!1,this.HiScoreFlag=!1,Base.HiScore==Base.Score&&(this.HiScoreFlag=!0),this.BgAlpha=0,this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha;var t=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);t.createEasingOut(this),t.to({BgAlpha:.85},.5,!0,this.OnReady,this),t.start(),this.CountSpanTime=0,this.CountSpanTimeCntr=0,this.CountStage=0,this.CoinsTopText.obj.setText(""+Base.Coins),this.HiScoreFlag?this.HiScoreText.setText("0"):this.HiScoreText.setText(""+Base.HiScore),this.ScoreNumText.obj.setText(""+Base.Score),this.CoinsNumText.obj.setText(""+this.Papa.CoinsGame),this.ScoreImg.x=this.ScoreNumText.x+this.ScoreNumText.obj.width+40,this.CoinsImg.x=this.CoinsNumText.x+this.CoinsNumText.obj.width+40,this.ScoreNumText.obj.setText("0"),this.CoinsNumText.obj.setText("0"),window.makeElementsVisible=this.makeElementsVisible,this.makeElementsVisible(!0),this.setTextsAlpha(0),this.setTextVecsAlpha(0),this.setButtonsAlpha(0),this.setImgsAlpha(0),this.setGroupsAlpha(0),this.initFading(null),this.initShifting(null),this.setObjShift(this.CoinPanel,100,0),this.setObjShift(this.CoinsTopText,100,0),this.addFading(this.CoinPanel,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinPanel,0,0,.5,this.P3EasingOut,0),this.addFading(this.CoinsTopText,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinsTopText,0,0,.5,this.P3EasingOut,0);var i=-320,s=0;this.GroupHiScore.y=-270,this.HiScoreFlag&&(this.GroupHiScore.y+=60),this.HiScoreFlag&&(this.setObjShift(this.HSText,i,0),this.addFading(this.HSText,1,.4,this.P3EasingIn,s),this.addShifter(this.HSText,0,0,.5,this.P3EasingOut,s),i=-i,s+=.25),this.setObjShift(this.GroupHiScore,i,0),this.addFading(this.GroupHiScore,1,.4,this.P3EasingIn,s),this.addShifter(this.GroupHiScore,0,0,.5,this.P3EasingOut,s),this.HiScoreFlag||(i=-i,s+=.25,this.setObjShift(this.ScoreText,i,0),this.setObjShift(this.ScoreNumText,i,0),this.setObjShift(this.ScoreImg,i,0),this.addFading(this.ScoreText,1,.4,this.P3EasingIn,s),this.addShifter(this.ScoreText,0,0,.5,this.P3EasingOut,s),this.addFading(this.ScoreNumText,1,.4,this.P3EasingIn,s),this.addShifter(this.ScoreNumText,0,0,.5,this.P3EasingOut,s),this.addFading(this.ScoreImg,1,.4,this.P3EasingIn,s),this.addShifter(this.ScoreImg,0,0,.5,this.P3EasingOut,s)),i=-i,s+=.25,this.setObjShift(this.CoinsText,i,0),this.setObjShift(this.CoinsNumText,i,0),this.setObjShift(this.CoinsImg,i,0),this.addFading(this.CoinsText,1,.4,this.P3EasingIn,s),this.addShifter(this.CoinsText,0,0,.5,this.P3EasingOut,s),this.addFading(this.CoinsNumText,1,.4,this.P3EasingIn,s),this.addShifter(this.CoinsNumText,0,0,.5,this.P3EasingOut,s),this.addFading(this.CoinsImg,1,.4,this.P3EasingIn,s),this.addShifter(this.CoinsImg,0,0,.5,this.P3EasingOut,s),i=-i,s+=.25,this.ClickAllowFlag=!0,this.MovingFlag=!1,this.State=0,this.ReplayClickedFlag=!1,this.ActiveFlag=!0,this.CountingFlag=!1,this.WaitTimeCntr=1.5,this.Threads.addThread(this,this.updateWait),this.ScaleReplay=1,this.ScaleReplaySpeed=.2,this.ButtReplay.obj.scale.set(this.ScaleReplay),this.CounfetiFlag=!1,this.Group.sort("Order",-1),this.Papa.PlaySnd(Base.SndWindow),this.OnResize()},CWndResults.prototype.updateReplayScale=function(){this.ScaleReplay+=this.ScaleReplaySpeed*Base.RealTimeInt,(this.ScaleReplaySpeed>0&&this.ScaleReplay>1.05||this.ScaleReplaySpeed<0&&this.ScaleReplay<.95)&&(this.ScaleReplaySpeed=-this.ScaleReplaySpeed),this.ButtReplay.obj.scale.set(this.ScaleReplay)},CWndResults.prototype.setHiScoreScaling=function(){this.HiScoreScale=1,this.HiScoreScaleSpeed=.1,this.Threads.addThread(this,this.updateHiScoreSclaing),this.HiScoreScalingFlag=!0},CWndResults.prototype.updateHiScoreSclaing=function(){this.HiScoreScale+=this.HiScoreScaleSpeed*Base.RealTimeInt,this.HiScoreScaleSpeed>0&&this.HiScoreScale>1.1&&(this.HiScoreScaleSpeed=-this.HiScoreScaleSpeed),this.HiScoreScaleSpeed<0&&this.HiScoreScale<1&&(this.HiScoreScaleSpeed=-this.HiScoreScaleSpeed),this.GroupHiScore.obj.scale.set(this.HiScoreScale*this.HiScoreScale)},CWndResults.prototype.setConfetis=function(){this.ConfIndexLeft=Math.floor(Math.random()*this.ConfXYs.length),this.ConfIndexRight=Math.floor(Math.random()*this.ConfXYs.length),this.ConfRateCntr=0,this.ConfLeftFlag=!0,this.ConfCntr=4,this.Threads.addThread(this,this.updateConfeti),this.CounfetiFlag=!0},CWndResults.prototype.updateConfeti=function(){if(this.ConfRateCntr-=Base.RealTimeInt,this.ConfRateCntr<=0){var t=0,i=0;this.ConfLeftFlag?(t=this.Xc-170+this.ConfXYs[this.ConfIndexLeft].x,i=this.Yc-160+this.ConfXYs[this.ConfIndexLeft].y,this.ConfIndexLeft++,this.ConfIndexLeft>=this.ConfXYs.length&&(this.ConfIndexLeft=0),this.ConfLeftFlag=!1,this.ConfRateCntr=.2):(t=this.Xc+170+this.ConfXYs[this.ConfIndexRight].x,i=this.Yc-160+this.ConfXYs[this.ConfIndexRight].y,this.ConfIndexRight++,this.ConfIndexRight>=this.ConfXYs.length&&(this.ConfIndexRight=0),this.ConfLeftFlag=!0,this.ConfRateCntr=.5,this.ConfCntr--,this.ConfCntr<0&&(this.Threads.removeThread(this,this.updateConfeti),this.CounfetiFlag=!1)),this.makeConfeti(t,i)}},CWndResults.prototype.makeConfeti=function(t,i){this.Papa.addExplGlow(t,i,.5,2,.1,.2,.3,"atlas","ring1.png",this.GroupTop);for(var s=8,e=1e3,h=0;h<3;h++){for(var a=h*(Math.PI/s)/2,n=a,o=2*Math.PI/s,d=0;d<s;d++){var u=Math.floor(Math.random()*this.ConfFrames.length);-1==u&&u++,u>=this.ConfFrames.length&&(u=0);var l=e+50*Math.random(),r=Math.PI/10+Math.random()*Math.PI/8;Math.random()>.5&&(r=-r),this.Papa.addExplParticle(t+10*Math.cos(n),i+10*Math.sin(n),this.ConfFrames[u],0,.5+.2*Math.random(),l*Math.cos(n),l*Math.sin(n),Math.PI*Math.random(),r,this.GroupTop).setGravity(40),n=(a+=o)+.3*o*Math.random()}s-=2,e-=250}},CWndResults.prototype.updateWait=function(){if(this.WaitTimeCntr-=Base.RealTimeInt,this.WaitTimeCntr<0){if(this.Threads.removeThread(this,this.updateWait),this.BlockButtons(!0),this.CountingFlag=!0,this.HiScoreFlag)(t=.01*Base.Score)>2&&(t=2),this.setCounting(t,this.HiScoreText,Base.Score,0,!1),this.Papa.PlaySnd(Base.SndWin),this.setConfetis(),this.setHiScoreScaling();else{var t=.01*Base.Score;t>2&&(t=2),this.setCounting(t,this.ScoreNumText.obj,Base.Score,0,!0)}this.OnReady()}},CWndResults.prototype.updateWait2=function(){this.WaitTimeCntr-=Base.RealTimeInt,this.WaitTimeCntr<0&&(this.Threads.removeThread(this,this.updateWait2),this.OnReady())},CWndResults.prototype.OnReady=function(){!1!==this.ButtReplay.obj.visible&&(Base.NoInterAdFlag,this.ButtReplay.obj.visible=!0,this.addFading(this.ButtReplay,1,1,this.P2EasingIn,0),this.BlockButtons(!1),this.Threads.addThread(this,this.updateReplayScale))},CWndResults.prototype.setCounting=function(t,i,s,e,h){this.CountNum=s,this.CountText=i,this.CountSpanTimeCntr=0,this.CountSpanTime=t,this.CountStage=e,this.CountSoundFlag=h,this.CountSoundFlag&&this.Papa.PlaySnd(Base.SndCount),this.Threads.addThread(this,this.updateHiScore),this.CountingFlag=!0},CWndResults.prototype.updateHiScore=function(){this.CountSpanTimeCntr+=Base.RealTimeInt,this.CountSpanTimeCntr>this.CountSpanTime&&(this.CountSpanTimeCntr=this.CountSpanTime);var t=this.CountSpanTimeCntr/this.CountSpanTime,i=Math.floor(t*this.CountNum);if(this.CountText.setText(""+i),this.CountSpanTimeCntr==this.CountSpanTime)if(this.CountSoundFlag&&(this.Papa.StopSnd(Base.SndCount),this.CountSoundFlag=!1),i=this.CountNum,this.Threads.removeThread(this,this.updateHiScore),this.CountText.setText(""+i),this.HiScoreFlag){if(1==this.CountStage)return void(this.CountingFlag=!1);if(this.Papa.CoinsGame>0){var s=.1*this.Papa.CoinsGame;s>2&&(s=2),this.setCounting(s,this.CoinsNumText.obj,this.Papa.CoinsGame,1,!0)}else this.CoinsNumText.obj.setText(""+this.Papa.CoinsGame)}else switch(this.CountStage){case 0:1==this.CountStage?this.Papa.CoinsGame>0&&((s=.1*this.Papa.CoinsGame)>1.5&&(s=1.5),this.setCounting(s,this.CoinsNumText.obj,this.Papa.CoinsGame,1,!0)):this.CoinsNumText.obj.setText(""+this.Papa.CoinsGame);break;case 1:return void(this.CountingFlag=!1)}},CWndResults.prototype.OnReplay=function(){this.ReplayClickedFlag||(this.ReplayClickedFlag=!0,this.ButtReplay.obj.visible=!1,sdkHandler.trigger("interstitialAd",{callback:function(){this.EndCall=this.ReplayGame,this.setFadeOut()}},this))},CWndResults.prototype.ReplayGame=function(){this.Papa.OnReplay()},CWndResults.prototype.BlockButtons=function(t){this.ButtReplay.obj.input.enabled=!t},CWndResults.prototype.setFadeOut=function(){this.CountSoundFlag&&(this.Papa.StopSnd(Base.SndCount),this.CountSoundFlag=!1),this.CountingFlag&&this.Threads.removeThread(this,this.updateHiScore),this.CountingFlag=!1,this.CounfetiFlag&&this.Threads.removeThread(this,this.updateConfeti),this.CounfetiFlag=!1,this.HiScoreScalingFlag&&this.Threads.removeThread(this,this.updateHiScoreSclaing),this.HiScoreScalingFlag=!1,this.Threads.removeThread(this,this.updateReplayScale),this.BlockButtons(!0),this.initFading(null),this.initShifting(null),this.addFading(this.CoinPanel,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinPanel,0,-400,.5,this.P3EasingOut,0),this.addFading(this.CoinsTopText,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinsTopText,-400,0,.5,this.P3EasingOut,0);var t=-400;this.HiScoreFlag&&(this.addFading(this.HSText,0,.4,this.P2EasingOut,0),this.addShifter(this.HSText,t,0,.5,this.P3EasingOut,0),t=-t),this.addFading(this.GroupHiScore,0,.4,this.P2EasingOut,0),this.addShifter(this.GroupHiScore,t,0,.5,this.P3EasingOut,0),t=-t,this.HiScoreFlag||(this.addFading(this.ScoreText,0,.4,this.P2EasingOut,0),this.addShifter(this.ScoreText,t,0,.5,this.P3EasingOut,0),this.addFading(this.ScoreNumText,0,.4,this.P2EasingOut,0),this.addShifter(this.ScoreNumText,t,0,.5,this.P3EasingOut,0),this.addFading(this.ScoreImg,0,.4,this.P2EasingOut,0),this.addShifter(this.ScoreImg,t,0,.5,this.P3EasingOut,0),t=-t),this.addFading(this.CoinsText,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinsText,t,0,.5,this.P3EasingOut,0),this.addFading(this.CoinsNumText,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinsNumText,t,0,.5,this.P3EasingOut,0),this.addFading(this.CoinsImg,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinsImg,t,0,.5,this.P3EasingOut,0),t=-t,this.addFading(this.ButtReplay,0,.35,this.P2EasingOut,0);var i=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);i.createEasingOut(this),i.to({BgAlpha:0},.9,!0,this.OnEnd,this),i.start(),this.Papa.PlaySnd(Base.SndWindow)},CWndResults.prototype.updateBgAlpha=function(){null!=this.BgImg.obj&&(this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha)},CWndResults.prototype.OnEnd=function(){this.makeElementsVisible(!1),this.Papa.PauseOff(),this.ActiveFlag=!1,null!=this.EndCall&&this.EndCall.call(this)},CWndResults.prototype.OnResize=function(){this.ActiveFlag&&(this.Yc=Base.HeightGame/2,this.CoinPanel.y=-Base.HeightGame/2+52,this.CoinsTopText.y=-Base.HeightGame/2+52+11,this.updateElements(),this.BgImg.obj.scale.set(1,Base.HeightGame/960))},CWndChoice=function(t,i,s,e){CBaseWnd.call(this,t,i,s,e),this.ActiveFlag=!1,this.ContFrames=["buttonContinue.png","buttonContinue.png","buttonContinue.png","buttonContinue.png"]},CWndChoice.prototype=Object.create(CBaseWnd.prototype),CWndChoice.prototype.constructor=CWndChoice,CWndChoice.prototype.init=function(){this.BgImg=this.addImg(0,0,"atlas","bg.png",this.Group,0),this.BgImg.obj.anchor.set(.5);var t=this.Papa.game.add.text(0,0,sgLang.nospace[Base.Lang],{font:"70px FontVector",fill:"#ffffff",align:"center"});t.setShadow(0,3,"rgba(0,0,0,0.25)"),t.shadowBlur=2,t.anchor.set(.5,1),t.Order=1,this.SpaceText=this.addText(-20,-320,t,this.Group,1),t.width>570&&(this.SpaceText.scaleCoeff=570/t.width),(t=this.Papa.game.add.text(0,0,"xxx",{font:"90px FontVector",fill:"#ffffff",align:"center"})).setShadow(0,3,"rgba(0,0,0,0.25)"),t.shadowBlur=2,t.anchor.set(.5,1),t.Order=1,this.TimeText=this.addText(0,-120,t,this.Group,1),this.SliderBgImg=this.addImg(0,-30,"atlas","timeOutMain.png",this.Group,1),this.SliderImg=this.addImg(0,-30,"atlas","timeOutBlue.png",this.Group,2),this.SliderBgImg.obj.anchor.set(0,.5),this.SliderImg.obj.anchor.set(0,.5),this.SliderBgImg.x=-this.SliderBgImg.obj.width/2,this.SliderImg.x=-this.SliderImg.obj.width/2,this.SliderImg.obj.cropRect=new Phaser.Rectangle(0,0,this.SliderImg.obj.width,this.SliderImg.obj.height),this.SliderWidth=this.SliderImg.obj.width,this.CoinPanel=this.addImg(0,66,"atlas","coinPanel.png",this.Group,1),this.CoinsText=this.addBitmapText(10,77,"GoldFont",""+Base.PriceContinue,72,this.Group,2),this.CoinsText.obj.anchor.set(.5,1),this.ButtCont=this.addButton(0,140,"atlas",this.ContFrames,this.OnCont,this,this.Group,1),(t=this.Papa.game.add.text(0,0,sgLang.continueq[Base.Lang],{font:"40px FontVector",fill:"#6b1f21",align:"center"})).setShadow(0,3,"rgba(0.1,0.1,0,0.3)"),t.anchor.set(.5),t.shadowBlur=3,t.Order=1,this.ButtContText=this.addText(0,140,t,this.Group,2),t.visible=!1,t.width>230&&(this.ButtContText.scaleCoeff=230/t.width),this.ActiveFlag=!1},CWndChoice.prototype.create=function(){this.clear(),this.Xc=Base.Width/2,this.Yc=Base.HeightGame/2,this.EndCall=null,this.TwoButtonsFlag=!1,Base.Coins>=Base.PriceContinue&&(this.TwoButtonsFlag=!0),this.BgAlpha=0,this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha;var t=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);t.createEasingOut(this),t.to({BgAlpha:.9},.5,!0,null,this),t.start(),this.WaitTime=8,this.WaitTimeCntr=this.WaitTime,this.SliderImg.obj.cropRect.width=this.SliderWidth,this.SliderImg.obj.updateCrop(),this.SecCntr=this.WaitTime,this.TimeCntr=0,this.TimeText.obj.setText(""+this.SecCntr),this.Threads.addThread(this,this.updateWait),this.makeElementsVisible(!0),this.setTextVecsAlpha(0),this.setTextsAlpha(0),this.setButtonsAlpha(0),this.setImgsAlpha(0),this.initFading(null),this.initShifting(null),this.setObjShift(this.SpaceText,-300,0),this.addFading(this.SpaceText,1,.4,this.P3EasingIn,0),this.addShifter(this.SpaceText,0,0,.5,this.P3EasingOut,0),this.setObjShift(this.TimeText,300,0),this.addFading(this.TimeText,1,.4,this.P3EasingIn,0),this.addShifter(this.TimeText,0,0,.5,this.P3EasingOut,0),this.setObjShift(this.SliderBgImg,-300,0),this.setObjShift(this.SliderImg,-300,0),this.addFading(this.SliderBgImg,1,.4,this.P3EasingIn,0),this.addShifter(this.SliderBgImg,0,0,.5,this.P3EasingOut,0),this.addFading(this.SliderImg,1,.4,this.P3EasingIn,0),this.addShifter(this.SliderImg,0,0,.5,this.P3EasingOut,0),this.TwoButtonsFlag?(this.setObjShift(this.CoinPanel,300,0),this.setObjShift(this.CoinsText,300,0),this.addFading(this.CoinPanel,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinPanel,0,0,.5,this.P3EasingOut,0),this.addFading(this.CoinsText,1,.4,this.P3EasingIn,0),this.addShifter(this.CoinsText,0,0,.5,this.P3EasingOut,0),this.setObjShift(this.ButtCont,-300,0),this.setObjShift(this.ButtContText,-300,0),this.addFading(this.ButtCont,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtCont,0,0,.75,this.P3EasingOut,0),this.addFading(this.ButtContText,1,.4,this.P3EasingIn,0),this.addShifter(this.ButtContText,0,0,.75,this.P3EasingOut,0)):this.ButtCont.obj.input.enabled=!1,this.ClickAllowFlag=!0,this.MovingFlag=!1,this.State=0,this.ActiveFlag=!0,this.DelayCntr=1.5,this.Threads.addThread(this,this.updateDelay),this.Group.sort("Order",-1),this.Papa.PlaySnd(Base.SndWindow),this.OnResize()},CWndChoice.prototype.updateDelay=function(){this.DelayCntr-=Base.RealTimeInt,this.DelayCntr<0&&(this.Threads.removeThread(this,this.updateDelay),this.OnReady())},CWndChoice.prototype.updateWait=function(){this.WaitTimeCntr-=Base.RealTimeInt,this.WaitTimeCntr<0&&(this.WaitTimeCntr=0);var t=this.WaitTimeCntr/this.WaitTime;this.SliderImg.obj.cropRect.width=this.SliderWidth*t,this.SliderImg.obj.updateCrop(),this.TimeCntr-=Base.RealTimeInt,this.TimeCntr<0&&(this.TimeCntr=1,this.SecCntr--,this.SecCntr<=0&&(this.Threads.removeThread(this,this.updateWait),this.EndCall=this.ReplayGame,this.setFadeOut()),this.TimeText.obj.setText(""+this.SecCntr))},CWndChoice.prototype.OnCont=function(){this.Papa.PlaySnd(Base.SndButton),sdkHandler.trigger("interstitialAd",{callback:function(){this.Papa.spendCoins(40),this.Threads.removeThread(this,this.updateWait),this.EndCall=this.ContinueGame,this.setFadeOut()}},this)},CWndChoice.prototype.OnContVid=function(){sdkHandler.trigger("interstitialAd",{callback:function(){this.Threads.removeThread(this,this.updateWait),this.EndCall=this.ContinueGame,this.setFadeOut()}},this)},CWndChoice.prototype.ContinueGame=function(){this.Papa.OnContinue()},CWndChoice.prototype.ReplayGame=function(){this.Papa.OnNoChoice()},CWndChoice.prototype.OnReady=function(){this.BlockButtons(!1)},CWndChoice.prototype.BlockButtons=function(t){this.TwoButtonsFlag&&(this.ButtCont.obj.input.enabled=!t)},CWndChoice.prototype.setFadeOut=function(){this.BlockButtons(!0),this.initFading(null),this.initShifting(null),this.addFading(this.SpaceText,0,.4,this.P2EasingOut,0),this.addShifter(this.SpaceText,0,-400,.5,this.P3EasingOut,0),this.addFading(this.TimeText,0,.4,this.P2EasingOut,0),this.addShifter(this.TimeText,400,0,.5,this.P3EasingOut,0),this.addFading(this.SliderBgImg,0,.4,this.P2EasingOut,0),this.addShifter(this.SliderBgImg,-400,0,.5,this.P3EasingOut,0),this.addFading(this.SliderImg,0,.4,this.P2EasingOut,0),this.addShifter(this.SliderImg,-400,0,.5,this.P3EasingOut,0),this.TwoButtonsFlag&&(this.addFading(this.CoinPanel,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinPanel,400,0,.5,this.P3EasingOut,0),this.addFading(this.CoinsText,0,.4,this.P2EasingOut,0),this.addShifter(this.CoinsText,400,0,.5,this.P3EasingOut,0),this.addFading(this.ButtCont,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtCont,-400,0,.75,this.P2EasingIn,0),this.addFading(this.ButtContText,0,.35,this.P2EasingOut,0),this.addShifter(this.ButtContText,-400,0,.75,this.P2EasingIn,0));var t=this.Papa.Tweens.addTween(null,this.updateBgAlpha,this);t.createEasingOut(this),t.to({BgAlpha:0},.9,!0,this.OnEnd,this),t.start(),this.Papa.PlaySnd(Base.SndWindow)},CWndChoice.prototype.updateBgAlpha=function(){null!=this.BgImg.obj&&(this.BgImg.alphaCoeff=this.BgAlpha,this.BgImg.obj.alpha=this.BgAlpha)},CWndChoice.prototype.OnEnd=function(){this.makeElementsVisible(!1),this.Papa.PauseOff(),this.ActiveFlag=!1,null!=this.EndCall&&this.EndCall.call(this)},CWndChoice.prototype.OnResize=function(){this.ActiveFlag&&(this.Yc=Base.HeightGame/2,this.updateElements(),this.BgImg.obj.scale.set(1,Base.HeightGame/960))};