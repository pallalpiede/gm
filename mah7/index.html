<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="gameapifix.js"></script>
<script type=text/javascript>(function() {
  function GameLoader() {
    this.init = function() {
      this._gameId = "3a611175c5a94ad5a9156930445a3900";
      this._container = document.getElementById("game");
      this._loader=this._getLoaderData();
      this._hasImpression=false;
      this._hasSuccess=false;
      this._insertGameSDK();
    };
    
    this._getLoaderData=function(){
      return {"enabled":true};
    }

    this._insertGameSDK = function() {
      if (!this._gameId) return;

      window["GD_OPTIONS"] = {
        gameId: this._gameId,
        loader:this._loader,
        onLoaderEvent: this._onLoaderEvent.bind(this),
        onEvent: this._onEvent.bind(this)
      };
      
      (function(d, s, id) {
        var js,
          fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "";
        fjs.parentNode.insertBefore(js, fjs);
      })(document, "script", "gamedistribution-jssdk");
    };
    
    this._loadGame = function(options) {
      //this._container.style.visibility=options.display? "visible":"hidden";
      if(options.display){
        var gameFrame=this._container;
        setTimeout(function(){
          gameFrame.contentWindow.focus();
        },250);
      }
      if (this._container_initialized) {
        if(!this.sentResumeEvent){
          this.sentResumeEvent=true;
          this._sendResumeEvent();       
        }   
        return;
      }
      
      const formatTokenURLSearch=this._bridge.exports.formatTokenURLSearch;

      const data = {
        parentURL: this._bridge.parentURL,
        parentDomain: this._bridge.parentDomain,
        topDomain: this._bridge.topDomain,
        hasImpression: options.hasImpression,
        loaderEnabled:this._loader.enabled,
        version: "1.1.39"
      };

      const searchPart=formatTokenURLSearch(data);
      var gameSrc="//html5.gamedistribution.com/rvvASMiM/3a611175c5a94ad5a9156930445a3900/"+searchPart;
      this._container.src = gameSrc;

      this._container_initialized = true;
    };

    this._onLoaderEvent = function(event) {
      switch (event.name) {
        case "LOADER_DATA":
          this._bridge = event.message.bridge;
          this._game = event.message.game;
          break;
      }
    };

    this._onEvent = function(event) {
      
      switch (event.name) {
        case "SDK_GAME_START":
          this._bridge&&this._loadGame({
            hasImpression: this._hasImpression,
            display:true
          });
          break;
        case "AD_ERROR":
        case "AD_SDK_CANCELED":
          this._hasImpression=false||this._hasSuccess;
          break;
        case "ALL_ADS_COMPLETED":
        case "COMPLETE":
        case "USER_CLOSE":
        case "SKIPPED":
          this._hasImpression=true;
          this._hasSuccess=true;
          break;
      }
    };
    
    this._sendResumeEvent=function(){
      try{
        this._container.contentWindow.postMessage({ topic:"gdzone.resume"},"*");
      }
      catch(error){
        console.log(error.message);
      }
    }
  }
  new GameLoader().init();
})();</script

    <script type="text/javascript">
        WebFontConfig = {
            google: { families: [ 'Play:700:cyrillic-ext,latin,greek,latin-ext,cyrillic' ] }
        };
        (function() {
            var wf = document.createElement('script');
            wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
                    '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
            wf.type = 'text/javascript';
            wf.async = 'true';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wf, s);
        })(); </script>


	<title>Super Mahjong 3D</title>
	<style type="text/css">
		html,body {
			background-color: #333;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			margin: 0;
			padding: 0;
			font-size: 12pt;
		}
		
		#canvas {
			position: absolute;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;

		}
	</style>
    <script>

        var size = {
            width: window.innerWidth || document.body.clientWidth,
            height: window.innerHeight || document.body.clientHeight
        }

    </script>
    <meta name="viewport" content="width=device-width,initial-scale=1; maximum-scale=1; user-scalable=no;"/>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="MobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />

     <script type="text/javascript" src="game.min.js"></script>




</head>
<body>


<script>
    window.addEventListener("scroll", function (e) {
     try
     {
        var $el = document.querySelector(".scroller");
        var $doc = document.documentElement;
        var $body = document.body;
        var top = ($doc && $doc.scrollTop || $body && $body.scrollTop || 0);



            var pixels = ig.ua.screen.height;

            var x1 = 2148;
            var y1 = 23;

            var x2 = 1096;
            var y2 = 44;

            var M = (y2-y1) / (x2-x1);

            var Y = Math.round(M*(pixels - x1) + y1);


           document.body.scrollTop = 0;

       }
        catch(error)
        {}

    }, false);
</script>

<script type="text/javascript">
    var SpilData = {
        id: '576742227280293397'
    };
    var Api = null;
    var LOGO;
    var LOGOV;
    var actionLogo;
    var actionMoreGames;
    var noBrand = null;
    if (window.console && window.console.log) {
        console.log("bekho VERSION 6.1!!!!");
    }

    GameAPI.loadAPI (function (apiInstance) {
        // The API is ready for use.
        Api = apiInstance;
        if (window.console && window.console.log) {
            console.log('GameAPI version ' + apiInstance.version + ' loaded!');
        }
    }, SpilData);
</script>

<span id="gameContainer" style="overflow: hidden;">

<canvas id="canvas"></canvas>
</span>

</body>
</html>
