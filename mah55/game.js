!function(t,e){"use strict";t.openfl=t.openfl||{},t.lime=t.lime||{};var i={},f=function(){return dr.__string_rec(this,"")};function n(t,e){function i(){}i.prototype=t;var n=new i;for(var s in e)n[s]=e[s];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}var a={};(i["_ASpriteBase.ASpriteBase_Impl_"]=a).__name__=["_ASpriteBase","ASpriteBase_Impl_"],a.getChild=function(t,e){return t[e]};var mi=function(){};(i.ApplicationMain=mi).__name__=["ApplicationMain"],mi.config=null,mi.preloader=null,mi.create=function(){var t=new Rl;t.create(mi.config);var e=new j;mi.preloader=new _h(e),t.setPreloader(mi.preloader),mi.preloader.onComplete.add(mi.init),mi.preloader.create(mi.config);var i=[],n=[];if(i.push("assets/sounds/2.m4a"),n.push("SOUND"),i.push("assets/sounds/202.mp3"),n.push("MUSIC"),i.push("assets/sounds/0.wav"),n.push("SOUND"),i.push("assets/sounds/206.m4a"),n.push("SOUND"),i.push("assets/sounds/202.m4a"),n.push("SOUND"),i.push("assets/sounds/204.mp3"),n.push("MUSIC"),i.push("assets/sounds/188.m4a"),n.push("SOUND"),i.push("assets/sounds/188.mp3"),n.push("MUSIC"),i.push("assets/sounds/170.m4a"),n.push("SOUND"),i.push("assets/sounds/0.m4a"),n.push("SOUND"),i.push("assets/sounds/170.mp3"),n.push("MUSIC"),i.push("assets/sounds/206.mp3"),n.push("MUSIC"),i.push("assets/sounds/204.m4a"),n.push("SOUND"),i.push("assets/fonts/6_Tw Cen MT.svg"),n.push("TEXT"),i.push("assets/fonts/220_Agenda-Bold.json"),n.push("TEXT"),i.push("Tw Cen MT"),n.push("FONT"),i.push("assets/fonts/186_Tw Cen MT.json"),n.push("TEXT"),i.push("assets/fonts/220_Agenda-Bold.svg"),n.push("TEXT"),i.push("assets/fonts/220_Agenda-Bold.woff2"),n.push("BINARY"),i.push("assets/fonts/186_Tw Cen MT.svg"),n.push("TEXT"),i.push("assets/fonts/159_Crud.json"),n.push("TEXT"),i.push("assets/fonts/220_Agenda-Bold.eot"),n.push("BINARY"),i.push("assets/fonts/159_Crud.svg"),n.push("TEXT"),i.push("assets/fonts/159_Crud.eot"),n.push("BINARY"),i.push("assets/fonts/186_Tw Cen MT.eot"),n.push("BINARY"),i.push("assets/fonts/6_Tw Cen MT.woff2"),n.push("BINARY"),i.push("assets/fonts/6_Tw Cen MT.woff"),n.push("BINARY"),i.push("assets/fonts/186_Tw Cen MT.woff"),n.push("BINARY"),i.push("Agenda-Bold"),n.push("FONT"),i.push("Tw Cen MT"),n.push("FONT"),i.push("assets/fonts/186_Tw Cen MT.woff2"),n.push("BINARY"),i.push("assets/fonts/6_Tw Cen MT.json"),n.push("TEXT"),i.push("Crud"),n.push("FONT"),i.push("assets/fonts/220_Agenda-Bold.woff"),n.push("BINARY"),i.push("assets/fonts/159_Crud.woff2"),n.push("BINARY"),i.push("assets/fonts/6_Tw Cen MT.eot"),n.push("BINARY"),i.push("assets/fonts/159_Crud.woff"),n.push("BINARY"),i.push("assets/textures/up.png"),n.push("IMAGE"),i.push("assets/textures/down.png"),n.push("IMAGE"),i.push("assets/textures/left.png"),n.push("IMAGE"),i.push("assets/textures/right.png"),n.push("IMAGE"),i.push("lib/intro/intro.dat"),n.push("BINARY"),i.push("lib/intro.json"),n.push("TEXT"),i.push("lib/stuntdirtbike/305.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/360.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/274.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/470.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/356.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/384.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/412.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/47.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/326.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/325.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/182.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/294.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/434.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/321.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/264.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/348.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/376.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/290.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/318.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/260.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/287.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/399.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/426.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/312.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/424.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/171.jpg"),n.push("IMAGE"),i.push("lib/stuntdirtbike/395.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/338.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/280.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/364.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/392.png"),n.push("IMAGE"),i.push("lib/stuntdirtbike/stuntdirtbike.dat"),n.push("BINARY"),i.push("lib/stuntdirtbike.json"),n.push("TEXT"),null!=mi.config.assetsPrefix)for(var s=0,r=i.length;s<r;){var a=s++;"FONT"!=n[a]&&(i[a]=mi.config.assetsPrefix+i[a])}mi.preloader.load(i,n);t.exec()},mi.init=function(){var e=0,i=0;mi.preloader=null,i+=1,Eo.loadLibrary("stuntdirtbike").onComplete(function(t){(e+=1)==i&&mi.start()}),0==i&&mi.start()},mi.main=function(){mi.config={build:"16",company:"Fire Falcom",file:"game",fps:60,name:"stuntdirtbike",orientation:"",packageName:"com.firefal.stuntdirtbike",version:"1.0.0",windows:[{antialiasing:0,background:16777215,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:350,parameters:"{}",resizable:!1,stencilBuffer:!0,title:"stuntdirtbike",vsync:!1,width:500,x:null,y:null}]}},mi.start=function(){for(var t=!1,e=Pi.resolveClass("Main"),i=0,n=Pi.getClassFields(e);i<n.length;){var s=n[i];if(++i,"main"==s){t=!0;break}}if(Tr.initialize(),t)Dt.field(e,"main").apply(e,[]);else Pi.createInstance(_,[]);Po.current.stage.window.__fullscreen&&Po.current.stage.dispatchEvent(new $h("fullScreen",!1,!1,!0,!0)),Po.current.stage.dispatchEvent(new Ge("resize",!1,!1))},mi.resizeStatic=function(t){};var s=function(){};(i["openfl.events.IEventDispatcher"]=s).__name__=["openfl","events","IEventDispatcher"],s.prototype={__class__:s};var v=function(t){null!=t&&(this.__targetDispatcher=t)};(i["openfl.events.EventDispatcher"]=v).__name__=["openfl","events","EventDispatcher"],v.__interfaces__=[s],v.__dispatchEventStatic=function(t,e){if(e.acquire(),null==t.__eventMap||null==e)return e.release(),!1;var i,n=e.type,s=t.__dispatching;if(null!=df[n]?s.getReserved(n):s.h[n]){var r=t.__newEventMap;if(null==(i=null!=df[n]?r.getReserved(n):r.h[n])){var a=t.__eventMap;i=null!=df[n]?a.getReserved(n):a.h[n]}null!=i&&(i=i.slice())}else{var o=t.__eventMap;if(null!=(i=null!=df[n]?o.getReserved(n):o.h[n])){var l=t.__dispatching;null!=df[n]?l.setReserved(n,!0):l.h[n]=!0}}if(null==i)return e.release(),!1;var h=null;h=null==e.target?null!=t.__targetDispatcher?t.__targetDispatcher:t:e.target;for(var _,u,c=1==e.eventPhase,f=0;f<i.length&&(e.target=h,e.currentTarget=t,(_=i[f]).useCapture!=c||(_.callback.call(_,e),!e.__isCanceledNow));)_==i[f]&&++f;if(null!=t.__newEventMap){var d=t.__newEventMap;u=null!=df[n]?d.existsReserved(n):d.h.hasOwnProperty(n)}else u=!1;if(u){var p=t.__newEventMap,g=null!=df[n]?p.getReserved(n):p.h[n];if(0<g.length){var m=t.__eventMap;null!=df[n]?m.setReserved(n,g):m.h[n]=g}else t.__eventMap.remove(n);var v=t.__eventMap;new Vs(v,v.arrayKeys()).hasNext()?t.__newEventMap.remove(n):(t.__eventMap=null,t.__newEventMap=null)}var b=e.type,y=t.__dispatching;return null!=df[b]?y.setReserved(b,!1):y.h[b]=!1,e.release(),!0},v.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},v.prototype={addEventListener:function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==this.__eventMap&&(this.__dispatching=new zs,this.__eventMap=new zs,this.__newEventMap=new zs);var r=this.__eventMap;if(null!=df[t]?r.existsReserved(t):r.h.hasOwnProperty(t)){var a,o=this.__dispatching;if(1==(null!=df[t]?o.getReserved(t):o.h[t])){var l=this.__newEventMap;if(null!=df[t]?l.existsReserved(t):l.h.hasOwnProperty(t)){var h=this.__newEventMap;a=null!=df[t]?h.getReserved(t):h.h[t]}else{var _=this.__eventMap;a=(null!=df[t]?_.getReserved(t):_.h[t]).slice();var u=this.__newEventMap;null!=df[t]?u.setReserved(t,a):u.h[t]=a}}else{var c=this.__eventMap;a=null!=df[t]?c.getReserved(t):c.h[t]}for(var f=0,d=a.length;f<d;){var p=f++;if(Dt.compareMethods(a[p].callback,e))return}a.push(new Zh(e,i,n)),a.sort(v.__sortByPriority)}else{var g=[];g.push(new Zh(e,i,n));var m=this.__eventMap;null!=df[t]?m.setReserved(t,g):m.h[t]=g}this.onEventListenerAdded(t)},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){if(null==this.__eventMap)return!1;var e,i=this.__dispatching;if(1==(null!=df[t]?i.getReserved(t):i.h[t])){var n=this.__newEventMap;e=null!=df[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else e=!1;if(e){var s=this.__newEventMap;return 0<(null!=df[t]?s.getReserved(t):s.h[t]).length}var r=this.__eventMap;return null!=df[t]?r.existsReserved(t):r.h.hasOwnProperty(t)},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap){var n=this.__eventMap,s=null!=df[t]?n.getReserved(t):n.h[t];if(null!=s){var r=this.__dispatching,a=1==(null!=df[t]?r.getReserved(t):r.h[t]);if(a){var o=this.__newEventMap;if(null!=df[t]?o.existsReserved(t):o.h.hasOwnProperty(t)){var l=this.__newEventMap;s=null!=df[t]?l.getReserved(t):l.h[t]}else{var h=this.__eventMap;s=(null!=df[t]?h.getReserved(t):h.h[t]).slice();var _=this.__newEventMap;null!=df[t]?_.setReserved(t,s):_.h[t]=s}}for(var u=0,c=s.length;u<c;){var f=u++;if(s[f].match(e,i)){s.splice(f,1),this.onEventListenerRemoved(t);break}}if(!a){0==s.length&&this.__eventMap.remove(t);var d=this.__eventMap;new Vs(d,d.arrayKeys()).hasNext()||(this.__eventMap=null,this.__newEventMap=null)}}}},onEventListenerAdded:function(t){},onEventListenerRemoved:function(t){},toString:function(){return"[object "+Pi.getClassName(dr.getClass(this)).split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(t.acquire(),null==this.__eventMap||null==t)return t.release(),!1;var e,i=t.type;if(this.__dispatching.get(i)?(null==(e=this.__newEventMap.get(i))&&(e=this.__eventMap.get(i)),null!=e&&(e=e.slice())):null!=(e=this.__eventMap.get(i))&&this.__dispatching.set(i,!0),null==e)return t.release(),!1;var n=null;n=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var s,r=1==t.eventPhase,a=0;a<e.length&&(t.target=n,t.currentTarget=this,(s=e[a]).useCapture!=r||(s.callback.call(s,t),!t.__isCanceledNow));)s==e[a]&&++a;if(null!=this.__newEventMap&&this.__newEventMap.exists(i)){var o=this.__newEventMap.get(i);0<o.length?this.__eventMap.set(i,o):this.__eventMap.remove(i),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(i):(this.__eventMap=null,this.__newEventMap=null)}return this.__dispatching.set(t.type,!1),t.release(),!0},__class__:v};var r=function(){};(i["openfl.display.IBitmapDrawable"]=r).__name__=["openfl","display","IBitmapDrawable"],r.prototype={__class__:r};var Y=function(){this.__transformDirty=!0,this.__recursiveMouseListenerCount=0,this.__mouseListenerCount=0,this.__useSeparateRenderScaleTransform=!0,this.__clippedAt=-1,this.__cacheAsBitmapSmooth=null,this.__isCachingAsBitmap=!1,this.__cacheAsBitmapFlag=!1,this.__resolvedCacheAsBitmap=!1,this.__name="",this.__maskCached=!1,this.delayScaleRotationGraphicsRefresh=!1,this.renderScaleY=1,this.renderScaleX=1,v.call(this),this.__colorTransform=new Io,this.__transform=new Co,this.__renderTransform=new Co,this.__cacheGLMatrix=new Co,this.__offset=new xe,this.__worldOffset=new xe,this.__worldColorTransform=new Io,this.__renderColorTransform=new Io,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__worldAlpha=1,this.__renderAlpha=1,this.__clipDepth=0,this.__cachedParent=null,Y.__worldTransformDirty++};(i["openfl.display.DisplayObject"]=Y).__name__=["openfl","display","DisplayObject"],Y.__interfaces__=[r],Y.__isCachingAsMask=null,Y.__super__=v,Y.prototype=n(v.prototype,{__reset:function(){this.__dispatching=null,this.__eventMap=null,(this.__newEventMap=null)!=this.__objectTransform&&(W_.pool.put(this.__objectTransform),this.__objectTransform=null),this.__colorTransform.reset()},resolve:function(t){return null},getSymbol:function(){return null},getBounds:function(t){var e=Co.pool.get();if(null!=t){e.copyFrom(this.__getWorldTransform());var i=Co.pool.get();i.copyFrom(t.__getWorldTransform()),i.invert(),e.concat(i),Co.pool.put(i)}else e.identity();var n=new H_;return this.__getBounds(n),n.isEmpty()||n.transform(n,e),Co.pool.put(e),n},getRect:function(t){return this.getBounds(t)},globalToLocalInPlace:function(t){if(null!=this.stage){var e=this.stage.__getWorldTransform(),i=t.x,n=t.y;t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty}var s=this.__getWorldTransform(),r=s.a*s.d-s.b*s.c;if(0==r)t.x=-s.tx,t.y=-s.ty;else{var a=1/r*(s.c*(s.ty-t.y)+s.d*(t.x-s.tx));t.y=1/r*(s.a*(t.y-s.ty)+s.b*(s.tx-t.x)),t.x=a}return t},globalToLocal:function(t){t=null!=this.stage?this.stage.__getWorldTransform().transformPoint(t):t.clone();var e=this.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var n=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=n}return t},localToGlobalInPlace:function(t){var e=this.__getWorldTransform(),i=t.x,n=t.y;if(t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty,null==this.stage)throw new fr(":TODO:");var s=this.stage.__getWorldTransform(),r=s.a*s.d-s.b*s.c;if(0==r)t.x=-s.tx,t.y=-s.ty;else{var a=1/r*(s.c*(s.ty-t.y)+s.d*(t.x-s.tx));t.y=1/r*(s.a*(t.y-s.ty)+s.b*(s.tx-t.x)),t.x=a}return t},localToGlobal:function(t){if(t=this.__getWorldTransform().transformPoint(t),null==this.stage)throw new fr(":TODO:");var e=this.stage.__getWorldTransform(),i=e.a*e.d-e.b*e.c;if(0==i)t.x=-e.tx,t.y=-e.ty;else{var n=1/i*(e.c*(e.ty-t.y)+e.d*(t.x-e.tx));t.y=1/i*(e.a*(t.y-e.ty)+e.b*(e.tx-t.x)),t.x=n}return t},convertToLocal:function(t){if(null!=this.stage){var e=this.stage.__getWorldTransform(),i=t.x,n=t.y;t.x=i*e.a+n*e.c+e.tx,t.y=i*e.b+n*e.d+e.ty}var s=this.__getWorldTransform(),r=s.a*s.d-s.b*s.c;if(0==r)t.x=-s.tx,t.y=-s.ty;else{var a=1/r*(s.c*(s.ty-t.y)+s.d*(t.x-s.tx));t.y=1/r*(s.a*(t.y-s.ty)+s.b*(s.tx-t.x)),t.x=a}},hitTestObject:function(t){if(null==t||null==t.parent||null==this.parent)return!1;var e=this.getBounds(this),i=t.getBounds(this);return e.intersects(i)},hitTestPoint:function(t,e,i){null==i&&(i=!1);var n=H_.pool.get(),s=this.__getWorldTransform();this.__getBounds(n),n.isEmpty()||n.transform(n,s);var r=xe.pool.get();r.setTo(t*this.stage.get_scaleX(),e*this.stage.get_scaleY());var a=n.containsPoint(r);if(xe.pool.put(r),H_.pool.put(n),!a||!i)return a;if(null!=this.__graphics){var o=this.getSymbol();if(i=!!i&&(null==o||o.pixelPerfectHitTest),this.__graphics.__hitTest(t*this.stage.get_scaleX(),e*this.stage.get_scaleY(),i,this.__getWorldTransform()))return!0}return!1},updateCachedParent:function(t){if(null==t){for(var e=this.parent;null!=e&&!e.__resolvedCacheAsBitmap;)e=e.parent;this.__cachedParent=e}else this.__cachedParent=t;return t=this.__resolvedCacheAsBitmap?this:this.__cachedParent},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var i=v.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||i}return!1},__dispatchEvent:function(t){t.acquire();var e=v.prototype.__dispatchEvent.call(this,t);return t.__isCanceled?(t.release(),!0):(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),t.release(),e)},__enterFrame:function(t){null!=this.__graphics&&this.__graphics.__enterFrame(),0<this.__cacheAsBitmapCounter&&--this.__cacheAsBitmapCounter<=0&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__getBounds:function(t){null!=this.__graphics?this.__graphics.__getBounds(t):t.setEmpty()},__getTransformedBounds:function(t,e){this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getCursor:function(){return null},__getInteractive:function(t){return!1},getAssetPrefix:function(){return Object.prototype.hasOwnProperty.call(this,"assetPrefix")?Dt.field(this,"assetPrefix"):null!=this.parent?this.parent.getAssetPrefix():""},__getLocalBounds:function(t){var e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e)},__getRenderBounds:function(t){if(null==this.__scrollRect){var e=this.__renderTransform;this.__getBounds(t),t.isEmpty()||t.transform(t,e),this.__getChildrenRenderBounds(t),null==this.__filters||t.isEmpty()||__.__expandBounds(this.__filters,t)}else t.copyFrom(this.__scrollRect)},__getChildrenRenderBounds:function(t){},__getWorldTransform:function(){if(this.__transformDirty||0<Y.__worldTransformDirty){var t=Y.__parentList,e=0,i=this,n=this.__transformDirty;if(null==this.parent)n&&this.__update(!0,!1);else for(;null!=i.parent;)(i=(t[e++]=i).parent).__transformDirty&&(n=!0);if(n)for(var s=e;0<=--s;)t[s].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,i,n,s,r){if(null!=this.__graphics){if(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var a=this.getSymbol();if(i=!!i&&(null==a||a.pixelPerfectHitTest),this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null==n||s||(n._items[n._length++]=r),!0}return!1},__hitTestMask:function(t,e){return null!=this.__graphics&&!!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform())},__renderCanvas:function(t){throw new fr(":TODO: remove me")},__renderCanvasMask:function(t){throw new fr(":TODO: remove me")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__drawGraphicsGL:function(t){if(null!=this.__graphics){var e=t.getRenderTargetBaseTransform(),i=Co.pool.get();i.copyFrom(this.__renderTransform),i.concat(e),nl.render(this.__graphics,t,i,this.__isMask||Y.__isCachingAsMask),Co.pool.put(i),hl.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter||this.forbidCachedBitmapUpdate)}},__preRenderGL:function(t){null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask))},__postRenderGL:function(t){null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__updateCachedBitmapFn:function(t,e,i){var n=this.getSymbol();null!=n&&n.useUniqueSharedBitmapCache&&null!=n.uniqueSharedCachedBitmap?(this.__cachedBitmap=n.uniqueSharedCachedBitmap,this.set_forbidCachedBitmapUpdate(!0)):(null==this.__cachedBitmap&&(this.__cachedBitmap=Bl.__asRenderTexture()),this.__cacheBitmapFn(this.__cachedBitmap,t,e,i),this.__updateCachedBitmap=!1,this.__updateFilters=!1,null!=n&&n.useUniqueSharedBitmapCache&&(n.uniqueSharedCachedBitmap=this.__cachedBitmap))},__cacheBitmapFn:function(t,e,i,n){var s=Y.__cachedBitmapPadding,r=H_.pool.get();if(this.__getRenderBounds(r),r.width<=0||r.height<=0)return H_.pool.put(r),void t.__resize(0,0,t.physicalWidth,t.physicalHeight);var a=H_.pool.get();this.__getBounds(a);var o=Math.ceil(r.width)+2*s,l=Math.ceil(r.height)+2*s;t.__resize(a.width,a.height,o,l),H_.pool.put(a);var h=Co.pool.get();h.copyFrom(this.__renderTransform),h.translate(s-Math.floor(r.x),s-Math.floor(r.y)),H_.pool.put(r);var _=null;null!=n&&((_=Co.pool.get()).copyFrom(h),_.invert(),_.concat(this.__renderTransform),_.concat(n));var u=this.__shader;this.__shader=null,e.maskManager.pushMask(null),t.__pushFrameBuffer(e,!0,!0,!0),ll.drawBitmapDrawable(e,null,this,h,null,i,_),ll.popFramebuffer(e,null),t.__imageShouldBeSynced=!0;var c=t.__pingPongTexture,f=(c.__swapped?c.__texture1:c.__texture0).__uvData;t.__createUVs(f.x0,f.y0,f.x1,f.y1,f.x2,f.y2,f.x3,f.y3),t.__isValid=!0,t.__usingPingPongTexture=!0,e.maskManager.popMask(),null!=n&&Co.pool.put(_),this.__shader=u,this.__updateFilters?__.__applyFilters(this.__filters,e,t):this.__cleanupIntermediateTextures();var d=Co.pool.get();d.copyFrom(h),d.invert(),t.__renderToLocalMatrix.copyFrom(d),Co.pool.put(d),Co.pool.put(h)},__cacheGL:function(t){if(!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}},__cleanupIntermediateTextures:function(){this.__disposeGraphicsBitmap()},setStage:function(t){if(this.stage!=t){null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.__fireRemovedFromStageEvent(null),null==t&&this.__releaseResources()),this.__updateStageInternal(t),null!=t&&this.__fireAddedToStageEvent(null)}return t},__fireRemovedFromStageEvent:function(t){this.__dispatchEvent(Ge.__create("removedFromStage",!1,!1))},__fireAddedToStageEvent:function(t){this.__dispatchEvent(Ge.__create("addedToStage",!1,!1))},__releaseResources:function(){var t=this.getSymbol();if(null!=t&&t.poolable)return t.pool.put(this),!1;var e=!1;if(null!=this.__graphics&&(this.__graphics.dispose(),e=!0),null!=this.__cachedBitmap&&(null!=t&&t.useUniqueSharedBitmapCache||this.__cachedBitmap.dispose(),e=!(this.__cachedBitmap=null)),null!=this.__filters){for(var i=0,n=this.__filters;i<n.length;){var s=n[i];++i,s.dispose()}e=!0}return e&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),null!=this.__objectTransform&&(W_.pool.put(this.__objectTransform),this.__objectTransform=null),!0},__disposeGraphicsBitmap:function(){if(null!=this.__graphics){var t=this.__graphics;t.set___bitmap(null),t.__dirty=!0}},__setRenderDirty:function(){this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setRenderDirtyNoCachedBitmap:function(){this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++)},__setUpdateDirty:function(){this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},__setBranchDirty:function(){this.__branchDirty=!0,Y.__worldBranchDirty++},__updateColor:function(){null!=this.parent?this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__renderColorTransform.reset(),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform)):(this.__renderAlpha=this.__colorTransform.alphaMultiplier*this.parent.__renderAlpha,this.__worldAlpha=this.__colorTransform.alphaMultiplier*this.parent.__worldAlpha,this.__renderColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__renderColorTransform),this.__worldColorTransform.setFromCombination(this.get_transform().get_colorTransform(),this.parent.__worldColorTransform)):(this.__worldColorTransform.copyFrom(this.get_transform().get_colorTransform()),this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.mustResetRenderColorTransform()?(this.__renderAlpha=1,this.__renderColorTransform.reset()):(this.__renderAlpha=this.__colorTransform.alphaMultiplier,this.__renderColorTransform.copyFrom(this.get_transform().get_colorTransform())))},__update:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,Y.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},isRenderable:function(){return!(!this.__visible||0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d)&&!this.__isMask},__inlineUpdate:function(t,e){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,Y.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1)},__updateChildren:function(t){(this.isRenderable()||this.__isMask)&&(this.__worldAlpha=this.__colorTransform.alphaMultiplier,this.__transformDirty&&(this.__transformDirty=!1,Y.__worldTransformDirty--))},__updateTransforms:function(){var t=this.__transform,e=Co.pool.get();if(null!=this.parent){var i,n=(i=null!=this.parent.__worldTransform?this.parent.__worldTransform:this.parent.__transform).a,s=i.b,r=i.c,a=i.d,o=t.a,l=t.b,h=t.c,_=t.d;e.a=o*n+l*r,e.b=o*s+l*a,e.c=h*n+_*r,e.d=h*s+_*a,e.tx=t.tx*n+t.ty*r+i.tx,e.ty=t.tx*s+t.ty*a+i.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}else e.copyFrom(t),this.__worldOffset.setTo(0,0);if(null!=this.__scrollRect?(this.__offset=e.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),null!=this.__cacheAsBitmapMatrix?Rs.trace(":TODO: fill renderScaleX, renderScaleY and use __cacheAsBitmapMatrix where appropriate",{fileName:"DisplayObject.hx",lineNumber:1240,className:"openfl.display.DisplayObject",methodName:"__updateTransforms"}):this.__useSeparateRenderScaleTransform&&(this.renderScaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.renderScaleY=Math.sqrt(e.c*e.c+e.d*e.d)),this.__renderTransform.copyFrom(e),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y),null==this.__worldTransform)this.__worldTransform=new Co;else if(!this.__isCachingAsBitmap){var u=this.__worldTransform,c=u.tx!=e.tx||u.ty!=e.ty,f=u.a!=e.a||u.d!=e.d||u.b!=e.b||u.c!=e.c,d=!1;null!=this.__graphics&&(d=this.__graphics.__dirty),f&&this._onWorldTransformScaleRotationChanged(),d||this.delayGraphicsRefresh(c,f)}this.__worldTransform.copyFrom(e),Co.pool.put(e)},delayGraphicsRefresh:function(t,e){if(null!=this.__graphics)if(e)if(this.delayScaleRotationGraphicsRefresh){var i=this.__graphics;i.mustRefreshGraphicsCounter=Xl.__dirtyGraphicsDelay,i.set_dirty(!1)}else this.__graphics.set_dirty(!0);else if(t){var n=this.__graphics;n.mustRefreshGraphicsCounter=Xl.__dirtyGraphicsDelay,n.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){this.delayScaleRotationGraphicsRefresh?this.__cacheAsBitmapCounter=Xl.__dirtyGraphicsDelay:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length)},__updateRecursiveMouseListenerCount:function(t){null==t&&(t=0);for(var e=this;null!=e;)e.__recursiveMouseListenerCount+=t,e=e.parent},onEventListenerAdded:function(t){s_.isMouseEvent(t)&&(++this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(1))},onEventListenerRemoved:function(t){s_.isMouseEvent(t)&&(--this.__mouseListenerCount,this.__updateRecursiveMouseListenerCount(-1))},__mustEvaluateHitTest:function(){return 0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth},__hasMouseListener:function(){return 0<this.__mouseListenerCount},get_alpha:function(){return this.__colorTransform.alphaMultiplier},set_alpha:function(t){return 1<t&&(t=1),t!=this.__colorTransform.alphaMultiplier&&(this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__colorTransform.alphaMultiplier=t},set_blendMode:function(t){return this.__blendMode!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__blendMode=t),this.blendMode=t},set_shader:function(t){return this.__shader!=t&&(this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__shader=t),this.shader=t},__updateStageInternal:function(t){this.stage=t,this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)},get_cacheAsBitmap:function(){return this.__resolvedCacheAsBitmap},set_cacheAsBitmap:function(t){return t!=this.__cacheAsBitmapFlag&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__cacheAsBitmapFlag=t,this.__updateResolvedCacheAsBitmap(),t},__updateResolvedCacheAsBitmap:function(){var t=this.__resolvedCacheAsBitmap;this.__resolvedCacheAsBitmap=this.__cacheAsBitmapFlag||null!=this.get_filters()&&0<this.get_filters().length,t!=this.__resolvedCacheAsBitmap&&this.__onResolvedCacheAsBitmapChanged()},__onResolvedCacheAsBitmapChanged:function(){},set_forbidCachedBitmapUpdate:function(t){return this.forbidCachedBitmapUpdate=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__cacheAsBitmapMatrix?this.__cacheAsBitmapMatrix.copyFrom(t):this.__cacheAsBitmapMatrix=t.clone(),this.__cacheAsBitmapMatrix},get_cacheAsBitmapSmooth:function(){return this.__cacheAsBitmapSmooth},set_cacheAsBitmapSmooth:function(t){return this.__cacheAsBitmapSmooth=t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){if(null!=this.__filters&&null!=t&&t.length==this.__filters.length){for(var e=!0,i=0,n=this.__filters.length;i<n;){var s=i++;if(!this.__filters[s].equals(t[s])){e=!1;break}}if(e)return t}if(null!=this.__filters)for(var r=0,a=this.__filters;r<a.length;){var o=a[r];++r,o.dispose()}return null!=t&&0<t.length?(this.__updateFilters=!0,this.__filters=t):(this.__updateFilters=!1,this.__filters=null),this.__updateResolvedCacheAsBitmap(),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t},get_height:function(){var t=H_.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.height;return H_.pool.put(t),i},set_height:function(t){var e=H_.pool.get();return this.__getBounds(e),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),H_.pool.put(e),t},get_loaderInfo:function(){return null==this.loaderInfo&&(this.loaderInfo=ah.create(null)),this.loaderInfo},get_mask:function(){return this.__mask},set_mask:function(t){if(t==this.__mask)return t;if(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),null!=this.__mask){this.__mask.__isMask=!1,this.__mask.__maskCached=!1;var e=this.__mask;e.__transformDirty||(e.__transformDirty=!0,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,Y.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0),Y.__worldTransformDirty++);var i=this.__mask;i.__updateCachedBitmap=!0,i.__updateFilters=null!=i.__filters&&0<i.__filters.length,i.__isMask&&(i.__maskCached=!1),i.__renderDirty||(i.__renderDirty=!0,Y.__worldRenderDirty++,null!=i.__cachedParent&&i.__cachedParent.__setRenderDirty()),i.__updateDirty||null==i.stage||i==i.stage||(i.__updateDirty=!0)}return null!=t&&(t.__isMask=!0,t.__maskCached=!1,t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),Y.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0)),this.__mask=t},get_mouseX:function(){var t=Po.current.stage.__mouseX,e=Po.current.stage.__mouseY,i=this.__getWorldTransform(),n=i.a*i.d-i.b*i.c;return 0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx))},get_mouseY:function(){var t=Po.current.stage.__mouseX,e=Po.current.stage.__mouseY,i=this.__getWorldTransform(),n=i.a*i.d-i.b*i.c;return 0==n?-i.ty:1/n*(i.a*(e-i.ty)+i.b*(i.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?Po.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var i=this.get_scaleX(),n=this.get_scaleY();this.__transform.a=this.__rotationCosine*i,this.__transform.b=this.__rotationSine*i,this.__transform.c=-this.__rotationSine*n,this.__transform.d=this.__rotationCosine*n,this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++)}return t},hasZeroScale:function(){return 0==this.__transform.a&&0==this.__transform.b||0==this.__transform.c&&0==this.__transform.d},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){var e=this.__rotationCosine*t,i=this.__rotationSine*t;return this.__transform.a==e&&this.__transform.b==i||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.__transform.a=e,this.__transform.b=i,t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){var e=-this.__rotationSine*t,i=this.__rotationCosine*t;return this.__transform.d==i&&this.__transform.c==e||this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.__transform.c=e,this.__transform.d=i,t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=W_.pool.get(),this.__objectTransform.reset(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new fr(new Kh("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=W_.pool.get(),this.__objectTransform.reset(this)),this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.set_colorTransform(t.get_colorTransform().__clone()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__visible=t},get_width:function(){var t=H_.pool.get(),e=this.__transform;this.__getBounds(t),t.isEmpty()||t.transform(t,e);var i=t.width;return H_.pool.put(t),i},set_width:function(t){var e=H_.pool.get();return this.__getBounds(e),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),H_.pool.put(e),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++)),this.__transform.ty=t},mustResetRenderColorTransform:function(){return!!this.__resolvedCacheAsBitmap||this.__isMask},__class__:Y,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_forbidCachedBitmapUpdate:"set_forbidCachedBitmapUpdate",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapSmooth:"set_cacheAsBitmapSmooth",get_cacheAsBitmapSmooth:"get_cacheAsBitmapSmooth",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var we=function(){Y.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.set_tabIndex(-1)};(i["openfl.display.InteractiveObject"]=we).__name__=["openfl","display","InteractiveObject"],we.__super__=Y,we.prototype=n(Y.prototype,{get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(t){return this.__tabIndex=t},requestSoftKeyboard:function(){return Po.notImplemented("InteractiveObject.requestSoftKeyboard"),!1},__getInteractive:function(t){return null!=t&&null!=(t._items[t._length++]=this).parent&&this.parent.__getInteractive(t),!0},__hitTest:function(t,e,i,n,s,r){return!(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!!s&&!this.mouseEnabled)&&Y.prototype.__hitTest.call(this,t,e,i,n,s,r)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled=t},__class__:we,__properties__:n(Y.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var Gt=function(){this._length=0};(i["openfl.utils.UnshrinkableArrayData"]=Gt).__name__=["openfl","utils","UnshrinkableArrayData"],Gt.prototype={__class__:Gt};var K=function(){we.call(this),this.mouseChildren=!0;var t=new Gt;t._items=[],t._length=t._items.length,this.__children=t};(i["openfl.display.DisplayObjectContainer"]=K).__name__=["openfl","display","DisplayObjectContainer"],K.__super__=we,K.prototype=n(we.prototype,{addChild:function(t){return this.addChildAt(t,this.__children._length)},addChildAt:function(t,e){if(e<0||e>this.__children._length)throw new fr("Invalid index position "+e);this.__useSeparateRenderScaleTransform||(t.__useSeparateRenderScaleTransform=!1);var i=-1;if(t.parent==this){var n=this.__children,s=n._items.indexOf(t,null);i=s>=n._length?-1:s;var r=this.__children;i>=r._length&&(r._length=i+1),r._items[i]=null;for(var a=this.__children,o=a._length-1;e<=o;)a._items[o+1]=a._items[o],--o;a._items[e]=t,a._length=e>a._length?e:a._length,++a._length}else{if(null!=t.parent){var l=t.stage;t.stage=null,t.parent.removeChild(t),t.stage=l}for(var h=this.__children,_=h._length-1;e<=_;)h._items[_+1]=h._items[_],--_;h._items[e]=t,h._length=e>h._length?e:h._length,++h._length,null!=t.__name&&""!=t.__name&&(this[t.__name]=t),this.initParent(t)}return this.__branchDirty=!0,Y.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(t.__recursiveMouseListenerCount),-1<i&&this.removeChildAt(i<e?i:i+1),t},initParent:function(t){null!=(t.parent=this).stage&&t.setStage(this.stage),t.updateCachedParent(),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),Y.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),t.dispatchEvent(Ge.__create("added",!0))},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children;return t>=e._length?null:e._items[t]}return null},getChildByName:function(t){for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];if(++e,n.__name==t)return n}return null},getChildIndex:function(t){var e=this.__children,i=e._items.indexOf(t,null);return i>=e._length?-1:i},hitTestPoint:function(t,e,i){null==i&&(i=!1);var n=we.prototype.hitTestPoint.call(this,t,e,i);if(n)return n;for(var s=0,r=this.__children;s<r._length;){var a=s>=r._length?null:r._items[s];if(++s,a.hitTestPoint(t,e,i))return!0}return!1},getObjectsUnderPoint:function(t){var e=new Gt;e._items=[],e._length=e._items.length;var i=e;this.__hitTest(t.x,t.y,!1,i,!1,this);for(var n=0,s=i._length-1;n<s;){var r=i._items[n];i._items[n]=i._items[s],i._items[s]=r,++n,--s}return i},removeChild:function(t){return null!=t&&t.parent==this&&(t.dispatchEvent(Ge.__create("removed",!0)),null!=this.stage&&t.setStage(null),this.__branchDirty=!0,Y.__worldBranchDirty++,this.__updateRecursiveMouseListenerCount(-t.__recursiveMouseListenerCount),(t.parent=null)!=t.__cachedParent&&t.updateCachedParent(),Fu.remove(this.__children,t),t.__transformDirty||(t.__transformDirty=!0,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),Y.__worldTransformDirty++),t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.__filters&&0<t.__filters.length,t.__isMask&&(t.__maskCached=!1),t.__renderDirty||(t.__renderDirty=!0,Y.__worldRenderDirty++,null!=t.__cachedParent&&t.__cachedParent.__setRenderDirty()),t.__updateDirty||null==t.stage||t==t.stage||(t.__updateDirty=!0),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),t},removeChildAt:function(t){if(0<=t&&t<this.__children._length){var e=this.__children,i=t>=e._length?null:e._items[t];if(null!=i)return this.removeChild(i);Fu.splice(this.__children,t,1),this.__branchDirty=!0,Y.__worldBranchDirty++}return null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children._length-1)<0||t>this.__children._length-1)){if(e<t||t<0||e>this.__children._length)throw new fr(new Yh("The supplied index is out of bounds."));for(var i=e-t;0<=i;)this.removeChildAt(t),--i}},resolve:function(t){var e=Dt.field(this,t);return null!=e?e:this.getChildByName(t)},setChildIndex:function(t,e){if(0<=e&&e<=this.__children._length&&t.parent==this){var i=this.__children;if(null==(e>=i._length?null:i._items[e])){var n=this.__children,s=n._items.indexOf(t,null),r=s>=n._length?-1:s,a=this.__children;r>=a._length&&(a._length=r+1),a._items[r]=null;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=t}else{Fu.remove(this.__children,t);for(var l=this.__children,h=l._length-1;e<=h;)l._items[h+1]=l._items[h],--h;l._items[e]=t,l._length=e>l._length?e:l._length,++l._length}this.__branchDirty=!0,Y.__worldBranchDirty++}},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var i=this.__children,n=i._items.indexOf(t,null),s=n>=i._length?-1:n,r=this.__children,a=r._items.indexOf(e,null),o=a>=r._length?-1:a;this.swapChildrenAt(s,o)}},swapChildrenAt:function(t,e){var i=this.__children,n=t>=i._length?null:i._items[t],s=this.__children,r=this.__children,a=e>=r._length?null:r._items[e];t>=s._length&&(s._length=t+1),s._items[t]=a;var o=this.__children;e>=o._length&&(o._length=e+1),o._items[e]=n,this.__branchDirty=!0,Y.__worldBranchDirty++},updateCachedParent:function(t){if(t=we.prototype.updateCachedParent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.updateCachedParent(t)}return t},__broadcast:function(t,e){null==t.target&&(t.target=this);var i=we.prototype.__broadcast.call(this,t,e);if(!t.__isCanceled&&e)for(var n=0,s=this.__children;n<s._length;){var r=n>=s._length?null:s._items[n];if(++n,r.__broadcast(t,!0),t.__isCanceled)return!0}return i},__getBounds:function(t){if(we.prototype.__getBounds.call(this,t),0!=this.__children._length){for(var e=H_.pool.get(),i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];if(++i,s.isRenderable()){var r=s.__transform;s.__getBounds(e),e.isEmpty()||e.transform(e,r),t.__expand(e.x,e.y,e.width,e.height)}}H_.pool.put(e)}},__getChildrenRenderBounds:function(t){if(0!=this.__children._length){for(var e=H_.pool.get(),i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];++i,s.isRenderable()&&(s.__getRenderBounds(e),t.__expand(e.x,e.y,e.width,e.height))}H_.pool.put(e)}},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!(!s||this.mouseChildren)&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;var a=xe.pool.get();if(a.setTo(t,e),null!=this.__scrollRect&&!this.__scrollRect.containsPoint(this.globalToLocal(a)))return xe.pool.put(a),!1;xe.pool.put(a);var o=this.getSymbol();i=!!i&&(null==o||o.pixelPerfectHitTest);var l=0<this.__mouseListenerCount;if(l){var h=K.__mouseListenerBranchDepthStack;if(h._items[h._length++]=this.__branchDepth,null==this.__branchDepth){for(var _=0,u=this;null==u.__branchDepth;)u=u.parent,++_;this.__branchDepth=u.__branchDepth+_}Y.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}var c=this.__children._length;if(s)if(null!=n&&this.mouseChildren){if(null!=n){for(var f=n._length,d=!1,p=!1;0<=--c;){var g=this.__children,m=c>=g._length?null:g._items[c],v=m.__clippedAt;if(-1!=v){var b,y=this.__children;if(null!=(v>=y._length?null:y._items[v])){var w=this.__children;b=!(v>=w._length?null:w._items[v]).__hitTestMask(t,e)}else b=!1;if(b){c=v;continue}}if(((d=m.__getInteractive(null))||this.mouseEnabled&&!p)&&m.__hitTest(t,e,i,n,!0,m)&&(this.mouseEnabled&&(p=!0),d)){if(p)break;if(l){var x=K.__mouseListenerBranchDepthStack;x._items[--x._length];x._items[x._length]=null;var T=K.__mouseListenerBranchDepthStack,S=T._items[T._length-1];Y.__lastMouseListenerBranchDepth=0!=S?S:9999}return!0}}if(p){for(var E=n._length-1;f<=E;)n._items[E+1]=n._items[E],--E;if(n._items[f]=r,n._length=f>n._length?f:n._length,++n._length,l){var I=K.__mouseListenerBranchDepthStack;I._items[--I._length];I._items[I._length]=null;var C=K.__mouseListenerBranchDepthStack,P=C._items[C._length-1];Y.__lastMouseListenerBranchDepth=0!=P?P:9999}return!0}}}else for(;0<=--c;){var A=this.__children,D=c>=A._length?null:A._items[c],R=D.__clippedAt;if(-1!=R){var M,F=this.__children;if(null!=(R>=F._length?null:F._items[R])){var B=this.__children;M=!(R>=B._length?null:B._items[R]).__hitTestMask(t,e)}else M=!1;if(M){c=R;continue}}if(null!=D&&D.__hitTest(t,e,i,null,this.mouseChildren,D)){if(null!=n&&(n._items[n._length++]=r),l){var L=K.__mouseListenerBranchDepthStack;L._items[--L._length];L._items[L._length]=null;var k=K.__mouseListenerBranchDepthStack,N=k._items[k._length-1];Y.__lastMouseListenerBranchDepth=0!=N?N:9999}return!0}}else for(;0<=--c;){var O=this.__children,U=this.__children;if((c>=O._length?null:O._items[c]).__hitTest(t,e,i,n,!1,c>=U._length?null:U._items[c])){if(null!=n&&(n._items[n._length++]=r),l){var G=K.__mouseListenerBranchDepthStack;G._items[--G._length];G._items[G._length]=null;var X=K.__mouseListenerBranchDepthStack,V=X._items[X._length-1];Y.__lastMouseListenerBranchDepth=0!=V?V:9999}return!0}}if(l){var z=K.__mouseListenerBranchDepthStack;z._items[--z._length];z._items[z._length]=null;var H=K.__mouseListenerBranchDepthStack,W=H._items[H._length-1];Y.__lastMouseListenerBranchDepth=0!=W?W:9999}return!1},__hitTestMask:function(t,e){for(var i=this.__children._length;0<=--i;){var n=this.__children;if(null!=(i>=n._length?null:n._items[i])){var s=this.__children;if((i>=s._length?null:s._items[i]).__hitTestMask(t,e))return!0}}return!1},__renderCanvas:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0)){we.prototype.__renderCanvas.call(this,t),null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__renderCanvas(t)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__renderCanvasMask:function(t){throw new fr(":TODO: Remove")},__renderGL:function(t){if(this.isRenderable()&&!(this.__worldAlpha<=0))if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.__drawGraphicsGL(t);for(var l=-1,h=0,_=this.__children;h<_._length;){var u=h>=_._length?null:_._items[h];++h,-1==--l&&t.maskManager.popMask(),0!=u.__clipDepth?(u.__maskCached||(null!=u.__cachedBitmap&&(u.__cachedBitmap.dispose(),u.__cachedBitmap=null),u.__isMask=!0,u.__update(!0,!0),u.__maskCached=!0),t.maskManager.pushMask(u),l=u.__clipDepth):u.__renderGL(t)}0<=l&&t.maskManager.popMask(),null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__fireRemovedFromStageEvent:function(t){if(we.prototype.__fireRemovedFromStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__fireRemovedFromStageEvent(t)}},__updateStageInternal:function(t){if(we.prototype.__updateStageInternal.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__updateStageInternal(t)}},__fireAddedToStageEvent:function(t){if(we.prototype.__fireAddedToStageEvent.call(this,t),null!=this.__children)for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__fireAddedToStageEvent(t)}},__releaseResources:function(){if(we.prototype.__releaseResources.call(this)){if(null!=this.__children)for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__releaseResources()}return!0}return!1},__cleanupIntermediateTextures:function(){we.prototype.__cleanupIntermediateTextures.call(this);for(var t=0,e=this.__children;t<e._length;){var i=t>=e._length?null:e._items[t];++t,i.__cleanupIntermediateTextures()}},__update:function(t,e){if(we.prototype.__update.call(this,t,e),(this.isRenderable()||this.__isMask)&&e)for(var i=0,n=this.__children;i<n._length;){var s=i>=n._length?null:n._items[i];++i,s.__update(t,!0)}},__updateChildren:function(t){we.prototype.__updateChildren.call(this,t);for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__update(t,!0)}},isRenderable:function(){return!!we.prototype.isRenderable.call(this)&&(null!=this.__graphics||null!=this.__children&&0<this.__children._length)},__pushHitTestLevel:function(t){if(t){var e=K.__mouseListenerBranchDepthStack;if(e._items[e._length++]=this.__branchDepth,null==this.__branchDepth){for(var i=0,n=this;null==n.__branchDepth;)n=n.parent,++i;this.__branchDepth=n.__branchDepth+i}Y.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}},__popHitTestLevel:function(t){if(t){var e=K.__mouseListenerBranchDepthStack;e._items[--e._length];e._items[e._length]=null;var i=K.__mouseListenerBranchDepthStack,n=i._items[i._length-1];Y.__lastMouseListenerBranchDepth=0!=n?n:9999}},get_numChildren:function(){return this.__children._length},__onResolvedCacheAsBitmapChanged:function(){for(var t=this.__resolvedCacheAsBitmap?this:null,e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.updateCachedParent(t)}},__class__:K,__properties__:n(we.prototype.__properties__,{get_numChildren:"get_numChildren"})});var o=function(){K.call(this),this.buttonMode=!1,this.useHandCursor=!0};(i["openfl.display.Sprite"]=o).__name__=["openfl","display","Sprite"],o.__super__=K,o.prototype=n(K.prototype,{startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?ho.POINTER:null},__hitTest:function(t,e,i,n,s,r){var a=this.getSymbol();if(i=!!i&&(null==a||a.pixelPerfectHitTest),null!=this.hitArea){if(!this.hitArea.mouseEnabled){var o=0<this.__mouseListenerCount;if(o){var l=K.__mouseListenerBranchDepthStack;if(l._items[l._length++]=this.__branchDepth,null==this.__branchDepth){for(var h=0,_=this;null==_.__branchDepth;)_=_.parent,++h;this.__branchDepth=_.__branchDepth+h}Y.__lastMouseListenerBranchDepth=0!=this.__branchDepth?this.__branchDepth:9999}this.hitArea.mouseEnabled=!0;var u=this.hitArea.__hitTest(t,e,i,null,!0,r);if(this.hitArea.mouseEnabled=!1,o){var c=K.__mouseListenerBranchDepthStack;c._items[--c._length];c._items[c._length]=null;var f=K.__mouseListenerBranchDepthStack,d=f._items[f._length-1];Y.__lastMouseListenerBranchDepth=0!=d?d:9999}return u&&(n._items[n._length++]=r),u}}else{if(!r.__visible||this.__isMask||s&&!this.mouseChildren&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;if(K.prototype.__hitTest.call(this,t,e,i,n,s,r))return!0;if((!s||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null!=n&&(n._items[n._length++]=r),!0}return!1},__hitTestMask:function(t,e){return!!K.prototype.__hitTestMask.call(this,t,e)||!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Xl,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return!!this.__tabEnabled||this.buttonMode},__class__:o,__properties__:n(K.prototype.__properties__,{get_graphics:"get_graphics"})});var l=function(){o.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0};(i["openfl.display.MovieClip"]=l).__name__=["openfl","display","MovieClip"],l.__super__=o,l.prototype=n(o.prototype,{addFrameScript:function(t,e){null!=e?(null==this.__frameScripts&&(this.__frameScripts=new Gs),this.__frameScripts.h[t]=e):null!=this.__frameScripts&&this.__frameScripts.remove(t)},addStaticFrameScript:function(t,e){null!=e?(null==this.__staticFrameScripts&&(this.__staticFrameScripts=new Gs),this.__staticFrameScripts.h[t]=e):null!=this.__staticFrameScripts&&this.__staticFrameScripts.remove(t)},gotoAndPlay:function(t,e){},gotoAndStop:function(t,e){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:l,__properties__:n(o.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var u=function(t,e){if(this.__maskDataDirty=!1,this.__updating9SliceBitmap=!1,this.__9SliceBitmapScaleY=0,this.__9SliceBitmapScaleX=0,l.call(this),this.__swf=t,this.__symbol=e,this.__lastUpdate=1,this.__objects=new Gs,this.__zeroSymbol=-1,this.__childrenHaveClippedAtProperty=!1,this.__currentFrame=1,null!=this.__symbol?(this.__totalFrames=this.__symbol.frames.length,this.set_cacheAsBitmap(this.__symbol.useUniqueSharedBitmapCache)):this.__totalFrames=0,this.__SWFDepthData=new Xs,this.__maskData=new Xs,this.__maskDataKeys=[],this.__currentLabels=[],null!=this.__symbol)for(var i=0,n=this.__symbol.frames.length;i<n;){var s=i++;null!=this.__symbol.frames[s].label&&this.__currentLabels.push(new Ol(this.__symbol.frames[s].label,s+1))}this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),1<this.__totalFrames&&this.play(),this.__renderFrame(0)};(i["format.swf.lite.MovieClip"]=u).__name__=["format","swf","lite","MovieClip"],u.__properties__={set_processSoundCommandCallback:"set_processSoundCommandCallback",get_processSoundCommandCallback:"get_processSoundCommandCallback"},u._processSoundCommandCallback=null,u.get_processSoundCommandCallback=function(){return u._processSoundCommandCallback},u.set_processSoundCommandCallback=function(t){return Ar.current.addModule(new ri),u._processSoundCommandCallback=t},u.__super__=l,u.prototype=n(l.prototype,{enableChildrenCache:function(){this.__childrenCache=new Xs},getSymbol:function(){return this.__symbol},gotoAndPlay:function(t,e){this.__goto(t,e)&&this.play()},gotoAndStop:function(t,e){this.__goto(t,e)&&this.stop()},nextFrame:function(){var t=this.__currentFrame+1;t>this.__totalFrames&&(t=this.__totalFrames),this.__currentFrame=t,this.__updateFrame()},play:function(){!this.__playing&&1<this.__totalFrames&&(this.__playing=!0,this.__timeElapsed=0)},prevFrame:function(){var t=this.__currentFrame-1;t<1&&(t=1),this.gotoAndStop(t)},stop:function(){this.__playing&&(this.__playing=!1)},get_graphics:function(){if(null!=this.__graphics&&null==this.__graphics.__owner)throw new fr("Not allowed!");return l.prototype.get_graphics.call(this)},unflatten:function(){this.__lastUpdate=0,this.__updateFrame()},__applyTween:function(t,e,i){return t+(e-t)*i},__createObject:function(t){var e=null,i=!1;if(null!=this.__childrenCache&&null!=this.__childrenCache.h.__keys__[t.__id__])return this.__childrenCache.h[t.__id__];if(this.__swf.symbols.h.hasOwnProperty(t.symbol)){var n=this.__swf.symbols.h[t.symbol];if(n.poolable&&(i=!0,0<n.pool.size)){var s=n.pool.get();return s.__reset(),null!=t.name&&s.set_name(t.name),s}if(null==e&&null!=n.className){var r=n.className,a=this.__swf.classes,o=null!=df[r]?a.getReserved(r):a.h[r];null!=o&&(e=Pi.createInstance(o,[this.__swf,n]))}if(null==e&&this.__swf.classes_id.h.hasOwnProperty(t.symbol)){var l=this.__swf.classes_id.h[t.symbol];null!=l&&(e=Pi.createInstance(l,[this.__swf,n]))}null==e&&(e=dr.__instanceof(n,Fi)?new u(this.__swf,n):dr.__instanceof(n,Ps)?this.__createShape(n):dr.__instanceof(n,gi)?this.__createMorphShape(n):dr.__instanceof(n,ci)?new Ml(Bl.getFromSymbol(n),1,!0):dr.__instanceof(n,di)?new ti(this.__swf,n):dr.__instanceof(n,Bi)?new _i(this.__swf,n):dr.__instanceof(n,fi)?new p(this.__swf,n):dr.__instanceof(n,Ri)?new hi(this.__swf,n):new Y).set_forbidCachedBitmapUpdate(n.forbidCachedBitmapUpdate),e.symbolId=n.id,null!=t.name&&e.set_name(t.name)}return null==this.__childrenCache||i||this.__childrenCache.set(t,e),e},__createShape:function(t){var e=new ei,i=new Xl(!1);return(e.__graphics=i).copyFrom(t.graphics,!0),i.__owner=e},__createMorphShape:function(t){return new ii(this.__swf,t)},__getFrameTime:function(){var t=this.stage.frameTime;return null!=t?t:this.__swf.frameTime},__enterFrame:function(t){if(this.__playing){this.__timeElapsed+=t;var e=this.stage.frameTime,i=null!=e?e:this.__swf.frameTime,n=Math.floor(this.__timeElapsed/i);for(this.__timeElapsed%=i,this.__currentFrame+=n;this.__currentFrame>this.__totalFrames;)this.__currentFrame-=this.__totalFrames;this.__updateFrame()}l.prototype.__enterFrame.call(this,t)},__getFrame:function(t){var e=0;if("number"==typeof t&&(0|t)===t)e=t;else if("string"==typeof t){var i=t;if(null!=this.__symbol){for(var n=!1,s=0,r=this.__symbol.frames.length;s<r;){var a=s++;if(this.__symbol.frames[a].label==i){e=a+1,n=!0;break}}n||(e=this.__currentFrame)}}return e<1?e=1:e>this.__totalFrames&&(e=this.__totalFrames),e},__goto:function(t,e){if(null!=this.__targetFrame)return!1;var i=this.__getFrame(t);if(i==this.__currentFrame)return!0;for(this.__targetFrame=i,this.play();this.__playing=!0,this.__currentFrame=this.__targetFrame,this.__updateFrame(),this.__targetFrame!=this.__currentFrame;);return this.__targetFrame=null,this.__playing},__placeObject:function(t,e){var i;if(null!=e.matrix&&(t.get_transform().set_matrix(e.matrix),dr.__instanceof(t,ti))){i=t;var n=e.matrix,s=i.symbol.x,r=i.symbol.y;t.set_x(Math.round(t.__transform.tx+n.a*s+n.c*r)),t.set_y(Math.round(t.__transform.ty+n.b*s+n.d*r))}dr.__instanceof(t,ii)&&null!=e.ratio&&t.set_ratio(e.ratio);if(null!=e.colorTransform&&t.get_transform().set_colorTransform(e.colorTransform),null!=e.blendMode&&t.set_blendMode(e.blendMode),t.set_cacheAsBitmap(t.__resolvedCacheAsBitmap||e.cacheAsBitmap),null!=e.filters){for(var a=[],o=0,l=e.filters;o<l.length;){var h=l[o];switch(++o,h[1]){case 0:var _=h[4],u=h[3],c=h[2];a.push(new p_(c,u,_));break;case 1:var f,d=h[3],p=h[2].value;f=null!=p?new mf(p):null;var g,m=d.value;g=null!=m?new mf(m):null,a.push(new g_(f,g));break;case 2:var v=h[12],b=h[11],y=h[10],w=h[9],x=h[8],T=h[7],S=h[6],E=h[5],I=h[4],C=h[3],P=h[2];a.push(new m_(P,C,I,E,S,T,x,w,y,b,v));break;case 3:var A=h[9],D=h[8],R=h[7],M=h[6],F=h[5],B=h[4],L=h[3],k=h[2];a.push(new v_(k,L,B,F,M,R,D,A));break;case 4:var N=h[12],O=h[11],U=h[10],G=h[9],X=h[8],V=h[7],z=h[6],H=h[5],W=h[4],Y=h[3],K=h[2];a.push(new b_(K,Y,W,H,z,V,X,G,U,O,N));break;case 5:var j=h[13],q=h[12],J=h[11],Z=h[10],Q=h[9],$=h[8],tt=h[7],et=h[6],it=h[5],nt=h[4],st=h[3],rt=h[2];a.push(new f_(rt,st,nt,it,et,tt,$,Q,Z,J,q,j));break;case 6:var at=h[12],ot=h[11],lt=h[10],ht=h[9],_t=h[8],ut=h[7],ct=h[6],ft=h[5],dt=h[4],pt=h[3],gt=h[2];a.push(new c_(gt,pt,dt,ft,ct,ut,_t,ht,lt,ot,at))}}t.set_filters(a)}else t.set_filters(null);null!=t.__name&&(this[t.__name]=t)},__update9SliceBitmap:function(){var t=Math.max(1,this.renderScaleX),e=Math.max(1,this.renderScaleY);if(null!=this.__9SliceBitmap&&(1e-5<Math.abs(t-this.__9SliceBitmapScaleX)||1e-5<Math.abs(e-this.__9SliceBitmapScaleY))&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),null==this.__9SliceBitmap){this.__9SliceBitmapScaleX=t,this.__9SliceBitmapScaleY=e,this.__updating9SliceBitmap=!0;var i=H_.pool.get();if(this.__getBounds(i),i.width<=0&&i.height<=0)throw H_.pool.put(i),new fr("Error creating a cached bitmap. The texture size is "+i.width+"x"+i.height);if(null==this.__scale9Rect?this.__scale9Rect=this.__symbol.scalingGridRect.clone():this.__scale9Rect.copyFrom(this.__symbol.scalingGridRect),!this.__scale9Rect.intersects(i))return this.__9SliceBitmap=null,this.__updating9SliceBitmap=!1,void H_.pool.put(i);this.__scale9Rect.x-=i.x,this.__scale9Rect.y-=i.y;var n=this.renderScaleX,s=this.renderScaleY;this.renderScaleX=t,this.renderScaleY=e;for(var r=0,a=this.__children;r<a._length;){var o=r>=a._length?null:a._items[r];if(++r,o.renderScaleX!=n||o.renderScaleY!=s)throw new fr(":TODO: 9 sliced child has different render scale than parent");o.renderScaleX=t,o.renderScaleY=e}var l=Po.current.stage.__renderer.renderSession,h=Bl.__asRenderTexture();h.__resize(i.width,i.height,Math.ceil(i.width*t),Math.ceil(i.height*e));var _=Co.pool.get();_.identity(),_.a=t,_.d=e,_.translate(-i.x*t,-i.y*e),l.maskManager.pushMask(null),h.__pushFrameBuffer(l,!1,!1,!0),ll.drawBitmapDrawable(l,null,this,_,null,null,null),ll.popFramebuffer(l,null),h.__imageShouldBeSynced=!0;var u=h.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;h.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),h.__isValid=!0,h.__usingPingPongTexture=!0,l.maskManager.popMask(),Co.pool.put(_),H_.pool.put(i),this.__9SliceBitmap=h,this.__updating9SliceBitmap=!1,this.renderScaleX=n,this.renderScaleY=s;for(var f=0,d=this.__children;f<d._length;){var p=f>=d._length?null:d._items[f];++f,p.renderScaleX=n,p.renderScaleY=s}}},drawScale9Bitmap:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{var l=H_.pool.get();this.__getBounds(l);var h=this.__9SliceBitmap.width,_=this.__9SliceBitmap.height,u=h-this.__scale9Rect.width,c=_-this.__scale9Rect.height,f=1,d=1,p=this.get_width(),g=this.get_height();p<u&&(f=p/u),g<c&&(d=g/c);var m=new H_;m.set_left(f*this.__scale9Rect.get_left()),m.set_right(Math.max(m.get_left(),p-f*(h-this.__scale9Rect.get_right()))),m.set_top(d*this.__scale9Rect.get_top()),m.set_bottom(Math.max(m.get_top(),g-d*(_-this.__scale9Rect.get_bottom())));for(var v=h/p,b=_/g,y=[0,m.get_left()*v,m.get_right()*v,h],w=[0,m.get_top()*b,m.get_bottom()*b,_],x=[0,this.__scale9Rect.get_left()/h,this.__scale9Rect.get_right()/h,1],T=[0,this.__scale9Rect.get_top()/_,this.__scale9Rect.get_bottom()/_,1],S=Ql.pool.get(),E=this.__9SliceBitmap.get_uvData(),I=E.x1-E.x0,C=E.y2-E.y0,P=new Co,A=0;A<3;)for(var D=A++,R=0;R<3;){var M=R++,F=y[M],B=w[D],L=y[M+1]-y[M],k=w[D+1]-w[D];P.identity(),P.translate(F+l.x,B+l.y),P.concat(this.__renderTransform),S.x0=S.x3=x[M]*I,S.x1=S.x2=x[M+1]*I,S.y0=S.y1=T[D]*C,S.y2=S.y3=T[D+1]*C,t.spriteBatch.renderBitmapDataEx(this.__9SliceBitmap,L,k,S,!0,P,this.__worldColorTransform,1,this.__blendMode,this.__shader,null)}Ql.pool.put(S),H_.pool.put(l)}},__renderGL:function(t){!this.isRenderable()||this.__worldAlpha<=0||(this.__updating9SliceBitmap||null==this.__symbol||null==this.__symbol.scalingGridRect||this.__update9SliceBitmap(),this.__updateSwfMaskData(),null!=this.__symbol&&null!=this.__symbol.scalingGridRect&&null!=this.__9SliceBitmap?this.drawScale9Bitmap(t):l.prototype.__renderGL.call(this,t))},frame0ChildrenUpdate:function(){if(null!=this.__symbol)for(var t=this.__symbol.frames[0],e=this.__objects.keys();e.hasNext();){for(var i=e.next(),n=!0,s=!0,r=0,a=t.objects;r<a.length;){var o=a[r];if(++r,o.id==i){s=!(n=o.symbol!=Dt.field(this.__objects.h[i],"symbolId"))&&null==o.colorTransform;break}}if(n){var l=this.__objects.h[i];null!=l&&this.removeChild(l),this.__objects.remove(i)}else s&&this.__objects.h[i].__colorTransform.reset()}},__renderFrame:function(t){if(null==this.__symbol||0==this.__symbol.frames.length)return!1;var e,i;0==t&&this.frame0ChildrenUpdate(),null!=(e=this.__symbol.frames[t]).startSound&&null!=u._processSoundCommandCallback&&(null!=this.__targetFrame&&this.__targetFrame!=t+1||u.soundCommandTable.push({movieClip:this,frame:t,command:e.startSound})),this.__currentFrame=t+1,this.__lastUpdate=t+1;for(var n=0,s=e.objects;n<s.length;){var r=s[n];if(++n,r.type!=Oi.DESTROY){if(this.__objects.h.hasOwnProperty(r.id)){if(i=this.__objects.h[r.id],r.type==Oi.UPDATE_CHARACTER){var a=i,o=this.__maskData.h[i.__id__];this.removeChild(i),(i=this.__createObject(r)).set_name(a.__name),i.get_transform().set_matrix(a.get_transform().getMatrixNoClone()),i.get_transform().set_colorTransform(a.get_transform().get_colorTransform()),i.set_alpha(a.__colorTransform.alphaMultiplier),null!=a.__filters&&i.set_filters(a.__filters.map(function(t){return t.clone()})),null!=o&&(this.__maskDataKeys.push(i),this.__maskData.set(i,o),i.__isMask=!0),this.__addChildAtSwfDepth(i,r.depth),this.__objects.h[r.id]=i}}else null!=(i=this.__createObject(r))&&(this.__addChildAtSwfDepth(i,r.depth),this.__objects.h[r.id]=i);if(null!=i&&(this.__placeObject(i,r),0!=r.clipDepth)){i.set_visible(!1);var l=r.clipDepth;this.__maskDataKeys.push(i),this.__maskData.set(i,l),i.__isMask=!0}}else this.__objects.h.hasOwnProperty(r.id)&&(null!=(i=this.__objects.h[r.id])&&i.parent==this&&this.removeChild(i),this.__objects.remove(r.id))}0<e.objects.length&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.__maskDataDirty=!0);var h=this.__symbol.frames[t].label;return null!=(this.__currentFrameLabel=h)&&(this.__currentLabel=h),this.__updateSwfMaskData(),!(null==this.__frameScripts||!this.__frameScripts.h.hasOwnProperty(t)||(this.__frameScripts.h[t](),t+1==this.__currentFrame))||!(null==this.__staticFrameScripts||!this.__staticFrameScripts.h.hasOwnProperty(t)||(this.__staticFrameScripts.h[t](this),t+1==this.__currentFrame))},__addObjectToMaskData:function(t,e){this.__maskDataKeys.push(t),this.__maskData.set(t,e),t.__isMask=!0},__updateFrame:function(){if(this.__currentFrame!=this.__lastUpdate){var t=!1;if(this.__currentFrame<this.__lastUpdate){var e,i,n,s,r=this.__currentFrame;if(null==this.__targetFrame)for(e=this.__lastUpdate,i=this.__totalFrames;e<i;){var a=e++;if(t=this.__renderFrame(a),!this.__playing||t)break}if(this.__playing&&!t)for(n=0,s=r;n<s;){var o=n++;if(t=this.__renderFrame(o),!this.__playing||t)break}}else{var l,h;for(l=this.__lastUpdate,h=this.__currentFrame;l<h;){var _=l++;if(t=this.__renderFrame(_),!this.__playing||t)break}}}},__updateSwfMaskData:function(){if(this.__maskDataDirty){var t=this.__children._length;if(this.__childrenHaveClippedAtProperty){for(var e=0,i=this.__children;e<i._length;){var n=e>=i._length?null:i._items[e];++e,n.__clippedAt=-1}this.__childrenHaveClippedAtProperty=!1}if(0<this.__maskDataKeys.length){this.__childrenHaveClippedAtProperty=!0;for(var s=0,r=this.__maskDataKeys;s<r.length;){var a=r[s];++s;for(var o=this.getChildIndex(a),l=this.__maskData.h[a.__id__],h=t,_=o+1,u=t;_<u;){var c=_++,f=this.getChildAt(c);if(null!=f){if(this.__SWFDepthData.h[f.__id__]>l){h=c;break}f.__clippedAt=o}}a.__clipDepth=h-o-1}}}this.__maskDataDirty=!1},getNextHighestDepthExternal:function(){if(0<this.__children._length){var t=this.__SWFDepthData,e=this.getChildAt(this.__children._length-1);return t.h[e.__id__]-16383+1}return 0},getDepth:function(){return dr.__cast(this.parent,u).__SWFDepthData.h[this.__id__]},getDepthExternal:function(){return this.getDepth()-16383},addChildAtSwfDepthExternal:function(t,e){this.__addChildAtSwfDepth(t,e+16383),this.__maskDataDirty=!0},swapDepths:function(t){var e,i=null,n=dr.__cast(this.parent,u);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var s=0,r=n.__children._length;s<r;){var a=s++,o=n.__SWFDepthData,l=n.getChildAt(a);if(o.h[l.__id__]==e){i=this.getChildAt(a);break}}}else{if(!dr.__instanceof(t,Y))throw new fr("Trying to swap depths with unknown type.. "+Pi.getClassName(t));i=t,e=n.__SWFDepthData.h[t.__id__]}var h=this.getDepth();null!=i&&n.__addChildAtSwfDepth(i,h),n.__addChildAtSwfDepth(this,e),n.__maskDataDirty=!0},__addChildAtSwfDepth:function(t,e){this.__SWFDepthData.set(t,e);for(var i=this.__children._length-1;0<=i;){var n=this.getChildAt(i);if(this.__SWFDepthData.h[n.__id__]<=e)return void this.addChildAt(t,i+1);--i}this.addChildAt(t,0)},removeChild:function(t){var e=l.prototype.removeChild.call(this,t);return null!=t&&(this.__SWFDepthData.remove(e),$.remove(this.__maskDataKeys,e),this.__maskData.remove(e),this.__maskDataDirty=!0),e},__releaseResources:function(){return!!l.prototype.__releaseResources.call(this)&&(null!=this.__9SliceBitmap&&(this.__9SliceBitmap.dispose(),this.__9SliceBitmap=null),!0)},__debugPrintChildren:function(t){if(null==t&&(t=-1),null!=this.__symbol){var e=!1;if((t<0||t==this.__symbol.id)&&(e=!0),e){for(var i=this.__objects.keys();i.hasNext();){var n=i.next(),s=this.__objects.h[n],r=s.__name,a=null!=this.__maskData.h.__keys__[s.__id__];if(r.length<20){var o=20-r.length;r+=Ss.repeat(o," ")}switch(a){case!1:Rs.trace("parent ("+this.__symbol.id+")\t\t\t | object \t "+r+"\t\t\t | depth = "+this.__SWFDepthData.get(s)+"\t |",{fileName:"MovieClip.hx",lineNumber:1277,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"});break;case!0:Rs.trace("parent ("+this.__symbol.id+")\t\t\t | mask\t\t "+r+"\t\t\t | depth = "+this.__SWFDepthData.get(s)+"\t | mask = "+this.__maskData.get(s),{fileName:"MovieClip.hx",lineNumber:1275,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}Rs.trace("-",{fileName:"MovieClip.hx",lineNumber:1281,className:"format.swf.lite.MovieClip",methodName:"__debugPrintChildren"})}}},mustResetRenderColorTransform:function(){return!!l.prototype.mustResetRenderColorTransform.call(this)||null!=this.__symbol&&null!=this.__symbol.scalingGridRect},toString:function(){return null!=this.__symbol?"[MovieClip id: "+this.__symbol.id+"]":l.prototype.toString.call(this)},__class__:u});var h=function(t,e){u.call(this,t,e)};(i.SpriteBase=h).__name__=["SpriteBase"],h.__super__=u,h.prototype=n(u.prototype,{get__root:function(){return g.instance},get__name:function(){return this.__name},get__x:function(){return this.__transform.tx},set__x:function(t){return this.set_x(t)},get__y:function(){return this.__transform.ty},set__y:function(t){return this.set_y(t)},get__X:function(){return this.__transform.tx},set__X:function(t){return this.set_x(t)},get__Y:function(){return this.__transform.ty},set__Y:function(t){return this.set_y(t)},get__width:function(){return this.get_width()},set__width:function(t){return this.set_width(t)},get__height:function(){return this.get_height()},set__height:function(t){return this.set_height(t)},get__rotation:function(){return this.__rotation},set__rotation:function(t){return this.set_rotation(t)},get__parent:function(){return this.parent},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__alpha:function(){return 100*this.__colorTransform.alphaMultiplier},set__alpha:function(t){return this.set_alpha(t/100),t},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},get_onEnterFrame:function(){return this.__onEnterFrame},set_onEnterFrame:function(t){return null!=this.__onEnterFrame&&(this.removeEventListener("enterFrame",this.__onEnterFrame),this.__onEnterFrame=null),null!=t&&(this.__onEnterFrame=t,this.addEventListener("enterFrame",t)),t},set_onPress:function(t){if(null==t)throw new fr("todo");return this.addEventListener("mouseDown",t),t},set_onRelease:function(t){if(this.addEventListener("mouseUp",t),null==t)throw new fr("todo");return t},set_onReleaseOutside:function(t){if(null==t)throw new fr("todo");return t},set_onRollOver:function(t){if(null==t)throw new fr("todo");return this.addEventListener("rollOver",t),t},set_onRollOut:function(t){if(null==t)throw new fr("todo");return this.addEventListener("rollOut",t),t},set_onUnload:function(t){if(null==t)throw new fr("todo");return this.addEventListener("removedFromStage",t),t},on:function(t,e,i){},getNextHighestDepth:function(){return this.getNextHighestDepthExternal()},attachMovie:function(t,e,i,n){var s=g.swfLite.createMovieClip(t);if(s.set_name(e),null!=n)for(var r=0,a=Dt.fields(n);r<a.length;){var o=a[r];++r,Dt.setProperty(s,o,Dt.field(n,o))}return this.addChildAtSwfDepthExternal(s,i),this[e]=s},unloadMovie:function(){this.parent.removeChild(this)},setPlaced:function(){throw new fr(":TODO: setPlaced")},removeMovieClip:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},removeMovieClipFromTarget:function(t){var e=this.getTarget(t);if(null!=e&&null!=e.parent){var i=e.parent;e.parent.removeChild(e),""!=e.__name&&Dt.deleteField(i,e.__name)}},duplicateMovieClip:function(t,e){var i=this.getSymbol(),n=Pi.createInstance(dr.getClass(this),[g.swfLite,i]);n.set_name(t),n.set_transform(this.get_transform()),dr.__cast(this.parent,u).addChildAtSwfDepthExternal(n,e)},duplicateMovieClipFromTarget:function(t,e,i){var n=this.getTarget(t),s=n.getSymbol(),r=Pi.createInstance(null==n?null:dr.getClass(n),[g.swfLite,s]);r.set_name(e),r.set_transform(n.get_transform()),dr.__cast(n.parent,u).addChildAtSwfDepthExternal(r,i)},createEmptyMovieClip:function(t,e){var i=new h(null,null);return i.set_name(t),this.addChildAtSwfDepthExternal(i,e),i},getTimer:function(){return Date.now()},get__xmouse:function(){return this.get_mouseX()},get__ymouse:function(){return this.get_mouseY()},getTarget:function(t){var e=t.split("."),i=null;i="_root"==e[0]?g.instance:(i=this,a.getChild(i,e[0]));for(var n=1,s=e.length;n<s;){var r=n++;if(null==(i=a.getChild(i,e[r])))return null}return i},set:function(t,e){for(var i=t.split("."),n=i[0],s=1,r=i.length-1;s<r;){n+=".",n+=i[s++]}var a=this.getTarget(n);Dt.setProperty(a,i[i.length-1],e)},setProperty:function(t,e,i){var n=this.getTarget(t);Dt.setProperty(n,e,i)},hitTest:function(t){var e=this.getTarget(t);return null!=e&&this.hitTestObject(e)},getChildSB:function(t){return this.getChildByName(t)},getChildWithId:function(t){for(var e=0,i=this.__children._length;e<i;){var n=e++,s=this.getChildAt(n);if(s.symbolId==t||null!=s.__symbol&&s.__symbol.id==t)return s}return null},getChildAtDepth:function(t){for(var e=0,i=this.__children._length;e<i;){var n=e++,s=this.getChildAt(n);if(this.__SWFDepthData.h[s.__id__]==t)return s}return null},setMask:function(t){this.set_mask(t)},get__currentframe:function(){return this.get_currentFrame()},get__totalframes:function(){return this.get_totalFrames()},random:function(t){return Q.random(t)},addKeyDownListener:function(t,e){if(""!=t)throw new fr(":TODO:");ot.addKeyDownListener(e),this.addEventListener("removedFromStage",function(){ot.removeKeyDownListener(e)})},set_onKeyDown:function(t){return ot.addKeyDownListener(t),t},__class__:h,__properties__:n(u.prototype.__properties__,{set_onKeyDown:"set_onKeyDown",get__totalframes:"get__totalframes",get__currentframe:"get__currentframe",get__ymouse:"get__ymouse",get__xmouse:"get__xmouse",set_onUnload:"set_onUnload",set_onRollOut:"set_onRollOut",set_onRollOver:"set_onRollOver",set_onReleaseOutside:"set_onReleaseOutside",set_onRelease:"set_onRelease",set_onPress:"set_onPress",set_onEnterFrame:"set_onEnterFrame",get_onEnterFrame:"get_onEnterFrame",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__alpha:"set__alpha",get__alpha:"get__alpha",set__visible:"set__visible",get__visible:"get__visible",get__parent:"get__parent",set__rotation:"set__rotation",get__rotation:"get__rotation",set__height:"set__height",get__height:"get__height",set__width:"set__width",get__width:"get__width",set__Y:"set__Y",get__Y:"get__Y",set__X:"set__X",get__X:"get__X",set__y:"set__y",get__y:"get__y",set__x:"set__x",get__x:"get__x",get__name:"get__name",get__root:"get__root"})});var g=function(){this.enableAtv=!1,this.enableBike=!1,this.highQuality=!0,this.zastSoundFlag=!0,this.stopSoundFlag=!1,this.author="www.iriysoft.ru",this.highScoreButtonAdded=!1,this.mobileControls=[],st.registerVersions(),u.set_processSoundCommandCallback(J.process),g.instance=this;var t=ai.instances;if(!(null!=df["lib/stuntdirtbike/stuntdirtbike.dat"]?t.existsReserved("lib/stuntdirtbike/stuntdirtbike.dat"):t.h.hasOwnProperty("lib/stuntdirtbike/stuntdirtbike.dat"))){var e=ai.instances,i=ai.unserializeLibrary(Su.toBytes(Eo.getBytes("lib/stuntdirtbike/stuntdirtbike.dat"))),n=e;null!=df["lib/stuntdirtbike/stuntdirtbike.dat"]?n.setReserved("lib/stuntdirtbike/stuntdirtbike.dat",i):n.h["lib/stuntdirtbike/stuntdirtbike.dat"]=i}var s=ai.instances;g.swfLite=null!=df["lib/stuntdirtbike/stuntdirtbike.dat"]?s.getReserved("lib/stuntdirtbike/stuntdirtbike.dat"):s.h["lib/stuntdirtbike/stuntdirtbike.dat"];var r=g.swfLite.root;this.setupClasses(g.swfLite),this.setupFrameScripts(),h.call(this,g.swfLite,r),q.register(),sf.initialize()};(i.Main=g).__name__=["Main"],g.instance=null,g.swfLite=null,g.__super__=h,g.prototype=n(h.prototype,{addHighScoreButton:function(){if(!this.highScoreButtonAdded){var t=new $e;t.set_defaultTextFormat(new gu("Tw Cen MT",24,16777215)),t.set_htmlText("High Scores"),t.set_width(250),t.set_height(30),t.set_x(10),t.set_y(250),this.addChildAt(t,this.__children._length-2),t.addEventListener("click",function(){sf.showDialog()}),this.highScoreButton=t,this.highScoreButtonAdded=!0}},removeHighScoreButton:function(){this.highScoreButtonAdded&&(this.removeChild(this.highScoreButton),this.highScoreButtonAdded=!1)},createControl:function(t,e){var i=new Ml(Eo.getBitmapData(t)),n=new l;return n.addChildAt(i,n.__children._length),this.addChildAt(n,this.__children._length),n.addEventListener("touchBegin",function(){ot.instance.forceKeyState(e,!0)}),n.addEventListener("touchEnd",function(){ot.instance.forceKeyState(e,!1)}),n},setupMobileControls:function(){if(st.isMobile()&&0==this.mobileControls.length){var t=this.createControl("assets/textures/up.png",38),e=this.createControl("assets/textures/down.png",40),i=this.createControl("assets/textures/left.png",37),n=this.createControl("assets/textures/right.png",39);this.mobileControls=[t,e,i,n],t.set_x(this.stage.window.config.width-t.get_width()),e.set_x(this.stage.window.config.width-e.get_width()),t.set_y(this.stage.window.config.height/2-t.get_height()-2),e.set_y(this.stage.window.config.height/2+2),i.set_x(0),n.set_x(i.get_width()),n.set_y(i.set_y(this.stage.window.config.height-i.get_height()-12))}},clearMobileControls:function(){ot.instance.forceKeyState(37,!1),ot.instance.forceKeyState(38,!1),ot.instance.forceKeyState(39,!1),ot.instance.forceKeyState(40,!1);for(var t=0,e=this.mobileControls;t<e.length;){var i=e[t];++t,this.removeChild(i)}this.mobileControls=[]},setupClasses:function(t){t.classes_id.h[1]=gc,t.classes_id.h[9]=nf,t.classes_id.h[17]=Cc,t.classes_id.h[26]=Uc,t.classes_id.h[28]=Gc,t.classes_id.h[29]=Xc,t.classes_id.h[31]=Vc,t.classes_id.h[32]=dc,t.classes_id.h[33]=zc,t.classes_id.h[34]=ic,t.classes_id.h[45]=Wc,t.classes_id.h[46]=oc,t.classes_id.h[49]=rc,t.classes_id.h[55]=ac,t.classes_id.h[62]=_c,t.classes_id.h[79]=Zc,t.classes_id.h[81]=Qc,t.classes_id.h[82]=$c,t.classes_id.h[84]=tf,t.classes_id.h[85]=cc,t.classes_id.h[86]=ef,t.classes_id.h[87]=ec,t.classes_id.h[92]=lc,t.classes_id.h[97]=uc,t.classes_id.h[114]=mc,t.classes_id.h[116]=vc,t.classes_id.h[117]=bc,t.classes_id.h[119]=yc,t.classes_id.h[120]=fc,t.classes_id.h[121]=wc,t.classes_id.h[122]=nc,t.classes_id.h[138]=xc,t.classes_id.h[140]=Tc,t.classes_id.h[141]=Sc,t.classes_id.h[143]=Ec,t.classes_id.h[144]=pc,t.classes_id.h[145]=Ic,t.classes_id.h[146]=sc,t.classes_id.h[153]=hc,t.classes_id.h[165]=Bu,t.classes_id.h[180]=Lu,t.classes_id.h[181]=Pc,t.classes_id.h[189]=ku,t.classes_id.h[191]=Nu,t.classes_id.h[192]=Ac,t.classes_id.h[195]=Ou,t.classes_id.h[198]=Uu,t.classes_id.h[201]=Gu,t.classes_id.h[203]=Dc,t.classes_id.h[205]=Rc,t.classes_id.h[207]=Mc,t.classes_id.h[215]=Xu,t.classes_id.h[218]=Vu,t.classes_id.h[219]=Fc,t.classes_id.h[226]=zu,t.classes_id.h[231]=Hu,t.classes_id.h[248]=Bc,t.classes_id.h[251]=Lc,t.classes_id.h[253]=kc,t.classes_id.h[255]=Nc,t.classes_id.h[257]=Oc,t.classes_id.h[437]=Hc,t.classes_id.h[451]=Wu,t.classes_id.h[453]=Yu,t.classes_id.h[455]=Ku,t.classes_id.h[456]=Yc,t.classes_id.h[459]=ju,t.classes_id.h[464]=Kc,t.classes_id.h[467]=qu,t.classes_id.h[469]=Ju,t.classes_id.h[481]=Zu,t.classes_id.h[483]=Qu,t.classes_id.h[484]=jc,t.classes_id.h[487]=$u,t.classes_id.h[490]=tc,t.classes_id.h[491]=qc,t.classes_id.h[496]=Jc;for(var e=[50,52,56,58,60,63,65,66,68,70,72,74,76,209,210,211,212],i=0;i<e.length;){var n=e[i];++i;var s=t.symbols.h[n];s.set_cachePrecision(0),s.set_translationCachePrecision(0),s.set_useBitmapCache(!0)}for(var r=0,a=[273,279,286,304,311,317,337,347,355,375,383,391,411,423,433];r<a.length;){var o=a[r];++r,t.classes_id.h[o]=A}},setupFrameScripts:function(){this.addFrameScript(0,of(this,this.frame1)),this.addFrameScript(1,of(this,this.frame2)),this.addFrameScript(7,of(this,this.frame8)),this.addFrameScript(4,of(this,this.frame5)),this.addFrameScript(8,of(this,this.frame9))},frame1:function(){var t=new h(null,null);t.set_name("kv_mc"),this.addChildAtSwfDepthExternal(t,-163884);var e=this.kv_mc;e.kv_v={c:149,td:"addictinggames.149.memecounter.com"},e.kv_v.c_so=$_.getLocal(e.kv_v.c,"/"),e.kv_v.d="Local",e.kv_v.fpv="";var i="http://"+Q.string(e.kv_v.td)+"/tracker.php?c="+Q.string(e.kv_v.c)+"&r="+Math.floor(1e10*Math.random())+"&d=";e.kv_v.lurl=i+Q.string(e.kv_v.d)+"&u="+(e.kv_v.c_so.data.u?"1":"")+"&p="+Q.string(e.kv_v.fpv),e.kv_v.c_so.data.u=!0,e.kv_v.c_so.flush()},frame2:function(){this.stop()},frame5:function(){this.addHighScoreButton()},frame9:function(){this.stop()},updateSoundLoop:function(){this.stopSoundFlag||(this.zastSoundFlag?(this.mc_sloop.gotoAndStop(3),this.mc_sloop_zast.gotoAndStop(2)):(this.mc_sloop.gotoAndStop(2),this.mc_sloop_zast.gotoAndStop(3)))},soundOff:function(){this.mc_sloop_zast.gotoAndStop(3),this.mc_sloop.gotoAndStop(3),this.stopSoundFlag=!0},soundOn:function(){this.zastSoundFlag?this.mc_sloop_zast.gotoAndStop(2):this.mc_sloop.gotoAndStop(2),this.stopSoundFlag=!1},gameStart:function(){this.scores=0,this.timeCounter=0,g.instance.level=0,this.gotoAndStop("choice"),this.enableVehicles()},chooseBikeWhenComplete:function(){this.gotoAndStop("choice"),this.enableVehicles()},chooseBike:function(){g.instance.level--,this.gotoAndStop("choice"),this.enableVehicles()},enableVehicles:function(){this.mc_screen.mc_cap_unlock1.set_visible(this.mc_screen.mc_vehicle_block1.set_visible(!this.enableBike)),this.mc_screen.mc_cap_unlock2.set_visible(this.mc_screen.mc_vehicle_block2.set_visible(!this.enableAtv)),this.btn_vehicle1.useHandCursor=this.enableBike,this.btn_vehicle2.useHandCursor=this.enableAtv},gameStartWith:function(t){(t!=E.BIKE_MOTO2||this.enableBike)&&(t!=E.BIKE_ATV2||this.enableAtv)&&(0==g.instance.level&&(this.zastSoundFlag=!1,this.updateSoundLoop()),this.bikeNum=t,this.nextLevel())},nextLevel:function(){g.instance.level!=I.MAX_LEVEL_NUM?(g.instance.level=g.instance.level+1,this.levelTimeCounter=0,this.gotoAndStop("reset"),this.gotoAndStop("game")):this.newGame()},replay:function(){this.gotoAndStop("reset"),this.gotoAndStop("game")},newGame:function(){this.zastSoundFlag=!0,this.updateSoundLoop(),this.gotoAndStop("main")},initLevel:function(){this.lastTimer=this.getTimer(),this.mc_level.set_x(this.mc_level.set_y(0));var t=this.mc_level;this.mc_level.set_scaleY(1);switch(t.set_scaleX(1),this.mc_level.gotoAndStop(g.instance.level),this.mc_level.mc.mc_hit.set_visible(!1),null==this.carSync?(this.carSync=new E,this.engine=new F,this.objCamera=new w,this.back1=new b,this.back2=new b):this.engine.clear(),this.engine.stopWheels=!1,this.carSync.setBikeNum(this.bikeNum),this.bikeNum){case 1:this.carSync.init_bike1(this.mc_level.mc.mc_car,this.mc_level.mc.mc_start.__transform.tx,this.mc_level.mc.mc_start.__transform.ty,this.engine);break;case 2:this.carSync.init_atv1(this.mc_level.mc.mc_car,this.mc_level.mc.mc_start.__transform.tx,this.mc_level.mc.mc_start.__transform.ty,this.engine);break;case 3:this.carSync.init_bike2(this.mc_level.mc.mc_car,this.mc_level.mc.mc_start.__transform.tx,this.mc_level.mc.mc_start.__transform.ty,this.engine);break;case 4:this.carSync.init_atv2(this.mc_level.mc.mc_car,this.mc_level.mc.mc_start.__transform.tx,this.mc_level.mc.mc_start.__transform.ty,this.engine);break;default:Rs.trace("error!!!",{fileName:"Main.hx",lineNumber:424,className:"Main",methodName:"initLevel"})}this.back1.init(this.mc_level.mc.mc_fon.mc_grass.mc1,this.mc_level.mc.mc_fon.mc_grass.mc2,1),this.back2.init(this.mc_level.mc.mc_fon.mc_hill.mc1,this.mc_level.mc.mc_fon.mc_hill.mc2,2),this.back1.process(this.mc_level.mc.__transform.tx),this.back2.process(this.mc_level.mc.__transform.tx),this.objCamera.init(this.carSync.mc_car,this.mc_level.mc),this.objCamera.process(),dr.__cast(this.mc_level.mc.mc_hit,A).cacheHitMap(),this.engine.setHitMovie(this.mc_level.mc.mc_hit),this.engine.start(),this.accFlag=!1,this.accCounter=50,this.stopSoundFlag||this.mc_sloop.gotoAndStop(2),this.setStaticVariables(),I.setLevelTasks(),this.mc_message.gotoAndStop("empty"),this.gameState=0,I.updateLevelProgress(),this.mc_level.level=g.instance.level,this.setupMobileControls()},processGame:function(){var t,e;if(e=(t=this.getTimer())-this.lastTimer,this.txtFps=Q.string(1/(e/1e3)),this.lastTimer=t,0==this.gameState){this.timeCounter+=e,this.levelTimeCounter+=e;if(this.carSync.isCrushed()||(this.accCounter++,this.accFlag?this.accFlag=ot.isDown(E.BUTTON_UP)||ot.isDown(E.BUTTON_DOWN):(this.accFlag=ot.isDown(E.BUTTON_UP)||ot.isDown(E.BUTTON_DOWN),this.accFlag&&10<this.accCounter&&(this.accCounter=0,this.stopSoundFlag||this.mc_gas.gotoAndPlay(2))),ot.isDown(E.BUTTON_LEFT)?this.carSync.toLeft():ot.isDown(E.BUTTON_RIGHT)&&this.carSync.toRight()),this.engine.process(),this.carSync.process(),this.objCamera.process(),this.back1.process(this.mc_level.mc.__transform.tx),this.back2.process(this.mc_level.mc.__transform.tx),this.mc_level.mc.mc_fon.set_x(-this.mc_level.mc.__transform.tx),this.showTime(),I.updateLevelProgress(),this.checkEndLevel(),this.carSync.checkHitWithGround(this.mc_level.mc.mc_hit))return void this.loose();I.processSounds()}},keyPressed:function(){ot.isDown(32)?2==this.gameState?(this.nextLevel(),this.gameState=null):1==this.gameState?this.replay():4==this.gameState&&this.resume():ot.isDown(80)?0==this.gameState?this.pauseGame():4==this.gameState&&this.resume():ot.isDown(82)&&(0!=this.gameState&&4!=this.gameState||this.replay())},addLevelScores:function(){var t=null,e=this.levelTimeCounter/1e3;t=e<5?1e3:e<15?(15-e)/10*600+400:e<45?(45-e)/30*200+200:e<200?(200-e)/155*180+20:20,this.scores+=Math.round(t)},showTime:function(){dr.__cast(this.txtTime,$e).set_text(Q.string(this.getTimeString(this.timeCounter)))},getTimeString:function(t){var e=Math.round(t/1e3),i=Math.floor(e/60);return(i<10?"0"+i:""+i)+":"+((e-=60*i)<10?"0"+e:""+e)},resume:function(){this.setupMobileControls(),I.carSync.startManAnim(),this.zastSoundFlag=!1,this.updateSoundLoop(),this.mc_pause.gotoAndStop(1),this.mc_message.gotoAndStop("empty"),this.gameState=0},pauseGame:function(){this.clearMobileControls(),I.carSync.stopManAnim(),this.stopSoundFlag||this.mc_sloop.gotoAndStop(3),this.mc_pause.gotoAndStop(2),this.mc_message.gotoAndStop("pause"),this.gameState=4},setStaticVariables:function(){I.mc_root=this,I.mc_level=this.mc_level,I.carSync=dr.__cast(this.carSync,E),I.init()},checkEndLevel:function(){if(this.carSync.mc_car.__transform.tx>=this.mc_level.mc.mc_finish.__transform.tx)return this.stopSoundFlag||this.mc_sloop.gotoAndStop(3),this.mc_pause.set_visible(!1),void this.toWinTask()},loose:function(){I.carSync.stopManAnimFull(),this.mc_pause.set_visible(!1),this.stopSoundFlag||this.mc_sloop.gotoAndStop(3),this.mc_message.gotoAndStop("over"),this.mc_message.levelTime=this.getTimeString(this.levelTimeCounter),this.mc_message.totalTime=this.getTimeString(this.timeCounter),this.mc_message.scores=this.scores,I.carSync.stopManAnimFull(),this.gameState=1,this.clearMobileControls()},toWinTask:function(){this.clearMobileControls(),I.carSync.stopManAnimFull(),this.mc_pause.set_visible(!1),this.addLevelScores(),this.mc_message.levelTime=this.getTimeString(this.levelTimeCounter),this.mc_message.totalTime=this.getTimeString(this.timeCounter),this.mc_message.scores=this.scores,g.instance.level<I.MAX_LEVEL_NUM?(g.instance.level==I.UNLOCK_LEVEL_BIKE||g.instance.level==I.UNLOCK_LEVEL_ATV?(this.mc_message.gotoAndStop("win_unlock"),g.instance.level==I.UNLOCK_LEVEL_BIKE?this.enableBike=!0:g.instance.level==I.UNLOCK_LEVEL_ATV&&(this.enableAtv=!0)):this.mc_message.gotoAndStop("win"),this.gameState=2):(this.mc_message.gotoAndStop("complete"),this.gameState=3)},kvEvent:function(t){},frame8:function(){var r=this;this.removeHighScoreButton();var t=function(t,e,i){var n=r.getChildAtDepth(t),s=null;null!=r.parent&&(s=Dt.field(r,e));null!=s&&(n.addEventListener("mouseOver",function(){s.set_visible(!0)}),n.addEventListener("mouseOut",function(){s.set_visible(!1)})),n.set_alpha(0),n.addEventListener("mouseUp",function(){g.instance.gameStartWith(i)})};t(37,"mc_desc1",1),t(39,"mc_desc2",2),t(41,"mc_desc4",4),t(43,"mc_desc3",3)},__class__:g});var _=function(){var t=Po.current;t.addChildAt(this,t.__children._length),g.call(this),this.dispatchEvent(new Ge("addedToStage",!1,!1))};(i.DocumentClass=_).__name__=["DocumentClass"],_.__super__=g,_.prototype=n(g.prototype,{__class__:_});var c={};(i["_ButtonBase.AMain_Impl_"]=c).__name__=["_ButtonBase","AMain_Impl_"],c.getChild=function(t,e){return t[e]};var d=function(t,e,i,n){this.__childRect=new H_,K.call(this),this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.mouseChildren=!1,this.set_upState(null!=t?t:new Y),this.set_overState(e),this.set_downState(i),this.set_hitTestState(null!=n?n:new Y),this.addEventListener("mouseDown",of(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",of(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",of(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",of(this,this.__this_onMouseUp)),this.set___currentState(this.upState)};(i["openfl.display.SimpleButton"]=d).__name__=["openfl","display","SimpleButton"],d.__super__=K,d.prototype=n(K.prototype,{__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent?ho.POINTER:null},set_downState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.downState&&(this.removeChild(this.downState),this.__currentState==this.downState&&this.set___currentState(t))):null!=this.downState&&this.removeChild(this.downState),this.downState=t},set_hitTestState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_alpha(0),null!=this.hitTestState&&(this.removeChild(this.hitTestState),this.__currentState==this.hitTestState&&this.set___currentState(t))):null!=this.hitTestState&&this.removeChild(this.hitTestState),this.hitTestState=t},set_overState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.overState&&(this.removeChild(this.overState),this.__currentState==this.overState&&this.set___currentState(t))):null!=this.overState&&this.removeChild(this.overState),this.overState=t},get_soundTransform:function(){return null==this.__soundTransform&&(this.__soundTransform=new Z_),new Z_(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(t){return this.__soundTransform=new Z_(t.volume,t.pan),t},set_upState:function(t){return null!=t?(this.addChildAt(t,this.__children._length),t.set_visible(!1),null!=this.upState&&(this.removeChild(this.upState),this.__currentState==this.upState&&this.set___currentState(t))):null!=this.upState&&this.removeChild(this.upState),this.upState=t},set___currentState:function(t){return t==this.__currentState?t:(null!=this.__currentState&&this.__currentState.set_visible(!1),t.set_visible(!0),this.__currentState=t)},__this_onMouseDown:function(t){this.__stateChange("overup","down"),null!=this.downState&&this.set___currentState(this.downState)},__this_onMouseOut:function(t){this.__ignoreEvent=!1,this.upState!=this.__currentState&&(this.set___currentState(this.upState),this.__stateChange("overup","idle"))},__this_onMouseOver:function(t){t.buttonDown&&(this.__ignoreEvent=!0),this.overState==this.__currentState||null==this.overState||this.__ignoreEvent||(this.set___currentState(this.overState),this.__stateChange("idle","overup"))},__this_onMouseUp:function(t){this.__ignoreEvent=!1,this.__stateChange("down","overup"),null!=this.overState?this.set___currentState(this.overState):this.set___currentState(this.upState)},__stateChange:function(t,e){},__class__:d,__properties__:n(K.prototype.__properties__,{set___currentState:"set___currentState",set_upState:"set_upState",set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_overState:"set_overState",set_hitTestState:"set_hitTestState",set_downState:"set_downState"})});var p=function(t,e){d.call(this),null!=(this.symbol=e).downState&&this.set_downState(new u(t,e.downState)),null!=e.hitState&&this.set_hitTestState(new u(t,e.hitState)),null!=e.overState&&this.set_overState(new u(t,e.overState)),null!=e.upState&&this.set_upState(new u(t,e.upState))};(i["format.swf.lite.SimpleButton"]=p).__name__=["format","swf","lite","SimpleButton"],p.__super__=d,p.prototype=n(d.prototype,{__stateChange:function(t,e){switch(t){case"down":"overup"==e&&null!=this.symbol.onUpSound&&u._processSoundCommandCallback(this.symbol.onUpSound);break;case"idle":"overup"==e&&null!=this.symbol.onOverSound&&u._processSoundCommandCallback(this.symbol.onOverSound);break;case"overup":switch(e){case"down":null!=this.symbol.onDownSound&&u._processSoundCommandCallback(this.symbol.onDownSound);break;case"idle":null!=this.symbol.onIdleSound&&u._processSoundCommandCallback(this.symbol.onIdleSound)}}},__class__:p});var m=function(t,e){p.call(this,t,e)};(i.ButtonBase=m).__name__=["ButtonBase"],m.__onKey=function(){for(var t=0,e=m.keyCallbackTable;t<e.length;){var i=e[t];++t,ot.getCode()==i.code&&i.f()}},m.__getCode=function(t){switch(t){case"Enter":return 13;case"Space":return 32;default:return $.cca(t,0)}},m.__super__=p,m.prototype=n(p.prototype,{get__root:function(){return g.instance},gotoAndPlay:function(t){dr.__cast(this.parent,u).gotoAndPlay(t)},gotoAndStop:function(t){dr.__cast(this.parent,u).gotoAndStop(t)},nextFrame:function(){dr.__cast(this.parent,u).nextFrame()},prevFrame:function(){dr.__cast(this.parent,u).prevFrame()},play:function(){dr.__cast(this.parent,u).play()},getUrl:function(t,e){Po.getURL(new nu(t),e)},resolve:function(t){return dr.__cast(this.parent,u).resolve(t)},getTimer:function(){return Date.now()},get__visible:function(){return this.__visible},set__visible:function(t){return this.set_visible(t)},get__xscale:function(){return 100*this.get_scaleX()},set__xscale:function(t){return this.set_scaleX(t/100),t},get__yscale:function(){return 100*this.get_scaleY()},set__yscale:function(t){return this.set_scaleY(t/100),t},getDepth:function(){return dr.__cast(this.parent,u).__SWFDepthData.h[this.__id__]},swapDepths:function(t){var e,i=null,n=dr.__cast(this.parent,u);if("number"==typeof t&&(0|t)===t||"number"==typeof t){e=16383+(0|t);for(var s=0,r=n.__children._length;s<r;){var a=s++,o=n.__SWFDepthData,l=n.getChildAt(a);if(o.h[l.__id__]==e){i=this.getChildAt(a);break}}}else{if(!dr.__instanceof(t,Y))throw new fr("Trying to swap depths with unknown type.. "+Pi.getClassName(t));i=t,e=n.__SWFDepthData.h[t.__id__]}var h=this.getDepth();null!=i&&(n.removeChild(i),n.__addChildAtSwfDepth(i,h)),n.removeChild(this),n.__addChildAtSwfDepth(this,e),n.__maskDataDirty=!0},get__parent:function(){return this.parent},startDrag:function(){},stopDrag:function(){this.stage.__stopDrag(null)},addKeyPressListener:function(t,e){m.keyCallbackTable.push({code:m.__getCode(t),f:e}),m.inserted||(ot.addKeyDownListener(m.__onKey),m.inserted=!0)},removeKeyPressListener:function(t,e){for(var i=m.__getCode(t),n=0,s=m.keyCallbackTable.length;n<s;){var r=n++,a=m.keyCallbackTable[r];if(a.code==i&&Dt.compareMethods(a.f,e)){m.keyCallbackTable[r]=m.keyCallbackTable[m.keyCallbackTable.length-1],m.keyCallbackTable.pop();break}}},__class__:m,__properties__:n(p.prototype.__properties__,{get__parent:"get__parent",set__yscale:"set__yscale",get__yscale:"get__yscale",set__xscale:"set__xscale",get__xscale:"get__xscale",set__visible:"set__visible",get__visible:"get__visible",get__root:"get__root"})});var b=function(){};(i.CBack=b).__name__=["CBack"],b.prototype={init:function(t,e,i){this.mc1=t,this.mc2=e,this.scaleFactor=i},process:function(t){t=Math.abs(Math.round(t)/this.scaleFactor)%this.mc1.get_width(),this.mc1.set_x(-t),this.mc2.set_x(this.mc1.__transform.tx+this.mc1.get_width()-1)},__class__:b};var y=function(t,e,i,n,s,r,a,o,l,h,_,u,c,f,d,p,g,m,v,b,y,w,x,T,S,E,I,C,P,A,D,R){this.controlAccPercBase=t,this.controlAccPercMult=e,this.koeffStability=i,this.bodyLibName=n,this.bodyDepth=s,this.backWheelLibName=r,this.backWheelDepth=a,this.backWheelKoeffSlip=o,this.backWheelKoeffConcatenation=l,this.backWheelKoeffSpring=h,this.backWheelPMass=_,this.backWheelPMaxSpeed=u,this.backWheelPRadius=c,this.backWheelPAcc=f,this.forwardWheelLibName=d,this.forwardWheelDepth=p,this.forwardWheelKoeffSlip=g,this.forwardWheelKoeffConcatenation=m,this.forwardWheelKoeffSpring=v,this.forwardWheelPMass=b,this.forwardWheelPMaxSpeed=y,this.forwardWheelPRadius=w,this.forwardWheelPAcc=x,this.pLD_mass=T,this.pRD_mass=S,this.pC_mass=E,this.triangleSprings=I,this.downSpringParams=C,this.upSpringParams=P,this.diagonalSpringParams=A,this.rightSpringParams=D,this.leftSpringParams=R};(i.CBikeParams=y).__name__=["CBikeParams"],y.prototype={__class__:y};var w=function(){};(i.CCamera=w).__name__=["CCamera"],w.prototype={init:function(t,e){this.targetMovie=t,this.levelMovie=e,this.process()},process:function(){var t=new xe(this.targetMovie.__transform.tx+40,this.targetMovie.__transform.ty);t=this.targetMovie.parent.localToGlobal(t),t=this.levelMovie.parent.globalToLocal(t),this.levelMovie.set_x(this.levelMovie.__transform.tx+(w.SCREEN_WIDTH2-t.x)),this.levelMovie.set_y(this.levelMovie.__transform.ty+(w.SCREEN_HEIGHT2-t.y)),this.levelMovie.set_x(Math.round(this.levelMovie.__transform.tx)),this.levelMovie.set_y(Math.round(this.levelMovie.__transform.ty)),0<this.levelMovie.__transform.tx?this.levelMovie.set_x(0):this.levelMovie.__transform.tx+this.levelMovie.get_width()<w.SCREEN_WIDTH&&this.levelMovie.set_x(w.SCREEN_WIDTH-this.levelMovie.get_width()),this.levelMovie.__transform.ty<0&&this.levelMovie.set_y(0)},__class__:w};var x=function(){};(i.IConstraint=x).__name__=["IConstraint"],x.prototype={__class__:x};var T=function(t,e,i,n){this.p1=t,this.p2=e,this.koeffStiffPress=i,this.koeffStiffStretch=n;var s=new k(this.p1.pos.x-this.p2.pos.x,this.p1.pos.y-this.p2.pos.y);this.relaxLen=s.modul(),this.basicParticleNum=T.BASIC_PARTICLE_NONE,this.basicParticleWeight=1};(i.CSpringConstraint=T).__name__=["CSpringConstraint"],T.__interfaces__=[x],T.prototype={setBasicParticleNum:function(t){this.basicParticleNum=t},setBasicParticleWeight:function(t){this.basicParticleWeight=t},resolve:function(){var t=new k(this.p1.pos.x-this.p2.pos.x,this.p1.pos.y-this.p2.pos.y),e=t.modul(),i=(e-this.relaxLen)/e,n=null;n=e>this.relaxLen?this.koeffStiffStretch:this.koeffStiffPress;var s=null;this.basicParticleNum==T.BASIC_PARTICLE_NONE?(s=i*n/(this.p1.mass+this.p2.mass),this.p1.pos.x-=t.x*this.p1.mass*s,this.p1.pos.y-=t.y*this.p1.mass*s,this.p2.pos.x+=t.x*this.p2.mass*s,this.p2.pos.y+=t.y*this.p2.mass*s):1==this.basicParticleNum?(s=i*n,this.p1.pos.x-=t.x*s*(1-this.basicParticleWeight),this.p1.pos.y-=t.y*s*(1-this.basicParticleWeight),this.p2.pos.x+=t.x*s*this.basicParticleWeight,this.p2.pos.y+=t.y*s*this.basicParticleWeight):(s=i*n,this.p1.pos.x+=t.x*s*this.basicParticleWeight,this.p1.pos.y+=t.y*s*this.basicParticleWeight,this.p2.pos.x+=t.x*s*(1-this.basicParticleWeight),this.p2.pos.y+=t.y*s*(1-this.basicParticleWeight))},__class__:T};var S=function(t,e,i,n){this.koeffStretch=t,this.koeffPress=e,this.basicParticleNum=i,this.basicParticleWeight=n};(i.CSpringParams=S).__name__=["CSpringParams"],S.prototype={__class__:S};var E=function(){this.koeffSpring=.5};(i.CCarSynchronizer=E).__name__=["CCarSynchronizer"],E.prototype={setHealthIndicator:function(t){this.healthIndicator=t,this.healthIndicator.setMaxValue(E.MAX_HEALTH)},setBikeNum:function(t){this.bikeNum=t},init:function(t,e,i,n,s){var r={x:0,y:0},a=null,o=null,l=s.backWheelDepth,h=g.swfLite.createMovieClip(s.backWheelLibName);h.set_name("back_w"),t.addChildAtSwfDepthExternal(h,l),t.back_w=h,this.mc_back_wheel=dr.__cast(h,N);var _=s.forwardWheelDepth,u=g.swfLite.createMovieClip(s.forwardWheelLibName);u.set_name("forward_w"),t.addChildAtSwfDepthExternal(u,_),t.forward_w=u,this.mc_forward_wheel=dr.__cast(u,N);var c=s.bodyDepth,f=g.swfLite.createMovieClip(s.bodyLibName);if(f.set_name("body"),t.addChildAtSwfDepthExternal(f,c),t.body=f,this.mc_car=f,s.triangleSprings){var d=g.swfLite.createMovieClip("lib_dark_wheel");d.set_name("wdb1"),t.addChildAtSwfDepthExternal(d,0),t.wdb1=d,this.mc_back_dark=d;var p=g.swfLite.createMovieClip("lib_dark_wheel");p.set_name("wdb2"),t.addChildAtSwfDepthExternal(p,1),t.wdb2=p,this.mc_forward_dark=p}this.mc_car.set_x(e),this.mc_car.set_y(i),r.x=this.mc_car.mc.mc_p_wl.__transform.tx,r.y=this.mc_car.mc.mc_p_wl.__transform.ty,r=this.mc_car.mc.localToGlobal(r),r=this.mc_car.parent.globalToLocalInPlace(r),this.mc_back_wheel.set_x(r.x),this.mc_back_wheel.set_y(r.y),this.mc_back_wheel.setKoeffSlip(s.backWheelKoeffSlip),this.mc_back_wheel.setKoeffConcatenation(s.backWheelKoeffConcatenation),this.mc_back_wheel.setKoeffSpring(s.backWheelKoeffSpring),this.p_wl=new M(r.x,r.y,s.backWheelPMass),n.addParticle(this.p_wl),n.addWheel(this.mc_back_wheel,this.p_wl,s.backWheelPMaxSpeed,s.backWheelPRadius),r.x=this.mc_car.mc.mc_p_wr.__transform.tx,r.y=this.mc_car.mc.mc_p_wr.__transform.ty,r=this.mc_car.mc.localToGlobal(r),r=this.mc_car.parent.globalToLocal(r),this.mc_forward_wheel.set_x(r.x),this.mc_forward_wheel.set_y(r.y),this.mc_forward_wheel.setKoeffSlip(s.forwardWheelKoeffSlip),this.mc_forward_wheel.setKoeffConcatenation(s.forwardWheelKoeffConcatenation),this.mc_forward_wheel.setKoeffSpring(s.forwardWheelKoeffSpring),this.p_wr=new M(r.x,r.y,s.forwardWheelPMass),n.addParticle(this.p_wr),n.addWheel(this.mc_forward_wheel,this.p_wr,s.forwardWheelPMaxSpeed,s.forwardWheelPRadius),s.triangleSprings?(r.x=this.mc_car.mc.mc_p_c.__transform.tx,r.y=this.mc_car.mc.mc_p_c.__transform.ty,r=this.mc_car.mc.localToGlobal(r),r=this.mc_car.parent.globalToLocal(r),this.p_c=new M(r.x,r.y,s.pC_mass),n.addParticle(this.p_c),a=s.downSpringParams,(o=n.addSpringConstraint(this.p_wr,this.p_wl,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.rightSpringParams,(o=n.addSpringConstraint(this.p_wr,this.p_c,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.leftSpringParams,(o=n.addSpringConstraint(this.p_wl,this.p_c,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),n.addPenetrationConstraint2(this.p_c,this.p_wr,this.p_wl),this.mc_back_dark.set_x(this.mc_back_wheel.__transform.tx+E.DARK_DX),this.mc_back_dark.set_y(this.mc_back_wheel.__transform.ty+E.DARK_DY),this.mc_back_dark.set_rotation(this.mc_back_wheel.mc.mc_rim.__rotation),this.mc_forward_dark.set_x(this.mc_forward_wheel.__transform.tx+E.DARK_DX),this.mc_forward_dark.set_y(this.mc_forward_wheel.__transform.ty+E.DARK_DY),this.mc_forward_dark.set_rotation(this.mc_forward_wheel.mc.mc_rim.__rotation)):(r.x=this.mc_car.mc.mc_p_ld.__transform.tx,r.y=this.mc_car.mc.mc_p_ld.__transform.ty,r=this.mc_car.mc.localToGlobal(r),r=this.mc_car.parent.globalToLocal(r),this.p_ld=new M(r.x,r.y,s.pLD_mass),n.addParticle(this.p_ld),r.x=this.mc_car.mc.mc_p_rd.__transform.tx,r.y=this.mc_car.mc.mc_p_rd.__transform.ty,r=this.mc_car.mc.localToGlobal(r),r=this.mc_car.parent.globalToLocal(r),this.p_rd=new M(r.x,r.y,s.pRD_mass),n.addParticle(this.p_rd),a=s.downSpringParams,(o=n.addSpringConstraint(this.p_wr,this.p_wl,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.upSpringParams,(o=n.addSpringConstraint(this.p_ld,this.p_rd,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.diagonalSpringParams,(o=n.addSpringConstraint(this.p_wr,this.p_ld,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),(o=n.addSpringConstraint(this.p_wl,this.p_rd,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.rightSpringParams,(o=n.addSpringConstraint(this.p_wr,this.p_rd,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),a=s.leftSpringParams,(o=n.addSpringConstraint(this.p_wl,this.p_ld,a.koeffPress,a.koeffStretch)).setBasicParticleNum(a.basicParticleNum),o.setBasicParticleWeight(a.basicParticleWeight),n.addPenetrationConstraint(this.p_wr,this.p_rd,this.p_ld),n.addPenetrationConstraint(this.p_wl,this.p_ld,this.p_rd)),this.state=E.ST_GO},init_atv1:function(t,e,i,n){this.init(t,e,i,n,E.atv1Params)},init_bike1:function(t,e,i,n){this.init(t,e,i,n,E.moto1Params)},init_atv2:function(t,e,i,n){this.init(t,e,i,n,E.atv2Params)},init_bike2:function(t,e,i,n){this.init(t,e,i,n,E.moto2Params)},process:function(){if(this.state==E.ST_GO){if(E.bikeParamsArray[this.bikeNum-1].triangleSprings){var t=null,e=null,i=null;(t=new k(this.p_wr.pos.x-this.p_c.pos.x,this.p_wr.pos.y-this.p_c.pos.y)).normalize(),(e=new k(this.p_wl.pos.x-this.p_c.pos.x,this.p_wl.pos.y-this.p_c.pos.y)).normalize(),this.mc_car.set_rotation(180*Math.atan2(t.y+e.y,t.x+e.x)/3.141592653589793-90),i=new k(this.mc_car.mc.mc_p_c.__transform.tx,this.mc_car.mc.mc_p_c.__transform.ty),this.mc_car.mc.localToGlobalInPlace(i),i=this.mc_car.parent.globalToLocalInPlace(i),this.mc_car.set_x(this.mc_car.__transform.tx+(this.p_c.pos.x-i.x)),this.mc_car.set_y(this.mc_car.__transform.ty+(this.p_c.pos.y-i.y))}else{var n;n=new k(this.p_rd.pos.x-this.p_ld.pos.x,this.p_rd.pos.y-this.p_ld.pos.y),this.mc_car.set_rotation(180*Math.atan2(n.y,n.x)/3.141592653589793);var s=new k(this.mc_car.mc.mc_p_ld.__transform.tx,this.mc_car.mc.mc_p_ld.__transform.ty),r=new k(this.mc_car.mc.mc_p_rd.__transform.tx,this.mc_car.mc.mc_p_rd.__transform.ty);this.mc_car.mc.localToGlobalInPlace(s),s=this.mc_car.parent.globalToLocalInPlace(s),this.mc_car.mc.localToGlobalInPlace(r),r=this.mc_car.parent.globalToLocalInPlace(r),this.mc_car.set_x(this.mc_car.__transform.tx+(this.p_ld.pos.x-s.x+this.p_rd.pos.x-r.x)/2),this.mc_car.set_y(this.mc_car.__transform.ty+(this.p_ld.pos.y-s.y+this.p_rd.pos.y-r.y)/2),s.x=this.mc_back_wheel.__transform.tx,s.y=this.mc_back_wheel.__transform.ty,this.mc_back_wheel.parent.localToGlobalInPlace(s),s=this.mc_car.mc.globalToLocalInPlace(s),r.x=this.mc_forward_wheel.__transform.tx,r.y=this.mc_forward_wheel.__transform.ty,this.mc_forward_wheel.parent.localToGlobalInPlace(r),r=this.mc_car.mc.globalToLocalInPlace(r),null!=this.mc_car.mc.mc_s_ld&&this.mc_car.mc.mc_s_ld.set_rotation(this.mc_car.mc.mc_s_lu.set_rotation(180*Math.atan2(s.y+1.2-this.mc_car.mc.mc_s_lu.__transform.ty,s.x-this.mc_car.mc.mc_s_lu.__transform.tx)/3.141592653589793)),null!=this.mc_car.mc.mc_s_rd&&this.mc_car.mc.mc_s_rd.set_rotation(this.mc_car.mc.mc_s_ru.set_rotation(180*Math.atan2(r.y+1.2-this.mc_car.mc.mc_s_ru.__transform.ty,r.x-this.mc_car.mc.mc_s_ru.__transform.tx)/3.141592653589793))}this.checkAddSmoke(),this.bikeNum==E.BIKE_ATV1||this.bikeNum==E.BIKE_ATV2?(this.mc_forward_wheel.mc.mc_rim2.set_rotation(this.mc_forward_wheel.mc.mc_rim.__rotation),this.mc_back_wheel.mc.mc_rim2.set_rotation(this.mc_back_wheel.mc.mc_rim.__rotation),this.mc_back_dark.set_x(this.mc_back_wheel.__transform.tx+E.DARK_DX),this.mc_back_dark.set_y(this.mc_back_wheel.__transform.ty+E.DARK_DY),this.mc_back_dark.set_rotation(this.mc_back_wheel.mc.mc_rim.__rotation),this.mc_forward_dark.set_x(this.mc_forward_wheel.__transform.tx+E.DARK_DX),this.mc_forward_dark.set_y(this.mc_forward_wheel.__transform.ty+E.DARK_DY),this.mc_forward_dark.set_rotation(this.mc_forward_wheel.mc.mc_rim.__rotation)):this.updateBikeSprings()}else this.state,E.ST_CRUSH},updateBikeSprings:function(){var t,e=null,i=null;i=new k(this.mc_car.mc.mc_back_spring.__transform.tx,this.mc_car.mc.mc_back_spring.__transform.ty),this.mc_car.mc.localToGlobalInPlace(i),i=this.mc_car.parent.globalToLocalInPlace(i),e=new k(this.mc_car.mc.mc_back_spring.mc_dir.__transform.tx,this.mc_car.mc.mc_back_spring.mc_dir.__transform.ty),this.mc_car.mc.mc_back_spring.localToGlobalInPlace(e),e=this.mc_car.parent.globalToLocalInPlace(e),t=new k(this.mc_back_wheel.__transform.tx-i.x,this.mc_back_wheel.__transform.ty-i.y),e.x-=i.x,e.y-=i.y,this.mc_car.mc.mc_back_spring.set_rotation(this.mc_car.mc.mc_back_spring.__rotation+180*(Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x))/3.141592653589793)},checkAddSmoke:function(){},toCrush:function(t){var e=new k(0,0);this.mc_car.gotoAndPlay("crush"),this.mc_car.mc.gotoAndStop(2),t.clearConstraints(),t.stopWheels=!0,e.reinit(this.mc_forward_wheel.__transform.tx-this.mc_car.__transform.tx,this.mc_forward_wheel.__transform.ty-this.mc_car.__transform.ty),e.normalize(),this.mc_forward_wheel.turnTo(e,10),e.reinit(this.mc_back_wheel.__transform.tx-this.mc_car.__transform.tx,this.mc_back_wheel.__transform.ty-this.mc_car.__transform.ty),e.normalize(),this.mc_back_wheel.turnTo(e,10),this.state=E.ST_CRUSH},isCrushed:function(){return this.state==E.ST_CRUSH},isFullCrushed:function(){return!1},checkHitWithGround:function(t){var e={x:0,y:0},i=null;return i=dr.__cast(this.mc_car.mc.mc_man,R).mc.h,e.x=i.mc_hit.__transform.tx,e.y=i.mc_hit.__transform.ty,i.localToGlobalInPlace(e),!!t.hitTestPoint(e.x,e.y,!0)||(i=dr.__cast(this.mc_car.mc.mc_man,R).mc.b,e.x=i.mc_hit.__transform.tx,e.y=i.mc_hit.__transform.ty,i.localToGlobalInPlace(e),!!t.hitTestPoint(e.x,e.y,!0)||(i=dr.__cast(this.mc_car.mc.mc_man,R).mc.l,e.x=i.mc_hit.__transform.tx,e.y=i.mc_hit.__transform.ty,i.localToGlobalInPlace(e),!!t.hitTestPoint(e.x,e.y,!0)))},stopManAnim:function(){dr.__cast(this.mc_car.mc.mc_man,R).stopAnim()},startManAnim:function(){dr.__cast(this.mc_car.mc.mc_man,R).startAnim()},stopManAnimFull:function(){dr.__cast(this.mc_car.mc.mc_man,R).stopAnim(),dr.__cast(this.mc_car.mc.mc_man,R).stopMCAnim()},toLeft:function(){var t,e,i,n=null,s=this.calcCarNVector();t=(i=E.bikeParamsArray[this.bikeNum-1]).controlAccPercBase,e=i.controlAccPercMult,n=Math.abs(s.y)*(1-t)+t,n*=e,s.y>i.koeffStability&&(this.mc_forward_wheel.addedAcc.x-=s.x*F.gravity*n*.7,this.mc_forward_wheel.addedAcc.y-=s.y*F.gravity*n*.7,this.mc_back_wheel.hasIntersection()||(this.mc_back_wheel.addedAcc.x+=s.x*F.gravity*n*1.3,this.mc_back_wheel.addedAcc.y+=s.y*F.gravity*n*1.3))},toRight:function(){var t,e,i,n=null,s=this.calcCarNVector();t=(i=E.bikeParamsArray[this.bikeNum-1]).controlAccPercBase,e=i.controlAccPercMult,n=Math.abs(s.y)*(1-t)+t,n*=e,s.y>i.koeffStability&&(this.mc_forward_wheel.hasIntersection()||(this.mc_forward_wheel.addedAcc.x+=s.x*F.gravity*n*1.3,this.mc_forward_wheel.addedAcc.y+=s.y*F.gravity*n*1.3),this.mc_back_wheel.addedAcc.x-=s.x*F.gravity*n*.7,this.mc_back_wheel.addedAcc.y-=s.y*F.gravity*n*.7)},calcCarNVector:function(){var t=null;(t=this.mc_forward_wheel.particle.pos.minusNew(this.mc_back_wheel.particle.pos)).normalize();var e;return e=t.x,t.x=-t.y,t.y=e,t},__class__:E};var I=function(){};(i.CGP=I).__name__=["CGP"],I.carSync=null,I.mc_root=null,I.mc_level=null,I.mc_panel=null,I.mc_progressInd=null,I.uid=null,I.objectsCounter=null,I.crumpleCount=null,I.curLevelTask=null,I.curLevelTaskTime=null,I.curLevelTaskValue=null,I.curLevelDistance=null,I.crushCount=null,I.greenBonusesCount=null,I.redBonusesCount=null,I.firstFinishTruck=null,I.createSounds=function(){},I.playSound=function(t,e){},I.processSounds=function(){},I.resetSounds=function(){},I.realPlaySound=function(t){throw new fr("")},I.init=function(){I.uid=0,I.objectsCounter=0,I.createSounds()},I.getUID=function(){return I.uid=I.uid+1,I.uid},I.setLevelTasks=function(){null!=I.levelTasks[g.instance.level-1]&&(I.curLevelTask=I.levelTasks[g.instance.level-1][I.IDX_TASK],I.curLevelTaskTime=I.levelTasks[g.instance.level-1][I.IDX_TASK_TIME],I.curLevelTaskValue=I.levelTasks[g.instance.level-1][I.IDX_TASK_VALUE]),I.curLevelDistance=I.mc_level.mc.mc_finish.__transform.tx-I.mc_level.mc.mc_start.__transform.tx,I.crumpleCount=I.crushCount=0,I.greenBonusesCount=I.redBonusesCount=0,I.firstFinishTruck=I.FIRST_NONE},I.updateLevelProgress=function(){switch(I.curLevelTask){case 1:case 2:break;case 3:null!=I.mc_panel&&(dr.__cast(I.mc_panel.txtCars,$e).set_text(I.crushCount+"/"+I.curLevelTaskValue),I.crushCount<I.curLevelTaskValue?dr.__cast(I.mc_panel.txtCars,$e).set_textColor(16777215):dr.__cast(I.mc_panel.txtCars,$e).set_textColor(65280));break;case 4:null!=I.mc_panel&&(dr.__cast(I.mc_panel.txtBonuses,$e).set_text(I.greenBonusesCount-I.redBonusesCount+"/"+I.curLevelTaskValue),I.greenBonusesCount-I.redBonusesCount<I.curLevelTaskValue?dr.__cast(I.mc_panel.txtBonuses,$e).set_textColor(16777215):dr.__cast(I.mc_panel.txtBonuses,$e).set_textColor(65280))}},I.isHitWithCar=function(t){var e=null;return!(Math.abs(I.carSync.mc_car.__transform.tx-t._x)>I.CAR_HIT_RADIUS)&&(e={x:t._x,y:t._y},e=t._parent.localToGlobal(e),I.carSync.mc_car.mc.mc_hit.hitTestPoint(e.x,e.y,!0))},I.prototype={__class__:I};var C=function(){};(i["hxbit.Serializable"]=C).__name__=["hxbit","Serializable"],C.prototype={__class__:C};var X=function(){this.usedClasses=[],null==X.CLIDS&&X.initClassIDS()};(i["hxbit.Serializer"]=X).__name__=["hxbit","Serializer"],X.resetCounters=function(){X.UID=0,X.SEQ=0},X.allocUID=function(){return X.SEQ<<24|++X.UID},X.registerClass=function(t){if(null!=X.CLIDS)throw new fr("Too late to register class");var e=X.CLASSES.length;return X.CLASSES.push(t),e},X.hash=function(t){for(var e=1,i=0,n=t.length;i<n;){var s=i++;e=223*e+t.charCodeAt(s)|0}return e=1+(1073741823&e)%65423},X.initClassIDS=function(){for(var t=X.CLASSES,e=[],i=0;i<t.length;){t[i];++i,e.push([])}for(var n=e,s=[],r=0,a=t.length;r<a;)for(var o=r++,l=t[o];null!=(l=Pi.getSuperClass(l));){var h=t.indexOf(l);if(h<0)break;n[h].push(o),s[o]=!0}for(var _=[],u=0,c=X.CLASSES.length;u<c;){var f,d=u++;if(0!=n[d].length||s[d]){for(var p=Pi.getClassName(t[d]),g=1,m=0,v=p.length;m<v;){var b=m++;g=223*g+p.charCodeAt(b)|0}f=g=1+(1073741823&g)%65423}else f=0;_.push(f)}X.CLIDS=_,X.CL_BYID=[];for(var y=0,w=X.CLIDS.length;y<w;){var x=y++,T=X.CLIDS[x];if(0!=T){if(null!=X.CL_BYID[T])throw new fr("Conflicting CLID between "+Pi.getClassName(X.CL_BYID[T])+" and "+Pi.getClassName(t[x]));X.CL_BYID[T]=t[x]}}},X.isClassFinal=function(t){return 0==X.CLIDS[t]},X.prototype={set_remapIds:function(t){return this.remapObjs=t?new Xs:null,t},get_remapIds:function(){return null!=this.remapObjs},remap:function(t){null==this.remapObjs.h.__keys__[t.__id__]&&(this.remapObjs.set(t,t.__uid),t.__uid=X.SEQ<<24|++X.UID)},begin:function(){this.out=new Ws,this.refs=new Gs},end:function(){var t=this.out.getBytes();return this.out=null,this.refs=null,t},setInput:function(t,e){this.input=t,this.inPos=e,null==this.refs&&(this.refs=new Gs)},serialize:function(t){return this.begin(),this.addKnownRef(t),this.out.getBytes()},unserialize:function(t,e,i){return null==i&&(i=0),this.refs=new Gs,this.setInput(t,i),this.getRef(e,e.__clid)},getByte:function(){return this.input.b[this.inPos++]},addByte:function(t){this.out.b.push(t)},addInt:function(t){0<=t&&t<128?this.out.b.push(t):(this.out.b.push(128),this.out.addInt32(t))},addInt32:function(t){this.out.addInt32(t)},addInt64:function(t){this.out.addInt64(t)},addFloat:function(t){this.out.addInt32(js.floatToI32(t))},addDouble:function(t){this.out.addInt64(js.doubleToI64(t))},addBool:function(t){this.out.b.push(t?1:0)},addArray:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=0;n<t.length;){var s=t[n];++n,e(s)}}else this.out.b.push(0)},addVector:function(t,e){if(null!=t){var i=t.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=0;n<t.length;){var s=t[n];++n,e(s)}}else this.out.b.push(0)},getArray:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;for(var n=[],s=0,r=--i;s<r;){n[s++]=t()}return n},getVector:function(t){var e=this.input.b[this.inPos++];128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4);var i=e;if(0==i)return null;--i;for(var n=new Array(i),s=0,r=i;s<r;){n[s++]=t()}return n},addMap:function(t,e,i){if(null!=t){var n=t,s=tt.array({iterator:function(){return n.keys()}}),r=s.length+1;0<=r&&r<128?this.out.b.push(r):(this.out.b.push(128),this.out.addInt32(r));for(var a=0;a<s.length;){var o=s[a];++a,e(o),i(t.get(o))}}else this.out.b.push(0)},getBool:function(){return 0!=this.input.b[this.inPos++]},getInt:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},skip:function(t){this.inPos+=t},getInt32:function(){var t=this.input.getInt32(this.inPos);return this.inPos+=4,t},getInt64:function(){var t=this.input.getInt64(this.inPos);return this.inPos+=8,t},getDouble:function(){var t=this.input.getDouble(this.inPos);return this.inPos+=8,t},getFloat:function(){var t=this.input.getFloat(this.inPos);return this.inPos+=4,t},addString:function(t){if(null==t)this.out.b.push(0);else{var e=ps.ofString(t),i=e.length+1;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));for(var n=this.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}},addBytes:function(t){if(null==t)this.out.b.push(0);else{var e=t.length+1;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e));for(var i=this.out,n=(i.b,t.b),s=0,r=t.length;s<r;){var a=s++;i.b.push(n[a])}}},getString:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.getString(this.inPos,e);return this.inPos+=e,i},getBytes:function(){var t=this.input.b[this.inPos++];128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4);var e=t;if(0==e)return null;--e;var i=this.input.sub(this.inPos,e);return this.inPos+=e,i},getDynamic:function(){var t=this.input.b[this.inPos++];switch(t){case 0:return null;case 1:return!1;case 2:return!0;case 3:var e=this.input.b[this.inPos++];return 128==e&&(e=this.input.getInt32(this.inPos),this.inPos+=4),e;case 4:var i=this.input.getFloat(this.inPos);return this.inPos+=4,i;case 5:var n={},s=0,r=this.input.b[this.inPos++];128==r&&(r=this.input.getInt32(this.inPos),this.inPos+=4);for(var a=r;s<a;){s++;var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var l,h=o;if(0==h)l=null;else{--h;var _=this.input.getString(this.inPos,h);this.inPos+=h,l=_}n[l]=this.getDynamic()}return n;case 6:var u=this.input.b[this.inPos++];128==u&&(u=this.input.getInt32(this.inPos),this.inPos+=4);var c=u;if(0==c)return null;--c;var f=this.input.getString(this.inPos,c);return this.inPos+=c,f;case 7:var d=[],p=0,g=this.input.b[this.inPos++];128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4);for(var m=g;p<m;){p++;d.push(this.getDynamic())}return d;case 8:var v=this.input.b[this.inPos++];128==v&&(v=this.input.getInt32(this.inPos),this.inPos+=4);var b=v;if(0==b)return null;--b;var y=this.input.sub(this.inPos,b);return this.inPos+=b,y;default:throw new fr("Invalid dynamic prefix "+t)}},addDynamic:function(t){if(null!=t){var e=Pi.typeof(t);switch(e[1]){case 1:this.out.b.push(3);var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 2:this.out.b.push(4),this.out.addInt32(js.floatToI32(t));break;case 3:this.out.b.push(t?2:1);break;case 4:var n=Dt.fields(t);this.out.b.push(5);var s=n.length;0<=s&&s<128?this.out.b.push(s):(this.out.b.push(128),this.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];if(++r,null==a)this.out.b.push(0);else{var o=ps.ofString(a),l=o.length+1;0<=l&&l<128?this.out.b.push(l):(this.out.b.push(128),this.out.addInt32(l));for(var h=this.out,_=(h.b,o.b),u=0,c=o.length;u<c;){var f=u++;h.b.push(_[f])}}this.addDynamic(Dt.field(t,a))}break;case 6:var d=e[2];switch(d){case Array:this.out.b.push(7);var p=t,g=p.length;0<=g&&g<128?this.out.b.push(g):(this.out.b.push(128),this.out.addInt32(g));for(var m=0;m<p.length;){var v=p[m];++m,this.addDynamic(v)}break;case String:this.out.b.push(6);var b=t;if(null==b)this.out.b.push(0);else{var y=ps.ofString(b),w=y.length+1;0<=w&&w<128?this.out.b.push(w):(this.out.b.push(128),this.out.addInt32(w));for(var x=this.out,T=(x.b,y.b),S=0,E=y.length;S<E;){var I=S++;x.b.push(T[I])}}break;case ps:this.out.b.push(8);var C=t;if(null==C)this.out.b.push(0);else{var P=C.length+1;0<=P&&P<128?this.out.b.push(P):(this.out.b.push(128),this.out.addInt32(P));for(var A=this.out,D=(A.b,C.b),R=0,M=C.length;R<M;){var F=R++;A.b.push(D[F])}}break;default:throw new fr("Unsupported dynamic "+Q.string(d))}break;default:var B=e;throw new fr("Unsupported dynamic "+Q.string(B))}}else this.out.b.push(0)},addCLID:function(t){this.out.b.push(t>>8),this.out.b.push(255&t)},getCLID:function(){return this.input.b[this.inPos++]<<8|this.input.b[this.inPos++]},addObjRef:function(t){var e=t.__uid;0<=e&&e<128?this.out.b.push(e):(this.out.b.push(128),this.out.addInt32(e))},getObjRef:function(){var t=this.input.b[this.inPos++];return 128==t&&(t=this.input.getInt32(this.inPos),this.inPos+=4),t},addAnyRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0,this.out.b.push(e>>8),this.out.b.push(255&e),t.serialize(this)}}else this.out.b.push(0)},addKnownRef:function(t){if(null!=t){if(null!=this.remapObjs&&this.remap(t),this.addObjRef(t),null==this.refs.h[t.__uid]){var e=(this.refs.h[t.__uid]=t).getCLID();this.usedClasses[e]=!0;var i=X.CLIDS[e];0!=i&&(this.out.b.push(i>>8),this.out.b.push(255&i)),t.serialize(this)}}else this.out.b.push(0)},getAnyRef:function(){var t=this.getObjRef();if(0==t)return null;if(null!=this.refs.h[t])return this.refs.h[t];var e=16777215&t;X.UID<e&&(X.UID=e);var i=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];null!=this.mapIndexes&&(i=this.mapIndexes[i]);var n=Pi.createEmptyInstance(X.CLASSES[i]);return null!=this.newObjects&&this.newObjects.push(n),n.__uid=t,n.unserializeInit(),this.refs.h[t]=n,null!=this.convert&&null!=this.convert[i]?this.convertRef(n,this.convert[i]):n.unserialize(this),n},getRef:function(t,e){var i=this.getObjRef();if(0==i)return null;if(null!=this.refs.h[i])return this.refs.h[i];var n=16777215&i;if(X.UID<n&&(X.UID=n),0!=X.CLIDS[e]){var s=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++];t=X.CL_BYID[s],null!=this.convert&&(e=t.__clid)}var r=Pi.createEmptyInstance(t);return null!=this.newObjects&&this.newObjects.push(r),r.__uid=i,r.unserializeInit(),this.refs.h[i]=r,null!=this.convert&&null!=this.convert[e]?this.convertRef(r,this.convert[e]):r.unserialize(this),r},getKnownRef:function(t){return this.getRef(t,t.__clid)},beginSave:function(){this.begin(),this.usedClasses=[]},endSave:function(){var t=this.end();this.begin();for(var e=[],i=[],n=X.CLASSES.indexOf(lr),s=0,r=this.usedClasses.length;s<r;){var a=s++;if(this.usedClasses[a]&&a!=n){var o=X.CLASSES[a],l=Pi.createEmptyInstance(o).getSerializeSchema();i.push(l),e.push(a),this.addKnownRef(l),this.refs.remove(l.__uid)}}var h=this.end();this.begin();var _=ps.ofString("HXS"),u=_.length+1;0<=u&&u<128?this.out.b.push(u):(this.out.b.push(128),this.out.addInt32(u));for(var c=this.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}this.out.b.push(1);for(var m=0,v=e.length;m<v;){var b=m++,y=e[b],w=Pi.getClassName(X.CLASSES[y]);if(null==w)this.out.b.push(0);else{var x=ps.ofString(w),T=x.length+1;0<=T&&T<128?this.out.b.push(T):(this.out.b.push(128),this.out.addInt32(T));for(var S=this.out,E=(S.b,x.b),I=0,C=x.length;I<C;){var P=I++;S.b.push(E[P])}}this.out.b.push(y>>8),this.out.b.push(255&y);var A=i[b].get_checkSum();this.out.addInt32(A)}this.out.b.push(0);var D=h.length;0<=D&&D<128?this.out.b.push(D):(this.out.b.push(128),this.out.addInt32(D));for(var R=this.out,M=(R.b,h.b),F=0,B=h.length;F<B;){var L=F++;R.b.push(M[L])}for(var k=this.out,N=(k.b,t.b),O=0,U=t.length;O<U;){var G=O++;k.b.push(N[G])}return this.end()},beginLoad:function(t,e){null==e&&(e=0),this.setInput(t,e);for(var i=new zs,n=[],s=[],r=[],a=!1,o=!1,l=0,h=X.CLASSES.length;l<h;){var _=l++,u=Pi.getClassName(X.CLASSES[_]);null!=df[u]?i.setReserved(u,_):i.h[u]=_,s[_]=_}var c=this.input.b[this.inPos++];128==c&&(c=this.input.getInt32(this.inPos),this.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=this.input.getString(this.inPos,d);this.inPos+=d,f=p}if("HXS"!=f)throw new fr("Invalid HXS data");var g=this.input.b[this.inPos++];if(1!=g)throw new fr("Unsupported HXS version "+g);for(;;){var m=this.input.b[this.inPos++];128==m&&(m=this.input.getInt32(this.inPos),this.inPos+=4);var v,b=m;if(0==b)v=null;else{--b;var y=this.input.getString(this.inPos,b);this.inPos+=b,v=y}if(null==v)break;var w=this.input.b[this.inPos++]<<8|this.input.b[this.inPos++],x=this.input.getInt32(this.inPos);this.inPos+=4;var T=x,S=null!=df[v]?i.getReserved(v):i.h[v];if(null==S)throw new fr("Missing class "+v+" found in HXS data");var E=Pi.createEmptyInstance(X.CLASSES[S]).getSerializeSchema();E.get_checkSum()!=T&&(a=!0,n[w]=E),w!=S&&(o=!0,s[w]=S),r.push(w)}var I=this.input.b[this.inPos++];128==I&&(I=this.input.getInt32(this.inPos),this.inPos+=4);var C=I;if(a){this.convert=[];for(var P=0;P<r.length;){var A=r[P];++P;var D=n[A],R=lr,M=this.getRef(R,R.__clid);this.refs.remove(M.__uid),null!=D&&(this.convert[s[A]]=new sr(D,M))}}else this.inPos+=C;o&&(this.mapIndexes=s)},endLoad:function(){this.convert=null,this.mapIndexes=null,this.setInput(null,0)},convertRef:function(t,e){for(var i=e.read.length,n=new Array(i),s=0,r=e.read;s<r.length;){var a=r[s];++s,n[a.index]=this.readValue(a.from)}var o=this.out;this.out=new Ws;for(var l=0,h=e.write;l<h.length;){var _,u=h[l];++l,null==u.from?_=u.defaultValue:(_=n[u.index],u.same||(_=null==_?u.defaultValue:this.convertValue(_,u.from,u.to))),this.writeValue(_,u.to)}var c=this.out.getBytes();this.out=o;var f=this.input,d=this.inPos;this.setInput(c,0),t.unserialize(this),this.setInput(f,d)},isNullable:function(t){switch(t[1]){case 0:case 1:case 2:return!1;default:return!0}},convertValue:function(t,e,i){if(null==t&&this.isNullable(i))return null;if(sr.sameType(e,i))return t;if(9!=e[1]||9!=i[1])throw new fr("Cannot convert "+Q.string(t)+" from "+Q.string(e)+" to "+Q.string(i));for(var n=e[2],s=i[2],r={},a=0;a<s.length;){var o=s[a];++a;for(var l=!1,h=null,_=0;_<n.length;){var u=n[_];if(++_,u.name==o.name){l=!0,h=this.convertValue(Dt.field(t,u.name),u.type,o.type);break}}if(l){if(null==h&&o.opt)continue}else{if(o.opt)continue;h=sr.getDefault(o.type)}r[o.name]=h}return r},readValue:function(t){var e=this;switch(t[1]){case 0:var i=this.input.b[this.inPos++];return 128==i&&(i=this.input.getInt32(this.inPos),this.inPos+=4),i;case 1:var n=this.input.getFloat(this.inPos);return this.inPos+=4,n;case 2:return 0!=this.input.b[this.inPos++];case 3:var s=this.input.b[this.inPos++];128==s&&(s=this.input.getInt32(this.inPos),this.inPos+=4);var r=s;if(0==r)return null;--r;var a=this.input.getString(this.inPos,r);return this.inPos+=r,a;case 4:var o=this.input.b[this.inPos++];128==o&&(o=this.input.getInt32(this.inPos),this.inPos+=4);var l=o;if(0==l)return null;--l;var h=this.input.sub(this.inPos,l);return this.inPos+=l,h;case 5:var _=t[2];return this.getKnownRef(Pi.resolveClass(_));case 6:var u=t[2],c=Pi.resolveClass("hxbit.enumSer."+u.split(".").join("_"));if(null!=c)return c.doUnserialize(this);var f,d=Pi.resolveEnum(u);if(null!=d){var p=$s.getType(d);f=Object.prototype.hasOwnProperty.call(p,"skipSerialize")}else f=!1;if(f){var g=this.input.b[this.inPos++];return 128==g&&(g=this.input.getInt32(this.inPos),this.inPos+=4),null}throw new fr("No enum unserializer found for "+u);case 7:var m=t[3],v=t[2];switch(v[1]){case 0:var b=this.input.b[this.inPos++];128==b&&(b=this.input.getInt32(this.inPos),this.inPos+=4);var y,w=b;if(0==w)y=null;else{for(var x=new Gs;0<--w;){var T=e.readValue(v),S=e.readValue(m);x.h[T]=S}y=x}return y;case 3:var E=this.input.b[this.inPos++];128==E&&(E=this.input.getInt32(this.inPos),this.inPos+=4);var I,C=E;if(0==C)I=null;else{for(var P=new zs;0<--C;){var A=e.readValue(v),D=e.readValue(m);null!=df[A]?P.setReserved(A,D):P.h[A]=D}I=P}return I;default:var R=this.input.b[this.inPos++];128==R&&(R=this.input.getInt32(this.inPos),this.inPos+=4);var M,F=R;if(0==F)M=null;else{for(var B=new Xs;0<--F;){var L=e.readValue(v),k=e.readValue(m);B.set(L,k)}M=B}return M}break;case 8:var N=t[2],O=this.input.b[this.inPos++];128==O&&(O=this.input.getInt32(this.inPos),this.inPos+=4);var U=O;if(0==U)return null;for(var G=[],X=0,V=--U;X<V;){G[X++]=e.readValue(N)}return G;case 9:var z=t[2],H=this.input.b[this.inPos++];128==H&&(H=this.input.getInt32(this.inPos),this.inPos+=4);var W=H;if(0==W)return null;var Y={};--W;for(var K=[],j=0;j<z.length;){var q=z[j];++j,this.isNullable(q.type)&&K.push(q)}for(var J=K,Z=0;Z<z.length;){var Q=z[Z];++Z;var $=J.indexOf(Q);0<=$&&0==(W&1<<$)||(Y[Q.name]=this.readValue(Q.type))}return Y;case 10:var tt=t[2];return this.readValue(tt);case 11:var et=t[2],it=this.input.b[this.inPos++];128==it&&(it=this.input.getInt32(this.inPos),this.inPos+=4);var nt=it;if(0==nt)return null;--nt;for(var st=new Array(nt),rt=0,at=nt;rt<at;){st[rt++]=e.readValue(et)}return st;case 12:var ot=t[2];return 0==this.input.b[this.inPos++]?null:this.readValue(ot);case 13:throw new fr("assert");case 14:return this.getDynamic();case 15:var lt=this.input.getInt64(this.inPos);return this.inPos+=8,lt;case 16:var ht=this.input.b[this.inPos++];return 128==ht&&(ht=this.input.getInt32(this.inPos),this.inPos+=4),ht}},writeValue:function(t,e){switch(e[1]){case 0:var i=t;0<=i&&i<128?this.out.b.push(i):(this.out.b.push(128),this.out.addInt32(i));break;case 1:this.out.addInt32(js.floatToI32(t));break;case 2:this.out.b.push(t?1:0);break;case 3:var n=t;if(null==n)this.out.b.push(0);else{var s=ps.ofString(n),r=s.length+1;0<=r&&r<128?this.out.b.push(r):(this.out.b.push(128),this.out.addInt32(r));for(var a=this.out,o=(a.b,s.b),l=0,h=s.length;l<h;){var _=l++;a.b.push(o[_])}}break;case 4:var u=t;if(null==u)this.out.b.push(0);else{var c=u.length+1;0<=c&&c<128?this.out.b.push(c):(this.out.b.push(128),this.out.addInt32(c));for(var f=this.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 5:this.addKnownRef(t);break;case 6:var v=e[2],b="hxbit.enumSer."+v.split(".").join("_");if(null==b)throw new fr("No enum unserializer found for "+v);Pi.resolveClass(b).doSerialize(this,t);break;case 7:var y=e[3],w=e[2],x=t;if(null==x)this.out.b.push(0);else{var T=x,S=tt.array({iterator:function(){return T.keys()}}),E=S.length+1;0<=E&&E<128?this.out.b.push(E):(this.out.b.push(128),this.out.addInt32(E));for(var I=0;I<S.length;){var C=S[I];++I,this.writeValue(C,w),this.writeValue(x.get(C),y)}}break;case 8:var P=e[2],A=t;if(null==A)this.out.b.push(0);else{var D=A.length+1;0<=D&&D<128?this.out.b.push(D):(this.out.b.push(128),this.out.addInt32(D));for(var R=0;R<A.length;){var M=A[R];++R,this.writeValue(M,P)}}break;case 9:var F=e[2];if(null==t)this.out.b.push(0);else{for(var B=0,L=[],k=0;k<F.length;){var N=F[k];++k,this.isNullable(N.type)&&L.push(N)}for(var O=L,U=0,G=O.length;U<G;){var X=U++;null!=Dt.field(t,O[X].name)&&(B|=1<<X)}var V=B+1;0<=V&&V<128?this.out.b.push(V):(this.out.b.push(128),this.out.addInt32(V));for(var z=0;z<F.length;){var H=F[z];++z;var W=O.indexOf(H);H.name;0<=W&&0==(B&1<<W)||this.writeValue(Dt.field(t,H.name),H.type)}}break;case 10:var Y=e[2];this.writeValue(t,Y);break;case 11:var K=e[2],j=t;if(null==j)this.out.b.push(0);else{var q=j.length+1;0<=q&&q<128?this.out.b.push(q):(this.out.b.push(128),this.out.addInt32(q));for(var J=0;J<j.length;){var Z=j[J];++J,this.writeValue(Z,K)}}break;case 12:var Q=e[2];null==t?this.out.b.push(0):(this.out.b.push(1),this.writeValue(t,Q));break;case 13:throw new fr("assert");case 14:this.addDynamic(t);break;case 15:this.out.addInt64(t);break;case 16:var $=t;0<=$&&$<128?this.out.b.push($):(this.out.b.push(128),this.out.addInt32($))}},__class__:X,__properties__:{set_remapIds:"set_remapIds",get_remapIds:"get_remapIds"}};var P=function(t,e,i){null==i&&(i=-1),this.mCapacity=16,this.size=0,this.mFactory=t,this.mDispose=null==e?function(t){}:e,this.maxSize=i;var n=this.mCapacity,s=new lt,r=new Array(n);s.data=r,s.length=n,s.fixed=!1,this.mPool=s};(i["openfl.ObjectPool"]=P).__name__=["openfl","ObjectPool"],P.prototype={preallocate:function(t){if(0!=this.size)throw new fr("Can't preallocate when size is already set");this.size=this.mCapacity=t;var e=this.size,i=new lt,n=new Array(e);i.data=n,i.length=e,i.fixed=!1,this.mPool=i;for(var s=0,r=t;s<r;){var a=s++,o=this.mPool,l=this.mFactory();if(!o.fixed&&(a>=o.length&&(o.length=a+1),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);Hs.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[a]=l}},free:function(){for(var t=0,e=this.mCapacity;t<e;){var i=t++;this.mDispose(this.mPool.data[i])}this.mPool=null,this.mFactory=null,this.mDispose=null},get:function(){return 0<this.size?this.mPool.data[--this.size]:this.mFactory()},put:function(t){if(this.size==this.maxSize)this.mDispose(t);else{this.size==this.mCapacity&&this.resize();var e=this.mPool,i=this.size++;if(!e.fixed&&(i>=e.length&&(e.length=i+1),e.data.length<e.length)){var n=e.data.length+10,s=new Array(n);Hs.blit(e.data,0,s,0,e.data.length),e.data=s}e.data[i]=t}},iterator:function(){var t=0,e=this.size,i=this.mPool;return{hasNext:function(){return t<e},next:function(){return t+=1,i.data[t-1]}}},resize:function(){var t=this.mCapacity+.5*this.mCapacity|0,e=this.mPool;if(!e.fixed){if(t>e.length){var i=new Array(t);Hs.blit(e.data,0,i,0,0|Math.min(e.data.length,t)),e.data=i}e.length=t}this.mCapacity=t},__class__:P};var lt=function(){this.length=0};(i["openfl.VectorData"]=lt).__name__=["openfl","VectorData"],lt.prototype={__class__:lt};var xe=function(t,e){null==e&&(e=0),null==t&&(t=0),this.__uid=X.SEQ<<24|++X.UID,this.x=t,this.y=e};(i["openfl.geom.Point"]=xe).__name__=["openfl","geom","Point"],xe.__interfaces__=[C],xe.squareDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},xe.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},xe.interpolate=function(t,e,i){return new xe(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},xe.polar=function(t,e){return new xe(t*Math.cos(e),t*Math.sin(e))},xe.prototype={add:function(t){return new xe(t.x+this.x,t.y+this.y)},clone:function(){return new xe(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new xe(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return new Da(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getCLID:function(){return xe.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.x)),t.out.addInt32(js.floatToI32(this.y))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("x"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(xe.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.x=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.y=i},__class__:xe,__properties__:{get_length:"get_length"}};var A=function(t,e){this.scale=.25,this.basey=0,this.basex=0,h.call(this,t,e)};(i.CHit=A).__name__=["CHit"],A.__super__=h,A.prototype=n(h.prototype,{cacheHitMap:function(){if(null==this.hitmap){var t=new H_;this.__getBounds(t);for(var e=nl.glMaxTextureSize;t.width*this.scale>e||t.height*this.scale>e;)this.scale*=.5;this.hitmap=new Bl(t.width*this.scale|0,t.height*this.scale|0,!0,0);var i=new Co;i.identity(),i.tx=-t.x,i.ty=-t.y,this.basex=-t.x,this.basey=-t.y,i.scale(this.scale,this.scale),this.hitmap.draw(this,i,null,null,null,!1,!0),this.h_width=0|this.hitmap.width,this.h_height=0|this.hitmap.height}},hitTestPoint:function(t,e,i){if(null==i&&(i=!1),null==this.hitmap)return!1;var n=this.hitmap.get_image().buffer.data,s=A.__localPoint;if(s.x=t,s.y=e,this.globalToLocalInPlace(s),s.x+=this.basex,s.y+=this.basey,s.x*=this.scale,s.y*=this.scale,0<=s.x&&s.x<this.h_width&&0<=s.y&&s.y<this.h_height){var r=s.x+(0|s.y)*this.h_width|0;if(0!=n[4*r]+n[4*r+1]+n[4*r+2]+n[4*r+3])return!0}for(var a=0,o=this.__children;a<o._length;){var l=a>=o._length?null:o._items[a];if(++a,l.__hit&&l.hitTestPoint(t,e,i))return!0}return!1},__class__:A});var D=function(t,e){h.call(this,t,e),this.maxValue=100,this.curValue=this.maxValue};(i.CIndicator=D).__name__=["CIndicator"],D.updateViewFor=function(t,e,i){t.mc_mask._x=(-1-e/i)*t.mc_mask._width},D.__super__=h,D.prototype=n(h.prototype,{setMaxValue:function(t){this.maxValue=t},getMaxValue:function(){return this.maxValue},setValue:function(t){this.curValue=t,this.validateCurValue(),this.updateView()},addValue:function(t){this.curValue+=t,this.validateCurValue(),this.updateView()},getValue:function(){return this.curValue},setPercent:function(t){this.curValue=t*this.maxValue/100,this.updateView()},getPercent:function(){return 100*this.curValue/this.maxValue},isEmpty:function(){return this.curValue<=0},isFull:function(){return this.curValue>=this.maxValue},updateView:function(){this.mc_mask.set_x((-1-this.curValue/this.maxValue)*this.mc_mask.get_width())},validateCurValue:function(){this.curValue>this.maxValue?this.curValue=this.maxValue:this.curValue<0&&(this.curValue=0)},__class__:D});var R=function(t,e){h.call(this,t,e),this.stopFlag=!1,this.state=0;var i=of(this,this._onEnterFrame);null!=this.__onEnterFrame&&(this.removeEventListener("enterFrame",this.__onEnterFrame),this.__onEnterFrame=null),null!=i&&(this.__onEnterFrame=i,this.addEventListener("enterFrame",i))};(i.CMan=R).__name__=["CMan"],R.__super__=h,R.prototype=n(h.prototype,{stopAnim:function(){this.stopFlag=!0},stopMCAnim:function(){this.mc.stop()},startAnim:function(){this.stopFlag=!1},_onEnterFrame:function(){this.stopFlag||(ot.isDown(R.LEFT_BUTTON)?this.toLeft():ot.isDown(R.RIGHT_BUTTON)?this.toRight():1==this.state||2==this.state?this.fromLeft():4!=this.state&&5!=this.state||this.fromRight())},toLeft:function(){var t=null;0==this.state?(this.state=1,this.gotoAndStop("toLeft"),this.state=1):3==this.state?(t=this.mc.get_currentFrame(),this.gotoAndStop("toLeft"),this.mc.gotoAndPlay(R.ANIM_FRAMES-t+1),this.state=1):4!=this.state&&5!=this.state||(this.fromRight(),this.state=6)},toRight:function(){var t=null;0==this.state?(this.state=1,this.gotoAndStop("toRight"),this.state=4):6==this.state?(t=this.mc.get_currentFrame(),this.gotoAndStop("toRight"),this.mc.gotoAndPlay(R.ANIM_FRAMES-t+1),this.state=4):1!=this.state&&2!=this.state||(this.fromLeft(),this.state=3)},fromLeft:function(){var t=null;1==this.state?(t=this.mc.get_currentFrame(),this.gotoAndStop("fromLeft"),this.mc.gotoAndPlay(R.ANIM_FRAMES-t+1),this.state=3):2==this.state&&(this.gotoAndStop("fromLeft"),this.state=3)},fromRight:function(){var t=null;4==this.state?(t=this.mc.get_currentFrame(),this.gotoAndStop("fromRight"),this.mc.gotoAndPlay(R.ANIM_FRAMES-t+1),this.state=6):5==this.state&&(this.gotoAndStop("fromRight"),this.state=6)},endMove:function(){1==this.state?(this.gotoAndStop("left"),this.state=2):3==this.state?(this.state=0,this.gotoAndStop("stay")):4==this.state?(this.state=5,this.gotoAndStop("right")):6==this.state&&(this.state=0,this.gotoAndStop("stay"))},__class__:R});var M=function(t,e,i){this.pos=new k(t,e),this.prevPos=this.pos.duplicate(),this.mass=i,this.acc=new k(0,0),this.mc=null};(i.CParticle=M).__name__=["CParticle"],M.prototype={verlet:function(t,e){var i=this.pos.duplicate();this.pos.x+=(this.pos.x-this.prevPos.x)*e+this.acc.x*t,this.pos.y+=(this.pos.y-this.prevPos.y)*e+this.acc.y*t,i.copyTo(this.prevPos),null!=this.mc&&(this.mc.set_x(this.pos.x),this.mc.set_y(this.pos.y))},getVelocityVector:function(){return new k(this.pos.x-this.prevPos.x,this.pos.y-this.prevPos.y)},__class__:M};var F=function(){this.stopWheels=!1,this.maxSteps=2,this.t=.02,this.c_array=[],this.w_array=[],this.p_array=[]};(i.CParticleEngine=F).__name__=["CParticleEngine"],F.prototype={clear:function(){for(;null!=this.p_array.pop(););for(;null!=this.w_array.pop(););for(;null!=this.c_array.pop(););},clearConstraints:function(){for(;null!=this.c_array.pop(););},setHitMovie:function(t){this.hit_mc=t},addParticle:function(t){this.p_array.push(t)},addWheel:function(t,e,i,n){t.init(e,i,n),this.w_array.push(t)},addSpringConstraint:function(t,e,i,n){var s=new T(t,e,i,n);return this.c_array.push(s),s},addPenetrationConstraint:function(t,e,i){var n=new B(t,e,i);return this.c_array.push(n),n},addPenetrationConstraint2:function(t,e,i){var n=new L(t,e,i);return this.c_array.push(n),n},start:function(){var t=Date.now();this.prevTime=t},computeForces:function(){var t=null,e=this.p_array.length;for(t=0;t<e;)this.p_array[t].acc.x=0,this.p_array[t].acc.y=F.gravity*this.p_array[t].mass,++t},clearForces:function(){var t=this.w_array.length,e=null,i=null;for(e=0;e<t;)(i=this.w_array[e]).addedAcc.x=i.addedAcc.y=0,++e},applyManFrictions:function(){var t=this.w_array.length,e=null;for(e=0;e<t;)this.w_array[e].applyAddedAcc(),++e},verlet:function(t){for(var e=0,i=this.p_array.length;e<i;)this.p_array[e].verlet(t,.995),++e;i=this.w_array.length;var n=0;for(this.stopWheels||(ot.isDown(E.BUTTON_DOWN)?n=-.6:ot.isDown(E.BUTTON_UP)&&(n=1)),e=0;e<i;)this.w_array[e].process(t,this.w_array[e].maxAccSpeed*n/3.2,.99),++e},checkCollisions:function(){var t=null,e=this.w_array.length;for(t=0;t<e;)this.w_array[t].checkCollision(this.hit_mc),++t},checkConstraints:function(t){var e=null,i=this.c_array.length;for(e=0;e<i;)this.c_array[e].resolve(),++e},process:function(){var t=Date.now(),e=(t-this.prevTime)/1e3;this.prevTime=t;var i=null,n=Math.min(Math.round(e/this.t),this.maxSteps);for(i=0;i<n;)this.computeForces(),this.applyManFrictions(),this.verlet(this.t),this.checkConstraints(this.t),this.checkCollisions(),this.clearForces(),++i},__class__:F};var B=function(t,e,i){this.p0=t,this.p1=e,this.p2=i,this.sign=this.p0.pos.getDistanceTo(this.p1.pos,this.p2.pos),this.sign<0?this.sign=-1:this.sign=1};(i.CPenetrationConstraint=B).__name__=["CPenetrationConstraint"],B.__interfaces__=[x],B.prototype={resolve:function(){var t,e=null;t=this.p0.pos.getDistanceTo(this.p1.pos,this.p2.pos),this.sign*t<=2&&((e=new k(this.p2.pos.x,this.p2.pos.y)).minus(this.p1.pos),e.normalize(),e.rotate(1.5707963267948966*this.sign),e.mult(Math.abs(t)+1),this.p1.pos.minus(e))},__class__:B};var L=function(t,e,i){this.p0=t,this.p1=e,this.p2=i,this.sign=this.p0.pos.getDistanceTo(this.p1.pos,this.p2.pos),this.sign<0?this.sign=-1:this.sign=1};(i.CPenetrationConstraint2=L).__name__=["CPenetrationConstraint2"],L.__interfaces__=[x],L.prototype={resolve:function(){var t,e=null;t=this.p0.pos.getDistanceTo(this.p1.pos,this.p2.pos),this.sign*t<=2&&((e=new k(this.p2.pos.x,this.p2.pos.y)).minus(this.p1.pos),e.normalize(),e.rotate(1.5707963267948966*this.sign),e.mult(Math.abs(t)+1),this.p0.pos.plus(e))},__class__:L};var k=function(t,e){this.x=t,this.y=e};(i.CVector2D=k).__name__=["CVector2D"],k.prototype={reinit:function(t,e){this.x=t,this.y=e},getUgol:function(){return Math.atan2(this.y,this.x)},duplicate:function(){return new k(this.x,this.y)},copyTo:function(t){t.x=this.x,t.y=this.y},minus:function(t){this.x-=t.x,this.y-=t.y},minusNew:function(t){return new k(this.x-t.x,this.y-t.y)},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);this.x/=t,this.y/=t},reverseNew:function(){return new k(-this.x,-this.y)},scalar:function(t){return this.x*t.x+this.y*t.y},modul:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},reflectFromNormal:function(t){var e=Math.atan2(t.y,t.x);this.rotate(-e),this.x=-this.x,this.rotate(e)},rotate:function(t){var e=this.x,i=this.y;this.x=e*Math.cos(t)-i*Math.sin(t),this.y=e*Math.sin(t)+i*Math.cos(t)},rotateNew:function(t){return new k(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))},mult:function(t){this.x*=t,this.y*=t},multNew:function(t){return new k(this.x*t,this.y*t)},plus:function(t){this.x+=t.x,this.y+=t.y},plusNew:function(t){return new k(this.x+t.x,this.y+t.y)},getDistanceTo:function(t,e){var i=t.y-e.y,n=e.x-t.x,s=t.x*(e.y-t.y)-t.y*(e.x-t.x),r=Math.sqrt(i*i+n*n);return n/=r,s/=r,(i/=r)*this.x+n*this.y+s},toString:function(){return"( "+this.x+", "+this.y+" )"},__class__:k};var N=function(t,e){this.hitCount=16,this.koeffConcatenation=0,this.koeffFriction=.97,this.koeffSlip=.15,this.koeffSpring=.03,this.maxSpeed=180,h.call(this,t,e)};(i.CWheel=N).__name__=["CWheel"],N.__super__=h,N.prototype=n(h.prototype,{init:function(t,e,i){this.particle=t,this.rad=i,this.maxAccSpeed=4*e,this.speed=0,this.accSpeed=0,this.rot=new k(1,0),this.addedAcc=new k(0,0),this.intersectionFlag=!1,this.lastIntersPoint=new k(0,0),this.lastN=new k(0,0);var n=null,s=6.283185307179586/this.hitCount;for(this.hitPointArray=[],this.normalArray=[],this.hitArray=[],this.intersArray=[],n=0;n<this.hitCount;)this.hitPointArray[n]=new k(Math.sin(s*n)*this.rad,-Math.cos(s*n)*this.rad),this.normalArray[n]=this.hitPointArray[n].multNew(-1),this.normalArray[n].normalize(),++n;this.lastYSpeed=0},setKoeffSpring:function(t){this.koeffSpring=t},setKoeffSlip:function(t){this.koeffSlip=t},setKoeffConcatenation:function(t){this.koeffConcatenation=t},hasIntersection:function(){return this.intersectionFlag},process:function(t,e,i){this.accSpeed=Math.max(-this.maxAccSpeed,Math.min(this.maxAccSpeed,this.accSpeed+e*t)),this.speed=Math.max(-this.maxSpeed*t,Math.min(this.speed*i+this.accSpeed,this.maxSpeed*t)),this.rot.rotate(this.speed/this.rad),this.mc.mc_rim.set_rotation(180*Math.atan2(this.rot.y,this.rot.x)/3.141592653589793),this.lastYSpeed=this.particle.pos.y-this.particle.prevPos.y},checkCollision:function(t){var e=null,i=null,n=new k(0,0),s=!1,r=null,a=null,o=null,l=new k(this.particle.prevPos.x,this.particle.prevPos.y),h=new k(0,0),_=new k(0,0),u=null;for(this.set_x(this.particle.pos.x),this.set_y(this.particle.pos.y),e=u=0;e<this.hitCount;)this.hitPointArray[e].copyTo(n),this.localToGlobalInPlace(n),(this.hitArray[e]=t.hitTestPoint(n.x,n.y,!0))&&(s=!0,r=e,++u),++e;if(u==this.hitCount)return this.particle.pos.x=this.particle.prevPos.x+.3*(this.particle.pos.x-this.particle.prevPos.x),this.particle.pos.y=this.particle.prevPos.y+.3*(this.particle.pos.y-this.particle.prevPos.y),this.set_x(this.particle.pos.x),void this.set_y(this.particle.pos.y);if(e=0,s){for(;;)if(++e==this.hitCount&&(e=0),!this.hitArray[e]){for(r=-1,i=0;i<this.hitCount;)++e==this.hitCount&&(e=0),-1==r?this.hitArray[e]&&(r=e,h.plus(this.normalArray[e]),this.normalArray[e].copyTo(_)):this.hitArray[e]?(h.plus(this.normalArray[e]),_.plus(this.normalArray[e])):((a=e-1)<0&&(a=this.hitCount-1),this.intersArray.push({k1:r,k2:a,n:new k(_.x,_.y)}),r=-1),++i;break}var c=new k(0,0);if(0<this.intersArray.length){h.normalize(),this.intersectionFlag&&(h.x+=this.lastN.x,h.y+=this.lastN.y,h.x/=2,h.y/=2);var f=null,d=null;for(o=this.intersArray.length,e=0;e<o;)r=(f=this.intersArray.pop()).k1,a=f.k2,f.n.copyTo(_),this.particle.pos.minusNew(this.particle.prevPos).copyTo(c),h.scalar(c)<0?(d=Math.atan2(h.y,h.x),c.rotate(-d),c.x=-c.x*this.koeffSpring,c.rotate(d),this.pushOut(r,a,_,t),this.particle.prevPos.x=this.particle.pos.x-c.x,this.particle.prevPos.y=this.particle.pos.y-c.y):this.pushOut(r,a,_,t),++e;this.validateRotation(h,l),this.intersectionFlag=!0,this.particle.pos.copyTo(this.lastIntersPoint),h.copyTo(this.lastN)}}else this.intersectionFlag&&(this.validateRotation(this.lastN,l),this.intersectionFlag=!1);this.set_x(this.particle.pos.x),this.set_y(this.particle.pos.y)},pushOut:function(t,e,i,n){if(i.normalize(),t!=e){var s=new k(0,0).getDistanceTo(this.hitPointArray[t],this.hitPointArray[e]);s=this.rad-Math.abs(s),this.particle.pos.plus(i.multNew(s)),this.particle.prevPos.plus(i.multNew(s))}else for(var r=i.multNew(-this.rad),a=new k(0,0),o=0;null!=this.parent;){if(r.copyTo(a),this.localToGlobalInPlace(a),!n.hitTestPoint(a.x,a.y,!0)){--o,this.particle.pos.x-=.03*i.x,this.particle.pos.y-=.03*i.y,this.particle.prevPos.plus(i.multNew(.03*o));break}++o,this.set_x(this.particle.pos.x=this.particle.pos.x+.03*i.x),this.set_y(this.particle.pos.y=this.particle.pos.y+.03*i.y)}this.particle.pos.minus(i.multNew(this.koeffConcatenation)),this.particle.prevPos.minus(i.multNew(this.koeffConcatenation))},validateRotation:function(t,e){!this.intersectionFlag&&.01<Math.abs(this.accSpeed)&&(Math.abs(this.accSpeed)<.02*this.maxAccSpeed/2?this.accSpeed=0:0<this.accSpeed?this.accSpeed=.02*this.maxAccSpeed:this.accSpeed=.02*-this.maxAccSpeed);var i=new k(-t.y,t.x),n=this.particle.pos.minusNew(e),s=Math.atan2(i.y,i.x),r=n.rotateNew(-s);this.speed=r.x+this.accSpeed,r.y=0,r.rotate(s);var a=1-this.koeffSlip;this.particle.pos.x=this.particle.pos.x+i.x*this.accSpeed*a-(1-this.koeffFriction)*r.x,this.particle.pos.y=this.particle.pos.y+i.y*this.accSpeed*a-(1-this.koeffFriction)*r.y,this.accSpeed*=this.koeffSlip},applyAddedAcc:function(){this.particle.acc.x+=this.addedAcc.x*this.particle.mass,this.particle.acc.y+=this.addedAcc.y*this.particle.mass},turnTo:function(t,e){this.particle.prevPos.x=this.particle.pos.x-t.x*e,this.particle.prevPos.x=this.particle.pos.x-t.x*e,this.koeffSpring=.9},__class__:N});var vi=function(){this.onChange=new xr};(i["lime.AssetLibrary"]=vi).__name__=["lime","AssetLibrary"],vi.prototype={exists:function(t,e){return!1},getAudioBuffer:function(t){return null},getBytes:function(t){return null},getFont:function(t){return null},getImage:function(t){return null},getPath:function(t){return null},getPathMap:function(){return null},getExtraSoundOptions:function(t){return null},getText:function(t){var e=this.getBytes(t);return null==e?null:e.getString(0,e.length)},isLocal:function(t,e){return!0},list:function(t){return null},load:function(){var t=this;return new jr(function(){return t})},loadAudioBuffer:function(t){var e=this;return new jr(function(){return e.getAudioBuffer(t)})},loadBytes:function(t){var e=this;return new jr(function(){return e.getBytes(t)})},loadFont:function(t){var e=this;return new jr(function(){return e.getFont(t)})},loadImage:function(t){var e=this;return new jr(function(){return e.getImage(t)})},loadText:function(t){return this.loadBytes(t).then(function(t){return new jr(function(){return null==t?null:t.getString(0,t.length)})})},unload:function(){},__class__:vi};var O=function(){this.extraSoundOptions=new zs,this.fontData=new zs,this.type=new zs,this.path=new zs,this.className=new zs,vi.call(this);var t=new zs;Ti.registerFont(Si),Ti.registerFont(Ei),Ti.registerFont(Ii),Ti.registerFont(Ci);var e=this.fontData,i={ascent:.6669921875,descent:.185546875};null!=df["Tw Cen MT"]?e.setReserved("Tw Cen MT",i):e.h["Tw Cen MT"]=i;var n=this.fontData,s={ascent:.7119140625,descent:.2392578125};null!=df["Agenda-Bold"]?n.setReserved("Agenda-Bold",s):n.h["Agenda-Bold"]=s;var r=this.fontData,a={ascent:.7158203125,descent:.193359375};null!=df["Tw Cen MT"]?r.setReserved("Tw Cen MT",a):r.h["Tw Cen MT"]=a;var o=this.fontData,l={ascent:.6669921875,descent:.1904296875};null!=df.Crud?o.setReserved("Crud",l):o.h.Crud=l;var h="assets/sounds/2.m4a",_=this.path;null!=df[h]?_.setReserved(h,h):_.h[h]=h;var u=this.type;null!=df[h]?u.setReserved(h,"SOUND"):u.h[h]="SOUND",h="assets/sounds/202.mp3";var c=this.path;null!=df[h]?c.setReserved(h,h):c.h[h]=h;var f=this.type;null!=df[h]?f.setReserved(h,"MUSIC"):f.h[h]="MUSIC",h="assets/sounds/0.wav";var d=this.path;null!=df[h]?d.setReserved(h,h):d.h[h]=h;var p=this.type;null!=df[h]?p.setReserved(h,"SOUND"):p.h[h]="SOUND",h="assets/sounds/206.m4a";var g=this.path;null!=df[h]?g.setReserved(h,h):g.h[h]=h;var m=this.type;null!=df[h]?m.setReserved(h,"SOUND"):m.h[h]="SOUND",h="assets/sounds/202.m4a";var v=this.path;null!=df[h]?v.setReserved(h,h):v.h[h]=h;var b=this.type;null!=df[h]?b.setReserved(h,"SOUND"):b.h[h]="SOUND",h="assets/sounds/204.mp3";var y=this.path;null!=df[h]?y.setReserved(h,h):y.h[h]=h;var w=this.type;null!=df[h]?w.setReserved(h,"MUSIC"):w.h[h]="MUSIC",h="assets/sounds/188.m4a";var x=this.path;null!=df[h]?x.setReserved(h,h):x.h[h]=h;var T=this.type;null!=df[h]?T.setReserved(h,"SOUND"):T.h[h]="SOUND",h="assets/sounds/188.mp3";var S=this.path;null!=df[h]?S.setReserved(h,h):S.h[h]=h;var E=this.type;null!=df[h]?E.setReserved(h,"MUSIC"):E.h[h]="MUSIC",h="assets/sounds/170.m4a";var I=this.path;null!=df[h]?I.setReserved(h,h):I.h[h]=h;var C=this.type;null!=df[h]?C.setReserved(h,"SOUND"):C.h[h]="SOUND",h="assets/sounds/0.m4a";var P=this.path;null!=df[h]?P.setReserved(h,h):P.h[h]=h;var A=this.type;null!=df[h]?A.setReserved(h,"SOUND"):A.h[h]="SOUND",h="assets/sounds/170.mp3";var D=this.path;null!=df[h]?D.setReserved(h,h):D.h[h]=h;var R=this.type;null!=df[h]?R.setReserved(h,"MUSIC"):R.h[h]="MUSIC",h="assets/sounds/206.mp3";var M=this.path;null!=df[h]?M.setReserved(h,h):M.h[h]=h;var F=this.type;null!=df[h]?F.setReserved(h,"MUSIC"):F.h[h]="MUSIC",h="assets/sounds/204.m4a";var B=this.path;null!=df[h]?B.setReserved(h,h):B.h[h]=h;var L=this.type;null!=df[h]?L.setReserved(h,"SOUND"):L.h[h]="SOUND",h="assets/fonts/6_Tw Cen MT.svg";var k=this.path;null!=df[h]?k.setReserved(h,h):k.h[h]=h;var N=this.type;null!=df[h]?N.setReserved(h,"TEXT"):N.h[h]="TEXT",h="assets/fonts/220_Agenda-Bold.json";var O=this.path;null!=df[h]?O.setReserved(h,h):O.h[h]=h;var U=this.type;null!=df[h]?U.setReserved(h,"TEXT"):U.h[h]="TEXT",h="assets/fonts/186_Tw Cen MT.ttf";var G=this.className,X=bi;null!=df[h]?G.setReserved(h,X):G.h[h]=X;var V=this.type;null!=df[h]?V.setReserved(h,"FONT"):V.h[h]="FONT",h="assets/fonts/186_Tw Cen MT.json";var z=this.path;null!=df[h]?z.setReserved(h,h):z.h[h]=h;var H=this.type;null!=df[h]?H.setReserved(h,"TEXT"):H.h[h]="TEXT",h="assets/fonts/220_Agenda-Bold.svg";var W=this.path;null!=df[h]?W.setReserved(h,h):W.h[h]=h;var Y=this.type;null!=df[h]?Y.setReserved(h,"TEXT"):Y.h[h]="TEXT",h="assets/fonts/220_Agenda-Bold.woff2";var K=this.path;null!=df[h]?K.setReserved(h,h):K.h[h]=h;var j=this.type;null!=df[h]?j.setReserved(h,"BINARY"):j.h[h]="BINARY",h="assets/fonts/186_Tw Cen MT.svg";var q=this.path;null!=df[h]?q.setReserved(h,h):q.h[h]=h;var J=this.type;null!=df[h]?J.setReserved(h,"TEXT"):J.h[h]="TEXT",h="assets/fonts/159_Crud.json";var Z=this.path;null!=df[h]?Z.setReserved(h,h):Z.h[h]=h;var Q=this.type;null!=df[h]?Q.setReserved(h,"TEXT"):Q.h[h]="TEXT",h="assets/fonts/220_Agenda-Bold.eot";var $=this.path;null!=df[h]?$.setReserved(h,h):$.h[h]=h;var tt=this.type;null!=df[h]?tt.setReserved(h,"BINARY"):tt.h[h]="BINARY",h="assets/fonts/159_Crud.svg";var et=this.path;null!=df[h]?et.setReserved(h,h):et.h[h]=h;var it=this.type;null!=df[h]?it.setReserved(h,"TEXT"):it.h[h]="TEXT",h="assets/fonts/159_Crud.eot";var nt=this.path;null!=df[h]?nt.setReserved(h,h):nt.h[h]=h;var st=this.type;null!=df[h]?st.setReserved(h,"BINARY"):st.h[h]="BINARY",h="assets/fonts/186_Tw Cen MT.eot";var rt=this.path;null!=df[h]?rt.setReserved(h,h):rt.h[h]=h;var at=this.type;null!=df[h]?at.setReserved(h,"BINARY"):at.h[h]="BINARY",h="assets/fonts/6_Tw Cen MT.woff2";var ot=this.path;null!=df[h]?ot.setReserved(h,h):ot.h[h]=h;var lt=this.type;null!=df[h]?lt.setReserved(h,"BINARY"):lt.h[h]="BINARY",h="assets/fonts/6_Tw Cen MT.woff";var ht=this.path;null!=df[h]?ht.setReserved(h,h):ht.h[h]=h;var _t=this.type;null!=df[h]?_t.setReserved(h,"BINARY"):_t.h[h]="BINARY",h="assets/fonts/186_Tw Cen MT.woff";var ut=this.path;null!=df[h]?ut.setReserved(h,h):ut.h[h]=h;var ct=this.type;null!=df[h]?ct.setReserved(h,"BINARY"):ct.h[h]="BINARY",h="assets/fonts/220_Agenda-Bold.ttf";var ft=this.className,dt=yi;null!=df[h]?ft.setReserved(h,dt):ft.h[h]=dt;var pt=this.type;null!=df[h]?pt.setReserved(h,"FONT"):pt.h[h]="FONT",h="assets/fonts/6_Tw Cen MT.ttf";var gt=this.className,mt=wi;null!=df[h]?gt.setReserved(h,mt):gt.h[h]=mt;var vt=this.type;null!=df[h]?vt.setReserved(h,"FONT"):vt.h[h]="FONT",h="assets/fonts/186_Tw Cen MT.woff2";var bt=this.path;null!=df[h]?bt.setReserved(h,h):bt.h[h]=h;var yt=this.type;null!=df[h]?yt.setReserved(h,"BINARY"):yt.h[h]="BINARY",h="assets/fonts/6_Tw Cen MT.json";var wt=this.path;null!=df[h]?wt.setReserved(h,h):wt.h[h]=h;var xt=this.type;null!=df[h]?xt.setReserved(h,"TEXT"):xt.h[h]="TEXT",h="assets/fonts/159_Crud.ttf";var Tt=this.className,St=xi;null!=df[h]?Tt.setReserved(h,St):Tt.h[h]=St;var Et=this.type;null!=df[h]?Et.setReserved(h,"FONT"):Et.h[h]="FONT",h="assets/fonts/220_Agenda-Bold.woff";var It=this.path;null!=df[h]?It.setReserved(h,h):It.h[h]=h;var Ct=this.type;null!=df[h]?Ct.setReserved(h,"BINARY"):Ct.h[h]="BINARY",h="assets/fonts/159_Crud.woff2";var Pt=this.path;null!=df[h]?Pt.setReserved(h,h):Pt.h[h]=h;var At=this.type;null!=df[h]?At.setReserved(h,"BINARY"):At.h[h]="BINARY",h="assets/fonts/6_Tw Cen MT.eot";var Dt=this.path;null!=df[h]?Dt.setReserved(h,h):Dt.h[h]=h;var Rt=this.type;null!=df[h]?Rt.setReserved(h,"BINARY"):Rt.h[h]="BINARY",h="assets/fonts/159_Crud.woff";var Mt=this.path;null!=df[h]?Mt.setReserved(h,h):Mt.h[h]=h;var Ft=this.type;null!=df[h]?Ft.setReserved(h,"BINARY"):Ft.h[h]="BINARY",h="assets/textures/up.png";var Bt=this.path;null!=df[h]?Bt.setReserved(h,h):Bt.h[h]=h;var Lt=this.type;null!=df[h]?Lt.setReserved(h,"IMAGE"):Lt.h[h]="IMAGE",h="assets/textures/down.png";var kt=this.path;null!=df[h]?kt.setReserved(h,h):kt.h[h]=h;var Nt=this.type;null!=df[h]?Nt.setReserved(h,"IMAGE"):Nt.h[h]="IMAGE",h="assets/textures/left.png";var Ot=this.path;null!=df[h]?Ot.setReserved(h,h):Ot.h[h]=h;var Ut=this.type;null!=df[h]?Ut.setReserved(h,"IMAGE"):Ut.h[h]="IMAGE",h="assets/textures/right.png";var Gt=this.path;null!=df[h]?Gt.setReserved(h,h):Gt.h[h]=h;var Xt=this.type;null!=df[h]?Xt.setReserved(h,"IMAGE"):Xt.h[h]="IMAGE",h="lib/intro/intro.dat";var Vt=this.path;null!=df[h]?Vt.setReserved(h,h):Vt.h[h]=h;var zt=this.type;null!=df[h]?zt.setReserved(h,"BINARY"):zt.h[h]="BINARY",h="libraries/intro.json";var Ht=this.path;null!=df[h]?Ht.setReserved(h,"lib/intro.json"):Ht.h[h]="lib/intro.json";var Wt=this.type;null!=df[h]?Wt.setReserved(h,"TEXT"):Wt.h[h]="TEXT",h="lib/stuntdirtbike/305.png";var Yt=this.path;null!=df[h]?Yt.setReserved(h,h):Yt.h[h]=h;var Kt=this.type;null!=df[h]?Kt.setReserved(h,"IMAGE"):Kt.h[h]="IMAGE",h="lib/stuntdirtbike/360.png";var jt=this.path;null!=df[h]?jt.setReserved(h,h):jt.h[h]=h;var qt=this.type;null!=df[h]?qt.setReserved(h,"IMAGE"):qt.h[h]="IMAGE",h="lib/stuntdirtbike/274.png";var Jt=this.path;null!=df[h]?Jt.setReserved(h,h):Jt.h[h]=h;var Zt=this.type;null!=df[h]?Zt.setReserved(h,"IMAGE"):Zt.h[h]="IMAGE",h="lib/stuntdirtbike/470.png";var Qt=this.path;null!=df[h]?Qt.setReserved(h,h):Qt.h[h]=h;var $t=this.type;null!=df[h]?$t.setReserved(h,"IMAGE"):$t.h[h]="IMAGE",h="lib/stuntdirtbike/356.png";var te=this.path;null!=df[h]?te.setReserved(h,h):te.h[h]=h;var ee=this.type;null!=df[h]?ee.setReserved(h,"IMAGE"):ee.h[h]="IMAGE",h="lib/stuntdirtbike/384.png";var ie=this.path;null!=df[h]?ie.setReserved(h,h):ie.h[h]=h;var ne=this.type;null!=df[h]?ne.setReserved(h,"IMAGE"):ne.h[h]="IMAGE",h="lib/stuntdirtbike/412.png";var se=this.path;null!=df[h]?se.setReserved(h,h):se.h[h]=h;var re=this.type;null!=df[h]?re.setReserved(h,"IMAGE"):re.h[h]="IMAGE",h="lib/stuntdirtbike/47.png";var ae=this.path;null!=df[h]?ae.setReserved(h,h):ae.h[h]=h;var oe=this.type;null!=df[h]?oe.setReserved(h,"IMAGE"):oe.h[h]="IMAGE",h="lib/stuntdirtbike/326.png";var le=this.path;null!=df[h]?le.setReserved(h,h):le.h[h]=h;var he=this.type;null!=df[h]?he.setReserved(h,"IMAGE"):he.h[h]="IMAGE",h="lib/stuntdirtbike/325.png";var _e=this.path;null!=df[h]?_e.setReserved(h,h):_e.h[h]=h;var ue=this.type;null!=df[h]?ue.setReserved(h,"IMAGE"):ue.h[h]="IMAGE",h="lib/stuntdirtbike/182.png";var ce=this.path;null!=df[h]?ce.setReserved(h,h):ce.h[h]=h;var fe=this.type;null!=df[h]?fe.setReserved(h,"IMAGE"):fe.h[h]="IMAGE",h="lib/stuntdirtbike/294.png";var de=this.path;null!=df[h]?de.setReserved(h,h):de.h[h]=h;var pe=this.type;null!=df[h]?pe.setReserved(h,"IMAGE"):pe.h[h]="IMAGE",h="lib/stuntdirtbike/434.png";var ge=this.path;null!=df[h]?ge.setReserved(h,h):ge.h[h]=h;var me=this.type;null!=df[h]?me.setReserved(h,"IMAGE"):me.h[h]="IMAGE",h="lib/stuntdirtbike/321.png";var ve=this.path;null!=df[h]?ve.setReserved(h,h):ve.h[h]=h;var be=this.type;null!=df[h]?be.setReserved(h,"IMAGE"):be.h[h]="IMAGE",h="lib/stuntdirtbike/264.png";var ye=this.path;null!=df[h]?ye.setReserved(h,h):ye.h[h]=h;var we=this.type;null!=df[h]?we.setReserved(h,"IMAGE"):we.h[h]="IMAGE",h="lib/stuntdirtbike/348.png";var xe=this.path;null!=df[h]?xe.setReserved(h,h):xe.h[h]=h;var Te=this.type;null!=df[h]?Te.setReserved(h,"IMAGE"):Te.h[h]="IMAGE",h="lib/stuntdirtbike/376.png";var Se=this.path;null!=df[h]?Se.setReserved(h,h):Se.h[h]=h;var Ee=this.type;null!=df[h]?Ee.setReserved(h,"IMAGE"):Ee.h[h]="IMAGE",h="lib/stuntdirtbike/290.png";var Ie=this.path;null!=df[h]?Ie.setReserved(h,h):Ie.h[h]=h;var Ce=this.type;null!=df[h]?Ce.setReserved(h,"IMAGE"):Ce.h[h]="IMAGE",h="lib/stuntdirtbike/318.png";var Pe=this.path;null!=df[h]?Pe.setReserved(h,h):Pe.h[h]=h;var Ae=this.type;null!=df[h]?Ae.setReserved(h,"IMAGE"):Ae.h[h]="IMAGE",h="lib/stuntdirtbike/260.png";var De=this.path;null!=df[h]?De.setReserved(h,h):De.h[h]=h;var Re=this.type;null!=df[h]?Re.setReserved(h,"IMAGE"):Re.h[h]="IMAGE",h="lib/stuntdirtbike/287.png";var Me=this.path;null!=df[h]?Me.setReserved(h,h):Me.h[h]=h;var Fe=this.type;null!=df[h]?Fe.setReserved(h,"IMAGE"):Fe.h[h]="IMAGE",h="lib/stuntdirtbike/399.png";var Be=this.path;null!=df[h]?Be.setReserved(h,h):Be.h[h]=h;var Le=this.type;null!=df[h]?Le.setReserved(h,"IMAGE"):Le.h[h]="IMAGE",h="lib/stuntdirtbike/426.png";var ke=this.path;null!=df[h]?ke.setReserved(h,h):ke.h[h]=h;var Ne=this.type;null!=df[h]?Ne.setReserved(h,"IMAGE"):Ne.h[h]="IMAGE",h="lib/stuntdirtbike/312.png";var Oe=this.path;null!=df[h]?Oe.setReserved(h,h):Oe.h[h]=h;var Ue=this.type;null!=df[h]?Ue.setReserved(h,"IMAGE"):Ue.h[h]="IMAGE",h="lib/stuntdirtbike/424.png";var Ge=this.path;null!=df[h]?Ge.setReserved(h,h):Ge.h[h]=h;var Xe=this.type;null!=df[h]?Xe.setReserved(h,"IMAGE"):Xe.h[h]="IMAGE",h="lib/stuntdirtbike/171.jpg";var Ve=this.path;null!=df[h]?Ve.setReserved(h,h):Ve.h[h]=h;var ze=this.type;null!=df[h]?ze.setReserved(h,"IMAGE"):ze.h[h]="IMAGE",h="lib/stuntdirtbike/395.png";var He=this.path;null!=df[h]?He.setReserved(h,h):He.h[h]=h;var We=this.type;null!=df[h]?We.setReserved(h,"IMAGE"):We.h[h]="IMAGE",h="lib/stuntdirtbike/338.png";var Ye=this.path;null!=df[h]?Ye.setReserved(h,h):Ye.h[h]=h;var Ke=this.type;null!=df[h]?Ke.setReserved(h,"IMAGE"):Ke.h[h]="IMAGE",h="lib/stuntdirtbike/280.png";var je=this.path;null!=df[h]?je.setReserved(h,h):je.h[h]=h;var qe=this.type;null!=df[h]?qe.setReserved(h,"IMAGE"):qe.h[h]="IMAGE",h="lib/stuntdirtbike/364.png";var Je=this.path;null!=df[h]?Je.setReserved(h,h):Je.h[h]=h;var Ze=this.type;null!=df[h]?Ze.setReserved(h,"IMAGE"):Ze.h[h]="IMAGE",h="lib/stuntdirtbike/392.png";var Qe=this.path;null!=df[h]?Qe.setReserved(h,h):Qe.h[h]=h;var $e=this.type;null!=df[h]?$e.setReserved(h,"IMAGE"):$e.h[h]="IMAGE",h="lib/stuntdirtbike/stuntdirtbike.dat";var ti=this.path;null!=df[h]?ti.setReserved(h,h):ti.h[h]=h;var ei=this.type;null!=df[h]?ei.setReserved(h,"BINARY"):ei.h[h]="BINARY",h="libraries/stuntdirtbike.json";var ii=this.path;null!=df[h]?ii.setReserved(h,"lib/stuntdirtbike.json"):ii.h[h]="lib/stuntdirtbike.json";var ni=this.type;null!=df[h]?ni.setReserved(h,"TEXT"):ni.h[h]="TEXT";var si=null;if(null!=mi.config&&Object.prototype.hasOwnProperty.call(mi.config,"assetsPrefix")&&(si=mi.config.assetsPrefix),null!=si)for(var ri=this.path.keys();ri.hasNext();){var ai=ri.next(),oi=this.path,li=this.path,hi=si+(null!=df[ai]?li.getReserved(ai):li.h[ai]),_i=oi;null!=df[ai]?_i.setReserved(ai,hi):_i.h[ai]=hi}var ui=null;null!=mi.config&&Object.prototype.hasOwnProperty.call(mi.config,"remoteAssetPath")&&(ui=mi.config.remoteAssetPath);for(var ci=t.keys();ci.hasNext();){var fi=ci.next(),di=this.path,pi=null!=ui?ui+(null!=df[fi]?t.getReserved(fi):t.h[fi]):null!=df[fi]?t.getReserved(fi):t.h[fi],gi=di;null!=df[fi]?gi.setReserved(fi,pi):gi.h[fi]=pi}};(i.DefaultAssetLibrary=O).__name__=["DefaultAssetLibrary"],O.getStringFromBytes=function(t){for(var e=xo.fromBytes(t),i=e.length,n="",s=65535,r=0;r<i;)i<r+s&&(s=i-r),n+=String.fromCharCode.apply(null,e.subarray(r,r+s)),r+=s;return n},O.__super__=vi,O.prototype=n(vi.prototype,{exists:function(t,e){var i=null!=e?dr.__cast(e,String):null,n=this.type,s=null!=df[t]?n.getReserved(t):n.h[t];if(null!=s){if(s==i||("SOUND"==i||"MUSIC"==i)&&("MUSIC"==s||"SOUND"==s))return!0;if("BINARY"==i||null==i||"BINARY"==s&&"TEXT"==i)return!0}return!1},getAudioBuffer:function(t){return null},getBytes:function(t){var e=qr.loaders,i=this.path,n=null!=df[t]?i.getReserved(t):i.h[t],s=e,r=null!=df[n]?s.getReserved(n):s.h[n];if(null==r)return null;var a=r.response.bytes;return null!=a?a:null},getFont:function(t){var e=this.className;return dr.__cast(Pi.createInstance(null!=df[t]?e.getReserved(t):e.h[t],[]),U)},getImage:function(t){var e=qr.images,i=this.path,n=null!=df[t]?i.getReserved(t):i.h[t],s=e;return ua.fromImageElement(null!=df[n]?s.getReserved(n):s.h[n])},getPath:function(t){var e=this.path;return null!=df[t]?e.getReserved(t):e.h[t]},getPathMap:function(){return this.path},getExtraSoundOptions:function(t){var e=this.extraSoundOptions;return null!=df[t]?e.getReserved(t):e.h[t]},getText:function(t){var e=qr.loaders,i=this.path,n=null!=df[t]?i.getReserved(t):i.h[t],s=e,r=null!=df[n]?s.getReserved(n):s.h[n];if(null==r)return null;if(null!=r.response.text)return r.response.text;var a=r.response.bytes;return null!=a?a.getString(0,a.length):null},isLocal:function(t,e){return!0},list:function(t){for(var e=null!=t?dr.__cast(t,String):null,i=[],n=this.type.keys();n.hasNext();){var s=n.next();(null==e||this.exists(s,t))&&i.push(s)}return i},loadAudioBuffer:function(t){var e=this,i=new Jr;return i.completeWith(new jr(function(){return e.getAudioBuffer(t)})),i.future},loadBytes:function(t){var e=new Jr,i=this.path;if(null!=df[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=new La,s=this.path,r=n.load((null!=df[t]?s.getReserved(t):s.h[t])+"?"+Tr.cache.version);r.onProgress(function(t){e.progress(t)}),r.onError(function(t){e.error(t)}),r.onComplete(function(t){e.complete(t.bytes)})}else{var a=this.getBytes(t);e.complete(a)}return e.future},loadImage:function(t){var i=new Jr,e=this.path;if(null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(t){var e=ua.fromImageElement(n);i.complete(e)},n.onerror=of(i,i.error);var s=this.path,r=null!=df[t]?s.getReserved(t):s.h[t];n.src=r+"?"+Tr.cache.version}else{var a=this.getImage(t);i.complete(a)}return i.future},loadText:function(t){var e=new Jr,i=this.path;if(null!=df[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=new La,s=this.path,r=n.load((null!=df[t]?s.getReserved(t):s.h[t])+"?"+Tr.cache.version);r.onProgress(function(t){e.progress(t)}),r.onError(function(t){e.error(t)}),r.onComplete(function(t){e.complete(t.text)})}else{var a=this.getText(t);e.complete(a)}return e.future},__class__:O});var U=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};(i["lime.text.Font"]=U).__name__=["lime","text","Font"],U.fromBytes=function(t){var e=new U;return e.__fromBytes(t),e},U.fromFile=function(t){var e=new U;return e.__fromFile(t),e},U.prototype={decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:U,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var bi=function(){U.call(this),this.name="Tw Cen MT"};(i.__ASSET__assets_fonts_186_tw_cen_mt_ttf=bi).__name__=["__ASSET__assets_fonts_186_tw_cen_mt_ttf"],bi.__super__=U,bi.prototype=n(U.prototype,{__class__:bi});var yi=function(){U.call(this),this.name="Agenda-Bold"};(i.__ASSET__assets_fonts_220_agenda_bold_ttf=yi).__name__=["__ASSET__assets_fonts_220_agenda_bold_ttf"],yi.__super__=U,yi.prototype=n(U.prototype,{__class__:yi});var wi=function(){U.call(this),this.name="Tw Cen MT"};(i.__ASSET__assets_fonts_6_tw_cen_mt_ttf=wi).__name__=["__ASSET__assets_fonts_6_tw_cen_mt_ttf"],wi.__super__=U,wi.prototype=n(U.prototype,{__class__:wi});var xi=function(){U.call(this),this.name="Crud"};(i.__ASSET__assets_fonts_159_crud_ttf=xi).__name__=["__ASSET__assets_fonts_159_crud_ttf"],xi.__super__=U,xi.prototype=n(U.prototype,{__class__:xi});var Ti=function(t){U.call(this,t)};(i["openfl.text.Font"]=Ti).__name__=["openfl","text","Font"],Ti.enumerateFonts=function(t){return null==t&&(t=!1),Ti.__registeredFonts},Ti.fromBytes=function(t){var e=new Ti;return e.__fromBytes(Su.toBytes(t)),e},Ti.fromFile=function(t){var e=new Ti;return e.__fromFile(t),e},Ti.registerFont=function(t){var e=dr.__cast(Pi.createInstance(t,[]),Ti);null!=e&&Ti.__registeredFonts.push(e)},Ti.__fromLimeFont=function(t){var e=new Ti;return e.name=t.name,e.src=t.src,e},Ti.__super__=U,Ti.prototype=n(U.prototype,{get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:Ti,__properties__:n(U.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var Si=function(){var t=new bi;this.src=t.src,this.name=t.name,Ti.call(this)};(i.__ASSET__OPENFL__assets_fonts_186_tw_cen_mt_ttf=Si).__name__=["__ASSET__OPENFL__assets_fonts_186_tw_cen_mt_ttf"],Si.__super__=Ti,Si.prototype=n(Ti.prototype,{__class__:Si});var Ei=function(){var t=new yi;this.src=t.src,this.name=t.name,Ti.call(this)};(i.__ASSET__OPENFL__assets_fonts_220_agenda_bold_ttf=Ei).__name__=["__ASSET__OPENFL__assets_fonts_220_agenda_bold_ttf"],Ei.__super__=Ti,Ei.prototype=n(Ti.prototype,{__class__:Ei});var Ii=function(){var t=new wi;this.src=t.src,this.name=t.name,Ti.call(this)};(i.__ASSET__OPENFL__assets_fonts_6_tw_cen_mt_ttf=Ii).__name__=["__ASSET__OPENFL__assets_fonts_6_tw_cen_mt_ttf"],Ii.__super__=Ti,Ii.prototype=n(Ti.prototype,{__class__:Ii});var Ci=function(){var t=new xi;this.src=t.src,this.name=t.name,Ti.call(this)};(i.__ASSET__OPENFL__assets_fonts_159_crud_ttf=Ci).__name__=["__ASSET__OPENFL__assets_fonts_159_crud_ttf"],Ci.__super__=Ti,Ci.prototype=n(Ti.prototype,{__class__:Ci});var G=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};(i.EReg=G).__name__=["EReg"],G.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw new fr("EReg::matched")},__class__:G};var $=function(){};(i.HxOverrides=$).__name__=["HxOverrides"],$.dateStr=function(t){var e=t.getMonth()+1,i=t.getDate(),n=t.getHours(),s=t.getMinutes(),r=t.getSeconds();return t.getFullYear()+"-"+(e<10?"0"+e:""+e)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(s<10?"0"+s:""+s)+":"+(r<10?"0"+r:""+r)},$.strDate=function(t){switch(t.length){case 8:var e=t.split(":"),i=new Date;return i.setTime(0),i.setUTCHours(e[0]),i.setUTCMinutes(e[1]),i.setUTCSeconds(e[2]),i;case 10:var n=t.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:var s=t.split(" "),r=s[0].split("-"),a=s[1].split(":");return new Date(r[0],r[1]-1,r[2],a[0],a[1],a[2]);default:throw new fr("Invalid date format : "+t)}},$.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},$.substr=function(t,e,i){if(null==i)i=t.length;else if(i<0){if(0!=e)return"";i=t.length+i}return t.substr(e,i)},$.remove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},$.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var tt=function(){};(i.Lambda=tt).__name__=["Lambda"],tt.array=function(t){for(var e,i=[],n=((e=t)instanceof Array?function(){return $.iter(e)}:"function"==typeof e.iterator?of(e,e.iterator):e.iterator)();n.hasNext();){var s=n.next();i.push(s)}return i};var et=function(){this.length=0};(i.List=et).__name__=["List"],et.prototype={add:function(t){var e=new V(t,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},iterator:function(){return new z(this.h)},__class__:et};var V=function(t,e){this.item=t,this.next=e};(i["_List.ListNode"]=V).__name__=["_List","ListNode"],V.prototype={__class__:V};var z=function(t){this.head=t};(i["_List.ListIterator"]=z).__name__=["_List","ListIterator"],z.prototype={hasNext:function(){return null!=this.head},next:function(){var t=this.head.item;return this.head=this.head.next,t},__class__:z};var H=function(){};(i.Macro=H).__name__=["Macro"],Math.__name__=["Math"];var W=function(){o.call(this);var t=this.getBackgroundColor(),e=0;.299*(t>>16&255)+.587*(t>>8&255)+.114*(255&t)<70&&(e=16777215);var i=this.getHeight()/2-3.5,n=this.getWidth()-60;this.outline=new o,this.outline.get_graphics().beginFill(e,.07),this.outline.get_graphics().drawRect(0,0,n,7),this.outline.set_x(30),this.outline.set_y(i),this.addChildAt(this.outline,this.__children._length),this.progress=new o,this.progress.get_graphics().beginFill(e,.35),this.progress.get_graphics().drawRect(0,0,n-4,3),this.progress.set_x(32),this.progress.set_y(i+2),this.progress.set_scaleX(0),this.addChildAt(this.progress,this.__children._length)};(i.NMEPreloader=W).__name__=["NMEPreloader"],W.__super__=o,W.prototype=n(o.prototype,{getBackgroundColor:function(){return 16777215},getHeight:function(){return 350},getWidth:function(){return 500},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Ge("complete"))},onUpdate:function(t,e,i){var n=t/e;1<n&&(n=1),this.progress.set_scaleX(n)},__class__:W});var j=function(){this.dataLoaded=!0,this.swfLite=null,this.introLoaded=!1,this.time=0,this.loaded=!1;var e=this;st.isMobile()||u.set_processSoundCommandCallback(J.process),W.call(this),this.initialStageColor=Po.current.stage.get_color(),Po.current.stage.set_color(0);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&null!=i.status&&200<=i.status&&i.status<=400&&"arraybuffer"==i.responseType){var t=ps.ofData(i.response);e.swfLite=ai.unserializeLibrary(t),e.attemptIntro()}},i.open("GET","./lib/intro/intro.dat",!0),i.responseType="arraybuffer",i.send(""),this.progress.set_y(this.getHeight()-32),this.outline.set_y(this.progress.__transform.ty-2),q.register()};(i.Preloader=j).__name__=["Preloader"],j.__super__=W,j.prototype=n(W.prototype,{onLoaded:function(){this.loaded=!0,this.attemptFinish()},onUpdate:function(t,e,i){W.prototype.onUpdate.call(this,t,e,i)},__enterFrame:function(t){W.prototype.__enterFrame.call(this,t),this.introLoaded&&(this.time+=t,this.time>j.minDuration&&this.attemptFinish())},attemptFinish:function(){1==this.loaded&&this.time>j.minDuration&&(Po.current.stage.set_color(this.initialStageColor),this.dispatchEvent(new Ge("complete")))},attemptIntro:function(){var t=this;if(null!=this.swfLite&&this.dataLoaded){var e=new u(this.swfLite,this.swfLite.root);this.addChildAt(e,0),this.introLoaded=!0;var i=1;this.getWidth()<500&&(i=.75,e.set_scaleX(i),e.set_scaleY(i)),e.set_x(this.getWidth()/2-j.introWidth*i/2),e.set_y(this.getHeight()/2-j.introHeight*i/2),this.addEventListener("click",function(){window.open("http://www.addictinggames.com","_blank")});var n=e.getChildAt(0);n.addFrameScript(131,function(){t.displayMessage(),n.stop()})}},getBackgroundColor:function(){return 0},displayMessage:function(){},__class__:j});var Dt=function(){};(i.Reflect=Dt).__name__=["Reflect"],Dt.field=function(t,e){try{return t[e]}catch(t){return Is.lastException=t,null}},Dt.getProperty=function(t,e){var i;return null==t?null:!!t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},Dt.setProperty=function(t,e,i){var n;!!t.__properties__&&(n=t.__properties__["set_"+e])?t[n](i):t[e]=i},Dt.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var n in t)"__id__"!=n&&"hx__closures__"!=n&&i.call(t,n)&&e.push(n)}return e},Dt.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},Dt.compareMethods=function(t,e){return t==e||!(!Dt.isFunction(t)||!Dt.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},Dt.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},Dt.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var q=function(){};(i.ResizeHandler=q).__name__=["ResizeHandler"],q.register=function(){q.registered||(window.addEventListener("resize",q.handle),q.registered=!0),q.handle()},q.handle=function(){var o=mi.config.windows[0].width,l=mi.config.windows[0].height,h=window.document.getElementsByTagName("CANVAS")[0],t=window.devicePixelRatio,e=h.clientWidth*t|0,i=h.clientHeight*t|0;""==h.style.width&&(h.style.width=h.clientWidth+"px",h.style.height=h.clientHeight+"px"),Po.current.stage.window.onResize.dispatch(e,i),Po.current.stage.window.resize(e,i),Fs.delay(function(){if(null!=h){var t=o,e=l,i=window.innerHeight,n=window.innerWidth,s=t/e,r=0,a=0;r=i*s<n?(a=i)*s:(a=n*(e/t),n),h.style.width=r+"px",h.style.height=a+"px"}},10)};var J=function(){};(i.SoundManager=J).__name__=["SoundManager"],J.aliases=null,J.addAlias=function(t,e){null==J.aliases&&(J.aliases=new Gs),J.aliases.h[t]=e},J.process=function(t){var e=J.playingSoundTable.h[t.soundId];if(null==e||e.__isValid||(e=null),t.stop)null!=e&&(e.stop(),J.playingSoundTable.remove(t.soundId));else if(null==e||!t.noMultiple){var i;i=null!=J.aliases&&J.aliases.h.hasOwnProperty(t.soundId)?J.aliases.h[t.soundId]:""+t.soundId;var n=Eo.getSound("assets/sounds/"+i+".m4a");if(null==n&&(n=Eo.getSound("assets/sounds/"+i+".wav")),null!=n){var s=n.play(t.inPoint,t.loopCount);J.playingSoundTable.h[t.soundId]=s}}},J.stopSound=function(t){var e=J.playingSoundTable.h[t];null==e||e.__isValid||(e=null),null!=e&&(e.stop(),J.playingSoundTable.remove(t))},J.stopAllSounds=function(){};var Z={};(i["_SpriteBase.AMain_Impl_"]=Z).__name__=["_SpriteBase","AMain_Impl_"],Z.getChild=function(t,e){return t[e]};var Q=function(){};(i.Std=Q).__name__=["Std"],Q.string=function(t){return dr.__string_rec(t,"")},Q.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=$.cca(t,1)&&88!=$.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},Q.random=function(t){return t<=0?0:Math.floor(Math.random()*t)};var it=function(){this.b=""};(i.StringBuf=it).__name__=["StringBuf"],it.prototype={__class__:it};var Cs=function(){};(i.StringTools=Cs).__name__=["StringTools"],Cs.htmlEscape=function(t,e){return t=t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;"),e?t.split('"').join("&quot;").split("'").join("&#039;"):t},Cs.startsWith=function(t,e){return t.length>=e.length&&$.substr(t,0,e.length)==e},Cs.isSpace=function(t,e){var i=$.cca(t,e);return 8<i&&i<14||32==i},Cs.ltrim=function(t){for(var e=t.length,i=0;i<e&&Cs.isSpace(t,i);)++i;return 0<i?$.substr(t,i,e-i):t},Cs.rtrim=function(t){for(var e=t.length,i=0;i<e&&Cs.isSpace(t,e-i-1);)++i;return 0<i?$.substr(t,0,e-i):t},Cs.trim=function(t){return Cs.ltrim(Cs.rtrim(t))},Cs.replace=function(t,e,i){return t.split(e).join(i)},Cs.hex=function(t,e){for(var i="";i="0123456789ABCDEF".charAt(15&t)+i,0<(t>>>=4););if(null!=e)for(;i.length<e;)i="0"+i;return i};var nt=i.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};nt.TNull=["TNull",0],nt.TNull.toString=f,(nt.TNull.__enum__=nt).TInt=["TInt",1],nt.TInt.toString=f,(nt.TInt.__enum__=nt).TFloat=["TFloat",2],nt.TFloat.toString=f,(nt.TFloat.__enum__=nt).TBool=["TBool",3],nt.TBool.toString=f,(nt.TBool.__enum__=nt).TObject=["TObject",4],nt.TObject.toString=f,(nt.TObject.__enum__=nt).TFunction=["TFunction",5],nt.TFunction.toString=f,(nt.TFunction.__enum__=nt).TClass=function(t){var e=["TClass",6,t];return e.__enum__=nt,e.toString=f,e},nt.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=nt,e.toString=f,e},nt.TUnknown=["TUnknown",8],nt.TUnknown.toString=f,nt.TUnknown.__enum__=nt;var Pi=function(){};(i.Type=Pi).__name__=["Type"],Pi.getSuperClass=function(t){return t.__super__},Pi.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},Pi.getEnumName=function(t){return t.__ename__.join(".")},Pi.resolveClass=function(t){var e=i[t];return null!=e&&e.__name__?e:null},Pi.resolveEnum=function(t){var e=i[t];return null!=e&&e.__ename__?e:null},Pi.createInstance=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case 9:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case 10:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);case 11:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case 12:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11]);case 13:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]);case 14:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]);default:throw new fr("Too many arguments")}},Pi.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},Pi.createEnum=function(t,e,i){var n=Dt.field(t,e);if(null==n)throw new fr("No such constructor "+e);if(Dt.isFunction(n)){if(null==i)throw new fr("Constructor "+e+" need parameters");return n.apply(t,i)}if(null!=i&&0!=i.length)throw new fr("Constructor "+e+" does not need parameters");return n},Pi.getClassFields=function(t){var e=Dt.fields(t);return $.remove(e,"__name__"),$.remove(e,"__interfaces__"),$.remove(e,"__properties__"),$.remove(e,"__super__"),$.remove(e,"__meta__"),$.remove(e,"prototype"),e},Pi.typeof=function(t){switch(typeof t){case"boolean":return nt.TBool;case"function":return t.__name__||t.__ename__?nt.TObject:nt.TFunction;case"number":return Math.ceil(t)==t%2147483648?nt.TInt:nt.TFloat;case"object":if(null==t)return nt.TNull;var e=t.__enum__;if(null!=e)return nt.TEnum(e);var i=dr.getClass(t);return null!=i?nt.TClass(i):nt.TObject;case"string":return nt.TClass(String);case"undefined":return nt.TNull;default:return nt.TUnknown}},Pi.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var i=2,n=t.length;i<n;){var s=i++;if(!Pi.enumEq(t[s],e[s]))return!1}var r=t.__enum__;if(r!=e.__enum__||null==r)return!1}catch(t){return Is.lastException=t,!1}return!0};var Rt={};(i["_UInt.UInt_Impl_"]=Rt).__name__=["_UInt","UInt_Impl_"],Rt.gt=function(t,e){var i=t<0;return i!=e<0?i:e<t},Rt.toFloat=function(t){return t<0?4294967296+t:t+0};var st=function(){};(i.Util=st).__name__=["Util"],st.isMobile=function(){return"ontouchstart"in window},st.registerVersions=function(){var t=new zs;null!=df.project?t.setReserved("project","1288a783e9ee251c82414b236f4b11d93af80893"):t.h.project="1288a783e9ee251c82414b236f4b11d93af80893",null!=df.openfl?t.setReserved("openfl","61b6be8b48a5049db8bc60bc2e0449997c641ebc"):t.h.openfl="61b6be8b48a5049db8bc60bc2e0449997c641ebc",e.version=t};var rt=function(){};(i.Version=rt).__name__=["Version"];var at=function(t){this.nodeType=t,this.children=[],this.attributeMap=new zs};(i.Xml=at).__name__=["Xml"],at.parse=function(t){return er.parse(t)},at.createElement=function(t){var e=new at(at.Element);if(e.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},at.createPCData=function(t){var e=new at(at.PCData);if(e.nodeType==at.Document||e.nodeType==at.Element)throw new fr("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},at.createCData=function(t){var e=new at(at.CData);if(e.nodeType==at.Document||e.nodeType==at.Element)throw new fr("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},at.createComment=function(t){var e=new at(at.Comment);if(e.nodeType==at.Document||e.nodeType==at.Element)throw new fr("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},at.createDocType=function(t){var e=new at(at.DocType);if(e.nodeType==at.Document||e.nodeType==at.Element)throw new fr("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},at.createProcessingInstruction=function(t){var e=new at(at.ProcessingInstruction);if(e.nodeType==at.Document||e.nodeType==at.Element)throw new fr("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},at.createDocument=function(){return new at(at.Document)},at.prototype={get:function(t){if(this.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=df[t]?e.getReserved(t):e.h[t]},set:function(t,e){if(this.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+this.nodeType);var i=this.attributeMap;null!=df[t]?i.setReserved(t,e):i.h[t]=e},exists:function(t){if(this.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+this.nodeType);var e=this.attributeMap;return null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},attributes:function(){if(this.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.keys()},addChild:function(t){if(this.nodeType!=at.Document&&this.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=at.Document&&this.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+this.nodeType);return!!$.remove(this.children,t)&&!(t.parent=null)},__class__:at};var ot=function(){};(i["adapters.Key"]=ot).__name__=["adapters","Key"],ot.create=function(){null==ot.instance&&(ot.instance=new ht)},ot.isDown=function(t){return null==ot.instance&&(ot.instance=new ht),ot.instance.keys[t]},ot.getAscii=function(){return null==ot.instance&&(ot.instance=new ht),ot.instance.lastCharCode},ot.getCode=function(){return null==ot.instance&&(ot.instance=new ht),ot.instance.lastKeyCode},ot.addListener=function(t){null==ot.instance&&(ot.instance=new ht)},ot.removeListener=function(t){null==ot.instance&&(ot.instance=new ht)},ot.addKeyDownListener=function(t){null==ot.instance&&(ot.instance=new ht),ot.instance.keyDownListener.push(t)},ot.removeKeyDownListener=function(t){null==ot.instance&&(ot.instance=new ht),$.remove(ot.instance.keyDownListener,t)};var ht=function(){this.lastCharCode=0,this.lastKeyCode=0,this.keyDownListener=[],this.keys=[],v.call(this);var t=Po.current.stage;t.addEventListener("keyDown",of(this,this.keyPressed)),t.addEventListener("keyUp",of(this,this.keyReleased))};(i["adapters.KeyHandler"]=ht).__name__=["adapters","KeyHandler"],ht.__super__=v,ht.prototype=n(v.prototype,{keyPressed:function(t){this.keys[t.keyCode]=!0,this.lastKeyCode=t.keyCode,this.lastCharCode=t.charCode;for(var e=0,i=this.keyDownListener;e<i.length;){var n=i[e];++e,n()}},keyReleased:function(t){this.keys[t.keyCode]=!1},forceKeyState:function(t,e){if(this.keys[t]=e,this.lastKeyCode=t,e)for(var i=0,n=this.keyDownListener;i<n.length;){var s=n[i];++i,s()}},__class__:ht});var _t=function(){};(i["adapters.Sound"]=_t).__name__=["adapters","Sound"],_t.stopAllSounds=function(){},_t.prototype={start:function(t,e){null==e&&(e=1),null==t&&(t=0),null!=this.sound&&(this.channel=this.sound.play(t,e,this.transform),null!=this.onSoundComplete&&this.channel.addEventListener("soundComplete",this.onSoundComplete))},stop:function(){null!=this.channel&&this.channel.stop()},attachSound:function(t,e){null==e&&(e="m4a"),this.sound=Eo.getSound("assets/sounds/"+t+"."+e)},setVolume:function(t){null==this.transform&&(this.transform=new Z_),this.transform.volume=t/100,null!=this.channel&&this.channel.set_soundTransform(this.transform)},__class__:_t};var ut={};(i["format.swf._SWFData.SWFData_Impl_"]=ut).__name__=["format","swf","_SWFData","SWFData_Impl_"],ut.__properties__={set_length:"set_length",get_length:"get_length"},ut._new=function(){var t=new bs;return t.__endian=1,t},ut.readSI8=function(t){return t.resetBitsPending(),t.readByte()},ut.writeSI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},ut.readSI16=function(t){return t.resetBitsPending(),t.readShort()},ut.writeSI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},ut.readSI32=function(t){return t.resetBitsPending(),t.readInt()},ut.writeSI32=function(t,e){t.resetBitsPending(),t.writeInt(e)},ut.readUI8=function(t){return t.resetBitsPending(),t.readUnsignedByte()},ut.writeUI8=function(t,e){t.resetBitsPending(),t.writeByte(e)},ut.readUI16=function(t){return t.resetBitsPending(),t.readUnsignedShort()},ut.writeUI16=function(t,e){t.resetBitsPending(),t.writeShort(e)},ut.readUI24=function(t){t.resetBitsPending();var e=t.readUnsignedShort();return t.readUnsignedByte()<<16|e},ut.writeUI24=function(t,e){t.resetBitsPending(),t.writeShort(65535&e),t.writeByte(e>>16)},ut.readUI32=function(t){return t.resetBitsPending(),t.readUnsignedInt()},ut.writeUI32=function(t,e){t.resetBitsPending(),t.writeUnsignedInt(e)},ut.readFIXED=function(t){return t.resetBitsPending(),t.readInt()/65536},ut.writeFIXED=function(t,e){t.resetBitsPending(),t.writeInt(65536*e|0)},ut.readFIXED8=function(t){return t.resetBitsPending(),t.readShort()/256},ut.writeFIXED8=function(t,e){t.resetBitsPending(),t.writeShort(256*e|0)},ut.readFLOAT=function(t){return t.resetBitsPending(),t.readFloat()},ut.writeFLOAT=function(t,e){t.resetBitsPending(),t.writeFloat(e)},ut.readDOUBLE=function(t){return t.resetBitsPending(),t.readDouble()},ut.writeDOUBLE=function(t,e){t.resetBitsPending(),t.writeDouble(e)},ut.readFLOAT16=function(t){t.resetBitsPending();var e=t.readUnsignedShort(),i=0!=(32768&e)?-1:1,n=e>>10&31,s=1023&e;return 0==n?0==s?0:i*Math.pow(2,-14)*(s/1024):31==n?0==s?i<0?-1/0:1/0:NaN:i*Math.pow(2,n-15)*(1+s/1024)},ut.writeFLOAT16=function(t,e){ws.write(e,t)},ut.readEncodedU32=function(t){t.resetBitsPending();var e=t.readUnsignedByte();return 0<(128&e)&&0<(16384&(e=127&e|t.readUnsignedByte()<<7))&&0<(2097152&(e=16383&e|t.readUnsignedByte()<<14))&&0<(268435456&(e=2097151&e|t.readUnsignedByte()<<21))&&(e=268435455&e|t.readUnsignedByte()<<28),e},ut.writeEncodedU32=function(t,e){var i=127&e;0!=(e>>=7)?ut.writeUI8(t,128|i):ut.writeUI8(t,i)},ut.readUB=function(t,e){return t.readBits(e)},ut.writeUB=function(t,e,i){t.writeBits(e,i)},ut.readSB=function(t,e){var i=32-e;return(t.readBits(e)<<i|0)>>i},ut.writeSB=function(t,e,i){t.writeBits(e,i)},ut.readFB=function(t,e){return ut.readSB(t,e)/65536},ut.writeFB=function(t,e,i){ut.writeSB(t,e,65536*i|0)},ut.readSTRING=function(t){for(var e=t.position;0<t.b[e++];);return t.resetBitsPending(),t.readUTFBytes(e-t.position)},ut.writeSTRING=function(t,e){null!=e&&0<e.length&&t.writeUTFBytes(e),t.writeByte(0)},ut.readLANGCODE=function(t){return t.resetBitsPending(),t.readUnsignedByte()},ut.writeLANGCODE=function(t,e){t.resetBitsPending(),t.writeByte(e)},ut.readRGB=function(t){return t.resetBitsPending(),-16777216|t.readUnsignedByte()<<16|t.readUnsignedByte()<<8|t.readUnsignedByte()},ut.writeRGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>16&255),t.writeByte(e>>8&255),t.writeByte(255&e)},ut.readRGBA=function(t){t.resetBitsPending();var e=16777215&ut.readRGB(t);return t.readUnsignedByte()<<24|e},ut.writeRGBA=function(t,e){t.resetBitsPending(),ut.writeRGB(t,e),t.writeByte(e>>24&255)},ut.readARGB=function(t){return t.resetBitsPending(),t.readUnsignedByte()<<24|16777215&ut.readRGB(t)},ut.writeARGB=function(t,e){t.resetBitsPending(),t.writeByte(e>>24&255),ut.writeRGB(t,e)},ut.readRECT=function(t){return new Vt(t)},ut.writeRECT=function(t,e){e.publish(t)},ut.readMATRIX=function(t){return new Mt(t)},ut.writeMATRIX=function(t,e){t.resetBitsPending();var i,n=1!=e.scaleX||1!=e.scaleY,s=0!=e.rotateSkew0||0!=e.rotateSkew1;(t.writeBits(1,n?1:0),n)&&(i=0==e.scaleX&&0==e.scaleY?1:t.calculateMaxBits(!0,[65536*e.scaleX|0,65536*e.scaleY|0]),ut.writeUB(t,5,i),ut.writeFB(t,i,e.scaleX),ut.writeFB(t,i,e.scaleY));if(t.writeBits(1,s?1:0),s){var r=t.calculateMaxBits(!0,[65536*e.rotateSkew0|0,65536*e.rotateSkew1|0]);ut.writeUB(t,5,r),ut.writeFB(t,r,e.rotateSkew0),ut.writeFB(t,r,e.rotateSkew1)}var a=t.calculateMaxBits(!0,[e.translateX,e.translateY]);ut.writeUB(t,5,a),ut.writeSB(t,a,e.translateX),ut.writeSB(t,a,e.translateY)},ut.readCXFORM=function(t){return new bt(t)},ut.writeCXFORM=function(t,e){e.publish(t)},ut.readCXFORMWITHALPHA=function(t){return new yt(t)},ut.writeCXFORMWITHALPHA=function(t,e){e.publish(t)},ut.readSHAPE=function(t,e){return null==e&&(e=20),new Wt(t,1,e)},ut.writeSHAPE=function(t,e){e.publish(t)},ut.readSHAPEWITHSTYLE=function(t,e,i){return null==i&&(i=20),null==e&&(e=1),new Zt(t,e,i)},ut.writeSHAPEWITHSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readSTRAIGHTEDGERECORD=function(t,e){return new qt(t,e)},ut.writeSTRAIGHTEDGERECORD=function(t,e){e.publish(t)},ut.readCURVEDEDGERECORD=function(t,e){return new Kt(t,e)},ut.writeCURVEDEDGERECORD=function(t,e){e.publish(t)},ut.readSTYLECHANGERECORD=function(t,e,i,n,s){return null==s&&(s=1),new Jt(t,e,i,n,s)},ut.writeSTYLECHANGERECORD=function(t,e,i,n,s){null==s&&(s=1),e.numFillBits=i,e.numLineBits=n,e.publish(t,s)},ut.readFILLSTYLE=function(t,e){return null==e&&(e=1),new wt(t,e)},ut.writeFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readLINESTYLE=function(t,e){return null==e&&(e=1),new Pt(t,e)},ut.writeLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readLINESTYLE2=function(t,e){return null==e&&(e=1),new At(t,e)},ut.writeLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readBUTTONRECORD=function(t,e){return null==e&&(e=1),0==ut.readUI8(t)?null:(t.position--,new pt(t,e))},ut.writeBUTTONRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readBUTTONCONDACTION=function(t){return new dt(t)},ut.writeBUTTONCONDACTION=function(t,e){e.publish(t)},ut.readFILTER=function(t){var e=ut.readUI8(t),i=Ze.create(e);return i.parse(t),i},ut.writeFILTER=function(t,e){ut.writeUI8(t,e.id),e.publish(t)},ut.readTEXTRECORD=function(t,e,i,n,s){return null==s&&(s=1),0==ut.readUI8(t)?null:(t.position--,new ee(t,e,i,n,s))},ut.writeTEXTRECORD=function(t,e,i,n,s,r){null==r&&(r=1),e.publish(t,i,n,s,r)},ut.readGLYPHENTRY=function(t,e,i){return new Et(t,e,i)},ut.writeGLYPHENTRY=function(t,e,i,n){e.publish(t,i,n)},ut.readZONERECORD=function(t){return new ne(t)},ut.writeZONERECORD=function(t,e){e.publish(t)},ut.readZONEDATA=function(t){return new ie(t)},ut.writeZONEDATA=function(t,e){e.publish(t)},ut.readKERNINGRECORD=function(t,e){return new Ct(t,e)},ut.writeKERNINGRECORD=function(t,e,i){e.publish(t,i)},ut.readGRADIENT=function(t,e){return null==e&&(e=1),new xt(t,e)},ut.writeGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readFOCALGRADIENT=function(t,e){return null==e&&(e=1),new Tt(t,e)},ut.writeFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readGRADIENTRECORD=function(t,e){return null==e&&(e=1),new It(t,e)},ut.writeGRADIENTRECORD=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHFILLSTYLE=function(t,e){return null==e&&(e=1),new Ft(t,e)},ut.writeMORPHFILLSTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHLINESTYLE=function(t,e){return null==e&&(e=1),new Nt(t,e)},ut.writeMORPHLINESTYLE=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHLINESTYLE2=function(t,e){return null==e&&(e=1),new Ot(t,e)},ut.writeMORPHLINESTYLE2=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHGRADIENT=function(t,e){return null==e&&(e=1),new Bt(t,e)},ut.writeMORPHGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHFOCALGRADIENT=function(t,e){return null==e&&(e=1),new Lt(t,e)},ut.writeMORPHFOCALGRADIENT=function(t,e,i){null==i&&(i=1),e.publish(t,i)},ut.readMORPHGRADIENTRECORD=function(t){return new kt(t)},ut.writeMORPHGRADIENTRECORD=function(t,e){e.publish(t)},ut.readACTIONRECORD=function(t){var e=t.position,i=null,n=ut.readUI8(t);if(0!=n){var s=128<=n?ut.readUI16(t):0;(i=Je.create(n,s,e)).parse(t)}return i},ut.writeACTIONRECORD=function(t,e){e.publish(t)},ut.readREGISTERPARAM=function(t){return new zt(t)},ut.writeREGISTERPARAM=function(t,e){e.publish(t)},ut.readSYMBOL=function(t){return new te(t)},ut.writeSYMBOL=function(t,e){e.publish(t)},ut.readSOUNDINFO=function(t){return new $t(t)},ut.writeSOUNDINFO=function(t,e){e.publish(t)},ut.readSOUNDENVELOPE=function(t){return new Qt(t)},ut.writeSOUNDENVELOPE=function(t,e){e.publish(t)},ut.readCLIPACTIONS=function(t,e){return new mt(t,e)},ut.writeCLIPACTIONS=function(t,e,i){e.publish(t,i)},ut.readCLIPACTIONRECORD=function(t,e){var i=t.position;return 0==(6<=e?ut.readUI32(t):ut.readUI16(t))?null:(t.position=i,new gt(t,e))},ut.writeCLIPACTIONRECORD=function(t,e,i){e.publish(t,i)},ut.readCLIPEVENTFLAGS=function(t,e){return new vt(t,e)},ut.writeCLIPEVENTFLAGS=function(t,e,i){e.publish(t,i)},ut.readTagHeader=function(t){var e=t.position,i=ut.readUI16(t),n=63&i;return 63==n&&(n=ut.readSI32(t)),new Xt(i>>6,n,t.position-e)},ut.writeTagHeader=function(t,e,i,n){null==n&&(n=!1),i<63&&!n?ut.writeUI16(t,e<<6|i):(ut.writeUI16(t,e<<6|63),ut.writeSI32(t,i))},ut.swfUncompress=function(t,e,i){null==i&&(i=0);var n=t.position,s=new vs(0);if(2==e)t.readBytes(s),s.position=0,s.uncompress();else{if(1!=e)throw new fr(new Vh("Unknown compression method: "+Eu.toString(e)));for(var r=0;r<5;){var a=r++;s.writeByte(t.b[a+12])}s.__endian=1,s.writeUnsignedInt(i-8),s.writeUnsignedInt(0),t.position=17,t.readBytes(s,13),s.position=0,s.uncompress(e)}ut.set_length(t,t.position=n),t.writeBytes(s),t.position=n},ut.swfCompress=function(t,e){var i=t.position,n=new vs(0);if(2!=e)throw new fr(new Vh(1==e?"Can't publish LZMA compressed SWFs":"Unknown compression method: "+Eu.toString(e)));t.readBytes(n),n.position=0,n.compress(),ut.set_length(t,t.position=i),t.writeBytes(n)},ut.readRawTag=function(t){return new Ut(t)},ut.skipBytes=function(t,e){t.position+=e},ut.dump=function(t,e,i){null==i&&(i=0);for(var n=t.position,s=t.position=0|Math.min(Math.max(n+i,0),Su.get_length(t)-e),r="[Dump] total length: "+Su.get_length(t)+", original position: "+n,a=0,o=e;a<o;){var l=a++,h=Cs.hex(t.readUnsignedByte());if(1==h.length&&(h="0"+h),l%16==0){var _=Cs.hex(s+l);r+="\r"+(_=$.substr("00000000",0,8-_.length)+_)+": "}r+=h+=" "}t.position=n,Rs.trace(r,{fileName:"SWFData.hx",lineNumber:959,className:"format.swf._SWFData.SWFData_Impl_",methodName:"dump"})},ut.get_length=function(t){return t.__length},ut.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};var ct=function(){this.dispatcher=new v(this)};(i["format.swf.events.SWFEventDispatcher"]=ct).__name__=["format","swf","events","SWFEventDispatcher"],ct.__interfaces__=[s],ct.prototype={addEventListener:function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),this.dispatcher.addEventListener(t,e,i,n,s)},removeEventListener:function(t,e,i){null==i&&(i=!1),this.dispatcher.removeEventListener(t,e,i)},dispatchEvent:function(t){return this.dispatcher.dispatchEvent(t)},hasEventListener:function(t){return this.dispatcher.hasEventListener(t)},willTrigger:function(t){return this.dispatcher.willTrigger(t)},__class__:ct};var ft=function(){this._tmpTagIterator=0,ct.call(this),this.backgroundColor=16777215,this.tags=[],this.tagsRaw=[],this.dictionary=new Gs,this.scenes=[],this.frames=[],this.layers=[],this.tagFactory=new Qe,(this.rootTimelineContainer=this).enterFrameProvider=new o};(i["format.swf.SWFTimelineContainer"]=ft).__name__=["format","swf","SWFTimelineContainer"],ft.__super__=ct,ft.prototype=n(ct.prototype,{getCharacter:function(t){var e=this.rootTimelineContainer.dictionary.h[t];return 0<=e&&e<this.rootTimelineContainer.tags.length?this.rootTimelineContainer.tags[e]:null},get_scalingGrids:function(){return this.rootTimelineContainer._scalingGrids},getScalingGrid:function(t){return this.get_scalingGrids().h.hasOwnProperty(t)?this.rootTimelineContainer.tags[this.get_scalingGrids().h[t]]:null},parseTags:function(t,e){var i;for(this.parseTagsInit(t,e);;){if(!(null!=(i=this.parseTag(t))&&0!=i.type))break}this.parseTagsFinalize()},parseTagsAsync:function(t,e){this.parseTagsInit(t,e),this.enterFrameProvider.addEventListener("enterFrame",of(this,this.parseTagsAsyncHandler))},parseTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",of(this,this.parseTagsAsyncHandler)),this.dispatchEvent(new Ve("progress",this._tmpData.position,ut.get_length(this._tmpData),!1,!0))&&this.parseTagsAsyncInternal()},parseTagsAsyncInternal:function(){for(var t,e=Date.now();;){if(!(null!=(t=this.parseTag(this._tmpData,!0))&&0!=t.type))break;var i=Date.now();if(ft.TIMEOUT<i-e)return void this.enterFrameProvider.addEventListener("enterFrame",of(this,this.parseTagsAsyncHandler))}this.parseTagsFinalize(),this.eof?this.dispatchEvent(new Xe("error","eof")):(this.dispatchEvent(new Ve("progress",this._tmpData.position,ut.get_length(this._tmpData))),this.dispatchEvent(new Ve("complete",this._tmpData.position,ut.get_length(this._tmpData))))},parseTagsInit:function(t,e){this.tags=[],this.frames=[],this.layers=[],this.dictionary=new Gs,this.currentFrame=new hs,this.frameLabels=new Gs,this.frameIndexes=new zs,this.hasSoundStream=!1,this._tmpData=t,this._tmpVersion=e},parseTag:function(t,e){null==e&&(e=!1);var i=t.position;if(this.eof=i>=ut.get_length(t),this.eof)return Rs.trace("WARNING: end of file encountered, no end tag.",{fileName:"SWFTimelineContainer.hx",lineNumber:191,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),null;var n=ut.readRawTag(t),s=n.header,r=this.tagFactory.create(s.type);try{if(dr.__instanceof(r,ft)){var a=r;a.tagFactory=this.tagFactory,a.rootTimelineContainer=this}r.parse(t,s.contentLength,this._tmpVersion,e)}catch(t){throw(Is.lastException=t)instanceof fr&&(t=t.val),dr.__instanceof(t,Vh)?(Rs.trace("WARNING: parse error: "+t.message+", Tag: "+r.name+", Index: "+this.tags.length,{fileName:"SWFTimelineContainer.hx",lineNumber:213,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}),new fr(t)):t}this.tags.push(r),this.tagsRaw.push(n),this.processTag(r);var o=i+s.get_tagLength();if(t.position!=o){var l=this.tags.length-1,h=t.position-(i+s.get_tagLength()),_=h<0?"underflow":"overflow",u={pos:i,bytes:h<0?-h:h};this.rootTimelineContainer==this?Rs.trace("WARNING: excess bytes: "+h+", Tag: "+r.name+", Index: "+l,{fileName:"SWFTimelineContainer.hx",lineNumber:233,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}):(u.indexRoot=this.rootTimelineContainer.tags.length,Rs.trace("WARNING: excess bytes: "+h+", Tag: "+r.name+", Index: "+l+", IndexRoot: "+Q.string(u.indexRoot),{fileName:"SWFTimelineContainer.hx",lineNumber:239,className:"format.swf.SWFTimelineContainer",methodName:"parseTag"}));var c=new ze(_,l,u,!1,!0);this.dispatchEvent(c),t.position=i+s.get_tagLength()}return r},parseTagsFinalize:function(){null!=this.soundStream&&0==Su.get_length(this.soundStream.data)&&(this.soundStream=null),ft.AUTOBUILD_LAYERS&&this.buildLayers()},publishTags:function(t,e){for(var i,n,s=0,r=this.tags.length;s<r;){var a=s++;i=this.tags[a],n=a<this.tagsRaw.length?this.tagsRaw[a]:null,this.publishTag(t,i,n,e)}},publishTagsAsync:function(t,e){this._tmpData=t,this._tmpVersion=e,this._tmpTagIterator=0,this.enterFrameProvider.addEventListener("enterFrame",of(this,this.publishTagsAsyncHandler))},publishTagsAsyncHandler:function(t){this.enterFrameProvider.removeEventListener("enterFrame",of(this,this.publishTagsAsyncHandler)),this.dispatchEvent(new Ve("progress",this._tmpTagIterator,this.tags.length))&&this.publishTagsAsyncInternal()},publishTagsAsyncInternal:function(){for(var t,e,i=Date.now();;){t=this._tmpTagIterator<this.tags.length?this.tags[this._tmpTagIterator]:null,e=this._tmpTagIterator<this.tagsRaw.length?this.tagsRaw[this._tmpTagIterator]:null,this.publishTag(this._tmpData,t,e,this._tmpVersion),this._tmpTagIterator++;var n=Date.now();if(ft.TIMEOUT<n-i)return void this.enterFrameProvider.addEventListener("enterFrame",of(this,this.publishTagsAsyncHandler));if(0==t.type)break}this.dispatchEvent(new Ve("progress",this._tmpTagIterator,this.tags.length)),this.dispatchEvent(new Ve("complete",this._tmpTagIterator,this.tags.length))},publishTag:function(e,i,n,t){try{i.publish(e,t)}catch(t){if((Is.lastException=t)instanceof fr&&(t=t.val),!dr.__instanceof(t,Vh))throw t;Rs.trace("WARNING: publish error: "+t.message+" (tag: "+i.name+")",{fileName:"SWFTimelineContainer.hx",lineNumber:311,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"}),null!=n?n.publish(e):Rs.trace("FATAL: publish error: No raw tag fallback",{fileName:"SWFTimelineContainer.hx",lineNumber:315,className:"format.swf.SWFTimelineContainer",methodName:"publishTag"})}},processTag:function(t){var e=this.tags.length-1;if(dr.__instanceof(t,Gi))this.processDefinitionTag(t,e);else if(dr.__instanceof(t,Xi))this.processDisplayListTag(t,e);else switch(dr.__cast(t.type,lf)){case 8:this.processJPEGTablesTag(t,e);break;case 9:this.processBackgroundColorTag(t,e);break;case 15:this.processStartSound(t,e);break;case 18:case 19:case 45:ft.EXTRACT_SOUND_STREAM&&this.processSoundStreamTag(t,e);break;case 78:this.processScalingGridTag(t,e);break;case 43:case 86:this.processFrameLabelTag(t,e)}},processStartSound:function(t,e){this.currentFrame.startSound=t},processDefinitionTag:function(t,e){if(17==dr.__cast(t.type,lf)){var i=this.dictionary.h[t.characterId],n=this.tags[i];return dr.__instanceof(n,$i)||Rs.trace("Unable to find button associated with DefineButtonSound",{fileName:"SWFTimelineContainer.hx",lineNumber:368,className:"format.swf.SWFTimelineContainer",methodName:"processDefinitionTag"}),void(dr.__cast(n,$i).defineSound=dr.__cast(t,en))}0<t.characterId&&(this.dictionary.h[t.characterId]=e,this.currentFrame.characters.push(t.characterId))},processDisplayListTag:function(t,e){switch(dr.__cast(t.type,lf)){case 1:if(this.currentFrame.tagIndexEnd=e,null==this.currentFrame.label&&this.frameLabels.exists(this.currentFrame.frameNumber)){var i=this.frameLabels.get(this.currentFrame.frameNumber);this.currentFrame.label=i}this.frames.push(this.currentFrame),this.currentFrame=this.currentFrame.clone(),this.currentFrame.frameNumber=this.frames.length,this.currentFrame.tagIndexStart=e+1;break;case 4:case 26:case 70:this.currentFrame.placeObject(e,t);break;case 5:case 28:this.currentFrame.removeObject(t)}},processFrameLabelTag:function(t,e){switch(dr.__cast(t.type,lf)){case 43:var i=t;this.currentFrame.label=i.frameName,this.frameLabels.set(this.currentFrame.frameNumber,i.frameName),this.frameIndexes.set(i.frameName,this.currentFrame.frameNumber+1);break;case 86:for(var n=t,s=0,r=n.frameLabels.length;s<r;){var a=s++,o=n.frameLabels[a];this.frameLabels.set(o.frameNumber,o.name),this.frameIndexes.set(o.name,o.frameNumber+1)}for(var l=0,h=n.scenes.length;l<h;){var _=l++,u=n.scenes[_];this.scenes.push(new fs(u.offset,u.name))}}},processSoundStreamTag:function(t,e){switch(dr.__cast(t.type,lf)){case 18:case 45:var i=t;this.soundStream=new ds,this.soundStream.compression=i.streamSoundCompression,this.soundStream.rate=i.streamSoundRate,this.soundStream.size=i.streamSoundSize,this.soundStream.type=i.streamSoundType,this.soundStream.numFrames=0,this.soundStream.numSamples=0;break;case 19:if(null!=this.soundStream){this.hasSoundStream||(this.hasSoundStream=!0,this.soundStream.startFrame=this.currentFrame.frameNumber);var n=t.soundData;switch(n.__endian=1,n.position=0,this.soundStream.compression){case 1:break;case 2:var s=n.readUnsignedShort();n.readShort(),0<s&&(this.soundStream.numSamples+=s,this.soundStream.data.writeBytes(n,4))}this.soundStream.numFrames++}}},processBackgroundColorTag:function(t,e){this.backgroundColor=t.color},processJPEGTablesTag:function(t,e){this.jpegTablesTag=t},processScalingGridTag:function(t,e){this.get_scalingGrids().h[t.characterId]=e},buildLayers:function(){for(var t,e=new Gs,i=[],n=0,s=this.frames.length;n<s;)for(var r=n++,a=this.frames[r],o=a.objects.keys();o.hasNext();){var l=o.next();t=0|l;for(var h=!1,_=0;_<i.length;){var u=i[_];++_,u==t&&(h=!0);break}h?e.h[l].push(a.frameNumber):(e.h[l]=[a.frameNumber],i.push(t))}i.sort(of(this,this.sortNumeric));for(var c=0,f=i.length;c<f;){var d=c++,p=new us(i[d],this.frames.length),g=e.h[i[d]],m=g.length;if(0<m){for(var v=0,b=0|ut.MAX_FLOAT_VALUE,y=0|ut.MAX_FLOAT_VALUE,w=0,x=m;w<x;){var T=g[w++],S=this.frames[T].objects.h[p.depth];S.isKeyframe?(p.appendStrip(v,b,y),b=T,v=dr.__instanceof(this.getCharacter(S.characterId),cn)?4:2):2==v&&0<S.lastModifiedAtIndex&&(v=3),y=T}p.appendStrip(v,b,y)}this.layers.push(p)}for(var E=0,I=this.frames.length;E<I;)for(var C=E++,P=this.frames[C].objects,A=P.keys();A.hasNext();)for(var D=A.next(),R=0,M=i.length;R<M;){var F=R++;D==i[F]&&(P.h[D].layer=F)}},sortNumeric:function(t,e){return t-e},toString:function(t){null==t&&(t=0);var e="";if(0<this.tags.length){e+="\n"+Ss.repeat(t+2)+"Tags:";for(var i=0,n=this.tags.length;i<n;){var s=i++;e+="\n"+this.tags[s].toString(t+4)}}if(0<this.scenes.length){e+="\n"+Ss.repeat(t+2)+"Scenes:";for(var r=0,a=this.scenes.length;r<a;){var o=r++;e+="\n"+this.scenes[o].toString(t+4)}}if(0<this.frames.length){e+="\n"+Ss.repeat(t+2)+"Frames:";for(var l=0,h=this.frames.length;l<h;){var _=l++;e+="\n"+this.frames[_].toString(t+4)}}if(0<this.layers.length){e+="\n"+Ss.repeat(t+2)+"Layers:";for(var u=0,c=this.layers.length;u<c;){var f=u++;e+="\n"+Ss.repeat(t+4)+"["+f+"] "+this.layers[f].toString(t+4)}}return e},__class__:ft,__properties__:{get_scalingGrids:"get_scalingGrids"}});var dt=function(t){var e=new lt,i=new Array(0);e.data=i,e.length=0,e.fixed=!1,this.actions=e,null!=t&&this.parse(t)};(i["format.swf.data.SWFButtonCondAction"]=dt).__name__=["format","swf","data","SWFButtonCondAction"],dt.prototype={parse:function(t){var e,i=ut.readUI8(t)<<8|ut.readUI8(t);for(this.condIdleToOverDown=0!=(32768&i),this.condOutDownToIdle=0!=(16384&i),this.condOutDownToOverDown=0!=(8192&i),this.condOverDownToOutDown=0!=(4096&i),this.condOverDownToOverUp=0!=(2048&i),this.condOverUpToOverDown=0!=(1024&i),this.condOverUpToIdle=0!=(512&i),this.condIdleToOverUp=0!=(256&i),this.condOverDownToIdle=0!=(1&i),this.condKeyPress=(255&i)>>1;null!=(e=ut.readACTIONRECORD(t));){var n=this.actions;if(!n.fixed){if(n.length++,n.data.length<n.length){var s=n.data.length+10,r=new Array(s);Hs.blit(n.data,0,r,0,n.data.length),n.data=r}n.data[n.length-1]=e}}re.resolveOffsets(this.actions)},publish:function(t){var e=0;this.condIdleToOverDown&&(e|=128),this.condOutDownToIdle&&(e|=64),this.condOutDownToOverDown&&(e|=32),this.condOverDownToOutDown&&(e|=16),this.condOverDownToOverUp&&(e|=8),this.condOverUpToOverDown&&(e|=4),this.condOverUpToIdle&&(e|=2),this.condIdleToOverUp&&(e|=1),ut.writeUI8(t,e);var i=this.condKeyPress<<1;this.condOverDownToIdle&&(i|=1),ut.writeUI8(t,i);for(var n=0,s=this.actions.length;n<s;){var r=n++;ut.writeACTIONRECORD(t,this.actions.data[r])}ut.writeUI8(t,0)},clone:function(){var t=new dt;t.condActionSize=this.condActionSize,t.condIdleToOverDown=this.condIdleToOverDown,t.condOutDownToIdle=this.condOutDownToIdle,t.condOutDownToOverDown=this.condOutDownToOverDown,t.condOverDownToOutDown=this.condOverDownToOutDown,t.condOverDownToOverUp=this.condOverDownToOverUp,t.condOverUpToOverDown=this.condOverUpToOverDown,t.condOverUpToIdle=this.condOverUpToIdle,t.condIdleToOverUp=this.condIdleToOverUp,t.condOverDownToIdle=this.condOverDownToIdle,t.condKeyPress=this.condKeyPress;for(var e=0,i=this.actions.length;e<i;){var n=e++,s=t.actions,r=this.actions.data[n].clone();if(!s.fixed){if(s.length++,s.data.length<s.length){var a=s.data.length+10,o=new Array(a);Hs.blit(s.data,0,o,0,s.data.length),s.data=o}s.data[s.length-1]=r}}return t},toString:function(t){null==t&&(t=0);var e=[];this.condIdleToOverDown&&e.push("idleToOverDown"),this.condOutDownToIdle&&e.push("outDownToIdle"),this.condOutDownToOverDown&&e.push("outDownToOverDown"),this.condOverDownToOutDown&&e.push("overDownToOutDown"),this.condOverDownToOverUp&&e.push("overDownToOverUp"),this.condOverUpToOverDown&&e.push("overUpToOverDown"),this.condOverUpToIdle&&e.push("overUpToIdle"),this.condIdleToOverUp&&e.push("idleToOverUp"),this.condOverDownToIdle&&e.push("overDownToIdle");for(var i="Cond: ("+e.join(",")+"), KeyPress: "+this.condKeyPress,n=0,s=this.actions.length;n<s;){var r=n++;i+="\n"+Ss.repeat(t+2)+"["+r+"] "+this.actions.data[r].toString(t+2)}return i},__class__:dt};var pt=function(t,e){null==e&&(e=1),this.filterList=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFButtonRecord"]=pt).__name__=["format","swf","data","SWFButtonRecord"],pt.prototype={parse:function(t,e){null==e&&(e=1);var i=ut.readUI8(t);if(this.stateHitTest=0!=(8&i),this.stateDown=0!=(4&i),this.stateOver=0!=(2&i),this.stateUp=0!=(1&i),this.characterId=ut.readUI16(t),this.placeDepth=ut.readUI16(t),this.placeMatrix=ut.readMATRIX(t),2<=e){if(this.colorTransform=ut.readCXFORMWITHALPHA(t),this.hasFilterList=0!=(16&i),this.hasFilterList)for(var n=0,s=ut.readUI8(t);n<s;){n++;this.filterList.push(ut.readFILTER(t))}this.hasBlendMode=0!=(32&i),this.hasBlendMode&&(this.blendMode=ut.readUI8(t))}},publish:function(t,e){null==e&&(e=1);var i=0;if(2<=e&&this.hasBlendMode&&(i|=32),2<=e&&this.hasFilterList&&(i|=16),this.stateHitTest&&(i|=8),this.stateDown&&(i|=4),this.stateOver&&(i|=2),this.stateUp&&(i|=1),ut.writeUI8(t,i),ut.writeUI16(t,this.characterId),ut.writeUI16(t,this.placeDepth),ut.writeMATRIX(t,this.placeMatrix),2<=e){if(ut.writeCXFORMWITHALPHA(t,this.colorTransform),this.hasFilterList){var n=this.filterList.length;ut.writeUI8(t,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeFILTER(t,this.filterList[a])}}this.hasBlendMode&&ut.writeUI8(t,this.blendMode)}},clone:function(){var t=new pt;t.hasBlendMode=this.hasBlendMode,t.hasFilterList=this.hasFilterList,t.stateHitTest=this.stateHitTest,t.stateDown=this.stateDown,t.stateOver=this.stateOver,t.stateUp=this.stateUp,t.characterId=this.characterId,t.placeDepth=this.placeDepth,t.placeMatrix=this.placeMatrix.clone(),null!=this.colorTransform&&(t.colorTransform=dr.__cast(this.colorTransform.clone(),yt));for(var e=0,i=this.filterList.length;e<i;){var n=e++;t.filterList.push(this.filterList[n].clone())}return t.blendMode=this.blendMode,t},toString:function(t){null==t&&(t=0);var e="Depth: "+this.placeDepth+", CharacterID: "+this.characterId+", States: ",i=[];if(this.stateUp&&i.push("up"),this.stateOver&&i.push("over"),this.stateDown&&i.push("down"),this.stateHitTest&&i.push("hit"),e+=i.join(","),this.hasBlendMode&&(e+=", BlendMode: "+ue.toString(this.blendMode)),null==this.placeMatrix||this.placeMatrix.isIdentity()||(e+="\n"+Ss.repeat(t+2)+"Matrix: "+Q.string(this.placeMatrix)),null==this.colorTransform||this.colorTransform.isIdentity()||(e+="\n"+Ss.repeat(t+2)+"ColorTransform: "+Q.string(this.colorTransform)),this.hasFilterList){e+="\n"+Ss.repeat(t+2)+"Filters:";for(var n=0,s=this.filterList.length;n<s;){var r=n++;e+="\n"+Ss.repeat(t+4)+"["+r+"] "+this.filterList[r].toString(t+4)}}return e},__class__:pt};var gt=function(t,e){null==e&&(e=0);var i=new lt,n=new Array(0);i.data=n,i.length=0,i.fixed=!1,this.actions=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActionRecord"]=gt).__name__=["format","swf","data","SWFClipActionRecord"],gt.prototype={parse:function(t,e){this.eventFlags=ut.readCLIPEVENTFLAGS(t,e);var i,n=ut.readUI32(t),s=t.position;for(this.eventFlags.keyPressEvent&&(this.keyCode=ut.readUI8(t));null!=(i=ut.readACTIONRECORD(t));){var r=this.actions;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);Hs.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=i}}re.resolveOffsets(this.actions),t.position=s+n},publish:function(t,e){ut.writeCLIPEVENTFLAGS(t,this.eventFlags,e);var i=ut._new();this.eventFlags.keyPressEvent&&ut.writeUI8(i,this.keyCode);for(var n=0,s=this.actions.length;n<s;){var r=n++;ut.writeACTIONRECORD(i,this.actions.data[r])}ut.writeUI8(i,0),ut.writeUI32(t,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="ClipActionRecords ("+this.eventFlags.toString()+"):";0<this.keyCode&&(e+=", KeyCode: "+this.keyCode),e+=":";for(var i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.actions.data[s].toString(t+2)}return e},__class__:gt};var mt=function(t,e){null==e&&(e=0),this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipActions"]=mt).__name__=["format","swf","data","SWFClipActions"],mt.prototype={parse:function(t,e){var i;for(ut.readUI16(t),this.eventFlags=ut.readCLIPEVENTFLAGS(t,e);null!=(i=ut.readCLIPACTIONRECORD(t,e));)this.records.push(i)},publish:function(t,e){ut.writeUI16(t,0),ut.writeCLIPEVENTFLAGS(t,this.eventFlags,e);for(var i=0,n=this.records.length;i<n;){var s=i++;ut.writeCLIPACTIONRECORD(t,this.records[s],e)}6<=e?ut.writeUI32(t,0):ut.writeUI16(t,0)},toString:function(t){null==t&&(t=0);for(var e="ClipActions ("+this.eventFlags.toString()+"):",i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.records[s].toString(t+2)}return e},__class__:mt};var vt=function(t,e){null==e&&(e=0),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFClipEventFlags"]=vt).__name__=["format","swf","data","SWFClipEventFlags"],vt.prototype={parse:function(t,e){var i=ut.readUI8(t);this.keyUpEvent=0!=(128&i),this.keyDownEvent=0!=(64&i),this.mouseUpEvent=0!=(32&i),this.mouseDownEvent=0!=(16&i),this.mouseMoveEvent=0!=(8&i),this.unloadEvent=0!=(4&i),this.enterFrameEvent=0!=(2&i),this.loadEvent=0!=(1&i);var n=ut.readUI8(t);if(this.dragOverEvent=0!=(128&n),this.rollOutEvent=0!=(64&n),this.rollOverEvent=0!=(32&n),this.releaseOutsideEvent=0!=(16&n),this.releaseEvent=0!=(8&n),this.pressEvent=0!=(4&n),this.initializeEvent=0!=(2&n),this.dataEvent=0!=(1&n),6<=e){var s=ut.readUI8(t);this.constructEvent=0!=(4&s),this.keyPressEvent=0!=(2&s),this.dragOutEvent=0!=(1&s),ut.readUI8(t)}},publish:function(t,e){var i=0;this.keyUpEvent&&(i|=128),this.keyDownEvent&&(i|=64),this.mouseUpEvent&&(i|=32),this.mouseDownEvent&&(i|=16),this.mouseMoveEvent&&(i|=8),this.unloadEvent&&(i|=4),this.enterFrameEvent&&(i|=2),this.loadEvent&&(i|=1),ut.writeUI8(t,i);var n=0;if(this.dragOverEvent&&(n|=128),this.rollOutEvent&&(n|=64),this.rollOverEvent&&(n|=32),this.releaseOutsideEvent&&(n|=16),this.releaseEvent&&(n|=8),this.pressEvent&&(n|=4),this.initializeEvent&&(n|=2),this.dataEvent&&(n|=1),ut.writeUI8(t,n),6<=e){var s=0;this.constructEvent&&(s|=4),this.keyPressEvent&&(s|=2),this.dragOutEvent&&(s|=1),ut.writeUI8(t,s),ut.writeUI8(t,0)}},toString:function(){var t=[];return this.keyUpEvent&&t.push("keyup"),this.keyDownEvent&&t.push("keydown"),this.mouseUpEvent&&t.push("mouseup"),this.mouseDownEvent&&t.push("mousedown"),this.mouseMoveEvent&&t.push("mousemove"),this.unloadEvent&&t.push("unload"),this.enterFrameEvent&&t.push("enterframe"),this.loadEvent&&t.push("load"),this.dragOverEvent&&t.push("dragover"),this.rollOutEvent&&t.push("rollout"),this.rollOverEvent&&t.push("rollover"),this.releaseOutsideEvent&&t.push("releaseoutside"),this.releaseEvent&&t.push("release"),this.pressEvent&&t.push("press"),this.initializeEvent&&t.push("initialize"),this.dataEvent&&t.push("data"),this.constructEvent&&t.push("construct"),this.keyPressEvent&&t.push("keypress"),this.dragOutEvent&&t.push("dragout"),t.join(",")},__class__:vt};var bt=function(t){this.aAdd=0,this.aMult=256,this.bAdd=0,this.gAdd=0,this.rAdd=0,this.bMult=256,this.gMult=256,this.rMult=256,null!=t&&this.parse(t)};(i["format.swf.data.SWFColorTransform"]=bt).__name__=["format","swf","data","SWFColorTransform"],bt.prototype={get_colorTransform:function(){return new Io(this.rMult/256,this.gMult/256,this.bMult/256,this.aMult/256,this.rAdd,this.gAdd,this.bAdd,this.aAdd)},parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==ut.readUB(t,1),this.hasMultTerms=1==ut.readUB(t,1);var e=ut.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.hasMultTerms&&(this.rMult=ut.readSB(t,e),this.gMult=ut.readSB(t,e),this.bMult=ut.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.hasAddTerms&&(this.rAdd=ut.readSB(t,e),this.gAdd=ut.readSB(t,e),this.bAdd=ut.readSB(t,e))},publish:function(t){t.resetBitsPending(),ut.writeUB(t,1,this.hasAddTerms?1:0),ut.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd));var i=t.calculateMaxBits(!0,e);ut.writeUB(t,4,i),this.hasMultTerms&&(ut.writeSB(t,i,this.rMult),ut.writeSB(t,i,this.gMult),ut.writeSB(t,i,this.bMult)),this.hasAddTerms&&(ut.writeSB(t,i,this.rAdd),ut.writeSB(t,i,this.gAdd),ut.writeSB(t,i,this.bAdd))},clone:function(){var t=new bt;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t},isIdentity:function(){return 1==this.rMult&&1==this.gMult&&1==this.bMult&&1==this.aMult&&(0==this.rAdd&&0==this.gAdd&&0==this.bAdd&&0==this.aAdd)},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:bt,__properties__:{get_colorTransform:"get_colorTransform"}};var yt=function(t){bt.call(this,t)};(i["format.swf.data.SWFColorTransformWithAlpha"]=yt).__name__=["format","swf","data","SWFColorTransformWithAlpha"],yt.__super__=bt,yt.prototype=n(bt.prototype,{parse:function(t){t.resetBitsPending(),this.hasAddTerms=1==ut.readUB(t,1),this.hasMultTerms=1==ut.readUB(t,1);var e=ut.readUB(t,4);this.rMult=256,this.gMult=256,this.bMult=256,this.aMult=256,this.hasMultTerms&&(this.rMult=ut.readSB(t,e),this.gMult=ut.readSB(t,e),this.bMult=ut.readSB(t,e),this.aMult=ut.readSB(t,e)),this.rAdd=0,this.gAdd=0,this.bAdd=0,this.aAdd=0,this.hasAddTerms&&(this.rAdd=ut.readSB(t,e),this.gAdd=ut.readSB(t,e),this.bAdd=ut.readSB(t,e),this.aAdd=ut.readSB(t,e))},publish:function(t){t.resetBitsPending(),ut.writeUB(t,1,this.hasAddTerms?1:0),ut.writeUB(t,1,this.hasMultTerms?1:0);var e=[];this.hasMultTerms&&(e.push(this.rMult),e.push(this.gMult),e.push(this.bMult),e.push(this.aMult)),this.hasAddTerms&&(e.push(this.rAdd),e.push(this.gAdd),e.push(this.bAdd),e.push(this.aAdd));var i=this.hasMultTerms||this.hasAddTerms?t.calculateMaxBits(!0,e):1;ut.writeUB(t,4,i),this.hasMultTerms&&(ut.writeSB(t,i,this.rMult),ut.writeSB(t,i,this.gMult),ut.writeSB(t,i,this.bMult),ut.writeSB(t,i,this.aMult)),this.hasAddTerms&&(ut.writeSB(t,i,this.rAdd),ut.writeSB(t,i,this.gAdd),ut.writeSB(t,i,this.bAdd),ut.writeSB(t,i,this.aAdd))},clone:function(){var t=new yt;return t.hasAddTerms=this.hasAddTerms,t.hasMultTerms=this.hasMultTerms,t.rMult=this.rMult,t.gMult=this.gMult,t.bMult=this.bMult,t.aMult=this.aMult,t.rAdd=this.rAdd,t.gAdd=this.gAdd,t.bAdd=this.bAdd,t.aAdd=this.aAdd,t},toString:function(){return"(redMultiplier="+this.rMult+", greenMultiplier="+this.gMult+", blueMultiplier="+this.bMult+", alphaMultiplier="+this.aMult+", redOffset="+this.rAdd+", greenOffset="+this.gAdd+", blueOffset="+this.bAdd+", alphaOffset="+this.aAdd+")"},__class__:yt});var wt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFFillStyle"]=wt).__name__=["format","swf","data","SWFFillStyle"],wt.__interfaces__=[C],wt.prototype={parse:function(t,e){switch(null==e&&(e=1),this._level=e,this.type=ut.readUI8(t),this.type){case 0:this.rgb=e<=2?ut.readRGB(t):ut.readRGBA(t);break;case 16:case 18:case 19:this.gradientMatrix=ut.readMATRIX(t),this.gradient=19==this.type?ut.readFOCALGRADIENT(t,e):ut.readGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=ut.readUI16(t),this.bitmapMatrix=ut.readMATRIX(t);break;default:throw new fr(new Vh("Unknown fill style type: 0x"+Cs.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),ut.writeUI8(t,this.type),this.type){case 0:e<=2?ut.writeRGB(t,this.rgb):ut.writeRGBA(t,this.rgb);break;case 16:case 18:ut.writeMATRIX(t,this.gradientMatrix),ut.writeGRADIENT(t,this.gradient,e);break;case 19:ut.writeMATRIX(t,this.gradientMatrix),ut.writeFOCALGRADIENT(t,dr.__cast(this.gradient,Tt),e);break;case 64:case 65:case 66:case 67:ut.writeUI16(t,this.bitmapId),ut.writeMATRIX(t,this.bitmapMatrix);break;default:throw new fr(new Vh("Unknown fill style type: 0x"+Cs.hex(this.type)))}},clone:function(){var t=new wt;return t.type=this.type,t.rgb=this.rgb,t.gradient=this.gradient.clone(),t.gradientMatrix=this.gradientMatrix.clone(),t.bitmapId=this.bitmapId,t.bitmapMatrix=this.bitmapMatrix.clone(),t},toString:function(){var t="[SWFFillStyle] Type: "+Ss.printf("%02x",[this.type]);switch(this.type){case 0:t+=" (solid), Color: "+(this._level<=2?ys.rgbToString(this.rgb):ys.rgbaToString(this.rgb));break;case 16:t+=" (linear gradient), Gradient: "+Q.string(this.gradient)+", Matrix: "+Q.string(this.gradientMatrix);break;case 18:t+=" (radial gradient), Gradient: "+Q.string(this.gradient)+", Matrix: "+Q.string(this.gradientMatrix);break;case 19:t+=" (focal radial gradient), Gradient: "+Q.string(this.gradient)+", Matrix: "+Q.string(this.gradientMatrix)+", FocalPoint: "+this.gradient.focalPoint;break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},is_transparent:function(){return!(this._level<=2)&&(null==this.rgb||0==ys.alpha(this.rgb))},getCLID:function(){return wt.__clid},serialize:function(t){var e=this.type;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.rgb;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.addKnownRef(this.gradient),t.addKnownRef(this.gradientMatrix);var n=this.bitmapId;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n)),t.addKnownRef(this.bitmapMatrix);var s=this._level;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("type"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("rgb"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("gradient"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFGradient")),t.fieldsNames.push("gradientMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("bitmapMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("_level"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(wt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.rgb=i,this.gradient=t.getRef(xt,xt.__clid),this.gradientMatrix=t.getRef(Mt,Mt.__clid);var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=n,this.bitmapMatrix=t.getRef(Mt,Mt.__clid);var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this._level=s},__class__:wt};var xt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,this.focalPoint=0,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradient"]=xt).__name__=["format","swf","data","SWFGradient"],xt.__interfaces__=[C],xt.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=ut.readUB(t,2),this.interpolationMode=ut.readUB(t,2);for(var i=0,n=ut.readUB(t,4);i<n;){i++;this.records.push(ut.readGRADIENTRECORD(t,e))}},publish:function(t,e){null==e&&(e=1);var i=this.records.length;t.resetBitsPending(),ut.writeUB(t,2,this.spreadMode),ut.writeUB(t,2,this.interpolationMode),ut.writeUB(t,4,i);for(var n=0,s=i;n<s;){var r=n++;ut.writeGRADIENTRECORD(t,this.records[r],e)}},clone:function(){var t=new xt;t.spreadMode=this.spreadMode,t.interpolationMode=this.interpolationMode,t.focalPoint=this.focalPoint;for(var e=0,i=this.records.length;e<i;){var n=e++;t.records.push(this.records[n].clone())}return t},toString:function(){return"("+this.records.join(",")+"), SpreadMode: "+this.spreadMode+", InterpolationMode: "+this.interpolationMode},getCLID:function(){return xt.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(js.floatToI32(this.focalPoint));var n=this.records;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,t.addKnownRef(a)}}},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("focalPoint"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("records"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFGradientRecord"))),t.isFinal=X.isClassFinal(xt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=i;var n,s=t.input.getFloat(t.inPos);t.inPos+=4,this.focalPoint=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{for(var l=[],h=0,_=--o;h<_;){var u=h++;n=t.getRef(It,It.__clid),l[u]=n}a=l}this.records=a},__class__:xt};var Tt=function(t,e){null==e&&(e=1),xt.call(this,t,e)};(i["format.swf.data.SWFFocalGradient"]=Tt).__name__=["format","swf","data","SWFFocalGradient"],Tt.__super__=xt,Tt.prototype=n(xt.prototype,{parse:function(t,e){xt.prototype.parse.call(this,t,e),this.focalPoint=ut.readFIXED8(t)},publish:function(t,e){null==e&&(e=1),xt.prototype.publish.call(this,t,e),ut.writeFIXED8(t,this.focalPoint)},toString:function(){return"("+this.records.join(",")+")"},getCLID:function(){return Tt.__clid},__class__:Tt});var St=function(t,e){this.frameNumber=t,this.name=e};(i["format.swf.data.SWFFrameLabel"]=St).__name__=["format","swf","data","SWFFrameLabel"],St.prototype={toString:function(){return"Frame: "+this.frameNumber+", Name: "+this.name},__class__:St};var Et=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t&&this.parse(t,e,i)};(i["format.swf.data.SWFGlyphEntry"]=Et).__name__=["format","swf","data","SWFGlyphEntry"],Et.prototype={parse:function(t,e,i){this.index=ut.readUB(t,e),this.advance=ut.readSB(t,i)},publish:function(t,e,i){ut.writeUB(t,e,this.index),ut.writeSB(t,i,this.advance)},clone:function(){var t=new Et;return t.index=this.index,t.advance=this.advance,t},toString:function(){return"[SWFGlyphEntry] Index: "+Q.string(this.index)+", Advance: "+Q.string(this.advance)},__class__:Et};var It=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFGradientRecord"]=It).__name__=["format","swf","data","SWFGradientRecord"],It.__interfaces__=[C],It.prototype={parse:function(t,e){this._level=e,this.ratio=ut.readUI8(t),this.color=e<=2?ut.readRGB(t):ut.readRGBA(t)},publish:function(t,e){ut.writeUI8(t,this.ratio),e<=2?ut.writeRGB(t,this.color):ut.writeRGBA(t,this.color)},clone:function(){var t=new It;return t.ratio=this.ratio,t.color=this.color,t},toString:function(){return"["+this.ratio+","+(this._level<=2?ys.rgbToString(this.color):ys.rgbaToString(this.color))+"]"},getCLID:function(){return It.__clid},serialize:function(t){var e=this.ratio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this._level;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("ratio"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(It.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.ratio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this._level=n},__class__:It};var Ct=function(t,e){null==e&&(e=!1),null!=t&&this.parse(t,e)};(i["format.swf.data.SWFKerningRecord"]=Ct).__name__=["format","swf","data","SWFKerningRecord"],Ct.prototype={parse:function(t,e){this.code1=e?ut.readUI16(t):ut.readUI8(t),this.code2=e?ut.readUI16(t):ut.readUI8(t),this.adjustment=ut.readSI16(t)},publish:function(t,e){e?ut.writeUI16(t,this.code1):ut.writeUI8(t,this.code1),e?ut.writeUI16(t,this.code2):ut.writeUI8(t,this.code2),ut.writeSI16(t,this.adjustment)},toString:function(t){return null==t&&(t=0),"Code1: "+this.code1+", Code2: "+this.code2+", Adjustment: "+this.adjustment},__class__:Ct};var Pt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.hasFillFlag=!1,this.noHScaleFlag=!1,this.noVScaleFlag=!1,this.pixelHintingFlag=!1,this.noClose=!1,this.miterLimitFactor=3,this.color=0,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFLineStyle"]=Pt).__name__=["format","swf","data","SWFLineStyle"],Pt.__interfaces__=[C],Pt.prototype={parse:function(t,e){null==e&&(e=1),this._level=e,this.width=ut.readUI16(t),this.color=e<=2?ut.readRGB(t):ut.readRGBA(t)},publish:function(t,e){null==e&&(e=1),ut.writeUI16(t,this.width),e<=2?ut.writeRGB(t,this.color):ut.writeRGBA(t,this.color)},clone:function(){var t=new Pt;return t.width=this.width,t.color=this.color,t.startCapsStyle=this.startCapsStyle,t.endCapsStyle=this.endCapsStyle,t.jointStyle=this.jointStyle,t.hasFillFlag=this.hasFillFlag,t.noHScaleFlag=this.noHScaleFlag,t.noVScaleFlag=this.noVScaleFlag,t.pixelHintingFlag=this.pixelHintingFlag,t.noClose=this.noClose,t.miterLimitFactor=this.miterLimitFactor,t.fillType=this.fillType.clone(),t},toString:function(){return"[SWFLineStyle] Width: "+this.width+" Color: "+(this._level<=2?ys.rgbToString(this.color):ys.rgbaToString(this.color))},getCLID:function(){return Pt.__clid},serialize:function(t){var e=this.width;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.color;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this._level;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.startCapsStyle;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.endCapsStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.jointStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(js.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("width"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("color"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("_level"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFFillStyle")),t.isFinal=X.isClassFinal(Pt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.width=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.color=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this._level=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=a,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var o=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=o,this.fillType=t.getRef(wt,wt.__clid)},__class__:Pt};var At=function(t,e){null==e&&(e=1),Pt.call(this,t,e)};(i["format.swf.data.SWFLineStyle2"]=At).__name__=["format","swf","data","SWFLineStyle2"],At.__super__=Pt,At.prototype=n(Pt.prototype,{parse:function(t,e){null==e&&(e=1),this.width=ut.readUI16(t),this.startCapsStyle=ut.readUB(t,2),this.jointStyle=ut.readUB(t,2),this.hasFillFlag=1==ut.readUB(t,1),this.noHScaleFlag=1==ut.readUB(t,1),this.noVScaleFlag=1==ut.readUB(t,1),this.pixelHintingFlag=1==ut.readUB(t,1),ut.readUB(t,5),this.noClose=1==ut.readUB(t,1),this.endCapsStyle=ut.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=ut.readFIXED8(t)),this.hasFillFlag?this.fillType=ut.readFILLSTYLE(t,e):this.color=ut.readRGBA(t)},publish:function(t,e){null==e&&(e=1),ut.writeUI16(t,this.width),ut.writeUB(t,2,this.startCapsStyle),ut.writeUB(t,2,this.jointStyle),ut.writeUB(t,1,this.hasFillFlag?1:0),ut.writeUB(t,1,this.noHScaleFlag?1:0),ut.writeUB(t,1,this.noVScaleFlag?1:0),ut.writeUB(t,1,this.pixelHintingFlag?1:0),ut.writeUB(t,5,0),ut.writeUB(t,1,this.noClose?1:0),ut.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&ut.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?ut.writeFILLSTYLE(t,this.fillType,e):ut.writeRGBA(t,this.color)},toString:function(){var t="[SWFLineStyle2] Width: "+this.width+", StartCaps: "+pe.toString(this.startCapsStyle)+", EndCaps: "+pe.toString(this.endCapsStyle)+", Joint: "+ge.toString(this.jointStyle)+", ";return this.noClose&&(t+="NoClose, "),this.noHScaleFlag&&(t+="NoHScale, "),this.noVScaleFlag&&(t+="NoVScale, "),this.pixelHintingFlag&&(t+="PixelHinting, "),this.hasFillFlag?t+="Fill: "+this.fillType.toString():t+="Color: "+ys.rgbaToString(this.color),t},getCLID:function(){return At.__clid},__class__:At});var Mt=function(t){this.__uid=X.SEQ<<24|++X.UID,this.translateY=0,this.translateX=0,this.rotateSkew1=0,this.rotateSkew0=0,this.scaleY=1,this.scaleX=1,null!=t&&this.parse(t)};(i["format.swf.data.SWFMatrix"]=Mt).__name__=["format","swf","data","SWFMatrix"],Mt.__interfaces__=[C],Mt.prototype={get_matrix:function(){return new Co(this.scaleX,this.rotateSkew0,this.rotateSkew1,this.scaleY,this.translateX,this.translateY)},parse:function(t){if(t.resetBitsPending(),this.scaleX=1,(this.scaleY=1)==ut.readUB(t,1)){var e=ut.readUB(t,5);this.scaleX=ut.readFB(t,e),this.scaleY=ut.readFB(t,e)}if(this.rotateSkew0=0,this.rotateSkew1=0,1==ut.readUB(t,1)){var i=ut.readUB(t,5);this.rotateSkew0=ut.readFB(t,i),this.rotateSkew1=ut.readFB(t,i)}var n=ut.readUB(t,5);this.translateX=ut.readSB(t,n),this.translateY=ut.readSB(t,n);var s=this.get_matrix().deltaTransformPoint(new xe(0,1));this.rotation=180/Math.PI*Math.atan2(s.y,s.x)-90,this.rotation<0&&(this.rotation=360+this.rotation),this.xscale=Math.sqrt(this.scaleX*this.scaleX+this.rotateSkew0*this.rotateSkew0)*(this.scaleX<0?-1:1),this.yscale=Math.sqrt(this.rotateSkew1*this.rotateSkew1+this.scaleY*this.scaleY)*(this.scaleY<0?-1:1)},clone:function(){var t=new Mt;return t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotateSkew0=this.rotateSkew0,t.rotateSkew1=this.rotateSkew1,t.translateX=this.translateX,t.translateY=this.translateY,t},isIdentity:function(){return 1==this.scaleX&&1==this.scaleY&&0==this.rotateSkew0&&0==this.rotateSkew1&&0==this.translateX&&0==this.translateY},toString:function(){return"("+this.scaleX+","+this.rotateSkew0+","+this.rotateSkew1+","+this.scaleY+","+this.translateX+","+this.translateY+")"},getCLID:function(){return Mt.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.scaleX)),t.out.addInt32(js.floatToI32(this.scaleY)),t.out.addInt32(js.floatToI32(this.rotateSkew0)),t.out.addInt32(js.floatToI32(this.rotateSkew1));var e=this.translateX;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.translateY;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i)),t.out.addInt32(js.floatToI32(this.xscale)),t.out.addInt32(js.floatToI32(this.yscale)),t.out.addInt32(js.floatToI32(this.rotation))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("scaleX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("scaleY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("rotateSkew0"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("rotateSkew1"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("translateX"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("translateY"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("xscale"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("yscale"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("rotation"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(Mt.__clid),t},unserializeInit:function(){this.scaleX=1,this.scaleY=1,this.rotateSkew0=0,this.rotateSkew1=0,this.translateX=0,this.translateY=0},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.scaleY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew0=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.rotateSkew1=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.translateX=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.translateY=a;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.xscale=o;var l=t.input.getFloat(t.inPos);t.inPos+=4,this.yscale=l;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.rotation=h},__class__:Mt,__properties__:{get_matrix:"get_matrix"}};var Ft=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphFillStyle"]=Ft).__name__=["format","swf","data","SWFMorphFillStyle"],Ft.__interfaces__=[C],Ft.prototype={parse:function(t,e){switch(null==e&&(e=1),this.type=ut.readUI8(t),this.type){case 0:this.startColor=ut.readRGBA(t),this.endColor=ut.readRGBA(t);break;case 16:case 18:case 19:this.startGradientMatrix=ut.readMATRIX(t),this.endGradientMatrix=ut.readMATRIX(t),this.gradient=19==this.type?ut.readMORPHFOCALGRADIENT(t,e):ut.readMORPHGRADIENT(t,e);break;case 64:case 65:case 66:case 67:this.bitmapId=ut.readUI16(t),this.startBitmapMatrix=ut.readMATRIX(t),this.endBitmapMatrix=ut.readMATRIX(t);break;default:throw new fr(new Vh("Unknown fill style type: 0x"+Cs.hex(this.type)))}},publish:function(t,e){switch(null==e&&(e=1),ut.writeUI8(t,this.type),this.type){case 0:ut.writeRGBA(t,this.startColor),ut.writeRGBA(t,this.endColor);break;case 16:case 18:case 19:ut.writeMATRIX(t,this.startGradientMatrix),ut.writeMATRIX(t,this.endGradientMatrix),19==this.type?ut.writeMORPHFOCALGRADIENT(t,dr.__cast(this.gradient,Lt),e):ut.writeMORPHGRADIENT(t,this.gradient,e);break;case 64:case 65:case 66:case 67:ut.writeUI16(t,this.bitmapId),ut.writeMATRIX(t,this.startBitmapMatrix),ut.writeMATRIX(t,this.endBitmapMatrix);break;default:throw new fr(new Vh("Unknown fill style type: 0x"+Cs.hex(this.type)))}},getMorphedFillStyle:function(t){null==t&&(t=0);var e=new wt;switch(e.type=this.type,this.type){case 0:e.rgb=ys.interpolate(this.startColor,this.endColor,t);break;case 16:case 18:e.gradientMatrix=xs.interpolate(this.startGradientMatrix,this.endGradientMatrix,t),e.gradient=this.gradient.getMorphedGradient(t);break;case 64:case 65:case 66:case 67:e.bitmapId=this.bitmapId,e.bitmapMatrix=xs.interpolate(this.startBitmapMatrix,this.endBitmapMatrix,t)}return e},toString:function(){var t="[SWFMorphFillStyle] Type: "+Cs.hex(this.type);switch(this.type){case 0:t+=" (solid), StartColor: "+ys.rgbaToString(this.startColor)+", EndColor: "+ys.rgbaToString(this.endColor);break;case 16:t+=" (linear gradient), Gradient: "+Q.string(this.gradient);break;case 18:t+=" (radial gradient), Gradient: "+Q.string(this.gradient);break;case 19:t+=" (focal radial gradient), Gradient: "+Q.string(this.gradient);break;case 64:t+=" (repeating bitmap), BitmapID: "+this.bitmapId;break;case 65:t+=" (clipped bitmap), BitmapID: "+this.bitmapId;break;case 66:t+=" (non-smoothed repeating bitmap), BitmapID: "+this.bitmapId;break;case 67:t+=" (non-smoothed clipped bitmap), BitmapID: "+this.bitmapId}return t},getCLID:function(){return Ft.__clid},serialize:function(t){var e=this.type;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),null==this.startColor)t.out.b.push(0);else{t.out.b.push(1);var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.endColor)t.out.b.push(0);else{t.out.b.push(1);var n=this.endColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}if(t.addKnownRef(this.startGradientMatrix),t.addKnownRef(this.endGradientMatrix),t.addKnownRef(this.gradient),null==this.bitmapId)t.out.b.push(0);else{t.out.b.push(1);var s=this.bitmapId;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}t.addKnownRef(this.startBitmapMatrix),t.addKnownRef(this.endBitmapMatrix)},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("type"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("endColor"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("startGradientMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endGradientMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("gradient"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMorphGradient")),t.fieldsNames.push("bitmapId"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("startBitmapMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.fieldsNames.push("endBitmapMatrix"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMatrix")),t.isFinal=X.isClassFinal(Ft.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.type=e,0==t.input.b[t.inPos++])this.startColor=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i}if(0==t.input.b[t.inPos++])this.endColor=null;else{var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=n}if(this.startGradientMatrix=t.getRef(Mt,Mt.__clid),this.endGradientMatrix=t.getRef(Mt,Mt.__clid),this.gradient=t.getRef(Bt,Bt.__clid),0==t.input.b[t.inPos++])this.bitmapId=null;else{var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapId=s}this.startBitmapMatrix=t.getRef(Mt,Mt.__clid),this.endBitmapMatrix=t.getRef(Mt,Mt.__clid)},__class__:Ft};var Bt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,this.records=[],null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphGradient"]=Bt).__name__=["format","swf","data","SWFMorphGradient"],Bt.__interfaces__=[C],Bt.prototype={parse:function(t,e){t.resetBitsPending(),this.spreadMode=ut.readUB(t,2),this.interpolationMode=ut.readUB(t,2);for(var i=0,n=ut.readUB(t,4);i<n;){i++;this.records.push(ut.readMORPHGRADIENTRECORD(t))}},publish:function(t,e){var i=this.records.length;t.resetBitsPending(),ut.writeUB(t,2,this.spreadMode),ut.writeUB(t,2,this.interpolationMode),ut.writeUB(t,4,i);for(var n=0,s=i;n<s;){var r=n++;ut.writeMORPHGRADIENTRECORD(t,this.records[r])}},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new xt,i=0,n=this.records.length;i<n;){var s=i++;e.records.push(this.records[s].getMorphedGradientRecord(t))}return e},toString:function(){return"("+this.records.join(",")+"), spread:"+this.spreadMode+", interpolation:"+this.interpolationMode},getCLID:function(){return Bt.__clid},serialize:function(t){var e=this.spreadMode;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.interpolationMode;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.records;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,t.addKnownRef(a)}}},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("spreadMode"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("interpolationMode"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("records"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFMorphGradientRecord"))),t.isFinal=X.isClassFinal(Bt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.spreadMode=e;var i,n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.interpolationMode=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4);var r,a=s;if(0==a)r=null;else{for(var o=[],l=0,h=--a;l<h;){var _=l++;i=t.getRef(kt,kt.__clid),o[_]=i}r=o}this.records=r},__class__:Bt};var Lt=function(t,e){null==e&&(e=1),Bt.call(this,t,e)};(i["format.swf.data.SWFMorphFocalGradient"]=Lt).__name__=["format","swf","data","SWFMorphFocalGradient"],Lt.__super__=Bt,Lt.prototype=n(Bt.prototype,{parse:function(t,e){Bt.prototype.parse.call(this,t,e),this.startFocalPoint=ut.readFIXED8(t),this.endFocalPoint=ut.readFIXED8(t)},publish:function(t,e){Bt.prototype.publish.call(this,t,e),ut.writeFIXED8(t,this.startFocalPoint),ut.writeFIXED8(t,this.endFocalPoint)},getMorphedGradient:function(t){null==t&&(t=0);for(var e=new xt,i=0,n=this.records.length;i<n;){var s=i++;e.records.push(this.records[s].getMorphedGradientRecord(t))}return e},toString:function(){return"FocalPoint: "+this.startFocalPoint+","+this.endFocalPoint+" ("+this.records.join(",")+")"},getCLID:function(){return Lt.__clid},serialize:function(t){Bt.prototype.serialize.call(this,t),t.out.addInt32(js.floatToI32(this.startFocalPoint)),t.out.addInt32(js.floatToI32(this.endFocalPoint))},getSerializeSchema:function(){var t=Bt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startFocalPoint"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("endFocalPoint"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(Lt.__clid),t},unserialize:function(t){Bt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.startFocalPoint=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.endFocalPoint=i},__class__:Lt});var kt=function(t){this.__uid=X.SEQ<<24|++X.UID,null!=t&&this.parse(t)};(i["format.swf.data.SWFMorphGradientRecord"]=kt).__name__=["format","swf","data","SWFMorphGradientRecord"],kt.__interfaces__=[C],kt.prototype={parse:function(t){this.startRatio=ut.readUI8(t),this.startColor=ut.readRGBA(t),this.endRatio=ut.readUI8(t),this.endColor=ut.readRGBA(t)},publish:function(t){ut.writeUI8(t,this.startRatio),ut.writeRGBA(t,this.startColor),ut.writeUI8(t,this.endRatio),ut.writeRGBA(t,this.endColor)},getMorphedGradientRecord:function(t){null==t&&(t=0);var e=new It;return e.color=ys.interpolate(this.startColor,this.endColor,t),e.ratio=this.startRatio+(this.endRatio-this.startRatio)*t|0,e},toString:function(){return"["+this.startRatio+","+ys.rgbaToString(this.startColor)+","+this.endRatio+","+ys.rgbaToString(this.endColor)+"]"},getCLID:function(){return kt.__clid},serialize:function(t){var e=this.startRatio;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.startColor;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.endRatio;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.endColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("startRatio"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endRatio"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(kt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startRatio=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.endRatio=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=s},__class__:kt};var Nt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,this.startCapsStyle=0,this.endCapsStyle=0,this.jointStyle=0,this.miterLimitFactor=3,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFMorphLineStyle"]=Nt).__name__=["format","swf","data","SWFMorphLineStyle"],Nt.__interfaces__=[C],Nt.prototype={parse:function(t,e){null==e&&(e=1),this.startWidth=ut.readUI16(t),this.endWidth=ut.readUI16(t),this.startColor=ut.readRGBA(t),this.endColor=ut.readRGBA(t)},publish:function(t,e){null==e&&(e=1),ut.writeUI16(t,this.startWidth),ut.writeUI16(t,this.endWidth),ut.writeRGBA(t,this.startColor),ut.writeRGBA(t,this.endColor)},getMorphedLineStyle:function(t){null==t&&(t=0);var e=new Pt;return this.hasFillFlag?e.fillType=this.fillType.getMorphedFillStyle(t):(e.color=ys.interpolate(this.startColor,this.endColor,t),e.width=this.startWidth+(this.endWidth-this.startWidth)*t|0),e.startCapsStyle=this.startCapsStyle,e.endCapsStyle=this.endCapsStyle,e.jointStyle=this.jointStyle,e.hasFillFlag=this.hasFillFlag,e.noHScaleFlag=this.noHScaleFlag,e.noVScaleFlag=this.noVScaleFlag,e.pixelHintingFlag=this.pixelHintingFlag,e.noClose=this.noClose,e.miterLimitFactor=this.miterLimitFactor,e},toString:function(){return"[SWFMorphLineStyle] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartColor: "+ys.rgbaToString(this.startColor)+", EndColor: "+ys.rgbaToString(this.endColor)},getCLID:function(){return Nt.__clid},serialize:function(t){var e=this.startWidth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.endWidth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.startColor;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.endColor;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.startCapsStyle;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.endCapsStyle;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));var o=this.jointStyle;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.out.b.push(this.hasFillFlag?1:0),t.out.b.push(this.noHScaleFlag?1:0),t.out.b.push(this.noVScaleFlag?1:0),t.out.b.push(this.pixelHintingFlag?1:0),t.out.b.push(this.noClose?1:0),t.out.addInt32(js.floatToI32(this.miterLimitFactor)),t.addKnownRef(this.fillType)},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("startWidth"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endWidth"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("startColor"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endColor"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("startCapsStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("endCapsStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("jointStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("hasFillFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noHScaleFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noVScaleFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("pixelHintingFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noClose"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("miterLimitFactor"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("fillType"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFMorphFillStyle")),t.isFinal=X.isClassFinal(Nt.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.startWidth=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.endWidth=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.startColor=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.endColor=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.startCapsStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.endCapsStyle=a;var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),this.jointStyle=o,this.hasFillFlag=0!=t.input.b[t.inPos++],this.noHScaleFlag=0!=t.input.b[t.inPos++],this.noVScaleFlag=0!=t.input.b[t.inPos++],this.pixelHintingFlag=0!=t.input.b[t.inPos++],this.noClose=0!=t.input.b[t.inPos++];var l=t.input.getFloat(t.inPos);t.inPos+=4,this.miterLimitFactor=l,this.fillType=t.getRef(Ft,Ft.__clid)},__class__:Nt};var Ot=function(t,e){null==e&&(e=1),Nt.call(this,t,e)};(i["format.swf.data.SWFMorphLineStyle2"]=Ot).__name__=["format","swf","data","SWFMorphLineStyle2"],Ot.__super__=Nt,Ot.prototype=n(Nt.prototype,{parse:function(t,e){null==e&&(e=1),this.startWidth=ut.readUI16(t),this.endWidth=ut.readUI16(t),this.startCapsStyle=ut.readUB(t,2),this.jointStyle=ut.readUB(t,2),this.hasFillFlag=1==ut.readUB(t,1),this.noHScaleFlag=1==ut.readUB(t,1),this.noVScaleFlag=1==ut.readUB(t,1),this.pixelHintingFlag=1==ut.readUB(t,1),ut.readUB(t,5),this.noClose=1==ut.readUB(t,1),this.endCapsStyle=ut.readUB(t,2),2==this.jointStyle&&(this.miterLimitFactor=ut.readFIXED8(t)),this.hasFillFlag?this.fillType=ut.readMORPHFILLSTYLE(t,e):(this.startColor=ut.readRGBA(t),this.endColor=ut.readRGBA(t))},publish:function(t,e){null==e&&(e=1),ut.writeUI16(t,this.startWidth),ut.writeUI16(t,this.endWidth),ut.writeUB(t,2,this.startCapsStyle),ut.writeUB(t,2,this.jointStyle),ut.writeUB(t,1,this.hasFillFlag?1:0),ut.writeUB(t,1,this.noHScaleFlag?1:0),ut.writeUB(t,1,this.noVScaleFlag?1:0),ut.writeUB(t,1,this.pixelHintingFlag?1:0),ut.writeUB(t,5,0),ut.writeUB(t,1,this.noClose?1:0),ut.writeUB(t,2,this.endCapsStyle),2==this.jointStyle&&ut.writeFIXED8(t,this.miterLimitFactor),this.hasFillFlag?ut.writeMORPHFILLSTYLE(t,this.fillType,e):(ut.writeRGBA(t,this.startColor),ut.writeRGBA(t,this.endColor))},toString:function(){var t="[SWFMorphLineStyle2] StartWidth: "+this.startWidth+", EndWidth: "+this.endWidth+", StartCaps: "+pe.toString(this.startCapsStyle)+", EndCaps: "+pe.toString(this.endCapsStyle)+", Joint: "+ge.toString(this.jointStyle);return this.hasFillFlag?t+=", Fill: "+this.fillType.toString():(t+=", StartColor: "+ys.rgbaToString(this.startColor),t+=", EndColor: "+ys.rgbaToString(this.endColor)),t},getCLID:function(){return Ot.__clid},__class__:Ot});var Ut=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRawTag"]=Ut).__name__=["format","swf","data","SWFRawTag"],Ut.prototype={parse:function(t){var e=t.position;this.header=ut.readTagHeader(t),this.bytes=ut._new();var i=t.position;t.position=e,t.readBytes(Su.fromBytes(this.bytes),0,this.header.get_tagLength()),t.position=i},publish:function(t){t.writeBytes(Su.fromBytes(this.bytes))},__class__:Ut};var Xt=function(t,e,i){this.type=t,this.contentLength=e,this.headerLength=i};(i["format.swf.data.SWFRecordHeader"]=Xt).__name__=["format","swf","data","SWFRecordHeader"],Xt.prototype={get_tagLength:function(){return this.headerLength+this.contentLength},toString:function(){return"[SWFRecordHeader] type: "+this.type+", headerLength: "+this.headerLength+", contentlength: "+this.contentLength},__class__:Xt,__properties__:{get_tagLength:"get_tagLength"}};var Vt=function(t){this.xmax=11e3,this.ymax=8e3,this._rectangle=new H_,null!=t&&this.parse(t)};(i["format.swf.data.SWFRectangle"]=Vt).__name__=["format","swf","data","SWFRectangle"],Vt.prototype={parse:function(t){t.resetBitsPending();var e=ut.readUB(t,5);this.xmin=ut.readSB(t,e),this.xmax=ut.readSB(t,e),this.ymin=ut.readSB(t,e),this.ymax=ut.readSB(t,e)},publish:function(t){var e=t.calculateMaxBits(!0,[this.xmin,this.xmax,this.ymin,this.ymax]);t.resetBitsPending(),ut.writeUB(t,5,e),ut.writeSB(t,e,this.xmin),ut.writeSB(t,e,this.xmax),ut.writeSB(t,e,this.ymin),ut.writeSB(t,e,this.ymax)},clone:function(){var t=new Vt;return t.xmin=this.xmin,t.xmax=this.xmax,t.ymin=this.ymin,t.ymax=this.ymax,t},get_rect:function(){return this._rectangle.set_left(Ts.roundPixels20(this.xmin/20)),this._rectangle.set_right(Ts.roundPixels20(this.xmax/20)),this._rectangle.set_top(Ts.roundPixels20(this.ymin/20)),this._rectangle.set_bottom(Ts.roundPixels20(this.ymax/20)),this._rectangle},toString:function(){return"("+this.xmin+","+this.xmax+","+this.ymin+","+this.ymax+")"},toStringSize:function(){return"("+(this.xmax/20-this.xmin/20)+","+(this.ymax/20-this.ymin/20)+")"},__class__:Vt,__properties__:{get_rect:"get_rect"}};var zt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFRegisterParam"]=zt).__name__=["format","swf","data","SWFRegisterParam"],zt.prototype={parse:function(t){this.register=ut.readUI8(t),this.name=ut.readSTRING(t)},publish:function(t){ut.writeUI8(t,this.register),ut.writeSTRING(t,this.name)},toString:function(){return this.register+":"+this.name},__class__:zt};var Ht=function(t,e){this.offset=t,this.name=e};(i["format.swf.data.SWFScene"]=Ht).__name__=["format","swf","data","SWFScene"],Ht.prototype={toString:function(){return"Frame: "+this.offset+", Name: "+this.name},__class__:Ht};var Wt=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,this.edgeMapsCreated=!1,this.records=[],this.fillStyles=[],this.lineStyles=[],this.subLineStyles=[],this.unitDivisor=i,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShape"]=Wt).__name__=["format","swf","data","SWFShape"],Wt.__interfaces__=[C],Wt.getCoordMapKey=function(t){return t.x+"_"+t.y},Wt.prototype={getMaxFillStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var n=e++,s=this.records[n];if(2==s.get_type()){var r=dr.__cast(s,Jt);if(r.fillStyle0>t&&(t=r.fillStyle0),r.fillStyle1>t&&(t=r.fillStyle1),r.stateNewStyles)break}}return t},getMaxLineStyleIndex:function(){for(var t=0,e=0,i=this.records.length;e<i;){var n=e++,s=this.records[n];if(2==s.get_type()){var r=dr.__cast(s,Jt);if(r.lineStyle>t&&(t=r.lineStyle),r.stateNewStyles)break}}return t},parse:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=ut.readUB(t,4),n=ut.readUB(t,4);this.readShapeRecords(t,i,n,e)},publish:function(t,e){null==e&&(e=1);var i=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),n=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),ut.writeUB(t,4,i),ut.writeUB(t,4,n),this.writeShapeRecords(t,i,n,e)},readShapeRecords:function(t,e,i,n){null==n&&(n=1);for(var s=null;!dr.__instanceof(s,jt);){if(1==ut.readUB(t,1)){var r=1==ut.readUB(t,1),a=ut.readUB(t,4)+2;s=r?ut.readSTRAIGHTEDGERECORD(t,a):ut.readCURVEDEDGERECORD(t,a)}else{var o=ut.readUB(t,5);if(0==o)s=new jt;else{var l=ut.readSTYLECHANGERECORD(t,o,e,i,n);l.stateNewStyles&&(e=l.numFillBits,i=l.numLineBits),s=l}}this.records.push(s)}},writeShapeRecords:function(t,e,i,n){null==n&&(n=1),0!=this.records.length&&dr.__instanceof(this.records[this.records.length-1],jt)||this.records.push(new jt);for(var s=0,r=this.records.length;s<r;){var a=s++,o=this.records[a];if(o.get_isEdgeRecord())ut.writeUB(t,1,1),3==o.get_type()?(ut.writeUB(t,1,1),ut.writeSTRAIGHTEDGERECORD(t,dr.__cast(o,qt))):(ut.writeUB(t,1,0),ut.writeCURVEDEDGERECORD(t,dr.__cast(o,Kt)));else if(ut.writeUB(t,1,0),1==o.get_type())ut.writeUB(t,5,0);else{var l=0,h=dr.__cast(o,Jt);h.stateNewStyles&&(l|=16),h.stateLineStyle&&(l|=8),h.stateFillStyle1&&(l|=4),h.stateFillStyle0&&(l|=2),h.stateMoveTo&&(l|=1),ut.writeUB(t,5,l),ut.writeSTYLECHANGERECORD(t,h,e,i,n),h.stateNewStyles&&(e=h.numFillBits,i=h.numLineBits)}}},export:function(t){this.edgeMapsCreated=!1,this.createEdgeMaps(),null==t&&(t=new We),t.beginShape();for(var e=0,i=this.numGroups;e<i;){var n=e++;this.exportSubLinePath(t,n),this.exportFillPath(t,n),this.exportLinePath(t,n)}t.endShape()},createEdgeMaps:function(){if(!this.edgeMapsCreated){var t,e,i,n=0,s=0,r=0,a=0,o=0,l=0,h=0,_=[];this.numGroups=0,this.fillEdgeMaps=[],this.lineEdgeMaps=[],this.subLineEdgeMaps=[],this.currentFillEdgeMap=new Gs,this.currentLineEdgeMap=new Gs,this.currentSubLineEdgeMap=new Gs;for(var u=0,c=this.records.length;u<c;){var f=u++,d=this.records[f];switch(d.get_type()){case 1:this.processSubPath(_,h,o,l),this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.numGroups++;break;case 2:var p=dr.__cast(d,Jt);(p.stateLineStyle||p.stateFillStyle0||p.stateFillStyle1)&&(this.processSubPath(_,h,o,l),_=[]),p.stateNewStyles&&(r=this.fillStyles.length,a=this.lineStyles.length,this.appendFillStyles(this.fillStyles,p.fillStyles),this.appendLineStyles(this.lineStyles,p.lineStyles)),p.stateLineStyle&&0==p.lineStyle&&p.stateFillStyle0&&0==p.fillStyle0&&p.stateFillStyle1&&0==p.fillStyle1?(this.cleanEdgeMap(this.currentFillEdgeMap),this.cleanEdgeMap(this.currentLineEdgeMap),this.cleanEdgeMap(this.currentSubLineEdgeMap),this.fillEdgeMaps.push(this.currentFillEdgeMap),this.lineEdgeMaps.push(this.currentLineEdgeMap),this.subLineEdgeMaps.push(this.currentSubLineEdgeMap),this.currentFillEdgeMap=new Gs,this.currentLineEdgeMap=new Gs,this.currentSubLineEdgeMap=new Gs,l=o=h=0,this.numGroups++):(p.stateLineStyle&&0<(h=p.lineStyle)&&(h+=a),p.stateFillStyle0&&0<(o=p.fillStyle0)&&(o+=r),p.stateFillStyle1&&0<(l=p.fillStyle1)&&(l+=r)),p.stateMoveTo&&(n=p.moveDeltaX/this.unitDivisor,s=p.moveDeltaY/this.unitDivisor);break;case 3:var g=dr.__cast(d,qt);t=new xe(Ts.roundPixels400(n),Ts.roundPixels400(s)),g.generalLineFlag?(n+=g.deltaX/this.unitDivisor,s+=g.deltaY/this.unitDivisor):g.vertLineFlag?s+=g.deltaY/this.unitDivisor:n+=g.deltaX/this.unitDivisor,e=new xe(Ts.roundPixels400(n),Ts.roundPixels400(s)),_.push(new Ce(t,e,h,l));break;case 4:var m=dr.__cast(d,Kt);t=new xe(Ts.roundPixels400(n),Ts.roundPixels400(s));var v=n+m.controlDeltaX/this.unitDivisor,b=s+m.controlDeltaY/this.unitDivisor;n=v+m.anchorDeltaX/this.unitDivisor,s=b+m.anchorDeltaY/this.unitDivisor,i=new xe(v,b),e=new xe(Ts.roundPixels400(n),Ts.roundPixels400(s)),_.push(new Pe(t,i,e,h,l))}}this.edgeMapsCreated=!0}},processSubPath:function(t,e,i,n){var s=[];if(0!=i&&null!=this.fillStyles[i-1]&&!this.fillStyles[i-1].is_transparent()&&0!=n&&null!=this.fillStyles[n-1]&&!this.fillStyles[n-1].is_transparent()){var r=this.subLineStyles.length+1;this.currentSubLineEdgeMap.h[r]=s;var a=this.fillStyles[n-1];if(0==a.type){var o=new Pt;o.hasFillFlag=!0,o.fillType=a,o.noClose=!0,o.width=1,this.subLineStyles.push(o);for(var l=[],h=0;h<t.length;){var _=t[h];++h;var u=_.clone();u.subLineStyleIdx=r,l.push(u)}this.appendEdges(s,l)}}if(0!=i){if(null==(s=this.currentFillEdgeMap.h[i])){this.currentFillEdgeMap.h[i]=[],s=this.currentFillEdgeMap.h[i]}for(var c=t.length-1;0<=c;)s.push(t[c].reverseWithNewFillStyle(i)),--c}if(0!=n){if(null==(s=this.currentFillEdgeMap.h[n])){this.currentFillEdgeMap.h[n]=[],s=this.currentFillEdgeMap.h[n]}this.appendEdges(s,t)}if(0!=e){if(null==(s=this.currentLineEdgeMap.h[e])){this.currentLineEdgeMap.h[e]=[],s=this.currentLineEdgeMap.h[e]}this.appendEdges(s,t)}},exportFillPath:function(e,t){var i=this.createPathFromEdgeMap(this.fillEdgeMaps[t]),n=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE),s=0|ut.MAX_FLOAT_VALUE;if(0<i.length){e.beginFills();for(var r=0,a=i.length;r<a;){var o=i[r++];if(s!=o.fillStyleIdx){s!=ut.MAX_FLOAT_VALUE&&e.endFill(),s=o.fillStyleIdx,n=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE);try{var l,h=this.fillStyles[s-1];if(null!=h)switch(h.type){case 0:e.beginFill(ys.rgb(h.rgb),ys.alpha(h.rgb));break;case 16:case 18:case 19:var _,u=[],c=[],f=[];(l=h.gradientMatrix.get_matrix().clone()).tx/=20,l.ty/=20;for(var d=0,p=h.gradient.records.length;d<p;){var g=d++;_=h.gradient.records[g],u.push(ys.rgb(_.color)),c.push(ys.alpha(_.color)),f.push(_.ratio)}e.beginGradientFill(16==h.type?0:1,u,c,f,l,de.toEnum(h.gradient.spreadMode),fe.toEnum(h.gradient.interpolationMode),h.gradient.focalPoint);break;case 64:case 65:case 66:case 67:var m=h.bitmapMatrix;l=new Co(m.scaleX/20,m.rotateSkew0/20,m.rotateSkew1/20,m.scaleY/20,m.translateX/20,m.translateY/20),e.beginBitmapFill(h.bitmapId,l,64==h.type||66==h.type,64==h.type||65==h.type)}else e.beginFill(16777215)}catch(t){if((Is.lastException=t)instanceof fr&&(t=t.val),!dr.__instanceof(t,Vh))throw t;e.beginFill(0)}}if(n.equals(o.from)||e.moveTo(o.from.x,o.from.y),dr.__instanceof(o,Pe)){var v=o;e.curveTo(v.control.x,v.control.y,v.to.x,v.to.y)}else e.lineTo(o.to.x,o.to.y);n=o.to}s!=ut.MAX_FLOAT_VALUE&&e.endFill(),e.endFills()}},exportSubLinePath:function(t,e){var i,n=this.createPathFromEdgeMap(this.subLineEdgeMaps[e]),s=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE),r=0|ut.MAX_FLOAT_VALUE;if(0<n.length){t.beginLines();for(var a=0,o=n.length;a<o;){var l=n[a++];if(r!=l.subLineStyleIdx&&(r=l.subLineStyleIdx,s=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE),i=this.subLineStyles.length>r-1?this.subLineStyles[r-1]:null,this.addLineStyleToHandler(t,i)),l.from.equals(s)||t.moveTo(l.from.x,l.from.y),dr.__instanceof(l,Pe)){var h=l;t.curveTo(h.control.x,h.control.y,h.to.x,h.to.y)}else t.lineTo(l.to.x,l.to.y);s=l.to}t.endLines()}},exportLinePath:function(t,e){var i,n=this.createPathFromEdgeMap(this.lineEdgeMaps[e]),s=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE),r=0|ut.MAX_FLOAT_VALUE;if(0<n.length){t.beginLines();for(var a=0,o=n.length;a<o;){var l=n[a++];if(r!=l.lineStyleIdx&&(r=l.lineStyleIdx,s=new xe(ut.MAX_FLOAT_VALUE,ut.MAX_FLOAT_VALUE),i=this.lineStyles.length>r-1?this.lineStyles[r-1]:null,this.addLineStyleToHandler(t,i)),l.from.equals(s)||t.moveTo(l.from.x,l.from.y),dr.__instanceof(l,Pe)){var h=l;t.curveTo(h.control.x,h.control.y,h.to.x,h.to.y)}else t.lineTo(l.to.x,l.to.y);s=l.to}t.endLines()}},addLineStyleToHandler:function(t,e){if(null!=e){var i=2;if(e.noHScaleFlag&&e.noVScaleFlag?i=1:e.noHScaleFlag?i=0:e.noVScaleFlag&&(i=3),e.hasFillFlag){var n=e.fillType;switch(n.type){case 0:t.lineStyle(e.width/20,ys.rgb(n.rgb),ys.alpha(n.rgb),e.pixelHintingFlag,i,pe.toEnum(e.startCapsStyle),pe.toEnum(e.endCapsStyle),ge.toEnum(e.jointStyle),e.miterLimitFactor);break;case 16:case 18:case 19:var s,r=n.gradient,a=[],o=[],l=[],h=n.gradientMatrix.get_matrix().clone();h.tx/=20,h.ty/=20;for(var _=0,u=n.gradient.records.length;_<u;){var c=_++;s=n.gradient.records[c],a.push(ys.rgb(s.color)),o.push(ys.alpha(s.color)),l.push(s.ratio)}t.lineGradientStyle(16==n.type?0:1,a,o,l,h,de.toEnum(r.spreadMode),fe.toEnum(r.interpolationMode),r.focalPoint);break;case 64:case 65:case 66:case 67:var f=n.bitmapMatrix,d=new Co(f.scaleX/20,f.rotateSkew0/20,f.rotateSkew1/20,f.scaleY/20,f.translateX/20,f.translateY/20);t.lineBitmapStyle(n.bitmapId,d,64==n.type||66==n.type,64==n.type||65==n.type)}}else t.lineStyle(e.width/20,ys.rgb(e.color),ys.alpha(e.color),e.pixelHintingFlag,i,pe.toEnum(e.startCapsStyle),pe.toEnum(e.endCapsStyle),ge.toEnum(e.jointStyle),e.miterLimitFactor);if(e.hasFillFlag){var p=e.fillType;switch(p.type){case 16:case 18:case 19:var g,m=[],v=[],b=[],y=p.gradientMatrix.get_matrix().clone();y.tx/=20,y.ty/=20;for(var w=0,x=p.gradient.records.length;w<x;){var T=w++;g=p.gradient.records[T],m.push(ys.rgb(g.color)),v.push(ys.alpha(g.color)),b.push(g.ratio)}t.lineGradientStyle(16==p.type?0:1,m,v,b,y,de.toEnum(p.gradient.spreadMode),fe.toEnum(p.gradient.interpolationMode),p.gradient.focalPoint)}}}else t.lineStyle(0)},createPathFromEdgeMap:function(t){for(var e=[],i=[],n=t.keys();n.hasNext();){var s=n.next();i.push(0|s)}i.sort(function(t,e){return t-e});for(var r=0,a=i.length;r<a;){var o=r++;this.appendEdges(e,t.h[i[o]])}return e},cleanEdgeMap:function(t){for(var e=t.keys();e.hasNext();){var i=e.next(),n=t.h[i];if(null!=n&&0<n.length){var s,r=null,a=[];for(this.createCoordMap(n);0<n.length;)for(s=0;s<n.length;)if(null==r||r.to.equals(n[s].from)){var o=n.splice(s,1)[0];a.push(o),this.removeEdgeFromCoordMap(o),r=o}else{var l=this.findNextEdgeInCoordMap(r);if(null!=l){for(var h=n.length;0<=--h;)if(n[h]==l){s=h;break}}else s=0,r=null}t.h[i]=a}}},createCoordMap:function(t){this.coordMap=new zs;for(var e=0,i=t.length;e<i;){var n=e++,s=t[n].from,r=Wt.getCoordMapKey(s),a=this.coordMap,o=null!=df[r]?a.getReserved(r):a.h[r];if(null==o){var l=this.coordMap,h=[t[n]];null!=df[r]?l.setReserved(r,h):l.h[r]=h}else o.push(t[n])}},removeEdgeFromCoordMap:function(t){var e=Wt.getCoordMapKey(t.from),i=this.coordMap,n=null!=df[e]?i.getReserved(e):i.h[e];if(null!=n)if(1==n.length)this.coordMap.remove(e);else for(var s=n.length;0<=--s;)if(n[s]==t){n.splice(s,1);break}},findNextEdgeInCoordMap:function(t){var e=Wt.getCoordMapKey(t.to),i=this.coordMap,n=null!=df[e]?i.getReserved(e):i.h[e];return null!=n&&0<n.length?n[0]:null},appendFillStyles:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},appendLineStyles:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},appendEdges:function(t,e){for(var i=0,n=e.length;i<n;){var s=i++;t.push(e[s])}},toString:function(t){null==t&&(t=0);for(var e="\n"+Ss.repeat(t)+"ShapeRecords:",i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.records[s].toString(t+2)}return e},getCLID:function(){return Wt.__clid},serialize:function(t){var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.out.addInt32(js.floatToI32(this.unitDivisor))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("records"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFShapeRecord"))),t.fieldsNames.push("unitDivisor"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(Wt.__clid),t},unserializeInit:function(){this.edgeMapsCreated=!1},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(Yt,Yt.__clid),r[l]=e}n=r}this.records=n;var h=t.input.getFloat(t.inPos);t.inPos+=4,this.unitDivisor=h},__class__:Wt};var Yt=function(t,e){null==e&&(e=1),this.__uid=X.SEQ<<24|++X.UID,null!=t&&this.parse(t,e)};(i["format.swf.data.SWFShapeRecord"]=Yt).__name__=["format","swf","data","SWFShapeRecord"],Yt.__interfaces__=[C],Yt.prototype={get_type:function(){return 0},get_isEdgeRecord:function(){return 3==this.get_type()||4==this.get_type()},parse:function(t,e){null==e&&(e=1)},publish:function(t,e){null==e&&(e=1)},clone:function(){return null},toString:function(t){return null==t&&(t=0),"[SWFShapeRecord]"},getCLID:function(){return Yt.__clid},serialize:function(t){},getSerializeSchema:function(){var t=new lr;return t.isFinal=X.isClassFinal(Yt.__clid),t},unserializeInit:function(){},unserialize:function(t){},__class__:Yt,__properties__:{get_isEdgeRecord:"get_isEdgeRecord",get_type:"get_type"}};var Kt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Yt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordCurvedEdge"]=Kt).__name__=["format","swf","data","SWFShapeRecordCurvedEdge"],Kt.__super__=Yt,Kt.prototype=n(Yt.prototype,{parse:function(t,e){null==e&&(e=1),this.controlDeltaX=ut.readSB(t,this.numBits),this.controlDeltaY=ut.readSB(t,this.numBits),this.anchorDeltaX=ut.readSB(t,this.numBits),this.anchorDeltaY=ut.readSB(t,this.numBits)},publish:function(t,e){throw null==e&&(e=1),new fr(":TODO:")},clone:function(){var t=new Kt;return t.anchorDeltaX=this.anchorDeltaX,t.anchorDeltaY=this.anchorDeltaY,t.controlDeltaX=this.controlDeltaX,t.controlDeltaY=this.controlDeltaY,t.numBits=this.numBits,t},get_type:function(){return 4},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordCurvedEdge] ControlDelta: "+this.controlDeltaX+","+this.controlDeltaY+", AnchorDelta: "+this.anchorDeltaX+","+this.anchorDeltaY},getCLID:function(){return Kt.__clid},serialize:function(t){Yt.prototype.serialize.call(this,t),t.out.addInt32(js.floatToI32(this.controlDeltaX)),t.out.addInt32(js.floatToI32(this.controlDeltaY)),t.out.addInt32(js.floatToI32(this.anchorDeltaX)),t.out.addInt32(js.floatToI32(this.anchorDeltaY));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Yt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("controlDeltaX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("controlDeltaY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("anchorDeltaX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("anchorDeltaY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(Kt.__clid),t},unserialize:function(t){Yt.prototype.unserialize.call(this,t);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.controlDeltaY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaX=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.anchorDeltaY=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=r},__class__:Kt});var jt=function(){Yt.call(this)};(i["format.swf.data.SWFShapeRecordEnd"]=jt).__name__=["format","swf","data","SWFShapeRecordEnd"],jt.__super__=Yt,jt.prototype=n(Yt.prototype,{clone:function(){return new jt},get_type:function(){return 1},toString:function(t){return null==t&&(t=0),"[SWFShapeRecordEnd]"},getCLID:function(){return jt.__clid},__class__:jt});var qt=function(t,e,i){null==i&&(i=1),null==e&&(e=0),this.numBits=e,Yt.call(this,t,i)};(i["format.swf.data.SWFShapeRecordStraightEdge"]=qt).__name__=["format","swf","data","SWFShapeRecordStraightEdge"],qt.__super__=Yt,qt.prototype=n(Yt.prototype,{parse:function(t,e){null==e&&(e=1),this.generalLineFlag=1==ut.readUB(t,1),this.vertLineFlag=!this.generalLineFlag&&1==ut.readUB(t,1),this.deltaX=this.generalLineFlag||!this.vertLineFlag?ut.readSB(t,this.numBits):0,this.deltaY=this.generalLineFlag||this.vertLineFlag?ut.readSB(t,this.numBits):0},publish:function(t,e){throw null==e&&(e=1),new fr(":TODO:")},clone:function(){var t=new qt;return t.deltaX=this.deltaX,t.deltaY=this.deltaY,t.generalLineFlag=this.generalLineFlag,t.vertLineFlag=this.vertLineFlag,t.numBits=this.numBits,t},get_type:function(){return 3},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStraightEdge] ";return this.generalLineFlag?e+="General: "+this.deltaX+","+this.deltaY:this.vertLineFlag?e+="Vertical: "+this.deltaY:e+="Horizontal: "+this.deltaX,e},getCLID:function(){return qt.__clid},serialize:function(t){Yt.prototype.serialize.call(this,t),t.out.b.push(this.generalLineFlag?1:0),t.out.b.push(this.vertLineFlag?1:0),t.out.addInt32(js.floatToI32(this.deltaY)),t.out.addInt32(js.floatToI32(this.deltaX));var e=this.numBits;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))},getSerializeSchema:function(){var t=Yt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("generalLineFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("vertLineFlag"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("deltaY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("deltaX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("numBits"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(qt.__clid),t},unserialize:function(t){Yt.prototype.unserialize.call(this,t),this.generalLineFlag=0!=t.input.b[t.inPos++],this.vertLineFlag=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaY=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.deltaX=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.numBits=n},__class__:qt});var Jt=function(t,e,i,n,s){null==s&&(s=1),null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),this.numLineBits=0,this.numFillBits=0,this.lineStyle=0,this.fillStyle1=0,this.fillStyle0=0,this.moveDeltaY=0,this.moveDeltaX=0,this.fillStyles=[],this.lineStyles=[],this.stateNewStyles=0!=(16&e),this.stateLineStyle=0!=(8&e),this.stateFillStyle1=0!=(4&e),this.stateFillStyle0=0!=(2&e),this.stateMoveTo=0!=(1&e),this.numFillBits=i,this.numLineBits=n,Yt.call(this,t,s)};(i["format.swf.data.SWFShapeRecordStyleChange"]=Jt).__name__=["format","swf","data","SWFShapeRecordStyleChange"],Jt.__super__=Yt,Jt.prototype=n(Yt.prototype,{get_type:function(){return 2},parse:function(t,e){if(null==e&&(e=1),this.stateMoveTo){var i=ut.readUB(t,5);this.moveDeltaX=ut.readSB(t,i),this.moveDeltaY=ut.readSB(t,i)}if(this.fillStyle0=this.stateFillStyle0?ut.readUB(t,this.numFillBits):0,this.fillStyle1=this.stateFillStyle1?ut.readUB(t,this.numFillBits):0,this.lineStyle=this.stateLineStyle?ut.readUB(t,this.numLineBits):0,this.stateNewStyles){t.resetBitsPending();for(var n=0,s=this.readStyleArrayLength(t,e);n<s;){n++;this.fillStyles.push(ut.readFILLSTYLE(t,e))}for(var r=0,a=this.readStyleArrayLength(t,e);r<a;){r++;this.lineStyles.push(e<=3?ut.readLINESTYLE(t,e):ut.readLINESTYLE2(t,e))}t.resetBitsPending(),this.numFillBits=ut.readUB(t,4),this.numLineBits=ut.readUB(t,4)}},publish:function(t,e){throw null==e&&(e=1),new fr(":TODO:")},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=ut.readUI8(t);return 2<=e&&255==i&&(i=ut.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(ut.writeUI8(t,255),ut.writeUI16(t,e)):ut.writeUI8(t,e)},clone:function(){var t=new Jt;t.stateNewStyles=this.stateNewStyles,t.stateLineStyle=this.stateLineStyle,t.stateFillStyle1=this.stateFillStyle1,t.stateFillStyle0=this.stateFillStyle0,t.stateMoveTo=this.stateMoveTo,t.moveDeltaX=this.moveDeltaX,t.moveDeltaY=this.moveDeltaY,t.fillStyle0=this.fillStyle0,t.fillStyle1=this.fillStyle1,t.lineStyle=this.lineStyle,t.numFillBits=this.numFillBits,t.numLineBits=this.numLineBits;for(var e=0,i=this.fillStyles.length;e<i;){var n=e++;t.fillStyles.push(this.fillStyles[n].clone())}for(var s=0,r=this.lineStyles.length;s<r;){var a=s++;t.lineStyles.push(this.lineStyles[a].clone())}return t},toString:function(t){null==t&&(t=0);var e="[SWFShapeRecordStyleChange] ",i=[];if(this.stateMoveTo&&i.push("MoveTo: "+this.moveDeltaX+","+this.moveDeltaY),this.stateFillStyle0&&i.push("FillStyle0: "+this.fillStyle0),this.stateFillStyle1&&i.push("FillStyle1: "+this.fillStyle1),this.stateLineStyle&&i.push("LineStyle: "+this.lineStyle),0<i.length&&(e+=i.join(", ")),this.stateNewStyles){if(0<this.fillStyles.length){e+="\n"+Ss.repeat(t+2)+"New FillStyles:";for(var n=0,s=this.fillStyles.length;n<s;){var r=n++;e+="\n"+Ss.repeat(t+4)+"["+(r+1)+"] "+this.fillStyles[r].toString()}}if(0<this.lineStyles.length){e+="\n"+Ss.repeat(t+2)+"New LineStyles:";for(var a=0,o=this.lineStyles.length;a<o;){var l=a++;e+="\n"+Ss.repeat(t+4)+"["+(l+1)+"] "+this.lineStyles[l].toString()}}}return e},getCLID:function(){return Jt.__clid},serialize:function(t){Yt.prototype.serialize.call(this,t),t.out.b.push(this.stateNewStyles?1:0),t.out.b.push(this.stateLineStyle?1:0),t.out.b.push(this.stateFillStyle1?1:0),t.out.b.push(this.stateFillStyle0?1:0),t.out.b.push(this.stateMoveTo?1:0),t.out.addInt32(js.floatToI32(this.moveDeltaX)),t.out.addInt32(js.floatToI32(this.moveDeltaY));var e=this.fillStyle0;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyle1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.lineStyle;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));var s=this.numFillBits;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));var r=this.numLineBits;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r));var a=this.fillStyles;if(null==a)t.out.b.push(0);else{var o=a.length+1;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o));for(var l=0;l<a.length;){var h=a[l];++l,t.addKnownRef(h)}}var _=this.lineStyles;if(null==_)t.out.b.push(0);else{var u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=0;c<_.length;){var f=_[c];++c,t.addKnownRef(f)}}},getSerializeSchema:function(){var t=Yt.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("stateNewStyles"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("stateLineStyle"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("stateFillStyle1"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("stateFillStyle0"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("stateMoveTo"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("moveDeltaX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("moveDeltaY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("fillStyle0"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fillStyle1"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("lineStyle"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("numFillBits"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("numLineBits"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fillStyles"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFFillStyle"))),t.fieldsNames.push("lineStyles"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFLineStyle"))),t.isFinal=X.isClassFinal(Jt.__clid),t},unserializeInit:function(){Yt.prototype.unserializeInit.call(this),this.moveDeltaX=0,this.moveDeltaY=0,this.fillStyle0=0,this.fillStyle1=0,this.lineStyle=0,this.numFillBits=0,this.numLineBits=0},unserialize:function(t){Yt.prototype.unserialize.call(this,t),this.stateNewStyles=0!=t.input.b[t.inPos++],this.stateLineStyle=0!=t.input.b[t.inPos++],this.stateFillStyle1=0!=t.input.b[t.inPos++],this.stateFillStyle0=0!=t.input.b[t.inPos++],this.stateMoveTo=0!=t.input.b[t.inPos++];var e=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.moveDeltaY=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle0=n;var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyle1=s;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyle=r;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4),this.numFillBits=a;var o,l=t.input.b[t.inPos++];128==l&&(l=t.input.getInt32(t.inPos),t.inPos+=4),this.numLineBits=l;var h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4);var _,u,c=h;if(0==c)_=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;o=t.getRef(wt,wt.__clid),f[g]=o}_=f}this.fillStyles=_;var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4);var v,b=m;if(0==b)v=null;else{for(var y=[],w=0,x=--b;w<x;){var T=w++;u=t.getRef(Pt,Pt.__clid),y[T]=u}v=y}this.lineStyles=v},__class__:Jt});var Zt=function(t,e,i){null==i&&(i=20),null==e&&(e=1),this.initialFillStyles=[],this.initialLineStyles=[],Wt.call(this,t,e,i)};(i["format.swf.data.SWFShapeWithStyle"]=Zt).__name__=["format","swf","data","SWFShapeWithStyle"],Zt.__super__=Wt,Zt.prototype=n(Wt.prototype,{parse:function(t,e){null==e&&(e=1),t.resetBitsPending();for(var i=0,n=this.readStyleArrayLength(t,e);i<n;){i++;this.initialFillStyles.push(ut.readFILLSTYLE(t,e))}for(var s=0,r=this.readStyleArrayLength(t,e);s<r;){s++;this.initialLineStyles.push(e<=3?ut.readLINESTYLE(t,e):ut.readLINESTYLE2(t,e))}t.resetBitsPending();var a=ut.readUB(t,4),o=ut.readUB(t,4);this.readShapeRecords(t,a,o,e)},publish:function(t,e){null==e&&(e=1),t.resetBitsPending();var i=this.initialFillStyles.length;this.writeStyleArrayLength(t,i,e);for(var n=0,s=i;n<s;){var r=n++;this.initialFillStyles[r].publish(t,e)}var a=this.initialLineStyles.length;this.writeStyleArrayLength(t,a,e);for(var o=0,l=a;o<l;){var h=o++;this.initialLineStyles[h].publish(t,e)}var _=t.calculateMaxBits(!1,[this.getMaxFillStyleIndex()]),u=t.calculateMaxBits(!1,[this.getMaxLineStyleIndex()]);t.resetBitsPending(),ut.writeUB(t,4,_),ut.writeUB(t,4,u),this.writeShapeRecords(t,_,u,e)},export:function(t){this.fillStyles=this.initialFillStyles.slice(),this.lineStyles=this.initialLineStyles.slice(),Wt.prototype.export.call(this,t)},toString:function(t){null==t&&(t=0);var e="";if(0<this.initialFillStyles.length){e+="\n"+Ss.repeat(t)+"FillStyles:";for(var i=0,n=this.initialFillStyles.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+(s+1)+"] "+this.initialFillStyles[s].toString()}}if(0<this.initialLineStyles.length){e+="\n"+Ss.repeat(t)+"LineStyles:";for(var r=0,a=this.initialLineStyles.length;r<a;){var o=r++;e+="\n"+Ss.repeat(t+2)+"["+(o+1)+"] "+this.initialLineStyles[o].toString()}}return e+Wt.prototype.toString.call(this,t)},readStyleArrayLength:function(t,e){null==e&&(e=1);var i=ut.readUI8(t);return 2<=e&&255==i&&(i=ut.readUI16(t)),i},writeStyleArrayLength:function(t,e,i){null==i&&(i=1),2<=i&&254<e?(ut.writeUI8(t,255),ut.writeUI16(t,e)):ut.writeUI8(t,e)},getCLID:function(){return Zt.__clid},__class__:Zt});var Qt=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundEnvelope"]=Qt).__name__=["format","swf","data","SWFSoundEnvelope"],Qt.prototype={parse:function(t){this.pos44=ut.readUI32(t),this.leftLevel=ut.readUI16(t),this.rightLevel=ut.readUI16(t)},publish:function(t){ut.writeUI32(t,this.pos44),ut.writeUI16(t,this.leftLevel),ut.writeUI16(t,this.rightLevel)},clone:function(){var t=new Qt;return t.pos44=this.pos44,t.leftLevel=this.leftLevel,t.rightLevel=this.rightLevel,t},toString:function(){return"[SWFSoundEnvelope]"},__class__:Qt};var $t=function(t){this.envelopeRecords=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFSoundInfo"]=$t).__name__=["format","swf","data","SWFSoundInfo"],$t.prototype={parse:function(t){var e=ut.readUI8(t);if(this.syncStop=0!=(32&e),this.syncNoMultiple=0!=(16&e),this.hasEnvelope=0!=(8&e),this.hasLoops=0!=(4&e),this.hasOutPoint=0!=(2&e),this.hasInPoint=0!=(1&e),this.hasInPoint&&(this.inPoint=ut.readUI32(t)),this.hasOutPoint&&(this.outPoint=ut.readUI32(t)),this.hasLoops&&(this.loopCount=ut.readUI16(t)),this.hasEnvelope)for(var i=0,n=ut.readUI8(t);i<n;){i++;this.envelopeRecords.push(ut.readSOUNDENVELOPE(t))}},publish:function(t){var e=0;if(this.syncStop&&(e|=32),this.syncNoMultiple&&(e|=16),this.hasEnvelope&&(e|=8),this.hasLoops&&(e|=4),this.hasOutPoint&&(e|=2),this.hasInPoint&&(e|=1),ut.writeUI8(t,e),this.hasInPoint&&ut.writeUI32(t,this.inPoint),this.hasOutPoint&&ut.writeUI32(t,this.outPoint),this.hasLoops&&ut.writeUI16(t,this.loopCount),this.hasEnvelope){var i=this.envelopeRecords.length;ut.writeUI8(t,i);for(var n=0,s=i;n<s;){var r=n++;ut.writeSOUNDENVELOPE(t,this.envelopeRecords[r])}}},clone:function(){var t=new $t;t.syncStop=this.syncStop,t.syncNoMultiple=this.syncNoMultiple,t.hasEnvelope=this.hasEnvelope,t.hasLoops=this.hasLoops,t.hasOutPoint=this.hasOutPoint,t.hasInPoint=this.hasInPoint,t.outPoint=this.outPoint,t.inPoint=this.inPoint,t.loopCount=this.loopCount;for(var e=0,i=this.envelopeRecords.length;e<i;){var n=e++;t.envelopeRecords.push(this.envelopeRecords[n].clone())}return t},toString:function(){return"[SWFSoundInfo]"},__class__:$t};var te=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFSymbol"]=te).__name__=["format","swf","data","SWFSymbol"],te.create=function(t,e){var i=new te;return i.tagId=t,i.name=e,i},te.prototype={parse:function(t){this.tagId=ut.readUI16(t),this.name=ut.readSTRING(t)},publish:function(t){ut.writeUI16(t,this.tagId),ut.writeSTRING(t,this.name)},toString:function(){return"TagID: "+this.tagId+", Name: "+this.name},__class__:te};var ee=function(t,e,i,n,s){null==s&&(s=1),null==i&&(i=0),null==e&&(e=0),this.glyphEntries=[],null!=t&&this.parse(t,e,i,n,s)};(i["format.swf.data.SWFTextRecord"]=ee).__name__=["format","swf","data","SWFTextRecord"],ee.prototype={parse:function(t,e,i,n,s){null==s&&(s=1),this._level=s;var r=ut.readUI8(t);this.type=r>>7,this.hasFont=0!=(8&r),this.hasColor=0!=(4&r),this.hasYOffset=0!=(2&r),this.hasXOffset=0!=(1&r),this.hasFont?this.fontId=ut.readUI16(t):null!=n&&(this.fontId=n.fontId),this.hasColor?this.textColor=s<2?ut.readRGB(t):ut.readRGBA(t):null!=n&&(this.textColor=n.textColor),this.hasXOffset?this.xOffset=ut.readSI16(t):null!=n&&(this.xOffset=n.xOffset),this.hasYOffset?this.yOffset=ut.readSI16(t):null!=n&&(this.yOffset=n.yOffset),this.hasFont?this.textHeight=ut.readUI16(t):null!=n&&(this.textHeight=n.textHeight);for(var a=0,o=ut.readUI8(t);a<o;){a++;this.glyphEntries.push(ut.readGLYPHENTRY(t,e,i))}},publish:function(t,e,i,n,s){null==s&&(s=1);var r=this.type<<7;this.hasFont=null==n||n.fontId!=this.fontId||n.textHeight!=this.textHeight,this.hasColor=null==n||n.textColor!=this.textColor,this.hasXOffset=null==n||n.xOffset!=this.xOffset,this.hasYOffset=null==n||n.yOffset!=this.yOffset,this.hasFont&&(r|=8),this.hasColor&&(r|=4),this.hasYOffset&&(r|=2),this.hasXOffset&&(r|=1),ut.writeUI8(t,r),this.hasFont&&ut.writeUI16(t,this.fontId),this.hasColor&&(2<=s?ut.writeRGBA(t,this.textColor):ut.writeRGB(t,this.textColor)),this.hasXOffset&&ut.writeSI16(t,this.xOffset),this.hasYOffset&&ut.writeSI16(t,this.yOffset),this.hasFont&&ut.writeUI16(t,this.textHeight);var a=this.glyphEntries.length;ut.writeUI8(t,a);for(var o=0,l=a;o<l;){var h=o++;ut.writeGLYPHENTRY(t,this.glyphEntries[h],e,i)}},clone:function(){var t=new ee;t.type=this.type,t.hasFont=this.hasFont,t.hasColor=this.hasColor,t.hasXOffset=this.hasXOffset,t.hasYOffset=this.hasYOffset,t.fontId=this.fontId,t.textColor=this.textColor,t.textHeight=this.textHeight,t.xOffset=this.xOffset,t.yOffset=this.yOffset;for(var e=0,i=this.glyphEntries.length;e<i;){var n=e++;t.glyphEntries.push(this.glyphEntries[n].clone())}return t},toString:function(t){null==t&&(t=0);var e=["Glyphs: "+Q.string(this.glyphEntries.length)];this.hasFont&&(e.push("FontID: "+this.fontId),e.push("Height: "+this.textHeight)),this.hasColor&&e.push("Color: "+(this._level<=2?ys.rgbToString(this.textColor):ys.rgbaToString(this.textColor))),this.hasXOffset&&e.push("XOffset: "+this.xOffset),this.hasYOffset&&e.push("YOffset: "+this.yOffset);for(var i=e.join(", "),n=0,s=this.glyphEntries.length;n<s;){var r=n++;i+="\n"+Ss.repeat(t+2)+"["+r+"] "+this.glyphEntries[r].toString()}return i},__class__:ee};var ie=function(t){null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneData"]=ie).__name__=["format","swf","data","SWFZoneData"],ie.prototype={parse:function(t){this.alignmentCoordinate=ut.readFLOAT16(t),this.range=ut.readFLOAT16(t)},publish:function(t){ut.writeFLOAT16(t,this.alignmentCoordinate),ut.writeFLOAT16(t,this.range)},toString:function(){return"("+this.alignmentCoordinate+","+this.range+")"},__class__:ie};var ne=function(t){this.zoneData=[],null!=t&&this.parse(t)};(i["format.swf.data.SWFZoneRecord"]=ne).__name__=["format","swf","data","SWFZoneRecord"],ne.prototype={parse:function(t){for(var e=0,i=ut.readUI8(t);e<i;){e++;this.zoneData.push(ut.readZONEDATA(t))}var n=ut.readUI8(t);this.maskX=0!=(1&n),this.maskY=0!=(2&n)},publish:function(t){var e=this.zoneData.length;ut.writeUI8(t,e);for(var i=0,n=e;i<n;){var s=i++;ut.writeZONEDATA(t,this.zoneData[s])}var r=0;this.maskX&&(r|=1),this.maskY&&(r|=2),ut.writeUI8(t,r)},toString:function(t){null==t&&(t=0);for(var e="MaskY: "+Q.string(this.maskY)+", MaskX: "+Q.string(this.maskX),i=0,n=this.zoneData.length;i<n;){var s=i++;e+=", "+s+": "+this.zoneData[s].toString()}return e},__class__:ne};var se=function(){};(i["format.swf.data.actions.IAction"]=se).__name__=["format","swf","data","actions","IAction"],se.prototype={__class__:se,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};var re=function(t,e,i){this.code=t,this.length=e,this.pos=i};(i["format.swf.data.actions.Action"]=re).__name__=["format","swf","data","actions","Action"],re.__interfaces__=[se],re.resolveOffsets=function(t){for(var e,i=t.length,n=0,s=i;n<s;){var r=n++;if(e=t.data[r],dr.__instanceof(e,oe)){var a=0,o=!1,l=e,h=l.pos+l.get_lengthWithHeader()+l.branchOffset;if(h<=l.pos)for(a=r;0<=a;){if(h==t.data[a].pos){o=!0;break}--a}else{for(;a<i;){if(h==t.data[a].pos){o=!0;break}++a}o||h==(e=t.data[a-1]).pos+e.get_lengthWithHeader()&&(a=-1,o=!0)}l.branchIndex=o?a:-2}}},re.prototype={get_lengthWithHeader:function(){return this.length+(128<=this.code?3:1)},parse:function(t){},publish:function(t){this.write(t)},clone:function(){return new re(this.code,this.length,this.pos)},write:function(t,e){if(ut.writeUI8(t,this.code),128<=this.code){if(!(null!=e&&0<ut.get_length(e)))throw this.length=0,new fr(new Vh("Action body null or empty."));this.length=ut.get_length(e),ut.writeUI16(t,this.length),t.writeBytes(Su.fromBytes(e))}else this.length=0},toString:function(t){return null==t&&(t=0),"[Action] Code: "+Cs.hex(this.code)+", Length: "+this.length},__class__:re,__properties__:{get_lengthWithHeader:"get_lengthWithHeader"}};var ae=function(t,e,i){re.call(this,t,e,i)};(i["format.swf.data.actions.ActionUnknown"]=ae).__name__=["format","swf","data","actions","ActionUnknown"],ae.__interfaces__=[se],ae.__super__=re,ae.prototype=n(re.prototype,{parse:function(t){0<this.length&&ut.skipBytes(t,this.length)},toString:function(t){return null==t&&(t=0),"[????] Code: "+Cs.hex(this.code)+", Length: "+this.length},__class__:ae});var oe=function(){};(i["format.swf.data.actions.IActionBranch"]=oe).__name__=["format","swf","data","actions","IActionBranch"],oe.__interfaces__=[se],oe.prototype={__class__:oe};var le=function(t,e,i){re.call(this,t,e,i)};(i["format.swf.data.actions.swf3.ActionStop"]=le).__name__=["format","swf","data","actions","swf3","ActionStop"],le.__interfaces__=[se],le.__super__=re,le.prototype=n(re.prototype,{toString:function(t){return null==t&&(t=0),"[ActionStop]"},__class__:le});var he=function(){};(i["format.swf.data.consts.BitmapFormat"]=he).__name__=["format","swf","data","consts","BitmapFormat"],he.toString=function(t){switch(t){case 3:return"8 BPP";case 4:return"15 BPP";case 5:return"24 BPP";default:return"unknown"}};var _e=function(){};(i["format.swf.data.consts.BitmapType"]=_e).__name__=["format","swf","data","consts","BitmapType"],_e.toString=function(t){switch(t){case 1:return"JPEG";case 2:return"GIF89a";case 3:return"PNG";default:return"unknown"}};var ue=function(){};(i["format.swf.data.consts.BlendMode"]=ue).__name__=["format","swf","data","consts","BlendMode"],ue.toString=function(t){switch(t){case 0:case 1:return"normal";case 2:return"layer";case 3:return"multiply";case 4:return"screen";case 5:return"lighten";case 6:return"darken";case 7:return"difference";case 8:return"add";case 9:return"subtract";case 10:return"invert";case 11:return"alpha";case 12:return"erase";case 13:return"overlay";case 14:return"hardlight";default:return"unknown"}};var ce=function(){};(i["format.swf.data.consts.CSMTableHint"]=ce).__name__=["format","swf","data","consts","CSMTableHint"],ce.toString=function(t){switch(t){case 0:return"thin";case 1:return"medium";case 2:return"thick";default:return"unknown"}};var fe=function(){};(i["format.swf.data.consts.GradientInterpolationMode"]=fe).__name__=["format","swf","data","consts","GradientInterpolationMode"],fe.toEnum=function(t){switch(t){case 0:return 1;case 1:return 0;default:return 1}},fe.toString=function(t){switch(t){case 0:return eh.toString(1).toLowerCase();case 1:return eh.toString(0).toLowerCase();default:return eh.toString(1).toLowerCase()}};var de=function(){};(i["format.swf.data.consts.GradientSpreadMode"]=de).__name__=["format","swf","data","consts","GradientSpreadMode"],de.toEnum=function(t){switch(t){case 0:return 0;case 1:return 1;case 2:return 2;default:return 0}},de.toString=function(t){switch(t){case 0:return fh.toString(0).toLowerCase();case 1:return fh.toString(1).toLowerCase();case 2:return fh.toString(2).toLowerCase();default:return"unknown"}};var pe=function(){};(i["format.swf.data.consts.LineCapsStyle"]=pe).__name__=["format","swf","data","consts","LineCapsStyle"],pe.toEnum=function(t){return 1},pe.toString=function(t){switch(t){case 0:return kl.toString(1).toLowerCase();case 1:return kl.toString(0).toLowerCase();case 2:return kl.toString(2).toLowerCase();default:return"unknown"}};var ge=function(){};(i["format.swf.data.consts.LineJointStyle"]=ge).__name__=["format","swf","data","consts","LineJointStyle"],ge.toEnum=function(t){switch(t){case 0:return 2;case 1:return 0;case 2:return 1;default:return 2}},ge.toString=function(t){switch(t){case 0:return nh.toString(2).toLowerCase();case 1:return nh.toString(0).toLowerCase();case 2:return nh.toString(1).toLowerCase();default:return"null"}};var me=function(){};(i["format.swf.data.consts.SoundCompression"]=me).__name__=["format","swf","data","consts","SoundCompression"],me.toString=function(t){switch(t){case 0:return"Uncompressed Native Endian";case 1:return"ADPCM";case 2:return"MP3";case 3:return"Uncompressed Little Endian";case 4:return"Nellymoser 16kHz";case 5:return"Nellymoser 8kHz";case 6:return"Nellymoser";case 11:return"Speex";default:return"unknown"}};var ve=function(){};(i["format.swf.data.consts.SoundRate"]=ve).__name__=["format","swf","data","consts","SoundRate"],ve.toString=function(t){switch(t){case 0:return"5.5kHz";case 1:return"11kHz";case 2:return"22kHz";case 3:return"44kHz";default:return"unknown"}};var be=function(){};(i["format.swf.data.consts.SoundSize"]=be).__name__=["format","swf","data","consts","SoundSize"],be.toString=function(t){switch(t){case 0:return"8bit";case 1:return"16bit";default:return"unknown"}};var ye=function(){};(i["format.swf.data.consts.SoundType"]=ye).__name__=["format","swf","data","consts","SoundType"],ye.toString=function(t){switch(t){case 0:return"mono";case 1:return"stereo";default:return"unknown"}};var Te=function(){};(i["format.swf.data.consts.VideoCodecID"]=Te).__name__=["format","swf","data","consts","VideoCodecID"],Te.toString=function(t){switch(t){case 2:return"H.263";case 3:return"Screen Video";case 4:return"VP6";case 5:return"VP6 With Alpha";case 6:return"Screen Video V2";default:return"unknown"}};var Se=function(){};(i["format.swf.data.consts.VideoDeblockingType"]=Se).__name__=["format","swf","data","consts","VideoDeblockingType"],Se.toString=function(t){switch(t){case 0:return"videopacket";case 1:return"off";case 2:return"level 1";case 3:return"level 2";case 4:return"level 3";case 5:return"level 4";default:return"unknown"}};var Ee=function(){};(i["format.swf.data.etc.IEdge"]=Ee).__name__=["format","swf","data","etc","IEdge"],Ee.prototype={__class__:Ee};var Ie=function(){this.__uid=X.SEQ<<24|++X.UID};(i["format.swf.data.etc.Edge"]=Ie).__name__=["format","swf","data","etc","Edge"],Ie.__interfaces__=[C,Ee],Ie.prototype={reverseWithNewFillStyle:function(t){throw new fr("Pure virtual baseclass. Should not be instantiated or called.")},clone:function(){throw new fr("Pure virtual baseclass. Should not be instantiated or called.")},getCLID:function(){return Ie.__clid},serialize:function(t){t.addKnownRef(this.from),t.addKnownRef(this.to);var e=this.lineStyleIdx;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e));var i=this.fillStyleIdx;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));var n=this.subLineStyleIdx;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("from"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Point")),t.fieldsNames.push("to"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Point")),t.fieldsNames.push("lineStyleIdx"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fillStyleIdx"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("subLineStyleIdx"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(Ie.__clid),t},unserializeInit:function(){},unserialize:function(t){this.from=t.getRef(xe,xe.__clid),this.to=t.getRef(xe,xe.__clid);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.lineStyleIdx=e;var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.fillStyleIdx=i;var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.subLineStyleIdx=n},__class__:Ie};var Ce=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),Ie.call(this),this.from=t,this.to=e,this.lineStyleIdx=i,this.fillStyleIdx=n};(i["format.swf.data.etc.StraightEdge"]=Ce).__name__=["format","swf","data","etc","StraightEdge"],Ce.__super__=Ie,Ce.prototype=n(Ie.prototype,{reverseWithNewFillStyle:function(t){return new Ce(this.to,this.from,this.lineStyleIdx,t)},clone:function(){return new Ce(this.from,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", end:"+this.to.toString()},getCLID:function(){return Ce.__clid},__class__:Ce});var Pe=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),Ce.call(this,t,i,n,s),this.control=e};(i["format.swf.data.etc.CurvedEdge"]=Pe).__name__=["format","swf","data","etc","CurvedEdge"],Pe.__super__=Ce,Pe.prototype=n(Ce.prototype,{reverseWithNewFillStyle:function(t){return new Pe(this.to,this.control,this.from,this.lineStyleIdx,t)},clone:function(){return new Pe(this.from,this.control,this.to,this.lineStyleIdx,this.fillStyleIdx)},toString:function(){return"stroke:"+this.lineStyleIdx+", fill:"+this.fillStyleIdx+", start:"+this.from.toString()+", control:"+this.control.toString()+", end:"+this.to.toString()},getCLID:function(){return Pe.__clid},serialize:function(t){Ce.prototype.serialize.call(this,t),t.addKnownRef(this.control)},getSerializeSchema:function(){var t=Ce.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("control"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Point")),t.isFinal=X.isClassFinal(Pe.__clid),t},unserialize:function(t){Ce.prototype.unserialize.call(this,t),this.control=t.getRef(xe,xe.__clid)},__class__:Pe});var Ae=function(){this.samples=1152,this.init()};(i["format.swf.data.etc.MPEGFrame"]=Ae).__name__=["format","swf","data","etc","MPEGFrame"],Ae.prototype={get_crc:function(){return this._crc.position=0,this._crc.readUnsignedShort()},get_size:function(){var t=0;return 0==this.layer?(t=Math.floor(12e3*this.bitrate/this.samplingrate),this.padding&&++t,t<<=2):(t=Math.floor((0==this.version?144e3:72e3)*this.bitrate/this.samplingrate),this.padding&&++t),t-4-(this.hasCRC?2:0)},setHeaderByteAt:function(t,e){switch(t){case 0:if(255!=e)throw new fr(new Vh("Not a MPEG header."));break;case 1:if(224!=(224&e))throw new fr(new Vh("Not a MPEG header."));switch((24&e)>>3){case 2:this.version=1;break;case 3:this.version=0;break;default:throw new fr(new Vh("Unsupported MPEG version."))}if(1!=(6&e)>>1)throw new fr(new Vh("Unsupported MPEG layer."));this.layer=2,this.hasCRC=0==(1&e);break;case 2:var i=(240&e)>>4;if(0==i||15==i)throw new fr(new Vh("Unsupported bitrate index."));this.bitrate=Ae.mpegBitrates[this.version][this.layer][i];var n=(12&e)>>2;if(3==n)throw new fr(new Vh("Unsupported samplingrate index."));this.samplingrate=Ae.mpegsamplingrates[this.version][n],this.padding=2==(2&e);break;case 3:this.channelMode=(192&e)>>6,this.channelModeExt=(48&e)>>4,this.copyright=8==(8&e),this.original=4==(4&e),this.emphasis=2&e;break;default:throw new fr(new Vh("Index out of bounds."))}this._header.b[t]=255&e},setCRCByteAt:function(t,e){if(1<t)throw new fr(new Vh("Index out of bounds."));this._crc.b[t]=255&e},init:function(){var t=new vs(0);this._header=t,this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0),this._header.writeByte(0);var e=new vs(0);this._crc=e,this._crc.writeByte(0),this._crc.writeByte(0)},getFrame:function(){var t=new vs(0);return t.writeBytes(this._header,0,4),this.hasCRC&&t.writeBytes(this._crc,0,2),t.writeBytes(this.data),t},toString:function(){var t="MPEG ";switch(this.version){case 0:t+="1.0 ";break;case 1:t+="2.0 ";break;case 2:t+="2.5 ";break;default:t+="?.? "}switch(this.layer){case 0:t+="Layer I";break;case 1:t+="Layer II";break;case 2:t+="Layer III";break;default:t+="Layer ?"}var e="unknown";switch(this.channelMode){case 0:e="Stereo";break;case 1:e="Joint stereo";break;case 2:e="Dual channel";break;case 3:e="Mono"}return t+", "+this.bitrate+" kbit/s, "+this.samplingrate+" Hz, "+e+", "+this.get_size()+" bytes"},__class__:Ae,__properties__:{get_size:"get_size",get_crc:"get_crc"}};var De=function(){};(i["format.swf.data.filters.IFilter"]=De).__name__=["format","swf","data","filters","IFilter"],De.prototype={__class__:De,__properties__:{get_type:"get_type",get_filter:"get_filter"}};var Re=function(t){this.id=t};(i["format.swf.data.filters.Filter"]=Re).__name__=["format","swf","data","filters","Filter"],Re.__interfaces__=[De],Re.prototype={get_filter:function(){throw new fr(new Vh("Implement in subclasses!"))},get_type:function(){return null},parse:function(t){throw new fr(new Vh("Implement in subclasses!"))},publish:function(t){throw new fr(new Vh("Implement in subclasses!"))},clone:function(){throw new fr(new Vh("Implement in subclasses!"))},toString:function(t){return null==t&&(t=0),"[Filter]"},__class__:Re,__properties__:{get_type:"get_type",get_filter:"get_filter"}};var Me=function(t){Re.call(this,t)};(i["format.swf.data.filters.FilterBevel"]=Me).__name__=["format","swf","data","filters","FilterBevel"],Me.__interfaces__=[De],Me.__super__=Re,Me.prototype=n(Re.prototype,{get_type:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,Ke.BevelFilter(this.distance,180*this.angle/Math.PI,ys.rgb(this.highlightColor),ys.alpha(this.highlightColor),ys.rgb(this.shadowColor),ys.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_filter:function(){var t;return t=this.onTop?0:this.innerShadow?1:2,new f_(this.distance,180*this.angle/Math.PI,ys.rgb(this.highlightColor),ys.alpha(this.highlightColor),ys.rgb(this.shadowColor),ys.alpha(this.shadowColor),this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.highlightColor=ut.readRGBA(t),this.shadowColor=ut.readRGBA(t),this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.angle=ut.readFIXED(t),this.distance=ut.readFIXED(t),this.strength=ut.readFIXED8(t);var e=ut.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.onTop=0!=(16&e),this.passes=15&e},publish:function(t){ut.writeRGBA(t,this.shadowColor),ut.writeRGBA(t,this.highlightColor),ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeFIXED(t,this.angle),ut.writeFIXED(t,this.distance),ut.writeFIXED8(t,this.strength);var e=15&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),this.onTop&&(e|=16),ut.writeUI8(t,e)},clone:function(){var t=new Me(this.id);return t.shadowColor=this.shadowColor,t.highlightColor=this.highlightColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[BevelFilter] ShadowColor: "+ys.rgbToString(this.shadowColor)+", HighlightColor: "+ys.rgbToString(this.highlightColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Me});var Fe=function(t){Re.call(this,t)};(i["format.swf.data.filters.FilterBlur"]=Fe).__name__=["format","swf","data","filters","FilterBlur"],Fe.__interfaces__=[De],Fe.__super__=Re,Fe.prototype=n(Re.prototype,{get_filter:function(){return new p_(this.blurX,this.blurY,this.passes)},get_type:function(){return Ke.BlurFilter(this.blurX,this.blurY,this.passes)},parse:function(t){this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.passes=ut.readUI8(t)>>3},publish:function(t){ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeUI8(t,this.passes<<3)},clone:function(){var t=new Fe(this.id);return t.blurX=this.blurX,t.blurY=this.blurY,t.passes=this.passes,t},toString:function(t){return null==t&&(t=0),"[BlurFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Passes: "+this.passes},__class__:Fe});var Be=function(t){Re.call(this,t),this.colorMatrix=[]};(i["format.swf.data.filters.FilterColorMatrix"]=Be).__name__=["format","swf","data","filters","FilterColorMatrix"],Be.__interfaces__=[De],Be.__super__=Re,Be.prototype=n(Re.prototype,{get_filter:function(){return new g_(this.multipliers.value,this.offsets.value)},get_type:function(){return Ke.ColorMatrixFilter(this.multipliers,this.offsets)},parse:function(t){for(var e=0;e<20;){e++;this.colorMatrix.push(ut.readFLOAT(t))}var i,n=[this.colorMatrix[0],this.colorMatrix[1],this.colorMatrix[2],this.colorMatrix[3],this.colorMatrix[5],this.colorMatrix[6],this.colorMatrix[7],this.colorMatrix[8],this.colorMatrix[10],this.colorMatrix[11],this.colorMatrix[12],this.colorMatrix[13],this.colorMatrix[15],this.colorMatrix[16],this.colorMatrix[17],this.colorMatrix[18]];i=null!=n?new mf(n):null,this.multipliers=new Cu(i);var s,r=[this.colorMatrix[4]/255,this.colorMatrix[9]/255,this.colorMatrix[14]/255,this.colorMatrix[19]/255];s=null!=r?new mf(r):null,this.offsets=new Cu(s)},publish:function(t){for(var e=0;e<20;){var i=e++;ut.writeFLOAT(t,this.colorMatrix[i])}},clone:function(){for(var t=new Be(this.id),e=0;e<20;){var i=e++;t.colorMatrix.push(this.colorMatrix[i])}return t},toString:function(t){null==t&&(t=0);var e=Ss.repeat(t+2);return"[ColorMatrixFilter]\n"+e+"[R] "+this.colorMatrix[0]+", "+this.colorMatrix[1]+", "+this.colorMatrix[2]+", "+this.colorMatrix[3]+", "+this.colorMatrix[4]+"\n"+e+"[G] "+this.colorMatrix[5]+", "+this.colorMatrix[6]+", "+this.colorMatrix[7]+", "+this.colorMatrix[8]+", "+this.colorMatrix[9]+"\n"+e+"[B] "+this.colorMatrix[10]+", "+this.colorMatrix[11]+", "+this.colorMatrix[12]+", "+this.colorMatrix[13]+", "+this.colorMatrix[14]+"\n"+e+"[A] "+this.colorMatrix[15]+", "+this.colorMatrix[16]+", "+this.colorMatrix[17]+", "+this.colorMatrix[18]+", "+this.colorMatrix[19]},__class__:Be});var Le=function(t){Re.call(this,t),this.matrix=[]};(i["format.swf.data.filters.FilterConvolution"]=Le).__name__=["format","swf","data","filters","FilterConvolution"],Le.__interfaces__=[De],Le.__super__=Re,Le.prototype=n(Re.prototype,{get_filter:function(){for(var t=[],e=0,i=this.matrix.length;e<i;){var n=e++;t.push(this.matrix[n])}return new __},parse:function(t){this.matrixX=ut.readUI8(t),this.matrixY=ut.readUI8(t),this.divisor=ut.readFLOAT(t),this.bias=ut.readFLOAT(t);for(var e=0,i=this.matrixX*this.matrixY;e<i;){e++;this.matrix.push(ut.readFLOAT(t))}this.defaultColor=ut.readRGBA(t);var n=ut.readUI8(t);this.clamp=0!=(2&n),this.preserveAlpha=0!=(1&n)},publish:function(t){ut.writeUI8(t,this.matrixX),ut.writeUI8(t,this.matrixY),ut.writeFLOAT(t,this.divisor),ut.writeFLOAT(t,this.bias);for(var e=0,i=this.matrixX*this.matrixY;e<i;){var n=e++;ut.writeFLOAT(t,this.matrix[n])}ut.writeRGBA(t,this.defaultColor);var s=0;this.clamp&&(s|=2),this.preserveAlpha&&(s|=1),ut.writeUI8(t,s)},clone:function(){var t=new Le(this.id);t.matrixX=this.matrixX,t.matrixY=this.matrixY,t.divisor=this.divisor,t.bias=this.bias;for(var e=0,i=this.matrixX*this.matrixY;e<i;){var n=e++;t.matrix.push(this.matrix[n])}return t.defaultColor=this.defaultColor,t.clamp=this.clamp,t.preserveAlpha=this.preserveAlpha,t},toString:function(t){null==t&&(t=0);var e="[ConvolutionFilter] DefaultColor: "+ys.rgbToString(this.defaultColor)+", Divisor: "+this.divisor+", Bias: "+this.bias,i=[];if(this.clamp&&i.push("Clamp"),this.preserveAlpha&&i.push("PreserveAlpha"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.matrix.length){e+="\n"+Ss.repeat(t+2)+"Matrix:";for(var n=0,s=this.matrixY;n<s;){var r=n++;e+="\n"+Ss.repeat(t+4)+"["+r+"]";for(var a=0,o=this.matrixX;a<o;){var l=a++;e+=(0<l?", ":" ")+this.matrix[this.matrixX*r+l]}}}return e},__class__:Le});var ke=function(t){Re.call(this,t)};(i["format.swf.data.filters.FilterDropShadow"]=ke).__name__=["format","swf","data","filters","FilterDropShadow"],ke.__interfaces__=[De],ke.__super__=Re,ke.prototype=n(Re.prototype,{get_filter:function(){return new m_(this.distance,180*this.angle/Math.PI,ys.rgb(this.dropShadowColor),ys.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},get_type:function(){return Ke.DropShadowFilter(this.distance,180*this.angle/Math.PI,ys.rgb(this.dropShadowColor),ys.alpha(this.dropShadowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerShadow,this.knockout,!this.compositeSource)},parse:function(t){this.dropShadowColor=ut.readRGBA(t),this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.angle=ut.readFIXED(t),this.distance=ut.readFIXED(t),this.strength=ut.readFIXED8(t);var e=ut.readUI8(t);this.innerShadow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){ut.writeRGBA(t,this.dropShadowColor),ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeFIXED(t,this.angle),ut.writeFIXED(t,this.distance),ut.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerShadow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),ut.writeUI8(t,e)},clone:function(){var t=new ke(this.id);return t.dropShadowColor=this.dropShadowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[DropShadowFilter] DropShadowColor: "+ys.rgbToString(this.dropShadowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:ke});var Ne=function(t){Re.call(this,t)};(i["format.swf.data.filters.FilterGlow"]=Ne).__name__=["format","swf","data","filters","FilterGlow"],Ne.__interfaces__=[De],Ne.__super__=Re,Ne.prototype=n(Re.prototype,{get_filter:function(){return new v_(ys.rgb(this.glowColor),ys.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},get_type:function(){return Ke.GlowFilter(ys.rgb(this.glowColor),ys.alpha(this.glowColor),this.blurX,this.blurY,this.strength,this.passes,this.innerGlow,this.knockout)},parse:function(t){this.glowColor=ut.readRGBA(t),this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.strength=ut.readFIXED8(t);var e=ut.readUI8(t);this.innerGlow=0!=(128&e),this.knockout=0!=(64&e),this.compositeSource=0!=(32&e),this.passes=31&e},publish:function(t){ut.writeRGBA(t,this.glowColor),ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeFIXED8(t,this.strength);var e=31&this.passes;this.innerGlow&&(e|=128),this.knockout&&(e|=64),this.compositeSource&&(e|=32),ut.writeUI8(t,e)},clone:function(){var t=new Ne(this.id);return t.glowColor=this.glowColor,t.blurX=this.blurX,t.blurY=this.blurY,t.strength=this.strength,t.passes=this.passes,t.innerGlow=this.innerGlow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t},toString:function(t){null==t&&(t=0);var e="[GlowFilter] GlowColor: "+ys.rgbToString(this.glowColor)+", BlurX: "+this.blurX+", BlurY: "+this.blurY+", Strength: "+this.strength+", Passes: "+this.passes,i=[];return this.innerGlow&&i.push("InnerGlow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),0<i.length&&(e+=", Flags: "+i.join(", ")),e},__class__:Ne});var Oe=function(t){Re.call(this,t),this.gradientColors=[],this.gradientRatios=[]};(i["format.swf.data.filters.FilterGradientBevel"]=Oe).__name__=["format","swf","data","filters","FilterGradientBevel"],Oe.__interfaces__=[De],Oe.__super__=Re,Oe.prototype=n(Re.prototype,{get_filter:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push(ys.rgb(this.gradientColors[a])),i.push(ys.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,new c_(this.distance,this.angle,e,i,n,this.blurX,this.blurY,this.strength,this.passes,d_.fromString(d_.toString(t)),this.knockout)},get_type:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push(ys.rgb(this.gradientColors[a])),i.push(ys.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,Ke.GradientBevelFilter(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=ut.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(ut.readRGBA(t))}for(var n=0,s=this.numColors;n<s;){n++;this.gradientRatios.push(ut.readUI8(t))}this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.angle=ut.readFIXED(t),this.distance=ut.readFIXED(t),this.strength=ut.readFIXED8(t);var r=ut.readUI8(t);this.innerShadow=0!=(128&r),this.knockout=0!=(64&r),this.compositeSource=0!=(32&r),this.onTop=0!=(16&r),this.passes=15&r},publish:function(t){ut.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var n=e++;ut.writeRGBA(t,this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;ut.writeUI8(t,this.gradientRatios[a])}ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeFIXED(t,this.angle),ut.writeFIXED(t,this.distance),ut.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),ut.writeUI8(t,o)},clone:function(){var t=new Oe(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var n=e++;t.gradientColors.push(this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;t.gradientRatios.push(this.gradientRatios[a])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientBevelFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+Ss.repeat(t+2)+"GradientColors:";for(var n=0,s=this.gradientColors.length;n<s;){var r=n++;e+=(0<r?", ":" ")+ys.rgbToString(this.gradientColors[r])}}if(0<this.gradientRatios.length){e+="\n"+Ss.repeat(t+2)+"GradientRatios:";for(var a=0,o=this.gradientRatios.length;a<o;){var l=a++;e+=(0<l?", ":" ")+this.gradientRatios[l]}}return e},__class__:Oe});var Ue=function(t){Re.call(this,t),this.gradientColors=[],this.gradientRatios=[]};(i["format.swf.data.filters.FilterGradientGlow"]=Ue).__name__=["format","swf","data","filters","FilterGradientGlow"],Ue.__interfaces__=[De],Ue.__super__=Re,Ue.prototype=n(Re.prototype,{get_filter:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push(ys.rgb(this.gradientColors[a])),i.push(ys.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,new b_(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},get_type:function(){for(var t,e=[],i=[],n=[],s=0,r=this.numColors;s<r;){var a=s++;e.push(ys.rgb(this.gradientColors[a])),i.push(ys.alpha(this.gradientColors[a])),n.push(this.gradientRatios[a])}return t=this.onTop?0:this.innerShadow?1:2,Ke.GradientGlowFilter(this.distance,180*this.angle/Math.PI,e,i,n,this.blurX,this.blurY,this.strength,this.passes,t,this.knockout)},parse:function(t){this.numColors=ut.readUI8(t);for(var e=0,i=this.numColors;e<i;){e++;this.gradientColors.push(ut.readRGBA(t))}for(var n=0,s=this.numColors;n<s;){n++;this.gradientRatios.push(ut.readUI8(t))}this.blurX=ut.readFIXED(t),this.blurY=ut.readFIXED(t),this.angle=ut.readFIXED(t),this.distance=ut.readFIXED(t),this.strength=ut.readFIXED8(t);var r=ut.readUI8(t);this.innerShadow=0!=(128&r),this.knockout=0!=(64&r),this.compositeSource=0!=(32&r),this.onTop=0!=(16&r),this.passes=15&r},publish:function(t){ut.writeUI8(t,this.numColors);for(var e=0,i=this.numColors;e<i;){var n=e++;ut.writeRGBA(t,this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;ut.writeUI8(t,this.gradientRatios[a])}ut.writeFIXED(t,this.blurX),ut.writeFIXED(t,this.blurY),ut.writeFIXED(t,this.angle),ut.writeFIXED(t,this.distance),ut.writeFIXED8(t,this.strength);var o=15&this.passes;this.innerShadow&&(o|=128),this.knockout&&(o|=64),this.compositeSource&&(o|=32),this.onTop&&(o|=16),ut.writeUI8(t,o)},clone:function(){var t=new Ue(this.id);t.numColors=this.numColors;for(var e=0,i=this.numColors;e<i;){var n=e++;t.gradientColors.push(this.gradientColors[n])}for(var s=0,r=this.numColors;s<r;){var a=s++;t.gradientRatios.push(this.gradientRatios[a])}return t.blurX=this.blurX,t.blurY=this.blurY,t.angle=this.angle,t.distance=this.distance,t.strength=this.strength,t.passes=this.passes,t.innerShadow=this.innerShadow,t.knockout=this.knockout,t.compositeSource=this.compositeSource,t.onTop=this.onTop,t},toString:function(t){null==t&&(t=0);var e="[GradientGlowFilter] BlurX: "+this.blurX+", BlurY: "+this.blurY+", Angle: "+this.angle+", Distance: "+this.distance+", Strength: "+this.strength+", Passes: "+this.passes,i=[];if(this.innerShadow&&i.push("InnerShadow"),this.knockout&&i.push("Knockout"),this.compositeSource&&i.push("CompositeSource"),this.onTop&&i.push("OnTop"),0<i.length&&(e+=", Flags: "+i.join(", ")),0<this.gradientColors.length){e+="\n"+Ss.repeat(t+2)+"GradientColors:";for(var n=0,s=this.gradientColors.length;n<s;){var r=n++;e+=(0<r?", ":" ")+ys.rgbToString(this.gradientColors[r])}}if(0<this.gradientRatios.length){e+="\n"+Ss.repeat(t+2)+"GradientRatios:";for(var a=0,o=this.gradientRatios.length;a<o;){var l=a++;e+=(0<l?", ":" ")+this.gradientRatios[l]}}return e},__class__:Ue});var Ge=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.__fromPool=!1,this.__refcount=0,this.eventPhase=2};(i["openfl.events.Event"]=Ge).__name__=["openfl","events","Event"],Ge.__create=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1);var n=Ge.pool.get();return n.type=t,n.bubbles=e,n.cancelable=i,n.target=null,n.currentTarget=null,n.__isCanceled=!1,n.__isCanceledNow=!1,n.__preventDefault=!1,n.__fromPool=!0,n.__refcount=0,n.eventPhase=2,n},Ge.prototype={clone:function(){var t=new Ge(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},__resetPooledEvent:function(){this.target=null,this.currentTarget=null,this.__isCanceled=!1,this.__isCanceledNow=!1,this.__preventDefault=!1,this.__fromPool=!0,this.__refcount=0,this.eventPhase=2},formatToString:function(t,e,i,n,s,r,a){var o=[];return null!=e&&o.push(e),null!=i&&o.push(i),null!=n&&o.push(n),null!=s&&o.push(s),null!=r&&o.push(r),null!=a&&o.push(a),of(this,this.__formatToString).apply(this,[t,o])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){for(var i="["+t,n=null,s=0;s<e.length;){var r=e[s];++s,i+="string"==typeof(n=Dt.field(this,r))?" "+r+'="'+Q.string(n)+'"':" "+r+"="+Q.string(n)}return i+="]"},acquire:function(){++this.__refcount},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,Ge.pool.put(this))},__class__:Ge};var Xe=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!1),Ge.call(this,t,i,n),this.reason=e};(i["format.swf.events.SWFErrorEvent"]=Xe).__name__=["format","swf","events","SWFErrorEvent"],Xe.__super__=Ge,Xe.prototype=n(Ge.prototype,{clone:function(){return new Xe(this.type,this.reason,this.bubbles,this.cancelable)},toString:function(){return"[SWFErrorEvent] reason: "+this.reason},__class__:Xe});var Ve=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),Ge.call(this,t,n,s),this.processed=e,this.total=i};(i["format.swf.events.SWFProgressEvent"]=Ve).__name__=["format","swf","events","SWFProgressEvent"],Ve.__super__=Ge,Ve.prototype=n(Ge.prototype,{get_progress:function(){return this.processed/this.total},get_progressPercent:function(){return Math.round(100*this.get_progress())},clone:function(){return new Ve(this.type,this.processed,this.total,this.bubbles,this.cancelable)},toString:function(){return"[SWFProgressEvent] processed: "+this.processed+", total: "+this.total+" ("+this.get_progressPercent()+"%)"},__class__:Ve,__properties__:{get_progressPercent:"get_progressPercent",get_progress:"get_progress"}});var ze=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),Ge.call(this,t,n,s),this.index=e,this.data=i};(i["format.swf.events.SWFWarningEvent"]=ze).__name__=["format","swf","events","SWFWarningEvent"],ze.__super__=Ge,ze.prototype=n(Ge.prototype,{clone:function(){return new ze(this.type,this.index,this.data,this.bubbles,this.cancelable)},toString:function(){return"[SWFWarningEvent] index: "+this.index},__class__:ze});var He=function(){};(i["format.swf.exporters.core.IShapeExporter"]=He).__name__=["format","swf","exporters","core","IShapeExporter"],He.prototype={__class__:He};var We=function(){};(i["format.swf.exporters.core.DefaultShapeExporter"]=We).__name__=["format","swf","exporters","core","DefaultShapeExporter"],We.__interfaces__=[He],We.prototype={beginShape:function(){},endShape:function(){},beginFills:function(){},endFills:function(){},beginLines:function(){},endLines:function(){},beginFill:function(t,e){null==e&&(e=1)},beginGradientFill:function(t,e,i,n,s,r,a,o){null==o&&(o=0)},beginBitmapFill:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0)},endFill:function(){},lineStyle:function(t,e,i,n,s,r,a,o,l){null==l&&(l=3),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0)},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0)},lineBitmapStyle:function(t,e,i,n){},moveTo:function(t,e){},lineTo:function(t,e){},curveTo:function(t,e,i,n){},__class__:We};var Ye=function(){We.call(this),this.commands=[]};(i["format.swf.exporters.ShapeCommandExporter"]=Ye).__name__=["format","swf","exporters","ShapeCommandExporter"],Ye.__super__=We,Ye.prototype=n(We.prototype,{beginShape:function(){this.commands=[]},beginFills:function(){this.commands.push(je.LineStyle(null,null,null,null,null,null,null,null))},beginLines:function(){},beginFill:function(t,e){null==e&&(e=1),this.commands.push(je.BeginFill(t,e))},beginGradientFill:function(t,e,i,n,s,r,a,o){null==o&&(o=0),this.commands.push(je.BeginGradientFill(t,e,i,n,s,r,a,o))},beginBitmapFill:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.commands.push(je.BeginBitmapFill(t,e,i,n))},endFill:function(){this.commands.push(je.EndFill)},lineStyle:function(t,e,i,n,s,r,a,o,l){null==l&&(l=3),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.commands.push(je.LineStyle(t,e,i,n,s,r,o,l))},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.commands.push(je.LineGradientStyle(t,e,i,n,s,r,a,o))},lineBitmapStyle:function(t,e,i,n){this.commands.push(je.LineBitmapStyle(t,e,i,n))},moveTo:function(t,e){this.commands.push(je.MoveTo(t,e))},lineTo:function(t,e){this.commands.push(je.LineTo(t,e))},curveTo:function(t,e,i,n){this.commands.push(je.CurveTo(t,e,i,n))},__class__:Ye});var Ke=i["format.swf.exporters.core.FilterType"]={__ename__:["format","swf","exporters","core","FilterType"],__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter","GradientGlowFilter","BevelFilter","GradientBevelFilter"]};Ke.BlurFilter=function(t,e,i){var n=["BlurFilter",0,t,e,i];return n.__enum__=Ke,n.toString=f,n},Ke.ColorMatrixFilter=function(t,e){var i=["ColorMatrixFilter",1,t,e];return i.__enum__=Ke,i.toString=f,i},Ke.DropShadowFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["DropShadowFilter",2,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ke,u.toString=f,u},Ke.GlowFilter=function(t,e,i,n,s,r,a,o){var l=["GlowFilter",3,t,e,i,n,s,r,a,o];return l.__enum__=Ke,l.toString=f,l},Ke.GradientGlowFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["GradientGlowFilter",4,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ke,u.toString=f,u},Ke.BevelFilter=function(t,e,i,n,s,r,a,o,l,h,_,u){var c=["BevelFilter",5,t,e,i,n,s,r,a,o,l,h,_,u];return c.__enum__=Ke,c.toString=f,c},Ke.GradientBevelFilter=function(t,e,i,n,s,r,a,o,l,h,_){var u=["GradientBevelFilter",6,t,e,i,n,s,r,a,o,l,h,_];return u.__enum__=Ke,u.toString=f,u};var je=i["format.swf.exporters.core.ShapeCommand"]={__ename__:["format","swf","exporters","core","ShapeCommand"],__constructs__:["BeginBitmapFill","BeginFill","BeginGradientFill","CurveTo","DrawImage","EndFill","LineStyle","LineGradientStyle","LineBitmapStyle","LineTo","MoveTo"]};je.BeginBitmapFill=function(t,e,i,n){var s=["BeginBitmapFill",0,t,e,i,n];return s.__enum__=je,s.toString=f,s},je.BeginFill=function(t,e){var i=["BeginFill",1,t,e];return i.__enum__=je,i.toString=f,i},je.BeginGradientFill=function(t,e,i,n,s,r,a,o){var l=["BeginGradientFill",2,t,e,i,n,s,r,a,o];return l.__enum__=je,l.toString=f,l},je.CurveTo=function(t,e,i,n){var s=["CurveTo",3,t,e,i,n];return s.__enum__=je,s.toString=f,s},je.DrawImage=function(t,e,i){var n=["DrawImage",4,t,e,i];return n.__enum__=je,n.toString=f,n},je.EndFill=["EndFill",5],je.EndFill.toString=f,(je.EndFill.__enum__=je).LineStyle=function(t,e,i,n,s,r,a,o){var l=["LineStyle",6,t,e,i,n,s,r,a,o];return l.__enum__=je,l.toString=f,l},je.LineGradientStyle=function(t,e,i,n,s,r,a,o){var l=["LineGradientStyle",7,t,e,i,n,s,r,a,o];return l.__enum__=je,l.toString=f,l},je.LineBitmapStyle=function(t,e,i,n){var s=["LineBitmapStyle",8,t,e,i,n];return s.__enum__=je,s.toString=f,s},je.LineTo=function(t,e){var i=["LineTo",9,t,e];return i.__enum__=je,i.toString=f,i},je.MoveTo=function(t,e){var i=["MoveTo",10,t,e];return i.__enum__=je,i.toString=f,i};var qe=function(){};(i["format.swf.factories.ISWFTagFactory"]=qe).__name__=["format","swf","factories","ISWFTagFactory"],qe.prototype={__class__:qe};var Je=function(){};(i["format.swf.factories.SWFActionFactory"]=Je).__name__=["format","swf","factories","SWFActionFactory"],Je.create=function(t,e,i){return 7==t?new le(t,e,i):new ae(t,e,i)};var Ze=function(){};(i["format.swf.factories.SWFFilterFactory"]=Ze).__name__=["format","swf","factories","SWFFilterFactory"],Ze.create=function(t){switch(t){case 0:return new ke(t);case 1:return new Fe(t);case 2:return new Ne(t);case 3:return new Me(t);case 4:return new Ue(t);case 5:return new Le(t);case 6:return new Be(t);case 7:return new Oe(t);default:throw new fr(new Vh("Unknown filter ID: "+t))}};var Qe=function(){};(i["format.swf.factories.SWFTagFactory"]=Qe).__name__=["format","swf","factories","SWFTagFactory"],Qe.__interfaces__=[qe],Qe.prototype={create:function(t){switch(t){case 0:return this.createTagEnd();case 1:return this.createTagShowFrame();case 2:return this.createTagDefineShape();case 4:return this.createTagPlaceObject();case 5:return this.createTagRemoveObject();case 6:return this.createTagDefineBits();case 7:return this.createTagDefineButton();case 8:return this.createTagJPEGTables();case 9:return this.createTagSetBackgroundColor();case 10:return this.createTagDefineFont();case 11:return this.createTagDefineText();case 12:return this.createTagDoAction();case 13:return this.createTagDefineFontInfo();case 14:return this.createTagDefineSound();case 15:return this.createTagStartSound();case 17:return this.createTagDefineButtonSound();case 18:return this.createTagSoundStreamHead();case 19:return this.createTagSoundStreamBlock();case 20:return this.createTagDefineBitsLossless();case 21:return this.createTagDefineBitsJPEG2();case 22:return this.createTagDefineShape2();case 23:return this.createTagDefineButtonCxform();case 24:return this.createTagProtect();case 26:return this.createTagPlaceObject2();case 28:return this.createTagRemoveObject2();case 32:return this.createTagDefineShape3();case 33:return this.createTagDefineText2();case 34:return this.createTagDefineButton2();case 35:return this.createTagDefineBitsJPEG3();case 36:return this.createTagDefineBitsLossless2();case 37:return this.createTagDefineEditText();case 39:return this.createTagDefineSprite();case 40:return this.createTagNameCharacter();case 41:return this.createTagProductInfo();case 43:return this.createTagFrameLabel();case 45:return this.createTagSoundStreamHead2();case 46:return this.createTagDefineMorphShape();case 48:return this.createTagDefineFont2();case 56:return this.createTagExportAssets();case 57:return this.createTagImportAssets();case 58:return this.createTagEnableDebugger();case 59:return this.createTagDoInitAction();case 60:return this.createTagDefineVideoStream();case 61:return this.createTagVideoFrame();case 62:return this.createTagDefineFontInfo2();case 63:return this.createTagDebugID();case 64:return this.createTagEnableDebugger2();case 65:return this.createTagScriptLimits();case 66:return this.createTagSetTabIndex();case 69:return this.createTagFileAttributes();case 70:return this.createTagPlaceObject3();case 71:return this.createTagImportAssets2();case 72:return this.createTagDoABCDeprecated();case 73:return this.createTagDefineFontAlignZones();case 74:return this.createTagCSMTextSettings();case 75:return this.createTagDefineFont3();case 76:return this.createTagSymbolClass();case 77:return this.createTagMetadata();case 78:return this.createTagDefineScalingGrid();case 82:return this.createTagDoABC();case 83:return this.createTagDefineShape4();case 84:return this.createTagDefineMorphShape2();case 86:return this.createTagDefineSceneAndFrameLabelData();case 87:return this.createTagDefineBinaryData();case 88:return this.createTagDefineFontName();case 89:return this.createTagStartSound2();case 90:return this.createTagDefineBitsJPEG4();case 91:return this.createTagDefineFont4();case 93:return this.createTagEnableTelemetry();case 94:return this.createTagPlaceObject4();case 253:return this.createTagSWFEncryptActions();case 255:return this.createTagSWFEncryptSignature();default:return this.createTagUnknown(t)}},createTagEnd:function(){return new Mn},createTagShowFrame:function(){return new Qn},createTagDefineShape:function(){return new gn},createTagPlaceObject:function(){return new Xn},createTagRemoveObject:function(){return new Kn},createTagDefineBits:function(){return new Yi},createTagDefineButton:function(){return new Qi},createTagJPEGTables:function(){return new On},createTagSetBackgroundColor:function(){return new Jn},createTagDefineFont:function(){return new sn},createTagDefineText:function(){return new xn},createTagDoAction:function(){return new Cn},createTagDefineFontInfo:function(){return new hn},createTagDefineSound:function(){return new yn},createTagStartSound:function(){return new is},createTagDefineButtonSound:function(){return new en},createTagSoundStreamHead:function(){return new ts},createTagSoundStreamBlock:function(){return new $n},createTagDefineBitsLossless:function(){return new Ji},createTagDefineBitsJPEG2:function(){return new Ki},createTagDefineShape2:function(){return new mn},createTagDefineButtonCxform:function(){return new tn},createTagProtect:function(){return new Yn},createTagPlaceObject2:function(){return new Vn},createTagRemoveObject2:function(){return new jn},createTagDefineShape3:function(){return new vn},createTagDefineText2:function(){return new Tn},createTagDefineButton2:function(){return new $i},createTagDefineBitsJPEG3:function(){return new ji},createTagDefineBitsLossless2:function(){return new Zi},createTagDefineEditText:function(){return new nn},createTagDefineSprite:function(){return new wn},createTagNameCharacter:function(){return new Gn},createTagProductInfo:function(){return new Wn},createTagFrameLabel:function(){return new Ln},createTagSoundStreamHead2:function(){return new es},createTagDefineMorphShape:function(){return new cn},createTagDefineFont2:function(){return new rn},createTagExportAssets:function(){return new Fn},createTagImportAssets:function(){return new kn},createTagEnableDebugger:function(){return new An},createTagDoInitAction:function(){return new Pn},createTagDefineVideoStream:function(){return new Sn},createTagVideoFrame:function(){return new as},createTagDefineFontInfo2:function(){return new _n},createTagDebugID:function(){return new Hi},createTagEnableDebugger2:function(){return new Dn},createTagScriptLimits:function(){return new qn},createTagSetTabIndex:function(){return new Zn},createTagFileAttributes:function(){return new Bn},createTagPlaceObject3:function(){return new zn},createTagImportAssets2:function(){return new Nn},createTagDefineFontAlignZones:function(){return new ln},createTagCSMTextSettings:function(){return new zi},createTagDefineFont3:function(){return new an},createTagSymbolClass:function(){return new ss},createTagMetadata:function(){return new Un},createTagDefineScalingGrid:function(){return new dn},createTagDoABC:function(){return new En},createTagDoABCDeprecated:function(){return new In},createTagDefineShape4:function(){return new bn},createTagDefineMorphShape2:function(){return new fn},createTagDefineSceneAndFrameLabelData:function(){return new pn},createTagDefineBinaryData:function(){return new Wi},createTagDefineFontName:function(){return new un},createTagStartSound2:function(){return new ns},createTagDefineBitsJPEG4:function(){return new qi},createTagDefineFont4:function(){return new on},createTagEnableTelemetry:function(){return new Rn},createTagPlaceObject4:function(){return new Hn},createTagSWFEncryptActions:function(){return new os},createTagSWFEncryptSignature:function(){return new ls},createTagUnknown:function(t){return new rs(t)},__class__:Qe};var $e=function(){this.__graphicsSavedScale=new xe(0,0),this.__clicks=0,we.call(this),this.__caretIndex=-1,this.__graphics=new Xl(!1),(this.__graphics.__owner=this).__textEngine=new Pl(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==$e.__defaultTextFormat&&($e.__defaultTextFormat=new gu("Times New Roman",12,0,!1,!1,!1,"","",3,0,0,0,0),$e.__defaultTextFormat.blockIndent=0,$e.__defaultTextFormat.bullet=!1,$e.__defaultTextFormat.letterSpacing=0,$e.__defaultTextFormat.kerning=!1),this.__textFormat=$e.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new Al(this.__textFormat,0,0)),this.addEventListener("mouseDown",of(this,this.this_onMouseDown))};(i["openfl.text.TextField"]=$e).__name__=["openfl","text","TextField"],$e.__defaultTextFormat=null,$e.__super__=we,$e.prototype=n(we.prototype,{appendText:function(t){if(0==this.get_maxChars())this.__textEngine.text+=t;else{if(!(this.__textEngine.text.length<this.get_maxChars()))return;var e=this.get_maxChars()-(this.__textEngine.text.length+t.length);this.__textEngine.text+=$.substr(t,0,e)}this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length,this.set_dirty(!0),this.__layoutDirty=!0},getCharBoundaries:function(t){if(t<0||t>this.__textEngine.text.length)return null;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,t>=n.startIndex&&t<=n.endIndex){for(var s=n.offsetX,r=0,a=t-n.startIndex;r<a;){var o=r++;s+=n.advances[o]}return new H_(s,n.offsetY,n.advances[t-n.startIndex],n.ascent+n.descent)}}return null},getCharBoundariesInGroup:function(t,e){if(t<0||t>this.__textEngine.text.length-1)return null;if(this.__updateLayout(),t<e.startIndex||t>e.endIndex)return null;for(var i=e.offsetX,n=0,s=t-e.startIndex;n<s;){var r=n++;i+=e.advances[r]}return new H_(i,e.offsetY,e.advances[t-e.startIndex],e.ascent+e.descent)},getCharIndexAtPoint:function(t,e){if(t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}for(var r=0,a=this.__textEngine.layoutGroups;r<a.length;){var o=a[r];if(++r,e>=o.offsetY&&e<=o.offsetY+o.height&&t>=o.offsetX&&t<=o.offsetX+o.width){for(var l=0,h=0,_=o.advances.length;h<_;){var u=h++;if(l+=o.advances[u],t<=o.offsetX+l)return o.startIndex+u}return o.endIndex}}return-1},getFirstCharInParagraph:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;for(var e=this.__textEngine.text.indexOf("\n"),i=0;-1<e;){if(e<=t)i=e+1;else if(t<e)break;e=this.__textEngine.text.indexOf("\n",e+1)}return i},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}for(var r=0,a=this.__textEngine.layoutGroups;r<a.length;){var o=a[r];if(++r,e>=o.offsetY&&e<=o.offsetY+o.height)return o.lineIndex}return-1},getLineIndexOfChar:function(t){if(t<0||t>this.__textEngine.text.length)return-1;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.startIndex<=t&&n.endIndex>=t)return n.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return 0;for(var e=-1,i=-1,n=0,s=this.__textEngine.layoutGroups;n<s.length;){var r=s[n];if(++n,r.lineIndex==t)-1==e&&(e=r.startIndex);else if(r.lineIndex==t+1){i=r.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),i-e},getLineMetrics:function(t){this.__updateLayout();var e,i=this.__textEngine.lineAscents[t],n=this.__textEngine.lineDescents[t],s=this.__textEngine.lineLeadings[t],r=this.__textEngine.lineHeights[t],a=this.__textEngine.lineWidths[t];switch(this.__textFormat.align){case 0:e=(this.__textEngine.width-a)/2;break;case 1:case 4:e=this.__textEngine.width-a-2;break;case 2:case 3:case 5:e=2}return new vu(e,a,r,i,n,s)},getLineOffset:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return-1;for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.lineIndex==t)return n.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return null;for(var e=-1,i=-1,n=0,s=this.__textEngine.layoutGroups;n<s.length;){var r=s[n];if(++n,r.lineIndex==t)-1==e&&(e=r.startIndex);else if(r.lineIndex==t+1){i=r.startIndex;break}}return-1==i&&(i=this.__textEngine.text.length),this.__textEngine.text.substring(e,i)},getParagraphLength:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;var e=this.getFirstCharInParagraph(t),i=this.__textEngine.text.indexOf("\n",t)+1;return 0==i&&(i=this.__textEngine.text.length),i-e},getTextFormat:function(t,e){null==e&&(e=0),null==t&&(t=0);for(var i=null,n=0,s=this.__textEngine.textFormatRanges;n<s.length;){var r=s[n];++n,(r.start<=t&&r.end>=t||r.start<=e&&r.end>=e)&&(null==i?i=r.format.clone():(r.format.font!=i.font&&(i.font=null),r.format.size!=i.size&&(i.size=null),r.format.color!=i.color&&(i.color=null),r.format.bold!=i.bold&&(i.bold=null),r.format.italic!=i.italic&&(i.italic=null),r.format.underline!=i.underline&&(i.underline=null),r.format.url!=i.url&&(i.url=null),r.format.target!=i.target&&(i.target=null),r.format.align!=i.align&&(i.align=null),r.format.leftMargin!=i.leftMargin&&(i.leftMargin=null),r.format.rightMargin!=i.rightMargin&&(i.rightMargin=null),r.format.indent!=i.indent&&(i.indent=null),r.format.leading!=i.leading&&(i.leading=null),r.format.blockIndent!=i.blockIndent&&(i.blockIndent=null),r.format.bullet!=i.bullet&&(i.bullet=null),r.format.kerning!=i.kerning&&(i.kerning=null),r.format.letterSpacing!=i.letterSpacing&&(i.letterSpacing=null),r.format.tabStops!=i.tabStops&&(i.tabStops=null)))}return i},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,i=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;t=this.replaceText(e,i,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,i){if(e<t||t<0||e>this.__textEngine.text.length||null==i)return"";if(0<this.get_maxChars()&&this.__textEngine.text.length-(e-t)+i.length>this.get_maxChars()){var n=this.get_maxChars()-(this.__textEngine.text.length-(e-t));if(n<=0)return"";i=$.substr(i,0,n)}var s=this.__textEngine.text.substring(0,t)+i,r=this.__textEngine.text.substring(e);this.__textEngine.text=s+r;for(var a,o=i.length-(e-t),l=0;l<this.__textEngine.textFormatRanges.length;)(a=this.__textEngine.textFormatRanges[l]).start<=t&&a.end>=e?(a.end+=o,++l):a.start>=t&&a.end<=e?(this.__textEngine.textFormatRanges.splice(l,1),o-=a.end-a.start):(a.start>t&&a.start<=e&&(a.start+=o),++l);return this.set_dirty(!0),this.__layoutDirty=!0,i},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e},setTextFormat:function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t.font&&(this.__textFormat.font=t.font),null!=t.size&&(this.__textFormat.size=t.size),null!=t.color&&(this.__textFormat.color=t.color),null!=t.bold&&(this.__textFormat.bold=t.bold),null!=t.italic&&(this.__textFormat.italic=t.italic),null!=t.underline&&(this.__textFormat.underline=t.underline),null!=t.url&&(this.__textFormat.url=t.url),null!=t.target&&(this.__textFormat.target=t.target),null!=t.align&&(this.__textFormat.align=t.align),null!=t.leftMargin&&(this.__textFormat.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.__textFormat.rightMargin=t.rightMargin),null!=t.indent&&(this.__textFormat.indent=t.indent),null!=t.leading&&(this.__textFormat.leading=t.leading),null!=t.blockIndent&&(this.__textFormat.blockIndent=t.blockIndent),null!=t.bullet&&(this.__textFormat.bullet=t.bullet),null!=t.kerning&&(this.__textFormat.kerning=t.kerning),null!=t.letterSpacing&&(this.__textFormat.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.__textFormat.tabStops=t.tabStops),this.set_dirty(!0),this.__layoutDirty=!0},__getBounds:function(t){this.__updateLayout(),t.setTo(this.__textEngine.bounds.x,this.__textEngine.bounds.y,this.__textEngine.bounds.width,this.__textEngine.bounds.height)},__getCursor:function(){return this.__textEngine.selectable?ho.TEXT:null},__getPosition:function(t,e){if(!this.__textEngine.selectable)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var s=i++;e+=this.__textEngine.lineHeights[s]}e<0&&(t=e=0),e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight,t=this.__textEngine.textWidth);for(var r,a,o=!0,l=0,h=this.__textEngine.layoutGroups.length;l<h;){var _=l++;if(r=this.__textEngine.layoutGroups[_],a=_<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[_+1]:null,o&&(e<r.offsetY&&(e=r.offsetY),t<r.offsetX&&(t=r.offsetX),o=!1),(e>=r.offsetY&&e<r.offsetY+r.height||null==a)&&(t>=r.offsetX&&t<r.offsetX+r.width||null==a||a.lineIndex!=r.lineIndex)){for(var u=0,c=0,f=r.advances.length;c<f;){var d=c++;if(u+=r.advances[d],t<=r.offsetX+u)return t<=r.offsetX+(u-r.advances[d])+r.advances[d]/2?r.startIndex+d:r.startIndex+d<r.endIndex?r.startIndex+d+1:r.endIndex}return r.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||!!s&&!this.mouseEnabled)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var a=this.__worldTransform,o=a.a*a.d-a.b*a.c,l=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return!!this.__textEngine.bounds.contains(l,u)&&(null!=n&&(n._items[n._length++]=r),!0)},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var i=this.__worldTransform,n=i.a*i.d-i.b*i.c,s=0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx)),r=this.__worldTransform,a=r.a*r.d-r.b*r.c,o=0==a?-r.ty:1/a*(r.a*(e-r.ty)+r.b*(r.tx-t));return!!this.__textEngine.bounds.contains(s,o)},__renderCanvas:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var n=H_.pool.get(),s=H_.pool.get(),r=this.__renderTransform;this.__getBounds(s),s.transform(n,r),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new Xl(!1),e=this.__graphics),e.__canvas=nl.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new H_(0,0,s.width,s.height));var a=e.__context;e.__canvas.width=Math.ceil(n.width),e.__canvas.height=Math.ceil(n.height);var o=Co.pool.get();if(o.copyFrom(r),o.translate(-Math.floor(n.x),-Math.floor(n.y)),a.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var l=i.text;if(i.displayAsPassword){var h=l.length;l=Ss.repeat(h,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(a.rect(.5,.5,n.width-1,n.height-1),i.background&&(a.fillStyle="#"+Cs.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.strokeStyle="#"+Cs.hex(i.borderColor,6),a.stroke())),a.textBaseline="alphabetic",a.textAlign="start";for(var _,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=Pl.getFont(m);a.font=v.name,a.fillStyle="#"+Cs.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);a.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=Pl.getFont(x.format);g=T.ascent*x.format.size,a.font=T.name,a.fillStyle="#"+Cs.hex(x.format.color,6);var S=l.substring(x.startIndex,x.endIndex),E=new RegExp("\n","g".split("u").join(""));if(S=S.replace(E,""),a.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var I=_=0,C=this.__caretIndex-x.startIndex;I<C;){var P=I++;if(x.advances.length<=P)break;_+=x.advances[P]}a.fillRect(x.offsetX+_,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var A,D,R=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>R&&(R=x.startIndex),x.endIndex<M&&(M=x.endIndex),A=this.getCharBoundariesInGroup(R,x),M>=i.text.length?(D=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=D.width+2:D=this.getCharBoundariesInGroup(M,x),null!=A&&null!=D&&(a.fillStyle="#000000",a.fillRect(A.x,A.y,D.x-A.x,x.height),a.fillStyle="#FFFFFF",a.fillText(l.substring(R,M),u+A.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?a.rect(.5,.5,n.width-1,n.height-1):a.rect(0,0,n.width,n.height),i.background&&(a.fillStyle="#"+Cs.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.lineCap="square",a.strokeStyle="#"+Cs.hex(i.borderColor,6),a.stroke()));var F=Co.pool.get();F.copyFrom(o),F.invert(),e.set___bitmap(Bl.fromGraphics(e,null,F)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),Co.pool.put(o),Co.pool.put(F),H_.pool.put(n),H_.pool.put(s)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}if(0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var B=t.context.imageSmoothingEnabled;B&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),we.prototype.__renderCanvas.call(this,t),B&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else we.prototype.__renderCanvas.call(this,t)},__drawGraphicsGL:function(t){var e=this.__graphics;if(this.__dirty||null==e||e.get_dirty()||null==e.__bitmap){var i=this.__textEngine;if(this.__updateLayout(),(this.__showCursor||null!=i.text&&""!=i.text||i.background||i.border||i.__hasFocus)&&(!(i.width<=0||i.height<=0)||2==i.autoSize)){var n=H_.pool.get(),s=H_.pool.get(),r=this.__renderTransform;this.__getBounds(s),s.transform(n,r),null!=e&&null!=e.__canvas||(null==e&&(this.__graphics=new Xl(!1),e=this.__graphics),e.__canvas=nl.pool.get(),e.__context=e.__canvas.getContext("2d"),e.__bounds=new H_(0,0,s.width,s.height));var a=e.__context;e.__canvas.width=Math.ceil(n.width),e.__canvas.height=Math.ceil(n.height);var o=Co.pool.get();if(o.copyFrom(r),o.translate(-Math.floor(n.x),-Math.floor(n.y)),a.setTransform(o.a,o.b,o.c,o.d,o.tx,o.ty),null!=i.text&&""!=i.text||i.__hasFocus){var l=i.text;if(i.displayAsPassword){var h=l.length;l=Ss.repeat(h,"*")}0!=i.antiAliasType||1!=i.gridFitType?(e.__context.mozImageSmoothingEnabled=!0,e.__context.msImageSmoothingEnabled=!0,e.__context.imageSmoothingEnabled=!0):(e.__context.mozImageSmoothingEnabled=!1,e.__context.msImageSmoothingEnabled=!1,e.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(a.rect(.5,.5,n.width-1,n.height-1),i.background&&(a.fillStyle="#"+Cs.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.strokeStyle="#"+Cs.hex(i.borderColor,6),a.stroke())),a.textBaseline="alphabetic",a.textAlign="start";for(var _,u=-this.get_scrollH(),c=0,f=0,d=this.get_scrollV()-1;f<d;){var p=f++;c-=i.lineHeights[p]}var g=0;if(this.__showCursor&&0==i.layoutGroups.length){var m=this.__textFormat,v=Pl.getFont(m);a.font=v.name,a.fillStyle="#"+Cs.hex(m.color,6);var b=i.calculateFontDimensions(this.__textFormat,v);a.fillRect(2,2,1,b.height)}for(var y=0,w=i.layoutGroups;y<w.length;){var x=w[y];if(++y,!(x.lineIndex<this.get_scrollV()-1)){if(x.lineIndex>this.get_scrollV()+i.bottomScrollV-2)break;var T=Pl.getFont(x.format);g=T.ascent*x.format.size,a.font=T.name,a.fillStyle="#"+Cs.hex(x.format.color,6);var S=l.substring(x.startIndex,x.endIndex),E=new RegExp("\n","g".split("u").join(""));if(S=S.replace(E,""),a.fillText(S,x.offsetX+u,x.offsetY+g+c),-1<this.__caretIndex&&i.selectable)if(this.__selectionIndex==this.__caretIndex){if(this.__showCursor&&x.startIndex<=this.__caretIndex&&(x.endIndex>this.__caretIndex||x.endIndex==i.text.length&&i.text.length==this.__caretIndex)){for(var I=_=0,C=this.__caretIndex-x.startIndex;I<C;){var P=I++;if(x.advances.length<=P)break;_+=x.advances[P]}a.fillRect(x.offsetX+_,x.offsetY,1,x.height)}}else if(!(x.endIndex<Math.min(this.__caretIndex,this.__selectionIndex)||x.startIndex>Math.max(this.__caretIndex,this.__selectionIndex))){var A,D,R=0|Math.min(this.__selectionIndex,this.__caretIndex),M=0|Math.max(this.__selectionIndex,this.__caretIndex);x.startIndex>R&&(R=x.startIndex),x.endIndex<M&&(M=x.endIndex),A=this.getCharBoundariesInGroup(R,x),M>=i.text.length?(D=this.getCharBoundariesInGroup(i.text.length-1,x)).x+=D.width+2:D=this.getCharBoundariesInGroup(M,x),null!=A&&null!=D&&(a.fillStyle="#000000",a.fillRect(A.x,A.y,D.x-A.x,x.height),a.fillStyle="#FFFFFF",a.fillText(l.substring(R,M),u+A.x,x.offsetY+g+c))}}}}else(i.border||i.background)&&(i.border?a.rect(.5,.5,n.width-1,n.height-1):a.rect(0,0,n.width,n.height),i.background&&(a.fillStyle="#"+Cs.hex(i.backgroundColor,6),a.fill()),i.border&&(a.lineWidth=1,a.lineCap="square",a.strokeStyle="#"+Cs.hex(i.borderColor,6),a.stroke()));var F=Co.pool.get();F.copyFrom(o),F.invert(),e.set___bitmap(Bl.fromGraphics(e,null,F)),e.__canvas=null,this.__graphicsSavedScale.x=this.renderScaleX,this.__graphicsSavedScale.y=this.renderScaleY,this.__dirty=!1,e.set_dirty(!1),Co.pool.put(o),Co.pool.put(F),H_.pool.put(n),H_.pool.put(s)}else e.__canvas=null,e.__context=null,e.set_dirty(!1),null!=e.__bitmap&&e.__bitmap.dispose(),this.__dirty=!1}hl.renderBitmap(this,t,0<this.__graphics.mustRefreshGraphicsCounter)},__startCursorTimer:function(){this.__cursorTimer=Fs.delay(of(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.set_dirty(!0)},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(of(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(of(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(of(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__textEngine.__hasFocus=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.set_dirty(!0))},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(of(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(of(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__textEngine.__hasFocus=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),2!=this.__textEngine.autoSize){var t=this.__textEngine.width,e=this.__textEngine.height;switch(this.__textEngine.autoSize){case 0:case 1:case 3:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t)switch(this.__textEngine.autoSize){case 0:this.set_x(this.__transform.tx+(t-this.__textEngine.width)/2);break;case 3:this.set_x(this.__transform.tx+(t-this.__textEngine.width))}this.__textEngine.width==t&&this.__textEngine.height==e||this.__textEngine.getLineMeasurements(),this.__textEngine.getBounds()}this.__caretIndex>this.__textEngine.text.length&&(this.__caretIndex=this.__textEngine.text.length),this.__selectionIndex>this.__textEngine.text.length&&(this.__selectionIndex=this.__textEngine.text.length),this.__layoutDirty=!1}},delayGraphicsRefresh:function(t,e){if(we.prototype.delayGraphicsRefresh.call(this,t,e),e&&!this.delayScaleRotationGraphicsRefresh)if(Math.abs(this.__graphicsSavedScale.x-this.renderScaleX)>$e.__maxScaleDifferenceBetweenRefreshGraphics||Math.abs(this.__graphicsSavedScale.y-this.renderScaleY)>$e.__maxScaleDifferenceBetweenRefreshGraphics)this.__graphics.mustRefreshGraphicsCounter=1;else{var i=this.__graphics;i.mustRefreshGraphicsCounter=Xl.__dirtyGraphicsDelay,i.set_dirty(!1)}},_onWorldTransformScaleRotationChanged:function(){we.prototype._onWorldTransformScaleRotationChanged.call(this),this.__layoutDirty=!0},__update:function(t,e){this.__updateLayout(),we.prototype.__update.call(this,t,e)},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){return this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&this.set_dirty(!0),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&this.set_dirty(!0),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&this.set_dirty(!0),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&this.set_dirty(!0),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.set_dirty(!0),t},get_displayAsPassword:function(){return this.__textEngine.displayAsPassword},set_displayAsPassword:function(t){return t!=this.__textEngine.displayAsPassword&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.displayAsPassword=t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),we.prototype.get_height.call(this)},set_height:function(t){return 1==this.get_scaleY()&&t==this.__textEngine.height||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},parseTags:function(t,e,i,n){null==n&&(n=[]);var s="";if(t.nodeType!=at.Document&&t.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=$.iter(t.children);r.hasNext();){var a,o=r.next();if(0==o.nodeType){if(o.nodeType!=at.Document&&o.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+o.nodeType);a=null==o.children[0]}else a=!0;if(a){if(o.nodeType==at.Document||o.nodeType==at.Element)throw new fr("Bad node type, unexpected "+o.nodeType);if(n.push(new Al(e,i,i+o.nodeValue.length)),o.nodeType==at.Document||o.nodeType==at.Element)throw new fr("Bad node type, unexpected "+o.nodeType);if(s+=o.nodeValue,o.nodeType==at.Document||o.nodeType==at.Element)throw new fr("Bad node type, unexpected "+o.nodeType);i+=o.nodeValue.length}else{if(o.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+o.nodeType);var l=o.nodeName,h=e.clone();switch(l.toLowerCase()){case"b":h.bold=!0;break;case"font":for(var _=o.attributes();_.hasNext();){var u=_.next();switch(u.toLowerCase()){case"color":h.color=Q.parseInt("0x"+this.stripHexPrefix(o.get(u)));break;case"face":var c=o.get(u);h.font=ai.fontAliases.get(c),null==h.font&&(h.font=c);break;case"kerning":h.kerning=0!=Q.parseInt(o.get(u));break;case"letterSpacing":h.letterSpacing=parseFloat(o.get(u));break;case"size":h.size=Q.parseInt(o.get(u))}}break;case"i":h.italic=!0;break;case"indent":h.leftMargin+=20;break;case"li":h.bullet=!0;break;case"p":for(var f=o.attributes();f.hasNext();){var d=f.next();if("align"==d.toLowerCase())switch(o.get(d).toLowerCase()){case"center":h.align=0;break;case"justify":h.align=2;break;case"left":h.align=3;break;case"right":h.align=4}}}var p=this.parseTags(o,h,i,n);s+=p.text,i=p.start_index}}return{text:s,start_index:i,format_ranges:n}},stripHexPrefix:function(t){return 0==t.indexOf("#")?t.substring(1):0==t.indexOf("0x")?t.substring(2):t},set_htmlText:function(e){if(this.__isHTML&&this.__cachedHtmlText==e||(this.set_dirty(!0),this.__layoutDirty=!0),this.__isHTML=!0,this.__cachedHtmlText=e,null!=this.__div)return this.__textEngine.text=e;var t=new RegExp("<P","g".split("u").join(""));e=e.replace(t,"<p");var i=new RegExp("</P>","g".split("u").join("")),n=(e=e.replace(i,"</p>")).lastIndexOf("</p>");if(0<n){var s=$.substr(e,0,n),r=$.substr(e,n,null),a=new RegExp("</p>","g".split("u").join(""));e=(s=s.replace(a,"</p>\n"))+r}var o=new RegExp("<br>","g".split("u").join(""));e=e.replace(o,"\n");var l=new RegExp("<br/>","g".split("u").join(""));e=e.replace(l,"\n");var h=new RegExp("</br>","g".split("u").join(""));e=e.replace(h,"\n");var _=new RegExp("</li>","g".split("u").join(""));e=e.replace(_,"</indent>\n");for(var u=1;0<(u=e.indexOf("<li>",u));){"\n"!=e.charAt(u-1)&&(e=$.substr(e,0,u)+"\n"+$.substr(e,u,null),++u),++u}var c,f=new RegExp("<li>","g".split("u").join(""));e=e.replace(f,"<indent>●\t\t");try{c=at.parse(e)}catch(t){(Is.lastException=t)instanceof fr&&(t=t.val),Rs.trace("Unable to parse html: "+Q.string(t),{fileName:"TextField.hx",lineNumber:1353,className:"openfl.text.TextField",methodName:"set_htmlText"});var d=new RegExp("<.*?>","g".split("u").join(""));e=e.replace(d,""),c=at.parse(e)}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),this.__textFormat.bold=!1,this.__textFormat.italic=!1,this.__textFormat.leftMargin=null;var p=this.parseTags(c,this.__textFormat.clone(),0);return e=p.text,this.__textEngine.textFormatRanges=p.format_ranges,0<p.format_ranges.length&&(this.__textFormat=p.format_ranges[0].format),this.__textEngine.text=e},get_length:function(){return null!=this.__textEngine.text?this.__textEngine.text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.maxChars=t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.maxScrollV},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict=t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),t<0&&(t=0),t!=this.__textEngine.scrollH&&this.set_dirty(!0),this.__textEngine.scrollH=t},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(t){return t>this.__textEngine.maxScrollV&&(t=this.__textEngine.maxScrollV),t<1&&(t=1),t!=this.__textEngine.scrollV&&this.set_dirty(!0),this.__textEngine.scrollV=t},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return 0|Math.min(this.__caretIndex,this.__selectionIndex)},get_selectionEndIndex:function(){return 0|Math.max(this.__caretIndex,this.__selectionIndex)},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&this.set_dirty(!0),this.__textEngine.sharpness=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.set_dirty(!0),this.__layoutDirty=!0,1<this.__textEngine.textFormatRanges.length&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__cachedHtmlText=null,this.__textEngine.text=t},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&this.set_dirty(!0);for(var e=0,i=this.__textEngine.textFormatRanges;e<i.length;){var n=i[e];++e,n.format.color=t}return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(1==t?(this.addEventListener("focusIn",of(this,this.this_onFocusIn)),this.addEventListener("focusOut",of(this,this.this_onFocusOut)),this.addEventListener("addedToStage",of(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",of(this,this.this_onFocusIn)),this.removeEventListener("focusOut",of(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",of(this,this.this_onAddedToStage)),this.__stopTextInput()),this.set_dirty(!0)),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),we.prototype.get_width.call(this)},set_width:function(t){return 1==this.get_scaleX()&&this.__textEngine.width==t||(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.set_dirty(!0),this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.set_dirty(!0),this.__layoutDirty=!0),this.__textEngine.wordWrap=t},get_dirty:function(){return this.__dirty},set_dirty:function(t){return t&&(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__dirty=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&0<=this.__selectionIndex){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.set_dirty(!0))}},stage_onMouseUp:function(t){var e=this;if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",of(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",of(this,this.stage_onMouseUp)),null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clickTimer=Fs.delay(function(){e.__clicks=0,e.__clickTimer=null},400),this.stage.get_focus()==this))if(this.__updateLayout(),3<=this.__clicks&&this.__clicks%3==0)this.__selectAll();else if(2<=this.__clicks&&this.__clicks%2==0)this.__selectWord();else{this.__getWorldTransform();var i,n,s=this.__getPosition(this.get_mouseX(),this.get_mouseY());i=0|Math.min(this.__selectionIndex,s),n=0|Math.max(this.__selectionIndex,s),this.__selectionIndex=i,this.__caretIndex=n,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0),null!=this.__firstDownPos&&(Math.abs(this.__firstDownPos.x-this.get_mouseX())>$e.__moveDelta||Math.abs(this.__firstDownPos.y-this.get_mouseY())>$e.__moveDelta)&&(null!=this.__clickTimer&&this.__clickTimer.stop(),this.__clicks=0,xe.pool.put(this.__firstDownPos),this.__firstDownPos=null),this.__clicks++,1==this.__clicks&&(null!=this.__firstDownPos&&xe.pool.put(this.__firstDownPos),this.__firstDownPos=xe.pool.get(),this.__firstDownPos.x=this.get_mouseX(),this.__firstDownPos.y=this.get_mouseY()),this.stage.addEventListener("mouseMove",of(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",of(this,this.stage_onMouseUp)))},__findFirstSpace:function(t,e,i){null==i&&(i=!0);var n=this.__textEngine.text.charAt(e);if(t){if(i)for(;0<e&&(" "==n||"-"==n);)--e,n=this.__textEngine.text.charAt(e);for(;0<e&&" "!=n&&"-"!=n;)--e,n=this.__textEngine.text.charAt(e)}else{var s=this.__textEngine.text.length-1;if(i)for(;e<s&&(" "==n||"-"==n);)++e,n=this.__textEngine.text.charAt(e);for(;e<s&&" "!=n&&"-"!=n;)++e,n=this.__textEngine.text.charAt(e)}return e},__selectWord:function(){this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.set_dirty(!0);this.__textEngine.text.charAt(this.__caretIndex);this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex,!1);var t=this.__textEngine.text.charAt(this.__caretIndex);" "!=t&&"-"!=t||++this.__caretIndex,this.__selectionIndex=this.__findFirstSpace(!1,this.__selectionIndex,!1)},__selectAll:function(){this.__caretIndex=0,this.__selectionIndex=this.__textEngine.text.length,this.set_dirty(!0)},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&0<this.__caretIndex&&(oo.get_ctrlKey(e)?(this.__selectionIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.__selectionIndex&&(this.__selectionIndex+=1)):this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ge("change",!0)));break;case 97:oo.get_ctrlKey(e)&&this.__selectAll();break;case 99:oo.get_ctrlKey(e)&&Xa.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 118:if(oo.get_ctrlKey(e)){var i=Xa.get_text();null!=i?this.replaceSelectedText(i):this.replaceSelectedText(""),this.dispatchEvent(new Ge("change",!0))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length;break;case 120:oo.get_ctrlKey(e)&&(Xa.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Ge("change",!0))));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(oo.get_ctrlKey(e)?this.__selectionIndex=this.__findFirstSpace(!1,this.__caretIndex)+1:this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ge("change",!0)));break;case 1073741898:var n=this.getCharBoundaries(this.__caretIndex);n.x=0,this.__caretIndex=this.__getPosition(n.x,n.y),oo.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741901:var s=this.getLineIndexOfChar(this.__caretIndex),r=this.getCharBoundaries(this.__caretIndex);r.x+=this.__textEngine.textWidth,this.__textEngine.lineLayoutGroups[s][0].endIndex==this.__caretIndex&&(r.y+=r.height+1),this.__caretIndex=this.__getPosition(r.x,r.y),oo.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741903:oo.get_shiftKey(e)&&oo.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1)):oo.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!1,0|Math.min(this.__caretIndex+1,this.__textEngine.text.length)),this.get_caretIndex()<this.__textEngine.text.length&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):oo.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=0|Math.max(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741904:oo.get_shiftKey(e)&&oo.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1)):oo.get_ctrlKey(e)?(this.__caretIndex=this.__findFirstSpace(!0,this.__caretIndex-1),0!=this.get_caretIndex()&&(this.__caretIndex+=1),this.__selectionIndex=this.__caretIndex):oo.get_shiftKey(e)?0<this.__caretIndex&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?0<this.__caretIndex&&this.__caretIndex--:this.__caretIndex=0|Math.min(this.__caretIndex,this.__selectionIndex),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741905:var a=this.getCharBoundaries(this.__caretIndex);a.y+=a.height+1,this.__caretIndex=this.__getPosition(a.x,a.y),oo.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741906:var o=this.getCharBoundaries(this.__caretIndex);o.y-=o.height,this.__caretIndex=this.__getPosition(o.x,o.y),oo.get_shiftKey(e)||(this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer()}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Ge("change",!0))},__class__:$e,__properties__:n(we.prototype.__properties__,{set_dirty:"set_dirty",get_dirty:"get_dirty",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var ti=function(t,e){$e.call(this),this.swf=t,this.symbol=e,this._variableName=Cs.replace(e.variableName,"_parent.",""),this.set_width(e.width),this.set_height(e.height),this.set_multiline(e.multiline),this.set_wordWrap(e.wordWrap),this.set_displayAsPassword(e.password),this.set_border(e.border),this.set_selectable(e.selectable);var i=new gu;null!=e.color&&(i.color=16777215&e.color),i.size=Math.round(e.fontHeight/20);var n=e.fontName,s=ai.fontAliases;i.font=null!=df[n]?s.getReserved(n):s.h[n],null==i.font&&(i.font=ai.fontAliasesId.h[e.fontID]),null==i.font&&(i.font=e.fontName);var r=!1,a=i.font;if(null==a)r=!0;else switch(a){case"":case"_sans":case"_serif":case"_typewriter":r=!0;break;default:for(var o=0,l=Ti.enumerateFonts();o<l.length;){var h=l[o];if(++o,h.name==i.font){r=!0;break}}}r?this.set_embedFonts(!0):Rs.trace('Warning: Could not find required font "'+i.font+'", it has not been embedded',{fileName:"DynamicTextField.hx",lineNumber:86,className:"format.swf.lite.DynamicTextField",methodName:"new"}),null!=e.align&&("center"==e.align?i.align=0:"right"==e.align?i.align=4:"justify"==e.align&&(i.align=2),i.leftMargin=e.leftMargin/20|0,i.rightMargin=e.rightMargin/20|0,i.indent=e.indent/20|0,i.leading=e.leading/20|0),this.set_defaultTextFormat(i),null!=e.text&&(e.html?this.set_htmlText(e.text):this.set_text(e.text)),null!=e.maxLength&&this.set_maxChars(e.maxLength)};(i["format.swf.lite.DynamicTextField"]=ti).__name__=["format","swf","lite","DynamicTextField"],ti.__super__=$e,ti.prototype=n($e.prototype,{__update:function(t,e){var i=null!=this._variableName&&0<this._variableName.length;if(i){var n=this._variableName,s=this.parent;"_root."==$.substr(this._variableName,0,6)?(n=Cs.replace(this._variableName,"_root.",""),s=Po.current.getChildAt(0)):"_global."==$.substr(this._variableName,0,8)&&(n=Cs.replace(this._variableName,"_global.",""),s=Po.current.getChildAt(0));for(var r=n.split("."),a=function(t,e){for(var i=t,n=0;n<e.length;){var s=e[n];if(++n,null==(i=Dt.field(i,s)))return null}return i};null!=s;){if(Object.prototype.hasOwnProperty.call(s,r[0])){var o=a(s,r);if(null!=o){null!=this.symbol&&this.symbol.html?this.set_htmlText(Q.string(o)):this.set_text(Q.string(o));break}}s=s.parent}}$e.prototype.__update.call(this,t,e),i&&(this.__updateDirty=!0)},applyTextToVariable:function(){if(null!=this._variableName&&0<this._variableName.length){var t=this._variableName,e=this.parent;for("_root."==$.substr(this._variableName,0,6)&&(t=Cs.replace(this._variableName,"_root.",""),e=Po.current.getChildAt(0));null!=e;){if(Object.prototype.hasOwnProperty.call(e,t)){e[t]=this.__textEngine.text;break}e=e.parent}}},window_onKeyDown:function(t,e){$e.prototype.window_onKeyDown.call(this,t,e),this.applyTextToVariable()},window_onTextInput:function(t){$e.prototype.window_onTextInput.call(this,t),this.applyTextToVariable()},__class__:ti});var ei=function(){Y.call(this)};(i["openfl.display.Shape"]=ei).__name__=["openfl","display","Shape"],ei.__super__=Y,ei.prototype=n(Y.prototype,{getSymbol:function(){return this.get_graphics().__symbol},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Xl,this.__graphics.__owner=this),this.__graphics},__hitTest:function(t,e,i,n,s,r){return!(!this.parent.mouseEnabled&&s)&&Y.prototype.__hitTest.call(this,t,e,i,n,s,r)},toString:function(){var t=this.getSymbol();return null!=t?"[Shape id: "+t.id+"]":Y.prototype.toString.call(this)},__class__:ei,__properties__:n(Y.prototype.__properties__,{get_graphics:"get_graphics"})});var ii=function(t,e){this.mustCache=!1,ei.call(this),this.__symbol=e,(this.get_graphics().__symbol=e).useBitmapCache&&(this.get_graphics().keepBitmapData=!0),this.__swf=t,null==this.__symbol.cachedHandlers&&(this.__symbol.cachedHandlers=new Gs),this.set_ratio(0)};(i["format.swf.lite.MorphShape"]=ii).__name__=["format","swf","lite","MorphShape"],ii.__updateMorphShape=function(t,e,i,n){var s=t.getCacheEntry(i,e);if(null!=s)return n.__bitmap=s.bitmapData,n.__dirty=!1,n.__bounds=s.bounds,!1;var r=Math.floor(65535*e),a=t.cachedHandlers.h[r];if(null==a){var o=t.getShape(e);a=new Ye,o.export(a),t.cachedHandlers.h[r]=a}return n.clear(),Ps.processCommands(n,a.commands),!0},ii.__super__=ei,ii.prototype=n(ei.prototype,{__reset:function(){this.set_ratio(0)},__getBounds:function(t){this.__update(!0,!1),ei.prototype.__getBounds.call(this,t)},getSymbol:function(){return this.__symbol},set_ratio:function(t){return this.ratio==t?t:(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),this.ratio=t)},__update:function(t,e){(this.__updateTransforms(),this.__renderDirty)&&(ii.__updateMorphShape(this.__symbol,this.ratio,this.__renderTransform,this.get_graphics())&&(this.mustCache=!0));ei.prototype.__update.call(this,t,e)},__renderGL:function(t){ei.prototype.__renderGL.call(this,t),this.mustCache&&(null!=this.get_graphics().__bitmap&&this.__symbol.addCacheEntry(this.get_graphics().__bitmap,this.get_graphics().__bounds,this.__renderTransform,this.ratio),this.mustCache=!1)},__class__:ii,__properties__:n(ei.prototype.__properties__,{set_ratio:"set_ratio"})});var ni=function(){};(i["lime.app.IModule"]=ni).__name__=["lime","app","IModule"],ni.prototype={__class__:ni};var si=function(){this.onExit=new Nr};(i["lime.app.Module"]=si).__name__=["lime","app","Module"],si.__interfaces__=[ni],si.prototype={onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){Rs.trace("onGamepadConnect (module)",{fileName:"Module.hx",lineNumber:64,className:"lime.app.Module",methodName:"onGamepadConnect"})},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){},onKeyUp:function(t,e,i){},onModuleExit:function(t){},onMouseDown:function(t,e,i,n){},onMouseMove:function(t,e,i){},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,i){},onWindowMinimize:function(t){},onWindowResize:function(t,e,i){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:si};var ri=function(){si.call(this)};(i["format.swf.lite.SoundProcessorModule"]=ri).__name__=["format","swf","lite","SoundProcessorModule"],ri.__super__=si,ri.prototype=n(si.prototype,{render:function(t){if(0<u.soundCommandTable.length){for(var e=0,i=u.soundCommandTable;e<i.length;){var n=i[e];++e,null!=n.movieClip.stage&&u._processSoundCommandCallback(n.command)}u.soundCommandTable=[]}},__class__:ri});var ai=function(){this.__uid=X.SEQ<<24|++X.UID,this.symbols=new Gs,this.classes=new zs,this.classes_id=new Gs};(i["format.swf.lite.SWFLite"]=ai).__name__=["format","swf","lite","SWFLite"],ai.__interfaces__=[C],ai.__properties__={get_defaultInstance:"get_defaultInstance"},ai.defaultInstance=null,ai.unserializeLibrary=function(t){if(null==t)return null;var e=(new X).unserialize(t,ai);return e.cacheSymbolClassNames(),e.classes=new zs,e.classes_id=new Gs,e.prepareShapeBitmaps(),e},ai.get_defaultInstance=function(){var t=ai.instances;return null!=df["lib/graphics/graphics.dat"]?t.getReserved("lib/graphics/graphics.dat"):t.h["lib/graphics/graphics.dat"]},ai.prototype={createButton:function(t){return null},createMovieClip:function(t){if(null==t&&(t=""),""==t){if(""!=this.root.className){var e=this.root.className,i=this.classes,n=null!=df[e]?i.getReserved(e):i.h[e];if(null!=n)return Pi.createInstance(n,[this,this.root]);Rs.trace("Loading root movie, searching for symbol "+this.root.className+" not found",{fileName:"SWFLite.hx",lineNumber:60,className:"format.swf.lite.SWFLite",methodName:"createMovieClip"})}return new u(this,this.root)}var s=this.symbolClassNames,r=null!=df[t]?s.getReserved(t):s.h[t];if(null!=r){if(r.poolable&&0<r.pool.size){var a=r.pool.get();return a.__reset(),a}if(""!=r.className){var o=r.className,l=this.classes,h=null!=df[o]?l.getReserved(o):l.h[o];if(null!=h)return Pi.createInstance(h,[this,r])}var _=this.classes_id.h[r.id];if(null!=_)return Pi.createInstance(_,[this,r]);if(dr.__instanceof(r,Fi))return new u(this,r)}return null},getBitmapData:function(t){var e=this.symbolClassNames,i=null!=df[t]?e.getReserved(t):e.h[t];if(null!=i&&dr.__instanceof(i,ci)){var n=i;return Eo.getBitmapData(n.path)}return null},hasSymbol:function(t){var e=this.symbolClassNames;return null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},serializeLibrary:function(){var t=new X;return this.symbolClassNames=null,t.serialize(this)},cacheSymbolClassNames:function(){this.symbolClassNames=new zs;for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();if(null!=e.className){var i=e.className,n=this.symbolClassNames;null!=df[i]?n.setReserved(i,e):n.h[i]=e}}},prepareShapeBitmaps:function(){for(var t=this.symbols.iterator();t.hasNext();){var e=t.next();dr.__instanceof(e,Ps)&&dr.__cast(e,Ps).graphics.__commands.resolveBitmapDatas(this)}},set_frameRate:function(t){return this.frameTime=1e3/t|0,this.frameRate=t},getCLID:function(){return ai.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.frameRate)),t.addKnownRef(this.root);var e=this.symbols;if(null==e)t.out.b.push(0);else{var i=e,n=tt.array({iterator:function(){return i.keys()}}),s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),t.addKnownRef(e.h[a])}}var o=this.symbolClassNames;if(null==o)t.out.b.push(0);else{var l=o,h=tt.array({iterator:function(){return l.keys()}}),_=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];if(++u,null==c)t.out.b.push(0);else{var f=ps.ofString(c),d=f.length+1;0<=d&&d<128?t.out.b.push(d):(t.out.b.push(128),t.out.addInt32(d));for(var p=t.out,g=(p.b,f.b),m=0,v=f.length;m<v;){var b=m++;p.b.push(g[b])}}t.addKnownRef(null!=df[c]?o.getReserved(c):o.h[c])}}},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("frameRate"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("root"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("symbols"),t.fieldsTypes.push(ar.PMap(ar.PInt,ar.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.fieldsNames.push("symbolClassNames"),t.fieldsTypes.push(ar.PMap(ar.PString,ar.PSerializable("format.swf.lite.symbols.SWFSymbol"))),t.isFinal=X.isClassFinal(ai.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.set_frameRate(e),this.root=t.getRef(Fi,Fi.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=new Gs;0<--r;){var o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var l=o,h=t.getRef(ui,ui.__clid);a.h[l]=h}n=a}this.symbols=n;var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=_;if(0==c)u=null;else{for(var f=new zs;0<--c;){var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p=d;if(0==p)s=null;else{--p;var g=t.input.getString(t.inPos,p);t.inPos+=p,s=g}var m=s,v=t.getRef(ui,ui.__clid);null!=df[m]?f.setReserved(m,v):f.h[m]=v}u=f}this.symbolClassNames=u},__class__:ai,__properties__:{set_frameRate:"set_frameRate"}};var oi=function(){vi.call(this)};(i["openfl.AssetLibrary"]=oi).__name__=["openfl","AssetLibrary"],oi.__super__=vi,oi.prototype=n(vi.prototype,{getMovieClip:function(t){return null},loadMovieClip:function(t){var e=this;return new jr(function(){return e.getMovieClip(t)})},__class__:oi});var li=function(t){if(oi.call(this),null!=t){var e=Eo.getBytes(t);this.swf=ai.unserializeLibrary(Su.toBytes(e));var i=this.swf,n=ai.instances;null!=df[t]?n.setReserved(t,i):n.h[t]=i}};(i["format.swf.lite.SWFLiteLibrary"]=li).__name__=["format","swf","lite","SWFLiteLibrary"],li.__super__=oi,li.prototype=n(oi.prototype,{exists:function(t,e){return""==t&&"MOVIE_CLIP"==e||("IMAGE"==e||"MOVIE_CLIP"==e)&&this.swf.hasSymbol(t)},getImage:function(t){return ua.fromBitmapData(this.swf.getBitmapData(t))},getMovieClip:function(t){return this.swf.createMovieClip(t)},load:function(){var t=new Jr;return t.complete(this),t.future},unload:function(){for(var t,e=this.swf.symbols.iterator();e.hasNext();){var i=e.next();dr.__instanceof(i,ci)&&(t=i,Eo.cache.removeBitmapData(t.path))}},__class__:li});var hi=function(t,e){this._symbol=e,l.call(this),this.__totalFrames=1,this.__currentFrame=1;var i=dr.__cast(t.symbols.h[e.bitmapID],ci);if(this.isSpritesheetImage(i.path)){var n=hi.spritesheet.getDisplayObjectByFrameName(i.path);this.addDisplayObject(n,e)}else{var s=new Ml(Eo.getBitmapDataFromSymbol(i));s.smoothing=e.smooth,s.pixelSnapping=2,this.addDisplayObject(s,e)}};(i["format.swf.lite.SimpleSprite"]=hi).__name__=["format","swf","lite","SimpleSprite"],hi.spritesheet=null,hi.__super__=l,hi.prototype=n(l.prototype,{isSpritesheetImage:function(t){return null!=hi.spritesheet&&!hi.spritesheet.isBitmapExcluded(t)},addDisplayObject:function(t,e){t.__transform.copyFrom(e.matrix),this.addChildAt(t,this.__children._length)},__hitTest:function(t,e,i,n,s,r){return!(!this.parent.mouseEnabled&&s)&&l.prototype.__hitTest.call(this,t,e,i,n,s,r)},getSymbol:function(){return this._symbol},__class__:hi});var _i=function(t,e){K.call(this),this.swf=t,this.symbol=e,this.renderGlyphs()};(i["format.swf.lite.StaticTextField"]=_i).__name__=["format","swf","lite","StaticTextField"],_i.__super__=K,_i.prototype=n(K.prototype,{renderGlyphs:function(){if(this.glyphs=[],null!=this.symbol.records)for(var t=null,e=16777215,i=this.symbol.matrix.tx,n=this.symbol.matrix.ty,s=0,r=this.symbol.records;s<r.length;){var a=r[s];if(++s,null!=a.fontID&&(t=this.swf.symbols.h[a.fontID]),null!=a.offsetX&&(i=this.symbol.matrix.tx+.05*a.offsetX),null!=a.offsetY&&(n=this.symbol.matrix.ty+.05*a.offsetY),null!=a.color&&(e=a.color),null!=t)for(var o,l=a.fontHeight/1024,h=0,_=a.glyphs.length;h<_;){var u=h++;o=a.glyphs[u];var c=new ei,f=new Xl(!1);c.__graphics=f,t.glyphs[o].set_useBitmapCache(!0),f.copyFrom(t.glyphs[o].graphics,!0),(f.__owner=c).set_x(i),c.set_y(n),c.set_scaleX(l),c.set_scaleY(l),i+=.05*a.advances[u],c.get_transform().get_colorTransform().set_color(16777215&e),c.get_transform().get_colorTransform().alphaMultiplier=(e>>24&255)/255,this.addChildAt(c,this.__children._length),this.glyphs.push(c)}}},__class__:_i});var ui=function(){this.__uid=X.SEQ<<24|++X.UID,this.forbidCachedBitmapUpdate=!1,this.pixelPerfectHitTest=!0,this.uniqueSharedCachedBitmap=null,this.useUniqueSharedBitmapCache=!1,this.poolable=!1,this.id=-1,this.className=""};(i["format.swf.lite.symbols.SWFSymbol"]=ui).__name__=["format","swf","lite","symbols","SWFSymbol"],ui.__interfaces__=[C],ui.prototype={set_poolable:function(t){return t&&null==this.pool&&(this.pool=new P(function(){throw new fr("Forbidden")})),this.poolable=t},initPool:function(t,e){this.pool=new P(function(){throw new fr("Forbidden")});for(var i=0,n=e;i<n;){i++;var s=t.createMovieClip(this.className);this.pool.put(s)}this.set_poolable(!0)},toString:function(){return"SWFSymbol[id: "+this.id+", name: "+this.className+"] "},getCLID:function(){return ui.__clid},serialize:function(t){var e=this.className;if(null==e)t.out.b.push(0);else{var i=ps.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.id;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("className"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("id"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(ui.__clid),t},unserializeInit:function(){this.className="",this.id=-1,this.set_poolable(!1),this.useUniqueSharedBitmapCache=!1,this.uniqueSharedCachedBitmap=null,this.pixelPerfectHitTest=!0,this.forbidCachedBitmapUpdate=!1},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.className=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4),this.id=r},__class__:ui,__properties__:{set_poolable:"set_poolable"}};var ci=function(){this.path="",this.alpha="",ui.call(this)};(i["format.swf.lite.symbols.BitmapSymbol"]=ci).__name__=["format","swf","lite","symbols","BitmapSymbol"],ci.__super__=ui,ci.prototype=n(ui.prototype,{getCLID:function(){return ci.__clid},serialize:function(t){ui.prototype.serialize.call(this,t);var e=this.alpha;if(null==e)t.out.b.push(0);else{var i=ps.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.path;if(null==h)t.out.b.push(0);else{var _=ps.ofString(h),u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}}},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("alpha"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("path"),t.fieldsTypes.push(ar.PString),t.isFinal=X.isClassFinal(ci.__clid),t},unserializeInit:function(){ui.prototype.unserializeInit.call(this),this.alpha="",this.path=""},unserialize:function(t){ui.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.alpha=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{--o;var l=t.input.getString(t.inPos,o);t.inPos+=o,a=l}this.path=a},__class__:ci});var fi=function(){ui.call(this)};(i["format.swf.lite.symbols.ButtonSymbol"]=fi).__name__=["format","swf","lite","symbols","ButtonSymbol"],fi.__super__=ui,fi.prototype=n(ui.prototype,{getCLID:function(){return fi.__clid},serialize:function(t){ui.prototype.serialize.call(this,t),t.addKnownRef(this.downState),t.addKnownRef(this.hitState),t.addKnownRef(this.overState),t.addKnownRef(this.upState),t.addKnownRef(this.onIdleSound),t.addKnownRef(this.onOverSound),t.addKnownRef(this.onDownSound),t.addKnownRef(this.onUpSound)},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("downState"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("hitState"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("overState"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("upState"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SpriteSymbol")),t.fieldsNames.push("onIdleSound"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onOverSound"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onDownSound"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SoundCommand")),t.fieldsNames.push("onUpSound"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=X.isClassFinal(fi.__clid),t},unserialize:function(t){ui.prototype.unserialize.call(this,t),this.downState=t.getRef(Fi,Fi.__clid),this.hitState=t.getRef(Fi,Fi.__clid),this.overState=t.getRef(Fi,Fi.__clid),this.upState=t.getRef(Fi,Fi.__clid),this.onIdleSound=t.getRef(Mi,Mi.__clid),this.onOverSound=t.getRef(Mi,Mi.__clid),this.onDownSound=t.getRef(Mi,Mi.__clid),this.onUpSound=t.getRef(Mi,Mi.__clid)},__class__:fi});var di=function(){this.text="",this.fontName="",this.align="",this.variableName="",ui.call(this)};(i["format.swf.lite.symbols.DynamicTextSymbol"]=di).__name__=["format","swf","lite","symbols","DynamicTextSymbol"],di.__super__=ui,di.prototype=n(ui.prototype,{getCLID:function(){return di.__clid},serialize:function(t){ui.prototype.serialize.call(this,t);var e=this.variableName;if(null==e)t.out.b.push(0);else{var i=ps.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.align;if(null==h)t.out.b.push(0);else{var _=ps.ofString(h),u=_.length+1;0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u));for(var c=t.out,f=(c.b,_.b),d=0,p=_.length;d<p;){var g=d++;c.b.push(f[g])}}if(t.out.b.push(this.border?1:0),null==this.color)t.out.b.push(0);else{t.out.b.push(1);var m=this.color;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}var v=this.fontHeight;0<=v&&v<128?t.out.b.push(v):(t.out.b.push(128),t.out.addInt32(v));var b=this.fontID;0<=b&&b<128?t.out.b.push(b):(t.out.b.push(128),t.out.addInt32(b));var y=this.fontName;if(null==y)t.out.b.push(0);else{var w=ps.ofString(y),x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=t.out,S=(T.b,w.b),E=0,I=w.length;E<I;){var C=E++;T.b.push(S[C])}}if(t.out.addInt32(js.floatToI32(this.height)),t.out.b.push(this.html?1:0),null==this.indent)t.out.b.push(0);else{t.out.b.push(1);var P=this.indent;0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P))}if(null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var A=this.leading;0<=A&&A<128?t.out.b.push(A):(t.out.b.push(128),t.out.addInt32(A))}if(null==this.leftMargin)t.out.b.push(0);else{t.out.b.push(1);var D=this.leftMargin;0<=D&&D<128?t.out.b.push(D):(t.out.b.push(128),t.out.addInt32(D))}if(t.out.b.push(this.multiline?1:0),t.out.b.push(this.password?1:0),null==this.rightMargin)t.out.b.push(0);else{t.out.b.push(1);var R=this.rightMargin;0<=R&&R<128?t.out.b.push(R):(t.out.b.push(128),t.out.addInt32(R))}t.out.b.push(this.selectable?1:0);var M=this.text;if(null==M)t.out.b.push(0);else{var F=ps.ofString(M),B=F.length+1;0<=B&&B<128?t.out.b.push(B):(t.out.b.push(128),t.out.addInt32(B));for(var L=t.out,k=(L.b,F.b),N=0,O=F.length;N<O;){var U=N++;L.b.push(k[U])}}if(t.out.addInt32(js.floatToI32(this.width)),t.out.b.push(this.wordWrap?1:0),t.out.addInt32(js.floatToI32(this.x)),t.out.addInt32(js.floatToI32(this.y)),null==this.maxLength)t.out.b.push(0);else{t.out.b.push(1);var G=this.maxLength;0<=G&&G<128?t.out.b.push(G):(t.out.b.push(128),t.out.addInt32(G))}},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("variableName"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("align"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("border"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("color"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fontName"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("height"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("html"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("indent"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("leading"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("leftMargin"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("multiline"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("password"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("rightMargin"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("selectable"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("text"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("width"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("wordWrap"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("x"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("maxLength"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.isFinal=X.isClassFinal(di.__clid),t},unserializeInit:function(){ui.prototype.unserializeInit.call(this),this.variableName="",this.align="",this.fontName="",this.text=""},unserialize:function(t){ui.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.getString(t.inPos,n);t.inPos+=n,i=s}this.variableName=i;var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{--o;var l=t.input.getString(t.inPos,o);t.inPos+=o,a=l}if(this.align=a,this.border=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.color=null;else{var h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4),this.color=h}var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=_;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}this.fontName=f;var g=t.input.getFloat(t.inPos);if(t.inPos+=4,this.height=g,this.html=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.indent=null;else{var m=t.input.b[t.inPos++];128==m&&(m=t.input.getInt32(t.inPos),t.inPos+=4),this.indent=m}if(0==t.input.b[t.inPos++])this.leading=null;else{var v=t.input.b[t.inPos++];128==v&&(v=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=v}if(0==t.input.b[t.inPos++])this.leftMargin=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),this.leftMargin=b}if(this.multiline=0!=t.input.b[t.inPos++],this.password=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.rightMargin=null;else{var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4),this.rightMargin=y}this.selectable=0!=t.input.b[t.inPos++];var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.getString(t.inPos,T);t.inPos+=T,x=S}this.text=x;var E=t.input.getFloat(t.inPos);t.inPos+=4,this.width=E,this.wordWrap=0!=t.input.b[t.inPos++];var I=t.input.getFloat(t.inPos);t.inPos+=4,this.x=I;var C=t.input.getFloat(t.inPos);if(t.inPos+=4,this.y=C,0==t.input.b[t.inPos++])this.maxLength=null;else{var P=t.input.b[t.inPos++];128==P&&(P=t.input.getInt32(t.inPos),t.inPos+=4),this.maxLength=P}},__class__:di});var pi=function(){this.name="",ui.call(this)};(i["format.swf.lite.symbols.FontSymbol"]=pi).__name__=["format","swf","lite","symbols","FontSymbol"],pi.renderGlyph=function(t,e,i,n,s){for(var r=0;r<e.length;){var a=e[r];switch(++r,a[1]){case 1:t.beginFill(16777215,1);break;case 3:var o=a[5],l=a[4],h=a[3],_=a[2];t.curveTo(_*i+n,h*i+s,l*i+n,o*i+s);break;case 5:t.endFill();break;case 6:var u=a[9],c=a[8],f=a[7],d=a[6],p=a[5],g=a[4],m=a[3],v=a[2];null!=v?t.lineStyle(v,m,g,p,d,f,c,u):t.lineStyle();break;case 9:var b=a[3],y=a[2];t.lineTo(y*i+n,b*i+s);break;case 10:var w=a[3],x=a[2];t.moveTo(x*i+n,w*i+s)}}},pi.__super__=ui,pi.prototype=n(ui.prototype,{getCLID:function(){return pi.__clid},serialize:function(t){ui.prototype.serialize.call(this,t);var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,null==s?t.out.b.push(0):(t.out.b.push(1),0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s)))}}t.out.b.push(this.bold?1:0);var r=this.codes;if(null==r)t.out.b.push(0);else{var a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=0;o<r.length;){var l=r[o];++o,0<=l&&l<128?t.out.b.push(l):(t.out.b.push(128),t.out.addInt32(l))}}var h=this.glyphs;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];++u,t.addKnownRef(c)}}if(t.out.b.push(this.italic?1:0),null==this.leading)t.out.b.push(0);else{t.out.b.push(1);var f=this.leading;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}var d=this.name;if(null==d)t.out.b.push(0);else{var p=ps.ofString(d),g=p.length+1;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g));for(var m=t.out,v=(m.b,p.b),b=0,y=p.length;b<y;){var w=b++;m.b.push(v[w])}}},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("advances"),t.fieldsTypes.push(ar.PArray(ar.PNull(ar.PInt))),t.fieldsNames.push("bold"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("codes"),t.fieldsTypes.push(ar.PArray(ar.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.lite.symbols.ShapeSymbol"))),t.fieldsNames.push("italic"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("leading"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("name"),t.fieldsTypes.push(ar.PString),t.isFinal=X.isClassFinal(pi.__clid),t},unserializeInit:function(){ui.prototype.unserializeInit.call(this),this.name=""},unserialize:function(t){var e;ui.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++;if(0==t.input.b[t.inPos++])e=null;else{var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),e=_}a[h]=e}n=a}this.advances=n,this.bold=0!=t.input.b[t.inPos++];var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4);var c,f,d=u;if(0==d)c=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),s=b,p[v]=s}c=p}this.codes=c;var y=t.input.b[t.inPos++];128==y&&(y=t.input.getInt32(t.inPos),t.inPos+=4);var w,x=y;if(0==x)w=null;else{for(var T=[],S=0,E=--x;S<E;){var I=S++;f=t.getRef(Ps,Ps.__clid),T[I]=f}w=T}if(this.glyphs=w,this.italic=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.leading=null;else{var C=t.input.b[t.inPos++];128==C&&(C=t.input.getInt32(t.inPos),t.inPos+=4),this.leading=C}var P=t.input.b[t.inPos++];128==P&&(P=t.input.getInt32(t.inPos),t.inPos+=4);var A,D=P;if(0==D)A=null;else{--D;var R=t.input.getString(t.inPos,D);t.inPos+=D,A=R}this.name=A},__class__:pi});var gi=function(){this.__cachePrecision=null,this.useBitmapCache=!1,ui.call(this)};(i["format.swf.lite.symbols.MorphShapeSymbol"]=gi).__name__=["format","swf","lite","symbols","MorphShapeSymbol"],gi.__super__=ui,gi.prototype=n(ui.prototype,{get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=gi.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},getShape:function(t){for(var e=0,i=new Wt,n=null,s=null,r=0,a=this.startEdges.records.length;r<a;){var o=r++,l=this.startEdges.records[o],h=this.endEdges.records[e++],_=null;if(4==l.get_type()&&3==h.get_type()?h=this.convertToCurvedEdge(dr.__cast(h,qt)):3==l.get_type()&&4==h.get_type()&&(l=this.convertToCurvedEdge(dr.__cast(l,qt))),2!=h.get_type()||2==l.get_type()){switch(l.get_type()){case 1:_=l.clone();break;case 2:var u=!1,c=(n=l).clone();if(2==h.get_type()){var f=h;f.stateMoveTo&&(u=!0,s=f)}else--e;var d=0,p=0;null!=s&&(d=s.moveDeltaX,p=s.moveDeltaY),(c.stateMoveTo||u&&s.stateMoveTo)&&(c.moveDeltaX+=(d-c.moveDeltaX)*t,c.moveDeltaY+=(p-c.moveDeltaY)*t,c.stateMoveTo=!0),_=c;break;case 3:var g=l.clone(),m=h;g.deltaX+=(m.deltaX-g.deltaX)*t,g.deltaY+=(m.deltaY-g.deltaY)*t,0!=g.deltaX&&0!=g.deltaY?(g.generalLineFlag=!0,g.vertLineFlag=!1):(g.generalLineFlag=!1,g.vertLineFlag=0==g.deltaX),_=g;break;case 4:var v=l.clone(),b=h;v.controlDeltaX+=(b.controlDeltaX-v.controlDeltaX)*t,v.controlDeltaY+=(b.controlDeltaY-v.controlDeltaY)*t,v.anchorDeltaX+=(b.anchorDeltaX-v.anchorDeltaX)*t,v.anchorDeltaY+=(b.anchorDeltaY-v.anchorDeltaY)*t,_=v}i.records.push(_)}else{var y=n.clone(),w=h,x=0,T=0;null!=w&&(x=w.moveDeltaX,T=w.moveDeltaY),y.stateMoveTo=!0,y.moveDeltaX+=(x-y.moveDeltaX)*t,y.moveDeltaY+=(T-y.moveDeltaY)*t,++e,i.records.push(y)}}for(var S=0,E=this.morphFillStyles.length;S<E;){var I=S++;i.fillStyles.push(this.morphFillStyles[I].getMorphedFillStyle(t))}for(var C=0,P=this.morphLineStyles.length;C<P;){var A=C++;i.lineStyles.push(this.morphLineStyles[A].getMorphedLineStyle(t))}return i},convertToCurvedEdge:function(t){var e=new Kt;return e.controlDeltaX=t.deltaX/2,e.controlDeltaY=t.deltaY/2,e.anchorDeltaX=t.deltaX/2,e.anchorDeltaY=t.deltaY/2,e},set_useBitmapCache:function(t){return t&&null==this.cachedTable&&(this.cachedTable=[]),this.useBitmapCache=t},getCacheEntry:function(t,e){if(this.useBitmapCache)for(var i=Ai.getHash(t,e,this.get_cachePrecision()),n=0,s=this.cachedTable;n<s.length;){var r=s[n];if(++n,r.hash==i)return r}return null},addCacheEntry:function(t,e,i,n){if(this.useBitmapCache){var s=Ai.getHash(i,n,this.get_cachePrecision());this.cachedTable.push(new Ai(t,e,s))}},getCLID:function(){return gi.__clid},serialize:function(t){ui.prototype.serialize.call(this,t),t.addKnownRef(this.startEdges),t.addKnownRef(this.endEdges);var e=this.morphFillStyles;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}var r=this.morphLineStyles;if(null==r)t.out.b.push(0);else{var a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=0;o<r.length;){var l=r[o];++o,t.addKnownRef(l)}}},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("startEdges"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("endEdges"),t.fieldsTypes.push(ar.PSerializable("format.swf.data.SWFShape")),t.fieldsNames.push("morphFillStyles"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFMorphFillStyle"))),t.fieldsNames.push("morphLineStyles"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.data.SWFMorphLineStyle"))),t.isFinal=X.isClassFinal(gi.__clid),t},unserializeInit:function(){ui.prototype.unserializeInit.call(this),this.set_useBitmapCache(!1),this.__cachePrecision=null},unserialize:function(t){var e;ui.prototype.unserialize.call(this,t),this.startEdges=t.getRef(Wt,Wt.__clid),this.endEdges=t.getRef(Wt,Wt.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++;e=t.getRef(Ft,Ft.__clid),a[h]=e}n=a}this.morphFillStyles=n;var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u,c=_;if(0==c)u=null;else{for(var f=[],d=0,p=--c;d<p;){var g=d++;s=t.getRef(Nt,Nt.__clid),f[g]=s}u=f}this.morphLineStyles=u},__class__:gi,__properties__:n(ui.prototype.__properties__,{set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var Ai=function(t,e,i){this.bitmapData=t,this.bounds=e.clone(),this.hash=i};(i["format.swf.lite.symbols.CacheEntry"]=Ai).__name__=["format","swf","lite","symbols","CacheEntry"],Ai.getHash=function(t,e,i){var n=Ai.__buffer;return n[0]=0|t.a*i,n[1]=0|t.b*i,n[2]=0|t.c*i,n[3]=0|t.d*i,n[4]=0|100*e,Os.make(ps.ofData(n.buffer))},Ai.prototype={__class__:Ai};var Ps=function(){this.renderScale=1,this.snapCoordinates=!1,this.forbidClearCacheOnResize=!1,this.useBitmapCache=!1,this.__translationCachePrecision=null,this.__cachePrecision=null,this.activeGraphicsTable=new Xs,ui.call(this)};(i["format.swf.lite.symbols.ShapeSymbol"]=Ps).__name__=["format","swf","lite","symbols","ShapeSymbol"],Ps.lastStageWidth=null,Ps.lastStageHeight=null,Ps.processCommands=function(t,e){for(var i=0;i<e.length;){var n=e[i];switch(++i,n[1]){case 0:var s=n[5],r=n[4],a=n[3],o=n[2];t.beginBitmapFillWithId(o,a,r,s);break;case 1:var l=n[3],h=n[2];t.beginFill(h,l);break;case 2:var _=n[9],u=n[8],c=n[7],f=n[6],d=n[5],p=n[4],g=n[3],m=n[2];t.beginGradientFill(m,g,p,d,f,c,u,_);break;case 3:var v=n[5],b=n[4],y=n[3],w=n[2];t.curveTo(w,y,b,v);break;case 4:var x=n[4],T=n[3],S=n[2];t.drawImageWithId(S,T,x);break;case 5:t.endFill();break;case 6:var E=n[9],I=n[8],C=n[7],P=n[6],A=n[5],D=n[4],R=n[3],M=n[2];null!=M?t.lineStyle(M,R,D,A,P,C,I,E):t.lineStyle();break;case 7:var F=n[9],B=n[8],L=n[7],k=n[6],N=n[5],O=n[4],U=n[3],G=n[2];t.lineGradientStyle(G,U,O,N,k,L,B,F);break;case 8:var X=n[5],V=n[4],z=n[3],H=n[2];t.lineBitmapStyleWithId(H,z,V,X);break;case 9:var W=n[3],Y=n[2];t.lineTo(Y,W);break;case 10:var K=n[3],j=n[2];t.moveTo(j,K)}}},Ps.__clearCachedTables=function(t){var e=Dt.getProperty(t.currentTarget,"width"),i=Dt.getProperty(t.currentTarget,"height");if(Ps.lastStageWidth!=e||Ps.lastStageHeight!=i){for(var n=Ps.shapeSymbolsUsingBitmapCacheMap.iterator();n.hasNext();){var s=n.next();s.forbidClearCacheOnResize||s.__clearCachedTable()}Ps.lastStageWidth=e,Ps.lastStageHeight=i}},Ps.__super__=ui,Ps.prototype=n(ui.prototype,{set_useBitmapCache:function(t){if(t&&null==this.cachedTable){if(this.cachedTable=[],Ps.shapeSymbolsUsingBitmapCacheMap.h[this.id]=this,!Ps.eventIsListened){var e=Po.current.stage;Ps.lastStageWidth=e.get_width(),Ps.lastStageHeight=e.get_height(),e.addEventListener("resize",Ps.__clearCachedTables),Ps.eventIsListened=!0}}else t||Ps.shapeSymbolsUsingBitmapCacheMap.remove(this.id);return this.useBitmapCache=t},getCacheEntry:function(t){for(var e=Di.getHash(t,this.get_cachePrecision(),this.get_translationCachePrecision()),i=0,n=this.cachedTable;i<n.length;){var s=n[i];if(++i,s.hash==e)return s}return null},getCachedBitmapData:function(t){if(this.useBitmapCache){var e=this.getCacheEntry(t);if(null!=e)return e.bitmapData;if(this.forbidCachedBitmapUpdate&&0<this.cachedTable.length)return this.cachedTable[0].bitmapData}return null},setCachedBitmapData:function(t,e){this.useBitmapCache&&this.cachedTable.push(new Di(t,Di.getHash(e,this.get_cachePrecision(),this.get_translationCachePrecision())))},fillDrawCommandBuffer:function(t){this.graphics=new Xl,this.graphics.__symbol=this,Ps.processCommands(this.graphics,t),this.graphics.readOnly=!0},__clearCachedTable:function(){for(var t=this.activeGraphicsTable.keys();t.hasNext();){t.next().dispose(!1)}for(var e=0,i=this.cachedTable;e<i.length;){var n=i[e];++e,null!=n.bitmapData&&n.bitmapData.dispose()}0<this.cachedTable.length&&this.cachedTable.splice(0,this.cachedTable.length)},get_cachePrecision:function(){return null==this.__cachePrecision&&(this.__cachePrecision=Ps.defaultCachePrecision),this.__cachePrecision},set_cachePrecision:function(t){return this.__cachePrecision=t},get_translationCachePrecision:function(){return null==this.__translationCachePrecision&&(this.__translationCachePrecision=Ps.defaultTranslationCachePrecision),this.__translationCachePrecision},set_translationCachePrecision:function(t){return this.__translationCachePrecision=t},registerGraphics:function(t){this.activeGraphicsTable.set(t,!0)},unregisterGraphics:function(t){this.activeGraphicsTable.remove(t)},getCLID:function(){return Ps.__clid},serialize:function(t){ui.prototype.serialize.call(this,t),t.addKnownRef(this.bounds),t.addKnownRef(this.graphics)},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bounds"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("graphics"),t.fieldsTypes.push(ar.PSerializable("openfl.display.Graphics")),t.isFinal=X.isClassFinal(Ps.__clid),t},unserializeInit:function(){ui.prototype.unserializeInit.call(this),this.activeGraphicsTable=new Xs,this.__cachePrecision=null,this.__translationCachePrecision=null,this.set_useBitmapCache(!1),this.forbidClearCacheOnResize=!1,this.snapCoordinates=!1,this.renderScale=1},unserialize:function(t){ui.prototype.unserialize.call(this,t),this.bounds=t.getRef(H_,H_.__clid),this.graphics=t.getRef(Xl,Xl.__clid)},__class__:Ps,__properties__:n(ui.prototype.__properties__,{set_translationCachePrecision:"set_translationCachePrecision",get_translationCachePrecision:"get_translationCachePrecision",set_cachePrecision:"set_cachePrecision",get_cachePrecision:"get_cachePrecision",set_useBitmapCache:"set_useBitmapCache"})});var Di=function(t,e){this.bitmapData=t,this.hash=e};(i["format.swf.lite.symbols._ShapeSymbol.CacheEntry"]=Di).__name__=["format","swf","lite","symbols","_ShapeSymbol","CacheEntry"],Di.getHash=function(t,e,i){var n=Di.__buffer;return n[0]=0|t.a*e,n[1]=0|t.b*e,n[2]=0|t.c*e,n[3]=0|t.d*e,n[4]=0|(t.tx-Math.floor(t.tx))*i,n[5]=0|(t.ty-Math.floor(t.ty))*i,Os.make(ps.ofData(n.buffer))},Di.prototype={__class__:Di};var Ri=function(){ui.call(this)};(i["format.swf.lite.symbols.SimpleSpriteSymbol"]=Ri).__name__=["format","swf","lite","symbols","SimpleSpriteSymbol"],Ri.__super__=ui,Ri.prototype=n(ui.prototype,{getCLID:function(){return Ri.__clid},serialize:function(t){ui.prototype.serialize.call(this,t);var e=this.bitmapID;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds),t.out.b.push(this.smooth?1:0)},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("bitmapID"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("smooth"),t.fieldsTypes.push(ar.PBool),t.isFinal=X.isClassFinal(Ri.__clid),t},unserialize:function(t){ui.prototype.unserialize.call(this,t);var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.bitmapID=e,this.matrix=t.getRef(Co,Co.__clid),this.bounds=t.getRef(H_,H_.__clid),this.smooth=0!=t.input.b[t.inPos++]},__class__:Ri});var Mi=function(){this.__uid=X.SEQ<<24|++X.UID};(i["format.swf.lite.symbols.SoundCommand"]=Mi).__name__=["format","swf","lite","symbols","SoundCommand"],Mi.__interfaces__=[C],Mi.prototype={getCLID:function(){return Mi.__clid},serialize:function(t){var e=this.soundId;if(0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e)),t.out.b.push(this.stop?1:0),t.out.b.push(this.noMultiple?1:0),null==this.outPoint)t.out.b.push(0);else{t.out.b.push(1);var i=this.outPoint;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}if(null==this.inPoint)t.out.b.push(0);else{t.out.b.push(1);var n=this.inPoint;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n))}var s=this.loopCount;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("soundId"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("stop"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("noMultiple"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("outPoint"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("inPoint"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("loopCount"),t.fieldsTypes.push(ar.PInt),t.isFinal=X.isClassFinal(Mi.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];if(128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.soundId=e,this.stop=0!=t.input.b[t.inPos++],this.noMultiple=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.outPoint=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.outPoint=i}if(0==t.input.b[t.inPos++])this.inPoint=null;else{var n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4),this.inPoint=n}var s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4),this.loopCount=s},__class__:Mi};var Fi=function(){ui.call(this),this.frames=[]};(i["format.swf.lite.symbols.SpriteSymbol"]=Fi).__name__=["format","swf","lite","symbols","SpriteSymbol"],Fi.__super__=ui,Fi.prototype=n(ui.prototype,{findDependentSymbols:function(t,e,i,n,s){for(var r=0,a=this.frames;r<a.length;){var o=a[r];++r;for(var l=0,h=o.objects;l<h.length;){var _=h[l];if(++l,_.type==Oi.CREATE||_.type==Oi.UPDATE_CHARACTER){var u=t.symbols.h[_.symbol];dr.__instanceof(u,Fi)?dr.__cast(u,Fi).findDependentSymbols(t,e,i,n):null!=e&&dr.__instanceof(u,Ps)?e.h[_.symbol]=u:null!=s&&dr.__instanceof(u,gi)?s.h[_.symbol]=u:null!=i&&dr.__instanceof(u,Ri)?i.h[_.symbol]=u:null!=n&&dr.__instanceof(u,di)&&(n.h[_.symbol]=u)}}}},createNeededTextures:function(t,e){var i=new Gs,n=new Gs;this.findDependentSymbols(e,i,n);for(var s=i.iterator();s.hasNext();){s.next().graphics.createTextures(t)}for(var r=n.iterator();r.hasNext();){var a=r.next();Eo.getBitmapDataFromSymbol(dr.__cast(e.symbols.h[a.bitmapID],ci)).getTexture(t)}},getCLID:function(){return Fi.__clid},serialize:function(t){ui.prototype.serialize.call(this,t);var e=this.frames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.addKnownRef(this.scalingGridRect)},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("frames"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.lite.timeline.Frame"))),t.fieldsNames.push("scalingGridRect"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Rectangle")),t.isFinal=X.isClassFinal(Fi.__clid),t},unserialize:function(t){var e;ui.prototype.unserialize.call(this,t);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(ki,ki.__clid),r[l]=e}n=r}this.frames=n,this.scalingGridRect=t.getRef(H_,H_.__clid)},__class__:Fi});var Bi=function(){ui.call(this)};(i["format.swf.lite.symbols.StaticTextSymbol"]=Bi).__name__=["format","swf","lite","symbols","StaticTextSymbol"],Bi.__super__=ui,Bi.prototype=n(ui.prototype,{getCLID:function(){return Bi.__clid},serialize:function(t){ui.prototype.serialize.call(this,t),t.addKnownRef(this.matrix),t.addKnownRef(this.bounds);var e=this.records;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,t.addKnownRef(s)}}t.out.b.push(this.shapeIsScaled?1:0)},getSerializeSchema:function(){var t=ui.prototype.getSerializeSchema.call(this);return t.fieldsNames.push("matrix"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("bounds"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("records"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.lite.symbols.StaticTextRecord"))),t.fieldsNames.push("shapeIsScaled"),t.fieldsTypes.push(ar.PBool),t.isFinal=X.isClassFinal(Bi.__clid),t},unserialize:function(t){var e;ui.prototype.unserialize.call(this,t),this.matrix=t.getRef(Co,Co.__clid),this.bounds=t.getRef(H_,H_.__clid);var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++;e=t.getRef(Li,Li.__clid),r[l]=e}n=r}this.records=n,this.shapeIsScaled=0!=t.input.b[t.inPos++]},__class__:Bi});var Li=function(){this.__uid=X.SEQ<<24|++X.UID};(i["format.swf.lite.symbols.StaticTextRecord"]=Li).__name__=["format","swf","lite","symbols","StaticTextRecord"],Li.__interfaces__=[C],Li.prototype={getCLID:function(){return Li.__clid},serialize:function(t){var e=this.advances;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];++n,0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s))}}if(null==this.color)t.out.b.push(0);else{t.out.b.push(1);var r=this.color;0<=r&&r<128?t.out.b.push(r):(t.out.b.push(128),t.out.addInt32(r))}var a=this.fontHeight;if(0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a)),null==this.fontID)t.out.b.push(0);else{t.out.b.push(1);var o=this.fontID;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o))}var l=this.glyphs;if(null==l)t.out.b.push(0);else{var h=l.length+1;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h));for(var _=0;_<l.length;){var u=l[_];++_,0<=u&&u<128?t.out.b.push(u):(t.out.b.push(128),t.out.addInt32(u))}}if(null==this.offsetX)t.out.b.push(0);else{t.out.b.push(1);var c=this.offsetX;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c))}if(null==this.offsetY)t.out.b.push(0);else{t.out.b.push(1);var f=this.offsetY;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f))}},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("advances"),t.fieldsTypes.push(ar.PArray(ar.PInt)),t.fieldsNames.push("color"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("fontHeight"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("fontID"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("glyphs"),t.fieldsTypes.push(ar.PArray(ar.PInt)),t.fieldsNames.push("offsetX"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("offsetY"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.isFinal=X.isClassFinal(Li.__clid),t},unserializeInit:function(){},unserialize:function(t){var e,i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s=i;if(0==s)n=null;else{for(var r=[],a=0,o=--s;a<o;){var l=a++,h=t.input.b[t.inPos++];128==h&&(h=t.input.getInt32(t.inPos),t.inPos+=4),e=h,r[l]=e}n=r}if(this.advances=n,0==t.input.b[t.inPos++])this.color=null;else{var _=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4),this.color=_}var u,c=t.input.b[t.inPos++];if(128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4),this.fontHeight=c,0==t.input.b[t.inPos++])this.fontID=null;else{var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4),this.fontID=f}var d=t.input.b[t.inPos++];128==d&&(d=t.input.getInt32(t.inPos),t.inPos+=4);var p,g=d;if(0==g)p=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4),u=w,m[y]=u}p=m}if(this.glyphs=p,0==t.input.b[t.inPos++])this.offsetX=null;else{var x=t.input.b[t.inPos++];128==x&&(x=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetX=x}if(0==t.input.b[t.inPos++])this.offsetY=null;else{var T=t.input.b[t.inPos++];128==T&&(T=t.input.getInt32(t.inPos),t.inPos+=4),this.offsetY=T}},__class__:Li};var ki=function(){this.__uid=X.SEQ<<24|++X.UID,this.objects=[]};(i["format.swf.lite.timeline.Frame"]=ki).__name__=["format","swf","lite","timeline","Frame"],ki.__interfaces__=[C],ki.prototype={getCLID:function(){return ki.__clid},serialize:function(t){var e=this.label;if(null==e)t.out.b.push(0);else{var i=ps.ofString(e),n=i.length+1;0<=n&&n<128?t.out.b.push(n):(t.out.b.push(128),t.out.addInt32(n));for(var s=t.out,r=(s.b,i.b),a=0,o=i.length;a<o;){var l=a++;s.b.push(r[l])}}var h=this.objects;if(null==h)t.out.b.push(0);else{var _=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=0;u<h.length;){var c=h[u];++u,t.addKnownRef(c)}}t.addKnownRef(this.startSound)},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("label"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("objects"),t.fieldsTypes.push(ar.PArray(ar.PSerializable("format.swf.lite.timeline.FrameObject"))),t.fieldsNames.push("startSound"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SoundCommand")),t.isFinal=X.isClassFinal(ki.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n,s=e;if(0==s)i=null;else{--s;var r=t.input.getString(t.inPos,s);t.inPos+=s,i=r}this.label=i;var a=t.input.b[t.inPos++];128==a&&(a=t.input.getInt32(t.inPos),t.inPos+=4);var o,l=a;if(0==l)o=null;else{for(var h=[],_=0,u=--l;_<u;){var c=_++;n=t.getRef(Ni,Ni.__clid),h[c]=n}o=h}this.objects=o,this.startSound=t.getRef(Mi,Mi.__clid)},__class__:ki};var Ni=function(){this.__uid=X.SEQ<<24|++X.UID,this.cacheAsBitmap=!1};(i["format.swf.lite.timeline.FrameObject"]=Ni).__name__=["format","swf","lite","timeline","FrameObject"],Ni.__interfaces__=[C],Ni.prototype={getCLID:function(){return Ni.__clid},serialize:function(t){if(t.out.b.push(this.cacheAsBitmap?1:0),null==this.clipDepth)t.out.b.push(0);else{t.out.b.push(1);var e=this.clipDepth;0<=e&&e<128?t.out.b.push(e):(t.out.b.push(128),t.out.addInt32(e))}if(t.addKnownRef(this.colorTransform),null==this.depth)t.out.b.push(0);else{t.out.b.push(1);var i=this.depth;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i))}var n=this.filters;if(null==n)t.out.b.push(0);else{var s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=0;r<n.length;){var a=n[r];++r,_r.doSerialize(t,a)}}var o=this.id;0<=o&&o<128?t.out.b.push(o):(t.out.b.push(128),t.out.addInt32(o)),t.addKnownRef(this.matrix);var l=this.name;if(null==l)t.out.b.push(0);else{var h=ps.ofString(l),_=h.length+1;0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_));for(var u=t.out,c=(u.b,h.b),f=0,d=h.length;f<d;){var p=f++;u.b.push(c[p])}}if(null==this.symbol)t.out.b.push(0);else{t.out.b.push(1);var g=this.symbol;0<=g&&g<128?t.out.b.push(g):(t.out.b.push(128),t.out.addInt32(g))}if(ur.doSerialize(t,this.type),null==this.blendMode)t.out.b.push(0);else{t.out.b.push(1);var m=this.blendMode;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m))}null==this.ratio?t.out.b.push(0):(t.out.b.push(1),t.out.addInt32(js.floatToI32(this.ratio)))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("cacheAsBitmap"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("clipDepth"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("colorTransform"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.ColorTransform")),t.fieldsNames.push("depth"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("filters"),t.fieldsTypes.push(ar.PArray(ar.PEnum("format.swf.exporters.core.FilterType"))),t.fieldsNames.push("id"),t.fieldsTypes.push(ar.PInt),t.fieldsNames.push("matrix"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Matrix")),t.fieldsNames.push("name"),t.fieldsTypes.push(ar.PString),t.fieldsNames.push("symbol"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("type"),t.fieldsTypes.push(ar.PEnum("format.swf.lite.timeline.FrameObjectType")),t.fieldsNames.push("blendMode"),t.fieldsTypes.push(ar.PNull(ar.PInt)),t.fieldsNames.push("ratio"),t.fieldsTypes.push(ar.PNull(ar.PFloat)),t.isFinal=X.isClassFinal(Ni.__clid),t},unserializeInit:function(){this.cacheAsBitmap=!1},unserialize:function(t){if(this.cacheAsBitmap=0!=t.input.b[t.inPos++],0==t.input.b[t.inPos++])this.clipDepth=null;else{var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4),this.clipDepth=e}if(this.colorTransform=t.getRef(Io,Io.__clid),0==t.input.b[t.inPos++])this.depth=null;else{var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4),this.depth=i}var n,s=t.input.b[t.inPos++];128==s&&(s=t.input.getInt32(t.inPos),t.inPos+=4);var r,a=s;if(0==a)r=null;else{for(var o=[],l=0,h=--a;l<h;){var _=l++;n=_r.doUnserialize(t),o[_]=n}r=o}this.filters=r;var u=t.input.b[t.inPos++];128==u&&(u=t.input.getInt32(t.inPos),t.inPos+=4),this.id=u,this.matrix=t.getRef(Co,Co.__clid);var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{--d;var p=t.input.getString(t.inPos,d);t.inPos+=d,f=p}if(this.name=f,0==t.input.b[t.inPos++])this.symbol=null;else{var g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),this.symbol=g}var m,v=ur.doUnserialize(t);if(this.type=v,0==t.input.b[t.inPos++])m=null;else{var b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),m=b}if(this.blendMode=m,0==t.input.b[t.inPos++])this.ratio=null;else{var y=t.input.getFloat(t.inPos);t.inPos+=4,this.ratio=y}},__class__:Ni};var Oi=i["format.swf.lite.timeline.FrameObjectType"]={__ename__:["format","swf","lite","timeline","FrameObjectType"],__constructs__:["CREATE","UPDATE","UPDATE_CHARACTER","DESTROY"]};Oi.CREATE=["CREATE",0],Oi.CREATE.toString=f,(Oi.CREATE.__enum__=Oi).UPDATE=["UPDATE",1],Oi.UPDATE.toString=f,(Oi.UPDATE.__enum__=Oi).UPDATE_CHARACTER=["UPDATE_CHARACTER",2],Oi.UPDATE_CHARACTER.toString=f,(Oi.UPDATE_CHARACTER.__enum__=Oi).DESTROY=["DESTROY",3],Oi.DESTROY.toString=f,Oi.DESTROY.__enum__=Oi;var Ui=function(){};(i["format.swf.tags.ITag"]=Ui).__name__=["format","swf","tags","ITag"],Ui.prototype={__class__:Ui};var Gi=function(){};(i["format.swf.tags.IDefinitionTag"]=Gi).__name__=["format","swf","tags","IDefinitionTag"],Gi.__interfaces__=[Ui],Gi.prototype={__class__:Gi};var Xi=function(){};(i["format.swf.tags.IDisplayListTag"]=Xi).__name__=["format","swf","tags","IDisplayListTag"],Xi.__interfaces__=[Ui];var Vi=function(){};(i["format.swf.tags.Tag"]=Vi).__name__=["format","swf","tags","Tag"],Vi.toStringCommon=function(t,e,i){return null==i&&(i=0),Ss.repeat(i)+"["+Ss.printf("%02d",[t])+":"+e+"] "};var zi=function(){this.type=74,this.name="CSMTextSettings",this.version=8,this.level=1};(i["format.swf.tags.TagCSMTextSettings"]=zi).__name__=["format","swf","tags","TagCSMTextSettings"],zi.__interfaces__=[Ui],zi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.textId=ut.readUI16(t),this.useFlashType=ut.readUB(t,2),this.gridFit=ut.readUB(t,3),ut.readUB(t,3),this.thickness=ut.readFIXED(t),this.sharpness=ut.readFIXED(t),ut.readUI8(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,12),ut.writeUI16(t,this.textId),ut.writeUB(t,2,this.useFlashType),ut.writeUB(t,3,this.gridFit),ut.writeUB(t,3,0),ut.writeFIXED(t,this.thickness),ut.writeFIXED(t,this.sharpness),ut.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"TextID: "+this.textId+", UseFlashType: "+this.useFlashType+", GridFit: "+this.gridFit+", Thickness: "+this.thickness+", Sharpness: "+this.sharpness},__class__:zi};var Hi=function(){this.type=63,this.name="DebugID",this.version=6,this.level=1;var t=new vs(0);this.uuid=t};(i["format.swf.tags.TagDebugID"]=Hi).__name__=["format","swf","tags","TagDebugID"],Hi.__interfaces__=[Ui],Hi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.uuid,0,e)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.uuid)),0<Su.get_length(this.uuid)&&t.writeBytes(this.uuid)},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"UUID: ";return 16==Su.get_length(this.uuid)?(e+=Ss.printf("%02x%02x%02x%02x-",[this.uuid.b[0],this.uuid.b[1],this.uuid.b[2],this.uuid.b[3]]),e+=Ss.printf("%02x%02x-",[this.uuid.b[4],this.uuid.b[5]]),e+=Ss.printf("%02x%02x-",[this.uuid.b[6],this.uuid.b[7]]),e+=Ss.printf("%02x%02x-",[this.uuid.b[8],this.uuid.b[9]]),e+=Ss.printf("%02x%02x%02x%02x%02x%02x",[this.uuid.b[10],this.uuid.b[11],this.uuid.b[12],this.uuid.b[13],this.uuid.b[14],this.uuid.b[15]])):e+="(invalid length: "+Su.get_length(this.uuid)+")",e},__class__:Hi};var Wi=function(){this.type=87,this.name="DefineBinaryData",this.version=9,this.level=1;var t=new vs(0);this.binaryData=t};(i["format.swf.tags.TagDefineBinaryData"]=Wi).__name__=["format","swf","tags","TagDefineBinaryData"],Wi.__interfaces__=[Gi],Wi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),ut.readUI32(t),6<e&&t.readBytes(this.binaryData,0,e-6)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI32(i,0),0<Su.get_length(this.binaryData)&&i.writeBytes(this.binaryData),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new Wi;return t.characterId=this.characterId,0<Su.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Length: "+Su.get_length(this.binaryData)},__class__:Wi};var Yi=function(){this.bitmapType=1,this.type=6,this.name="DefineBits",this.version=1,this.level=1;var t=new vs(0);this.bitmapData=t};(i["format.swf.tags.TagDefineBits"]=Yi).__name__=["format","swf","tags","TagDefineBits"],Yi.__interfaces__=[Gi],Yi.parseJpegChunks=function(t){for(var e=0,i=Su.get_length(t);e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;for(;e<i;){e++;var n=t.b[e++];if(192<=n&&n<=199||201<=n&&n<=207||218<=n&&n<=239||254==n)e+=t.b[e]<<8+t.b[e+1];for(;e<i&&(255!=t.b[e]||e+1<i&&(0==t.b[e+1]||255==t.b[e+1]));)++e;216!=n&&217!=n&&Rs.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:132,className:"format.swf.tags.TagDefineBits",methodName:"parseJpegChunks"})}return[]},Yi.hasErrorHeader=function(t){return 4<Su.get_length(t)&&255==t.b[0]&&217==t.b[1]&&255==t.b[2]&&216==t.b[3]},Yi.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),2<e&&(t.readBytes(this.bitmapData,0,e-2),Yi.hasErrorHeader(this.bitmapData)&&Rs.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:46,className:"format.swf.tags.TagDefineBits",methodName:"parse"}))},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.bitmapData)+2,!0),ut.writeUI16(t,this.characterId),0<Su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData)},clone:function(){var t=new Yi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<Su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},exportBitmapData:function(t){this.onCompleteCallback=t,this.loader=new rh,this.loader.contentLoaderInfo.addEventListener("complete",of(this,this.exportCompleteHandler)),this.loader.loadBytes(this.bitmapData)},exportCompleteHandler:function(t){var e=t.target.loader,i=new Bl(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()));i.draw(e),this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", BitmapLength: "+Su.get_length(this.bitmapData)},getOriginalImageData:function(t){var e=new vs(0),i=Yi.parseJpegChunks(this.bitmapData),n=!1;if(null!=t&&0!=Su.get_length(t))for(var s=0;s<i.length;){var r=i[s];++s;var a=r.b[1];if(196==a||219==a){n=!0;break}}if(e.writeByte(255),e.writeByte(216),n||null==t||0==Su.get_length(t))for(var o=0;o<i.length;){var l=i[o];++o,e.writeBytes(l)}else{Yi.hasErrorHeader(t)&&Rs.trace("Unsupported: Implement for current platform",{fileName:"TagDefineBits.hx",lineNumber:166,className:"format.swf.tags.TagDefineBits",methodName:"getOriginalImageData"});for(var h=!1,_=Yi.parseJpegChunks(t),u=0;u<i.length;){var c=i[u];++u;var f=c.b[1];if(!h&&192<=f&&f<=207){for(var d=0;d<_.length;){var p=_[d];++d,e.writeBytes(p)}h=!0}e.writeBytes(c)}}return e.writeByte(255),e.writeByte(217),e},__class__:Yi};var Ki=function(){Yi.call(this),this.type=21,this.name="DefineBitsJPEG2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineBitsJPEG2"]=Ki).__name__=["format","swf","tags","TagDefineBitsJPEG2"],Ki.__interfaces__=[Gi],Ki.__super__=Yi,Ki.prototype=n(Yi.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),Yi.prototype.parse.call(this,t,e,i),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1,1!=this.bitmapType&&(i=8)},clone:function(){var t=new Ki;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<Su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+_e.toString(this.bitmapType)+", BitmapLength: "+Su.get_length(this.bitmapData)},__class__:Ki});var ji=function(){Ki.call(this),this.type=35,this.name="DefineBitsJPEG3",this.version=3,this.level=3;var t=new vs(0);this.bitmapAlphaData=t};(i["format.swf.tags.TagDefineBitsJPEG3"]=ji).__name__=["format","swf","tags","TagDefineBitsJPEG3"],ji.__interfaces__=[Gi],ji.__super__=Ki,ji.prototype=n(Ki.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t);var s=ut.readUI32(t);t.readBytes(this.bitmapData,0,s),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var r=e-s-6;0<r&&t.readBytes(this.bitmapAlphaData,0,r),this.bitmapType},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.bitmapData)+Su.get_length(this.bitmapAlphaData)+6,!0),ut.writeUI16(t,this.characterId),ut.writeUI32(t,Su.get_length(this.bitmapData)),0<Su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<Su.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new ji;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,0<Su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<Su.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},exportCompleteHandler:function(t){var e=t.target.loader,i=new Bl(Math.ceil(e.content.get_width()),Math.ceil(e.content.get_height()),!0);i.draw(e);try{this.bitmapAlphaData.uncompress()}catch(t){Is.lastException=t}for(var n=function(t){return 255<t?255:t<0?0:0|t},s=this.bitmapAlphaData.position=0,r=i.physicalHeight;s<r;)for(var a=s++,o=0,l=i.physicalWidth;o<l;){var h=o++,_=this.bitmapAlphaData.readUnsignedByte(),u=255/_,c=i.getPixel(h,a),f=n((c>>16&255)*u),d=n((c>>8&255)*u),p=n((255&c)*u);i.setPixel32(h,a,(_<<24)+(f<<16)+(d<<8)+p)}this.instance=i,this.onCompleteCallback(i)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+_e.toString(this.bitmapType)+", HasAlphaData: "+Q.string(0<Su.get_length(this.bitmapAlphaData))+", "+(0<Su.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+Su.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+Su.get_length(this.bitmapData)},__class__:ji});var qi=function(){ji.call(this),this.type=90,this.name="DefineBitsJPEG4",this.version=10,this.level=4};(i["format.swf.tags.TagDefineBitsJPEG4"]=qi).__name__=["format","swf","tags","TagDefineBitsJPEG4"],qi.__interfaces__=[Gi],qi.__super__=ji,qi.prototype=n(ji.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t);var s=ut.readUI32(t);this.deblockParam=ut.readFIXED8(t),t.readBytes(this.bitmapData,0,s),255!=this.bitmapData.b[0]||216!=this.bitmapData.b[1]&&217!=this.bitmapData.b[1]?137==this.bitmapData.b[0]&&80==this.bitmapData.b[1]&&78==this.bitmapData.b[2]&&71==this.bitmapData.b[3]&&13==this.bitmapData.b[4]&&10==this.bitmapData.b[5]&&26==this.bitmapData.b[6]&&10==this.bitmapData.b[7]?this.bitmapType=3:71==this.bitmapData.b[0]&&73==this.bitmapData.b[1]&&70==this.bitmapData.b[2]&&56==this.bitmapData.b[3]&&57==this.bitmapData.b[4]&&97==this.bitmapData.b[5]&&(this.bitmapType=2):this.bitmapType=1;var r=e-s-6;0<r&&t.readBytes(this.bitmapAlphaData,0,r)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.bitmapData)+Su.get_length(this.bitmapAlphaData)+6,!0),ut.writeUI16(t,this.characterId),ut.writeUI32(t,Su.get_length(this.bitmapData)),ut.writeFIXED8(t,this.deblockParam),0<Su.get_length(this.bitmapData)&&t.writeBytes(this.bitmapData),0<Su.get_length(this.bitmapAlphaData)&&t.writeBytes(this.bitmapAlphaData)},clone:function(){var t=new qi;return t.characterId=this.characterId,t.bitmapType=this.bitmapType,t.deblockParam=this.deblockParam,0<Su.get_length(this.bitmapData)&&t.bitmapData.writeBytes(this.bitmapData),0<Su.get_length(this.bitmapAlphaData)&&t.bitmapAlphaData.writeBytes(this.bitmapAlphaData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Type: "+_e.toString(this.bitmapType)+", DeblockParam: "+this.deblockParam+", HasAlphaData: "+Q.string(0<Su.get_length(this.bitmapAlphaData))+", "+(0<Su.get_length(this.bitmapAlphaData)?"BitmapAlphaLength: "+Su.get_length(this.bitmapAlphaData)+", ":"")+"BitmapLength: "+Su.get_length(this.bitmapData)},__class__:qi});var Ji=function(){this.type=20,this.name="DefineBitsLossless",this.version=2,this.level=1;var t=new vs(0);this.zlibBitmapData=t};(i["format.swf.tags.TagDefineBitsLossless"]=Ji).__name__=["format","swf","tags","TagDefineBitsLossless"],Ji.__interfaces__=[Gi],Ji.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.bitmapFormat=ut.readUI8(t),this.bitmapWidth=ut.readUI16(t),this.bitmapHeight=ut.readUI16(t),3==this.bitmapFormat&&(this.bitmapColorTableSize=ut.readUI8(t)+1),t.readBytes(this.zlibBitmapData,0,e-(3==this.bitmapFormat?8:7))},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI8(i,this.bitmapFormat),ut.writeUI16(i,this.bitmapWidth),ut.writeUI16(i,this.bitmapHeight),3==this.bitmapFormat&&ut.writeUI8(i,this.bitmapColorTableSize-1),0<Su.get_length(this.zlibBitmapData)&&i.writeBytes(this.zlibBitmapData),ut.writeTagHeader(t,this.type,ut.get_length(i),!0),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new Ji;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<Su.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+he.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Ji};var Zi=function(){Ji.call(this),this.type=36,this.name="DefineBitsLossless2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineBitsLossless2"]=Zi).__name__=["format","swf","tags","TagDefineBitsLossless2"],Zi.__super__=Ji,Zi.prototype=n(Ji.prototype,{clone:function(){var t=new Zi;return t.characterId=this.characterId,t.bitmapFormat=this.bitmapFormat,t.bitmapWidth=this.bitmapWidth,t.bitmapHeight=this.bitmapHeight,0<Su.get_length(this.zlibBitmapData)&&t.zlibBitmapData.writeBytes(this.zlibBitmapData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Format: "+he.toString(this.bitmapFormat)+", Size: ("+this.bitmapWidth+","+this.bitmapHeight+")"},__class__:Zi});var Qi=function(){this.type=7,this.name="DefineButton",this.version=1,this.level=1,this.characters=[],this.actions=[],this.frames=new zs};(i["format.swf.tags.TagDefineButton"]=Qi).__name__=["format","swf","tags","TagDefineButton"],Qi.__interfaces__=[Gi],Qi.prototype={parse:function(t,e,i,n){var s,r;for(null==n&&(n=!1),this.characterId=ut.readUI16(t);null!=(s=ut.readBUTTONRECORD(t));)this.characters.push(s);for(;null!=(r=ut.readACTIONRECORD(t));)this.actions.push(r);this.processRecords()},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId);for(var n=0,s=this.characters.length;n<s;){var r=n++;ut.writeBUTTONRECORD(t,this.characters[r])}ut.writeUI8(t,0);for(var a=0,o=this.actions.length;a<o;){var l=a++;ut.writeACTIONRECORD(t,this.actions[l])}ut.writeUI8(t,0),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new Qi;t.characterId=this.characterId;for(var e=0,i=this.characters.length;e<i;){var n=e++;t.characters.push(this.characters[n].clone())}for(var s=0,r=this.actions.length;s<r;){var a=s++;t.actions.push(this.actions[a].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=df[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],n=[],s=0,r=this.characters.length;s<r;){var a=s++,o=this.characters[a];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&n.push(o)}t.sort(of(this,this.sortByDepthCompareFunction)),e.sort(of(this,this.sortByDepthCompareFunction)),i.sort(of(this,this.sortByDepthCompareFunction)),n.sort(of(this,this.sortByDepthCompareFunction));var l=this.frames;null!=df.up?l.setReserved("up",t):l.h.up=t;var h=this.frames;null!=df.over?h.setReserved("over",e):h.h.over=e;var _=this.frames;null!=df.down?_.setReserved("down",i):_.h.down=i;var u=this.frames;null!=df.hit?u.setReserved("hit",n):u.h.hit=n},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(0<this.characters.length){e+="\n"+Ss.repeat(t+2)+"Characters:";for(var i=0,n=this.characters.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.characters[s].toString(t+4)}}if(0<this.actions.length){e+="\n"+Ss.repeat(t+2)+"Actions:";for(var r=0,a=this.actions.length;r<a;){var o=r++;e+="\n"+Ss.repeat(t+4)+"["+o+"] "+this.actions[o].toString(t+4)}}return e},__class__:Qi};var $i=function(){this.type=34,this.name="DefineButton2",this.version=3,this.level=2,this.characters=[],this.condActions=[],this.frames=new zs};(i["format.swf.tags.TagDefineButton2"]=$i).__name__=["format","swf","tags","TagDefineButton2"],$i.__interfaces__=[Gi],$i.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.trackAsMenu=0!=(1&ut.readUI8(t));for(var s,r=ut.readUI16(t);null!=(s=ut.readBUTTONRECORD(t,2));)this.characters.push(s);if(0!=r)for(var a;a=ut.readUI16(t),this.condActions.push(ut.readBUTTONCONDACTION(t)),0!=a;);this.processRecords()},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI8(i,this.trackAsMenu?1:0);for(var n=0<this.condActions.length,s=ut._new(),r=0,a=this.characters.length;r<a;){var o=r++;ut.writeBUTTONRECORD(s,this.characters[o],2)}if(ut.writeUI8(s,0),ut.writeUI16(i,n?ut.get_length(s)+2:0),i.writeBytes(Su.fromBytes(s)),n)for(var l=0,h=this.condActions.length;l<h;){var _=l++,u=ut._new();ut.writeBUTTONCONDACTION(u,this.condActions[_]),ut.writeUI16(i,_<this.condActions.length-1?ut.get_length(u)+2:0),i.writeBytes(Su.fromBytes(u))}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new $i;t.characterId=this.characterId,t.trackAsMenu=this.trackAsMenu;for(var e=0,i=this.characters.length;e<i;){var n=e++;t.characters.push(this.characters[n].clone())}for(var s=0,r=this.condActions.length;s<r;){var a=s++;t.condActions.push(this.condActions[a].clone())}return t},getRecordsByState:function(t){var e=this.frames;return null!=df[t]?e.getReserved(t):e.h[t]},processRecords:function(){for(var t=[],e=[],i=[],n=[],s=0,r=this.characters.length;s<r;){var a=s++,o=this.characters[a];o.stateUp&&t.push(o),o.stateOver&&e.push(o),o.stateDown&&i.push(o),o.stateHitTest&&n.push(o)}t.sort(of(this,this.sortByDepthCompareFunction)),e.sort(of(this,this.sortByDepthCompareFunction)),i.sort(of(this,this.sortByDepthCompareFunction)),n.sort(of(this,this.sortByDepthCompareFunction));var l=this.frames;null!=df.up?l.setReserved("up",t):l.h.up=t;var h=this.frames;null!=df.over?h.setReserved("over",e):h.h.over=e;var _=this.frames;null!=df.down?_.setReserved("down",i):_.h.down=i;var u=this.frames;null!=df.hit?u.setReserved("hit",n):u.h.hit=n},sortByDepthCompareFunction:function(t,e){return t.placeDepth<e.placeDepth?-1:t.placeDepth>e.placeDepth?1:0},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", TrackAsMenu: "+Q.string(this.trackAsMenu);if(0<this.characters.length){e+="\n"+Ss.repeat(t+2)+"Characters:";for(var i=0,n=this.characters.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.characters[s].toString(t+4)}}if(0<this.condActions.length){e+="\n"+Ss.repeat(t+2)+"CondActions:";for(var r=0,a=this.condActions.length;r<a;){var o=r++;e+="\n"+Ss.repeat(t+4)+"["+o+"] "+this.condActions[o].toString(t+4)}}return e},__class__:$i};var tn=function(){this.type=23,this.name="DefineButtonCxform",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonCxform"]=tn).__name__=["format","swf","tags","TagDefineButtonCxform"],tn.__interfaces__=[Gi],tn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.buttonColorTransform=ut.readCXFORM(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeCXFORM(i,this.buttonColorTransform),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new tn;return t.characterId=this.characterId,t.buttonColorTransform=this.buttonColorTransform.clone(),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ColorTransform: "+Q.string(this.buttonColorTransform)},__class__:tn};var en=function(){this.type=17,this.name="DefineButtonSound",this.version=2,this.level=1};(i["format.swf.tags.TagDefineButtonSound"]=en).__name__=["format","swf","tags","TagDefineButtonSound"],en.__interfaces__=[Gi],en.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.buttonSoundChar0=ut.readUI16(t),0!=this.buttonSoundChar0&&(this.buttonSoundInfo0=ut.readSOUNDINFO(t)),this.buttonSoundChar1=ut.readUI16(t),0!=this.buttonSoundChar1&&(this.buttonSoundInfo1=ut.readSOUNDINFO(t)),this.buttonSoundChar2=ut.readUI16(t),0!=this.buttonSoundChar2&&(this.buttonSoundInfo2=ut.readSOUNDINFO(t)),this.buttonSoundChar3=ut.readUI16(t),0!=this.buttonSoundChar3&&(this.buttonSoundInfo3=ut.readSOUNDINFO(t))},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI16(i,this.buttonSoundChar0),0!=this.buttonSoundChar0&&ut.writeSOUNDINFO(i,this.buttonSoundInfo0),ut.writeUI16(i,this.buttonSoundChar1),0!=this.buttonSoundChar1&&ut.writeSOUNDINFO(i,this.buttonSoundInfo1),ut.writeUI16(i,this.buttonSoundChar2),0!=this.buttonSoundChar2&&ut.writeSOUNDINFO(i,this.buttonSoundInfo2),ut.writeUI16(i,this.buttonSoundChar3),0!=this.buttonSoundChar3&&ut.writeSOUNDINFO(i,this.buttonSoundInfo3),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new en;return t.characterId=this.characterId,t.buttonSoundChar0=this.buttonSoundChar0,t.buttonSoundChar1=this.buttonSoundChar1,t.buttonSoundChar2=this.buttonSoundChar2,t.buttonSoundChar3=this.buttonSoundChar3,t.buttonSoundInfo0=this.buttonSoundInfo0.clone(),t.buttonSoundInfo1=this.buttonSoundInfo1.clone(),t.buttonSoundInfo2=this.buttonSoundInfo2.clone(),t.buttonSoundInfo3=this.buttonSoundInfo3.clone(),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ButtonID: "+this.characterId+", ButtonSoundChars: "+this.buttonSoundChar0+","+this.buttonSoundChar1+","+this.buttonSoundChar2+","+this.buttonSoundChar3},__class__:en};var nn=function(){this.type=37,this.name="DefineEditText",this.version=4,this.level=1};(i["format.swf.tags.TagDefineEditText"]=nn).__name__=["format","swf","tags","TagDefineEditText"],nn.__interfaces__=[Gi],nn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.bounds=ut.readRECT(t);var s=ut.readUI8(t);this.hasText=0!=(128&s),this.wordWrap=0!=(64&s),this.multiline=0!=(32&s),this.password=0!=(16&s),this.readOnly=0!=(8&s),this.hasTextColor=0!=(4&s),this.hasMaxLength=0!=(2&s),this.hasFont=0!=(1&s);var r=ut.readUI8(t);this.hasFontClass=0!=(128&r),this.autoSize=0!=(64&r),this.hasLayout=0!=(32&r),this.noSelect=0!=(16&r),this.border=0!=(8&r),this.wasStatic=0!=(4&r),this.html=0!=(2&r),this.useOutlines=0!=(1&r),this.hasFont&&(this.fontId=ut.readUI16(t)),this.hasFontClass&&(this.fontClass=ut.readSTRING(t)),this.hasFont&&(this.fontHeight=ut.readUI16(t)),this.hasTextColor&&(this.textColor=ut.readRGBA(t)),this.hasMaxLength&&(this.maxLength=ut.readUI16(t)),this.hasLayout&&(this.align=ut.readUI8(t),this.leftMargin=ut.readUI16(t),this.rightMargin=ut.readUI16(t),this.indent=ut.readUI16(t),this.leading=ut.readSI16(t)),this.variableName=ut.readSTRING(t),this.hasText&&(this.initialText=ut.readSTRING(t))},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.bounds);var n=0;this.hasText&&(n|=128),this.wordWrap&&(n|=64),this.multiline&&(n|=32),this.password&&(n|=16),this.readOnly&&(n|=8),this.hasTextColor&&(n|=4),this.hasMaxLength&&(n|=2),this.hasFont&&(n|=1),ut.writeUI8(i,n);var s=0;this.hasFontClass&&(s|=128),this.autoSize&&(s|=64),this.hasLayout&&(s|=32),this.noSelect&&(s|=16),this.border&&(s|=8),this.wasStatic&&(s|=4),this.html&&(s|=2),this.useOutlines&&(s|=1),ut.writeUI8(i,s),this.hasFont&&ut.writeUI16(i,this.fontId),this.hasFontClass&&ut.writeSTRING(i,this.fontClass),this.hasFont&&ut.writeUI16(i,this.fontHeight),this.hasTextColor&&ut.writeRGBA(i,this.textColor),this.hasMaxLength&&ut.writeUI16(i,this.maxLength),this.hasLayout&&(ut.writeUI8(i,this.align),ut.writeUI16(i,this.leftMargin),ut.writeUI16(i,this.rightMargin),ut.writeUI16(i,this.indent),ut.writeSI16(i,this.leading)),ut.writeSTRING(i,this.variableName),this.hasText&&ut.writeSTRING(i,this.initialText),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new nn;return t.characterId=this.characterId,t.bounds=this.bounds.clone(),t.variableName=this.variableName,t.hasText=this.hasText,t.wordWrap=this.wordWrap,t.multiline=this.multiline,t.password=this.password,t.readOnly=this.readOnly,t.hasTextColor=this.hasTextColor,t.hasMaxLength=this.hasMaxLength,t.hasFont=this.hasFont,t.hasFontClass=this.hasFontClass,t.autoSize=this.autoSize,t.hasLayout=this.hasLayout,t.noSelect=this.noSelect,t.border=this.border,t.wasStatic=this.wasStatic,t.html=this.html,t.useOutlines=this.useOutlines,t.fontId=this.fontId,t.fontClass=this.fontClass,t.fontHeight=this.fontHeight,t.textColor=this.textColor,t.maxLength=this.maxLength,t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.initialText=this.initialText,t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", "+(this.hasText&&0<this.initialText.length?"Text: "+this.initialText+", ":"")+(0<this.variableName.length?"VariableName: "+this.variableName+", ":"")+"Bounds: "+Q.string(this.bounds)},__class__:nn};var sn=function(){this.type=10,this.name="DefineFont",this.version=1,this.level=1,this.glyphShapeTable=[]};(i["format.swf.tags.TagDefineFont"]=sn).__name__=["format","swf","tags","TagDefineFont"],sn.__interfaces__=[Gi],sn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t);var s=ut.readUI16(t)>>1;ut.skipBytes(t,s-1<<1);for(var r=0,a=s;r<a;){r++;this.glyphShapeTable.push(ut.readSHAPE(t,sn.unitDivisor))}},publish:function(t,e){var i=ut._new(),n=this.glyphShapeTable.length,s=ut._new();ut.writeUI16(i,this.characterId);for(var r=n<<1,a=0,o=n;a<o;){var l=a++;ut.writeUI16(i,s.position+r),ut.writeSHAPE(s,this.glyphShapeTable[l])}i.writeBytes(Su.fromBytes(s)),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){throw new fr(new Vh("Not implemented yet."))},export:function(t,e){this.glyphShapeTable[e].export(t)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){for(var e="",i=0,n=this.glyphShapeTable.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] GlyphShapes:",e+=this.glyphShapeTable[s].toString(t+4)}return e},__class__:sn};var rn=function(){sn.call(this),this.type=48,this.name="DefineFont2",this.version=3,this.level=2,this.codeTable=[],this.fontAdvanceTable=[],this.fontBoundsTable=[],this.fontKerningTable=[]};(i["format.swf.tags.TagDefineFont2"]=rn).__name__=["format","swf","tags","TagDefineFont2"],rn.__interfaces__=[Gi],rn.__super__=sn,rn.prototype=n(sn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t);var s=ut.readUI8(t);this.hasLayout=0!=(128&s),this.shiftJIS=0!=(64&s),this.smallText=0!=(32&s),this.ansi=0!=(16&s),this.wideOffsets=0!=(8&s),this.wideCodes=0!=(4&s),this.italic=0!=(2&s),this.bold=0!=(1&s),this.languageCode=ut.readLANGCODE(t);var r=ut.readUI8(t),a=new vs(0);t.readBytes(a,0,r),this.fontName=a.readUTFBytes(r);var o=ut.readUI16(t);if(0<o){ut.skipBytes(t,o<<(this.wideOffsets?2:1)),this.wideOffsets?ut.readUI32(t):ut.readUI16(t);for(var l=0,h=o;l<h;){l++;this.glyphShapeTable.push(ut.readSHAPE(t))}for(var _=0,u=o;_<u;){_++;this.codeTable.push(this.wideCodes?ut.readUI16(t):ut.readUI8(t))}}if(this.hasLayout){this.ascent=ut.readUI16(t),this.descent=ut.readUI16(t),this.leading=ut.readSI16(t);for(var c=0,f=o;c<f;){c++;this.fontAdvanceTable.push(ut.readSI16(t))}for(var d=0,p=o;d<p;){d++;this.fontBoundsTable.push(ut.readRECT(t))}for(var g=0,m=ut.readUI16(t);g<m;){g++;this.fontKerningTable.push(ut.readKERNINGRECORD(t,this.wideCodes))}}},publish:function(t,e){var i=ut._new(),n=this.glyphShapeTable.length;ut.writeUI16(i,this.characterId);var s=0;this.hasLayout&&(s|=128),this.shiftJIS&&(s|=64),this.smallText&&(s|=32),this.ansi&&(s|=16),this.wideOffsets&&(s|=8),this.wideCodes&&(s|=4),this.italic&&(s|=2),this.bold&&(s|=1),ut.writeUI8(i,s),ut.writeLANGCODE(i,this.languageCode);var r=new vs(0);if(r.writeUTFBytes(this.fontName),ut.writeUI8(i,Su.get_length(r)),i.writeBytes(r),ut.writeUI16(i,n),0<n){for(var a=n<<(this.wideOffsets?2:1),o=this.wideOffsets?4:2,l=(this.wideOffsets,a+o),h=ut._new(),_=0,u=n;_<u;){var c=_++;this.wideOffsets?ut.writeUI32(i,l+h.position):ut.writeUI16(i,l+h.position),ut.writeSHAPE(h,this.glyphShapeTable[c])}this.wideOffsets?ut.writeUI32(i,l+ut.get_length(h)):ut.writeUI16(i,l+ut.get_length(h)),i.writeBytes(Su.fromBytes(h));for(var f=0,d=n;f<d;){var p=f++;this.wideCodes?ut.writeUI16(i,this.codeTable[p]):ut.writeUI8(i,this.codeTable[p])}}if(this.hasLayout){ut.writeUI16(i,this.ascent),ut.writeUI16(i,this.descent),ut.writeSI16(i,this.leading);for(var g=0,m=n;g<m;){var v=g++;ut.writeSI16(i,this.fontAdvanceTable[v])}for(var b=0,y=n;b<y;){var w=b++;ut.writeRECT(i,this.fontBoundsTable[w])}var x=this.fontKerningTable.length;ut.writeUI16(i,x);for(var T=0,S=x;T<S;){var E=T++;ut.writeKERNINGRECORD(i,this.fontKerningTable[E],this.wideCodes)}}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+Q.string(this.italic)+", Bold: "+Q.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},toStringCommon:function(t){var e=sn.prototype.toStringCommon.call(this,t);if(this.hasLayout&&(e+="\n"+Ss.repeat(t+2)+"Ascent: "+this.ascent,e+="\n"+Ss.repeat(t+2)+"Descent: "+this.descent,e+="\n"+Ss.repeat(t+2)+"Leading: "+this.leading),0<this.codeTable.length){e+="\n"+Ss.repeat(t+2)+"CodeTable:";for(var i=0,n=this.codeTable.length;i<n;){var s=i++;e+=0==(15&s)?"\n"+Ss.repeat(t+4)+Q.string(this.codeTable[s]):", "+Q.string(this.codeTable[s])}}if(0<this.fontAdvanceTable.length){e+="\n"+Ss.repeat(t+2)+"FontAdvanceTable:";for(var r=0,a=this.fontAdvanceTable.length;r<a;){var o=r++;e+=0==(7&o)?"\n"+Ss.repeat(t+4)+Q.string(this.fontAdvanceTable[o]):", "+Q.string(this.fontAdvanceTable[o])}}if(0<this.fontBoundsTable.length){for(var l=!1,h=0,_=this.fontBoundsTable.length;h<_;){var u=h++,c=this.fontBoundsTable[u];if(0!=c.xmin||0!=c.xmax||0!=c.ymin||0!=c.ymax){l=!0;break}}if(l){e+="\n"+Ss.repeat(t+2)+"FontBoundsTable:";for(var f=0,d=this.fontBoundsTable.length;f<d;){var p=f++;e+="\n"+Ss.repeat(t+4)+"["+p+"] "+this.fontBoundsTable[p].toString()}}}if(0<this.fontKerningTable.length){e+="\n"+Ss.repeat(t+2)+"KerningTable:";for(var g=0,m=this.fontKerningTable.length;g<m;){var v=g++;e+="\n"+Ss.repeat(t+4)+"["+v+"] "+this.fontKerningTable[v].toString()}}return e},__class__:rn});var an=function(){rn.call(this),this.type=75,this.name="DefineFont3",this.version=8,this.level=2};(i["format.swf.tags.TagDefineFont3"]=an).__name__=["format","swf","tags","TagDefineFont3"],an.__interfaces__=[Gi],an.__super__=rn,an.prototype=n(rn.prototype,{toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", Italic: "+Q.string(this.italic)+", Bold: "+Q.string(this.bold)+", Glyphs: "+this.glyphShapeTable.length+this.toStringCommon(t)},__class__:an});var on=function(){this.type=91,this.name="DefineFont4",this.version=10,this.level=1;var t=new vs(0);this.fontData=t};(i["format.swf.tags.TagDefineFont4"]=on).__name__=["format","swf","tags","TagDefineFont4"],on.__interfaces__=[Gi],on.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.characterId=ut.readUI16(t);var r=ut.readUI8(t);this.hasFontData=0!=(4&r),this.italic=0!=(2&r),this.bold=0!=(1&r),this.fontName=ut.readSTRING(t),this.hasFontData&&e>(0|t.position)-s&&t.readBytes(this.fontData,0,e-(t.position-s))},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId);var n=0;this.hasFontData&&(n|=4),this.italic&&(n|=2),this.bold&&(n|=1),ut.writeUI8(i,n),ut.writeSTRING(i,this.fontName),this.hasFontData&&0<Su.get_length(this.fontData)&&i.writeBytes(this.fontData),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new on;return t.characterId=this.characterId,t.hasFontData=this.hasFontData,t.italic=this.italic,t.bold=this.bold,t.fontName=this.fontName,0<Su.get_length(this.fontData)&&t.fontData.writeBytes(this.fontData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FontName: "+this.fontName+", HasFontData: "+Q.string(this.hasFontData)+", Italic: "+Q.string(this.italic)+", Bold: "+Q.string(this.bold)},__class__:on};var ln=function(){this.type=73,this.name="DefineFontAlignZones",this.version=8,this.level=1,this.zoneTable=[]};(i["format.swf.tags.TagDefineFontAlignZones"]=ln).__name__=["format","swf","tags","TagDefineFontAlignZones"],ln.__interfaces__=[Ui],ln.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=ut.readUI16(t),this.csmTableHint=ut.readUI8(t)>>6;for(var s=t.position+e-3;(0|t.position)<s;)this.zoneTable.push(ut.readZONERECORD(t))},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.fontId),ut.writeUI8(i,this.csmTableHint<<6);for(var n=0,s=this.zoneTable.length;n<s;){var r=n++;ut.writeZONERECORD(i,this.zoneTable[r])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Vi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", CSMTableHint: "+ce.toString(this.csmTableHint)+", Records: "+this.zoneTable.length,i=0,n=this.zoneTable.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.zoneTable[s].toString(t+2)}return e},__class__:ln};var hn=function(){this.langCodeLength=0,this.langCode=0,this.type=13,this.name="DefineFontInfo",this.version=1,this.level=1,this.codeTable=[]};(i["format.swf.tags.TagDefineFontInfo"]=hn).__name__=["format","swf","tags","TagDefineFontInfo"],hn.__interfaces__=[Ui],hn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=ut.readUI16(t);var s=ut.readUI8(t),r=new vs(0);t.readBytes(r,0,s),this.fontName=r.readUTFBytes(s);var a=ut.readUI8(t);this.smallText=0!=(32&a),this.shiftJIS=0!=(16&a),this.ansi=0!=(8&a),this.italic=0!=(4&a),this.bold=0!=(2&a),this.wideCodes=0!=(1&a),this.parseLangCode(t);var o=e-s-this.langCodeLength-4;this.wideCodes&&(o>>=1);for(var l=0,h=o;l<h;){l++;this.codeTable.push(this.wideCodes?ut.readUI16(t):ut.readUI8(t))}},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.fontId);var n=new vs(0);n.writeUTFBytes(this.fontName),ut.writeUI8(i,Su.get_length(n)),i.writeBytes(n);var s=0;this.smallText&&(s|=32),this.shiftJIS&&(s|=16),this.ansi&&(s|=8),this.italic&&(s|=4),this.bold&&(s|=2),this.wideCodes&&(s|=1),ut.writeUI8(i,s),this.publishLangCode(i);for(var r=0,a=this.codeTable.length;r<a;){var o=r++;this.wideCodes?ut.writeUI16(i,this.codeTable[o]):ut.writeUI8(i,this.codeTable[o])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},parseLangCode:function(t){},publishLangCode:function(t){},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+Q.string(this.italic)+", Bold: "+Q.string(this.bold)+", Codes: "+this.codeTable.length},__class__:hn};var _n=function(){hn.call(this),this.type=62,this.name="DefineFontInfo2",this.version=6,this.level=2};(i["format.swf.tags.TagDefineFontInfo2"]=_n).__name__=["format","swf","tags","TagDefineFontInfo2"],_n.__interfaces__=[Ui],_n.__super__=hn,_n.prototype=n(hn.prototype,{parseLangCode:function(t){this.langCode=ut.readUI8(t),this.langCodeLength=1},publishLangCode:function(t){ut.writeUI8(t,this.langCode)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", FontName: "+this.fontName+", Italic: "+Q.string(this.italic)+", Bold: "+Q.string(this.bold)+", LanguageCode: "+this.langCode+", Codes: "+this.codeTable.length},__class__:_n});var un=function(){this.type=88,this.name="DefineFontName",this.version=9,this.level=1};(i["format.swf.tags.TagDefineFontName"]=un).__name__=["format","swf","tags","TagDefineFontName"],un.__interfaces__=[Ui],un.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.fontId=ut.readUI16(t),this.fontName=ut.readSTRING(t),this.fontCopyright=ut.readSTRING(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.fontId),ut.writeSTRING(i,this.fontName),ut.writeSTRING(i,this.fontCopyright),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"FontID: "+this.fontId+", Name: "+this.fontName+", Copyright: "+this.fontCopyright},__class__:un};var cn=function(){this.type=46,this.name="DefineMorphShape",this.version=3,this.level=1,this.morphFillStyles=[],this.morphLineStyles=[],this.exportShape=new Wt};(i["format.swf.tags.TagDefineMorphShape"]=cn).__name__=["format","swf","tags","TagDefineMorphShape"],cn.__interfaces__=[Gi],cn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.startBounds=ut.readRECT(t),this.endBounds=ut.readRECT(t),ut.readUI32(t);var s=ut.readUI8(t);255==s&&(s=ut.readUI16(t));for(var r=0,a=s;r<a;){r++;this.morphFillStyles.push(ut.readMORPHFILLSTYLE(t))}var o=ut.readUI8(t);255==o&&(o=ut.readUI16(t));for(var l=0,h=o;l<h;){l++;this.morphLineStyles.push(ut.readMORPHLINESTYLE(t))}this.startEdges=ut.readSHAPE(t),this.endEdges=ut.readSHAPE(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.startBounds),ut.writeRECT(i,this.endBounds);var n=ut._new(),s=this.morphFillStyles.length;254<s?(ut.writeUI8(n,255),ut.writeUI16(n,s)):ut.writeUI8(n,s);for(var r=0,a=s;r<a;){var o=r++;ut.writeMORPHFILLSTYLE(n,this.morphFillStyles[o])}var l=this.morphLineStyles.length;254<l?(ut.writeUI8(n,255),ut.writeUI16(n,l)):ut.writeUI8(n,l);for(var h=0,_=l;h<_;){var u=h++;ut.writeMORPHLINESTYLE(n,this.morphLineStyles[u])}ut.writeSHAPE(n,this.startEdges),ut.writeUI32(i,ut.get_length(n)),i.writeBytes(Su.fromBytes(n)),ut.writeSHAPE(i,this.endEdges),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){throw new fr(new Vh("Not implemented yet."))},export:function(t){null==t&&(t=0);throw new fr(":TODO: floating point interpolated records")},convertToCurvedEdge:function(t){var e=new Kt;return e.controlDeltaX=t.deltaX/2|0,e.controlDeltaY=t.deltaY/2|0,e.anchorDeltaX=t.deltaX/2|0,e.anchorDeltaY=t.deltaY/2|0,e},toString:function(t){null==t&&(t=0);var e=Ss.repeat(t+2),i=Ss.repeat(t+4),n=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(n+="\n"+e+"Bounds:",n+="\n"+i+"StartBounds: "+this.startBounds.toString(),n+="\n"+i+"EndBounds: "+this.endBounds.toString(),0<this.morphFillStyles.length){n+="\n"+e+"FillStyles:";for(var s=0,r=this.morphFillStyles.length;s<r;){var a=s++;n+="\n"+i+"["+(a+1)+"] "+this.morphFillStyles[a].toString()}}if(0<this.morphLineStyles.length){n+="\n"+e+"LineStyles:";for(var o=0,l=this.morphLineStyles.length;o<l;){var h=o++;n+="\n"+i+"["+(h+1)+"] "+this.morphLineStyles[h].toString()}}return n+=this.startEdges.toString(t+2),n+=this.endEdges.toString(t+2)},__class__:cn};var fn=function(){cn.call(this),this.type=84,this.name="DefineMorphShape2",this.version=8,this.level=2};(i["format.swf.tags.TagDefineMorphShape2"]=fn).__name__=["format","swf","tags","TagDefineMorphShape2"],fn.__interfaces__=[Ui],fn.__super__=cn,fn.prototype=n(cn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.startBounds=ut.readRECT(t),this.endBounds=ut.readRECT(t),this.startEdgeBounds=ut.readRECT(t),this.endEdgeBounds=ut.readRECT(t);var s=ut.readUI8(t);this.usesNonScalingStrokes=0!=(2&s),this.usesScalingStrokes=0!=(1&s),ut.readUI32(t);var r=ut.readUI8(t);255==r&&(r=ut.readUI16(t));for(var a=0,o=r;a<o;){a++;this.morphFillStyles.push(ut.readMORPHFILLSTYLE(t))}var l=ut.readUI8(t);255==l&&(l=ut.readUI16(t));for(var h=0,_=l;h<_;){h++;this.morphLineStyles.push(ut.readMORPHLINESTYLE2(t))}this.startEdges=ut.readSHAPE(t),this.endEdges=ut.readSHAPE(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.startBounds),ut.writeRECT(i,this.endBounds),ut.writeRECT(i,this.startEdgeBounds),ut.writeRECT(i,this.endEdgeBounds);var n=0;this.usesNonScalingStrokes&&(n|=2),this.usesScalingStrokes&&(n|=1),ut.writeUI8(i,n);var s=ut._new(),r=this.morphFillStyles.length;254<r?(ut.writeUI8(s,255),ut.writeUI16(s,r)):ut.writeUI8(s,r);for(var a=0,o=r;a<o;){var l=a++;ut.writeMORPHFILLSTYLE(s,this.morphFillStyles[l])}var h=this.morphLineStyles.length;254<h?(ut.writeUI8(s,255),ut.writeUI16(s,h)):ut.writeUI8(s,h);for(var _=0,u=h;_<u;){var c=_++;ut.writeMORPHLINESTYLE2(s,dr.__cast(this.morphLineStyles[c],Ot))}ut.writeSHAPE(s,this.startEdges),ut.writeUI32(i,ut.get_length(s)),i.writeBytes(Su.fromBytes(s)),ut.writeSHAPE(i,this.endEdges),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Ss.repeat(t+2),i=Ss.repeat(t+4),n=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;if(n+="\n"+e+"Bounds:",n+="\n"+i+"StartBounds: "+this.startBounds.toString(),n+="\n"+i+"EndBounds: "+this.endBounds.toString(),n+="\n"+i+"StartEdgeBounds: "+this.startEdgeBounds.toString(),n+="\n"+i+"EndEdgeBounds: "+this.endEdgeBounds.toString(),0<this.morphFillStyles.length){n+="\n"+e+"FillStyles:";for(var s=0,r=this.morphFillStyles.length;s<r;){var a=s++;n+="\n"+i+"["+(a+1)+"] "+this.morphFillStyles[a].toString()}}if(0<this.morphLineStyles.length){n+="\n"+e+"LineStyles:";for(var o=0,l=this.morphLineStyles.length;o<l;){var h=o++;n+="\n"+i+"["+(h+1)+"] "+this.morphLineStyles[h].toString()}}return n+=this.startEdges.toString(t+2),n+=this.endEdges.toString(t+2)},__class__:fn});var dn=function(){this.type=78,this.name="DefineScalingGrid",this.version=8,this.level=1};(i["format.swf.tags.TagDefineScalingGrid"]=dn).__name__=["format","swf","tags","TagDefineScalingGrid"],dn.__interfaces__=[Ui],dn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.splitter=ut.readRECT(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.splitter),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new dn;return t.characterId=this.characterId,t.splitter=this.splitter.clone(),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Splitter: "+Q.string(this.splitter)},__class__:dn};var pn=function(){this.type=86,this.name="DefineSceneAndFrameLabelData",this.version=9,this.level=1,this.scenes=[],this.frameLabels=[]};(i["format.swf.tags.TagDefineSceneAndFrameLabelData"]=pn).__name__=["format","swf","tags","TagDefineSceneAndFrameLabelData"],pn.__interfaces__=[Ui],pn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=ut.readEncodedU32(t);s<r;){s++;var a=ut.readEncodedU32(t),o=ut.readSTRING(t);this.scenes.push(new Ht(a,o))}for(var l=0,h=ut.readEncodedU32(t);l<h;){l++;var _=ut.readEncodedU32(t),u=ut.readSTRING(t);this.frameLabels.push(new St(_,u))}},publish:function(t,e){var i=ut._new();ut.writeEncodedU32(i,this.scenes.length);for(var n=0,s=this.scenes.length;n<s;){var r=n++,a=this.scenes[r];ut.writeEncodedU32(i,a.offset),ut.writeSTRING(i,a.name)}ut.writeEncodedU32(i,this.frameLabels.length);for(var o=0,l=this.frameLabels.length;o<l;){var h=o++,_=this.frameLabels[h];ut.writeEncodedU32(i,_.frameNumber),ut.writeSTRING(i,_.name)}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);if(0<this.scenes.length){e+="\n"+Ss.repeat(t+2)+"Scenes:";for(var i=0,n=this.scenes.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.scenes[s].toString()}}if(0<this.frameLabels.length){e+="\n"+Ss.repeat(t+2)+"FrameLabels:";for(var r=0,a=this.frameLabels.length;r<a;){var o=r++;e+="\n"+Ss.repeat(t+4)+"["+o+"] "+this.frameLabels[o].toString()}}return e},__class__:pn};var gn=function(){this.type=2,this.name="DefineShape",this.version=1,this.level=1};(i["format.swf.tags.TagDefineShape"]=gn).__name__=["format","swf","tags","TagDefineShape"],gn.__interfaces__=[Gi],gn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.shapeBounds=ut.readRECT(t),this.shapes=ut.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.shapeBounds),ut.writeSHAPEWITHSTYLE(i,this.shapes,this.level),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){throw new fr(new Vh("Not implemented yet."))},export:function(t){this.shapes.export(t)},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+Q.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:gn};var mn=function(){gn.call(this),this.type=22,this.name="DefineShape2",this.version=2,this.level=2};(i["format.swf.tags.TagDefineShape2"]=mn).__name__=["format","swf","tags","TagDefineShape2"],mn.__interfaces__=[Gi],mn.__super__=gn,mn.prototype=n(gn.prototype,{toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+Q.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:mn});var vn=function(){mn.call(this),this.type=32,this.name="DefineShape3",this.version=3,this.level=3};(i["format.swf.tags.TagDefineShape3"]=vn).__name__=["format","swf","tags","TagDefineShape3"],vn.__interfaces__=[Gi],vn.__super__=mn,vn.prototype=n(mn.prototype,{toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+Q.string(this.shapeBounds);return e+=this.shapes.toString(t+2)},__class__:vn});var bn=function(){vn.call(this),this.type=83,this.name="DefineShape4",this.version=8,this.level=4};(i["format.swf.tags.TagDefineShape4"]=bn).__name__=["format","swf","tags","TagDefineShape4"],bn.__interfaces__=[Gi],bn.__super__=vn,bn.prototype=n(vn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.shapeBounds=ut.readRECT(t),this.edgeBounds=ut.readRECT(t);var s=ut.readUI8(t);this.usesFillWindingRule=0!=(4&s),this.usesNonScalingStrokes=0!=(2&s),this.usesScalingStrokes=0!=(1&s),this.shapes=ut.readSHAPEWITHSTYLE(t,this.level)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeRECT(i,this.shapeBounds),ut.writeRECT(i,this.edgeBounds);var n=0;this.usesFillWindingRule&&(n|=4),this.usesNonScalingStrokes&&(n|=2),this.usesScalingStrokes&&(n|=1),ut.writeUI8(i,n),ut.writeSHAPEWITHSTYLE(i,this.shapes,this.level),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", ";return this.usesFillWindingRule&&(e+="UsesFillWindingRule, "),this.usesNonScalingStrokes&&(e+="UsesNonScalingStrokes, "),this.usesScalingStrokes&&(e+="UsesScalingStrokes, "),e+="ShapeBounds: "+Q.string(this.shapeBounds)+", EdgeBounds: "+Q.string(this.edgeBounds),e+=this.shapes.toString(t+2)},__class__:bn});var yn=function(){this.type=14,this.name="DefineSound",this.version=1,this.level=1;var t=new vs(0);this.soundData=t};(i["format.swf.tags.TagDefineSound"]=yn).__name__=["format","swf","tags","TagDefineSound"],yn.__interfaces__=[Gi],yn.create=function(t,e,i,n,s,r,a){null==r&&(r=0),null==s&&(s=1),null==n&&(n=1),null==i&&(i=3),null==e&&(e=2);var o=new yn;return o.characterId=t,o.soundFormat=e,o.soundRate=i,o.soundSize=n,o.soundType=s,o.soundSampleCount=r,null!=a&&0<Su.get_length(a)&&o.soundData.writeBytes(a),o},yn.createWithMP3=function(t,e){if(null!=e&&0<Su.get_length(e)){var i=new yn;return i.characterId=t,i.processMP3(e),i}throw new fr(new Vh("No MP3 data."))},yn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.soundFormat=ut.readUB(t,4),this.soundRate=ut.readUB(t,2),this.soundSize=ut.readUB(t,1),this.soundType=ut.readUB(t,1),this.soundSampleCount=ut.readUI32(t),t.readBytes(this.soundData,0,e-7)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUB(i,4,this.soundFormat),ut.writeUB(i,2,this.soundRate),ut.writeUB(i,1,this.soundSize),ut.writeUB(i,1,this.soundType),ut.writeUI32(i,this.soundSampleCount),0<Su.get_length(this.soundData)&&i.writeBytes(this.soundData),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new yn;return t.characterId=this.characterId,t.soundFormat=this.soundFormat,t.soundRate=this.soundRate,t.soundSize=this.soundSize,t.soundType=this.soundType,t.soundSampleCount=this.soundSampleCount,0<Su.get_length(this.soundData)&&t.soundData.writeBytes(this.soundData),t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.characterId+", Format: "+me.toString(this.soundFormat)+", Rate: "+ve.toString(this.soundRate)+", Size: "+be.toString(this.soundSize)+", Type: "+ye.toString(this.soundType)+", Samples: "+this.soundSampleCount},processMP3:function(t){for(var e=0,i=0,n=Su.get_length(t),s=0,r=!0,a=0,o=0,l=new Ae,h="id3v2";e<(0|Su.get_length(t));)switch(h){case"frame":l.setHeaderByteAt(0,t.b[e++]),l.setHeaderByteAt(1,t.b[e++]),l.setHeaderByteAt(2,t.b[e++]),l.setHeaderByteAt(3,t.b[e++]),l.hasCRC&&(l.setCRCByteAt(0,t.b[e++]),l.setCRCByteAt(1,t.b[e++])),r&&(r=!1,a=l.samplingrate,o=l.channelMode),s+=l.samples,e+=l.get_size(),h="sync";break;case"id3v2":73==t.b[e]&&68==t.b[e+1]&&51==t.b[e+2]&&(e+=10+(t.b[e+6]<<21|t.b[e+7]<<14|t.b[e+8]<<7|t.b[e+9])),i=e,h="sync";break;case"sync":255==t.b[e]&&224==(224&t.b[e+1])?h="frame":84==t.b[e]&&65==t.b[e+1]&&71==t.b[e+2]?(n=e,e=Su.get_length(t)):++e}switch(this.soundSampleCount=s,this.soundFormat=2,this.soundSize=1,this.soundType=3==o?0:1,a){case 11025:this.soundRate=1;break;case 22050:this.soundRate=2;break;case 44100:this.soundRate=3;break;default:throw new fr(new Vh("Unsupported sampling rate: "+a+" Hz"))}var _=new vs(0);this.soundData=_,this.soundData.writeShort(0),this.soundData.writeBytes(t,i,n-i)},__class__:yn};var wn=function(){ft.call(this),this.type=39,this.name="DefineSprite",this.version=3,this.level=1};(i["format.swf.tags.TagDefineSprite"]=wn).__name__=["format","swf","tags","TagDefineSprite"],wn.__interfaces__=[Gi],wn.__super__=ft,wn.prototype=n(ft.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.frameCount=ut.readUI16(t),this.parseTags(t,i)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI16(i,this.frameCount),this.publishTags(i,e),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){throw new fr(new Vh("Not implemented yet."))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", FrameCount: "+this.frameCount+ft.prototype.toString.call(this,t)},__class__:wn});var xn=function(){this.type=11,this.name="DefineText",this.version=1,this.level=1,this.records=[]};(i["format.swf.tags.TagDefineText"]=xn).__name__=["format","swf","tags","TagDefineText"],xn.__interfaces__=[Gi],xn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.textBounds=ut.readRECT(t),this.textMatrix=ut.readMATRIX(t);for(var s=ut.readUI8(t),r=ut.readUI8(t),a=null;null!=(a=ut.readTEXTRECORD(t,s,r,a,this.level));)this.records.push(a)},publish:function(t,e){var i,n=ut._new();ut.writeUI16(n,this.characterId),ut.writeRECT(n,this.textBounds),ut.writeMATRIX(n,this.textMatrix);for(var s=[],r=[],a=this.records.length,o=0,l=a;o<l;)for(var h=o++,_=0,u=(i=this.records[h]).glyphEntries.length;_<u;){var c=_++,f=i.glyphEntries[c];s.push(f.index),r.push(f.advance)}var d=n.calculateMaxBits(!1,s),p=n.calculateMaxBits(!0,r);ut.writeUI8(n,d),ut.writeUI8(n,p),i=null;for(var g=0,m=a;g<m;){var v=g++;ut.writeTEXTRECORD(n,this.records[v],d,p,i,this.level),i=this.records[v]}ut.writeUI8(n,0),ut.writeTagHeader(t,this.type,ut.get_length(n)),t.writeBytes(Su.fromBytes(n))},clone:function(){var t=new xn;t.characterId=this.characterId,t.textBounds=this.textBounds.clone(),t.textMatrix=this.textMatrix.clone();for(var e=0,i=this.records.length;e<i;){var n=e++;t.records.push(this.records[n].clone())}return t},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+Q.string(this.textBounds)+", Matrix: "+Q.string(this.textMatrix);if(0<this.records.length){e+="\n"+Ss.repeat(t+2)+"TextRecords:";for(var i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.records[s].toString(t+4)}}return e},__class__:xn};var Tn=function(){xn.call(this),this.type=33,this.name="DefineText2",this.version=3,this.level=2};(i["format.swf.tags.TagDefineText2"]=Tn).__name__=["format","swf","tags","TagDefineText2"],Tn.__interfaces__=[Gi],Tn.__super__=xn,Tn.prototype=n(xn.prototype,{toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Bounds: "+Q.string(this.textBounds)+", Matrix: "+Q.string(this.textMatrix);if(0<this.records.length){e+="\n"+Ss.repeat(t+2)+"TextRecords:";for(var i=0,n=this.records.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.records[s].toString()}}return e},__class__:Tn});var Sn=function(){this.type=60,this.name="DefineVideoStream",this.version=6,this.level=1};(i["format.swf.tags.TagDefineVideoStream"]=Sn).__name__=["format","swf","tags","TagDefineVideoStream"],Sn.__interfaces__=[Gi],Sn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.numFrames=ut.readUI16(t),this.width=ut.readUI16(t),this.height=ut.readUI16(t),ut.readUB(t,4),this.deblocking=ut.readUB(t,3),this.smoothing=1==ut.readUB(t,1),this.codecId=ut.readUI8(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,10),ut.writeUI16(t,this.characterId),ut.writeUI16(t,this.numFrames),ut.writeUI16(t,this.width),ut.writeUI16(t,this.height),ut.writeUB(t,4,0),ut.writeUB(t,3,this.deblocking),ut.writeUB(t,1,this.smoothing?1:0),ut.writeUI8(t,this.codecId)},clone:function(){var t=new Sn;return t.characterId=this.characterId,t.numFrames=this.numFrames,t.width=this.width,t.height=this.height,t.deblocking=this.deblocking,t.smoothing=this.smoothing,t.codecId=this.codecId,t},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId+", Frames: "+this.numFrames+", Width: "+this.width+", Height: "+this.height+", Deblocking: "+Se.toString(this.deblocking)+", Smoothing: "+Q.string(this.smoothing)+", Codec: "+Te.toString(this.codecId)},__class__:Sn};var En=function(){this.abcName="",this.type=82,this.name="DoABC",this.version=9,this.level=1;var t=new vs(0);this.bytes=t};(i["format.swf.tags.TagDoABC"]=En).__name__=["format","swf","tags","TagDoABC"],En.__interfaces__=[Ui],En.create=function(t,e,i){null==i&&(i=!0),null==e&&(e="");var n=new En;return null!=t&&0<Su.get_length(t)&&n.bytes.writeBytes(t),n.abcName=e,n.lazyInitializeFlag=i,n},En.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position,r=ut.readUI32(t);this.lazyInitializeFlag=0!=(1&r),this.abcName=ut.readSTRING(t),t.readBytes(this.bytes,0,e-(t.position-s))},publish:function(t,e){var i=ut._new();ut.writeUI32(i,this.lazyInitializeFlag?1:0),ut.writeSTRING(i,this.abcName),0<Su.get_length(this.bytes)&&i.writeBytes(this.bytes),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Lazy: "+Q.string(this.lazyInitializeFlag)+", "+(0<this.abcName.length?"Name: "+this.abcName+", ":"")+"Length: "+Su.get_length(this.bytes)},__class__:En};var In=function(){this.type=72,this.name="DoABCDeprecated",this.version=9,this.level=1;var t=new vs(0);this.bytes=t};(i["format.swf.tags.TagDoABCDeprecated"]=In).__name__=["format","swf","tags","TagDoABCDeprecated"],In.__interfaces__=[Ui],In.create=function(t){var e=new In;return null!=t&&0<Su.get_length(t)&&e.bytes.writeBytes(t),e},In.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;t.readBytes(this.bytes,0,e-(t.position-s))},publish:function(t,e){var i=ut._new();0<Su.get_length(this.bytes)&&i.writeBytes(this.bytes),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Length: "+Su.get_length(this.bytes)},__class__:In};var Cn=function(){this.type=12,this.name="DoAction",this.version=3,this.level=1,this.actions=[]};(i["format.swf.tags.TagDoAction"]=Cn).__name__=["format","swf","tags","TagDoAction"],Cn.__interfaces__=[Ui],Cn.prototype={parse:function(t,e,i,n){var s;for(null==n&&(n=!1);null!=(s=ut.readACTIONRECORD(t));)this.actions.push(s)},publish:function(t,e){for(var i=ut._new(),n=0,s=this.actions.length;n<s;){var r=n++;ut.writeACTIONRECORD(i,this.actions[r])}ut.writeUI8(i,0),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Vi.toStringCommon(this.type,this.name,t),i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.actions[s].toString(t+2)}return e},__class__:Cn};var Pn=function(){Cn.call(this),this.type=59,this.name="DoInitAction",this.version=6,this.level=1};(i["format.swf.tags.TagDoInitAction"]=Pn).__name__=["format","swf","tags","TagDoInitAction"],Pn.__interfaces__=[Ui],Pn.__super__=Cn,Pn.prototype=n(Cn.prototype,{parse:function(t,e,i,n){var s;for(null==n&&(n=!1),this.spriteId=ut.readUI16(t);null!=(s=ut.readACTIONRECORD(t));)this.actions.push(s)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.spriteId);for(var n=0,s=this.actions.length;n<s;){var r=n++;ut.writeACTIONRECORD(i,this.actions[r])}ut.writeUI8(i,0),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);for(var e=Vi.toStringCommon(this.type,this.name,t)+"SpriteID: "+this.spriteId+", ",i=0,n=this.actions.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+2)+"["+s+"] "+this.actions[s].toString(t+2)}return e},__class__:Pn});var An=function(){this.type=58,this.name="EnableDebugger",this.version=5,this.level=1;var t=new vs(0);this.password=t};(i["format.swf.tags.TagEnableDebugger"]=An).__name__=["format","swf","tags","TagEnableDebugger"],An.__interfaces__=[Ui],An.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.password)),0<Su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:An};var Dn=function(){An.call(this),this.reserved=0,this.type=64,this.name="EnableDebugger2",this.version=6,this.level=2};(i["format.swf.tags.TagEnableDebugger2"]=Dn).__name__=["format","swf","tags","TagEnableDebugger2"],Dn.__interfaces__=[Ui],Dn.__super__=An,Dn.prototype=n(An.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.reserved=ut.readUI16(t),2<e&&t.readBytes(this.password,0,e-2)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.password)+2),ut.writeUI16(t,this.reserved),0<Su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Password: "+(0<Su.get_length(this.password)?"null":this.password.readUTF())+", Reserved: 0x"+Cs.hex(this.reserved)},__class__:Dn});var Rn=function(){this.level=1,this.version=19,this.name="EnableTelemetry",this.type=93;var t=new vs(0);this.password=t};(i["format.swf.tags.TagEnableTelemetry"]=Rn).__name__=["format","swf","tags","TagEnableTelemetry"],Rn.__interfaces__=[Ui],Rn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),2<e&&(t.readByte(),t.readByte(),t.readBytes(this.password,0,e-2))},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.password)+2),t.writeByte(0),t.writeByte(0),0<Su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:Rn};var Mn=function(){this.type=0,this.name="End",this.version=1,this.level=1};(i["format.swf.tags.TagEnd"]=Mn).__name__=["format","swf","tags","TagEnd"],Mn.__interfaces__=[Ui],Mn.prototype={parse:function(t,e,i,n){null==n&&(n=!1)},publish:function(t,e){ut.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:Mn};var Fn=function(){this.type=56,this.name="ExportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagExportAssets"]=Fn).__name__=["format","swf","tags","TagExportAssets"],Fn.__interfaces__=[Ui],Fn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=ut.readUI16(t);s<r;){s++;this.symbols.push(ut.readSYMBOL(t))}},publish:function(t,e){var i=ut._new(),n=this.symbols.length;ut.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeSYMBOL(i,this.symbols[a])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+Ss.repeat(t+2)+"Assets:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:Fn};var Bn=function(){this.useNetwork=!1,this.actionscript3=!0,this.hasMetadata=!1,this.useGPU=!1,this.useDirectBlit=!1,this.type=69,this.name="FileAttributes",this.version=8,this.level=1};(i["format.swf.tags.TagFileAttributes"]=Bn).__name__=["format","swf","tags","TagFileAttributes"],Bn.__interfaces__=[Ui],Bn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=ut.readUI8(t);this.useDirectBlit=0!=(64&s),this.useGPU=0!=(32&s),this.hasMetadata=0!=(16&s),this.actionscript3=0!=(8&s),this.useNetwork=0!=(1&s),ut.skipBytes(t,3)},publish:function(t,e){ut.writeTagHeader(t,this.type,4);var i=0;this.useNetwork&&(i|=1),this.actionscript3&&(i|=8),this.hasMetadata&&(i|=16),this.useGPU&&(i|=32),this.useDirectBlit&&(i|=64),ut.writeUI8(t,i),ut.writeUI8(t,0),ut.writeUI8(t,0),ut.writeUI8(t,0)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"AS3: "+Q.string(this.actionscript3)+", HasMetadata: "+Q.string(this.hasMetadata)+", UseDirectBlit: "+Q.string(this.useDirectBlit)+", UseGPU: "+Q.string(this.useGPU)+", UseNetwork: "+Q.string(this.useNetwork)},__class__:Bn};var Ln=function(){this.type=43,this.name="FrameLabel",this.version=3,this.level=1};(i["format.swf.tags.TagFrameLabel"]=Ln).__name__=["format","swf","tags","TagFrameLabel"],Ln.__interfaces__=[Ui],Ln.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.frameName=ut.readSTRING(t),(0|t.position)-s<e&&(ut.readUI8(t),this.namedAnchorFlag=!0)},publish:function(t,e){var i=ut._new();ut.writeSTRING(i,this.frameName),this.namedAnchorFlag&&ut.writeUI8(t,1),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e="Name: "+this.frameName;return this.namedAnchorFlag&&(e+=", NamedAnchor = true"),Vi.toStringCommon(this.type,this.name,t)+e},__class__:Ln};var kn=function(){this.type=57,this.name="ImportAssets",this.version=5,this.level=1,this.symbols=[]};(i["format.swf.tags.TagImportAssets"]=kn).__name__=["format","swf","tags","TagImportAssets"],kn.__interfaces__=[Ui],kn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.url=ut.readSTRING(t);for(var s=0,r=ut.readUI16(t);s<r;){s++;this.symbols.push(ut.readSYMBOL(t))}},publish:function(t,e){var i=ut._new();ut.writeSTRING(i,this.url);var n=this.symbols.length;ut.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeSYMBOL(i,this.symbols[a])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+Ss.repeat(t+2)+"Assets:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:kn};var Nn=function(){kn.call(this),this.type=71,this.name="ImportAssets2",this.version=8,this.level=2};(i["format.swf.tags.TagImportAssets2"]=Nn).__name__=["format","swf","tags","TagImportAssets2"],Nn.__interfaces__=[Ui],Nn.__super__=kn,Nn.prototype=n(kn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.url=ut.readSTRING(t),ut.readUI8(t),ut.readUI8(t);for(var s=0,r=ut.readUI16(t);s<r;){s++;this.symbols.push(ut.readSYMBOL(t))}},publish:function(t,e){var i=ut._new();ut.writeSTRING(i,this.url),ut.writeUI8(i,1),ut.writeUI8(i,0);var n=this.symbols.length;ut.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeSYMBOL(i,this.symbols[a])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},__class__:Nn});var On=function(){this.type=8,this.name="JPEGTables",this.version=1,this.level=1;var t=new vs(0);this.jpegTables=t};(i["format.swf.tags.TagJPEGTables"]=On).__name__=["format","swf","tags","TagJPEGTables"],On.__interfaces__=[Ui],On.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.jpegTables,0,e)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.jpegTables)),0<Su.get_length(this.jpegTables)&&t.writeBytes(this.jpegTables)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Length: "+Su.get_length(this.jpegTables)},__class__:On};var Un=function(){this.type=77,this.name="Metadata",this.version=1,this.level=1};(i["format.swf.tags.TagMetadata"]=Un).__name__=["format","swf","tags","TagMetadata"],Un.__interfaces__=[Ui],Un.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.xmlString=ut.readSTRING(t)},publish:function(t,e){var i=ut._new();ut.writeSTRING(i,this.xmlString),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e,i=Vi.toStringCommon(this.type,this.name,t);try{e=at.parse(this.xmlString),i+=" "+ir.print(e)}catch(t){if((Is.lastException=t)instanceof fr&&(t=t.val),!dr.__instanceof(t,Vh))throw t;i+=" "+this.xmlString}return i},__class__:Un};var Gn=function(){this.level=1,this.version=3,this.name="NameCharacter",this.type=40;var t=new vs(0);this.binaryData=t};(i["format.swf.tags.TagNameCharacter"]=Gn).__name__=["format","swf","tags","TagNameCharacter"],Gn.__interfaces__=[Ui],Gn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),2<e&&t.readBytes(this.binaryData,0,e-2)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),0<Su.get_length(this.binaryData)&&i.writeBytes(this.binaryData),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},clone:function(){var t=new Gn;return t.characterId=this.characterId,0<Su.get_length(this.binaryData)&&t.binaryData.writeBytes(this.binaryData),t},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"ID: "+this.characterId;return 0<Su.get_length(this.binaryData)&&(this.binaryData.position=0,e+=", Name: "+this.binaryData.readUTFBytes(Su.get_length(this.binaryData)-1),this.binaryData.position=0),e},__class__:Gn};var Xn=function(){this.hasCacheAsBitmap=!1,this.type=4,this.name="PlaceObject",this.version=1,this.level=1,this.surfaceFilterList=[]};(i["format.swf.tags.TagPlaceObject"]=Xn).__name__=["format","swf","tags","TagPlaceObject"],Xn.__interfaces__=[Xi],Xn.prototype={parse:function(t,e,i,n){null==n&&(n=!1);var s=t.position;this.characterId=ut.readUI16(t),this.depth=ut.readUI16(t),this.matrix=ut.readMATRIX(t),this.hasCharacter=!0,this.hasMatrix=!0,(0|t.position)-s<e&&(this.colorTransform=ut.readCXFORM(t),this.hasColorTransform=!0)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.characterId),ut.writeUI16(i,this.depth),ut.writeMATRIX(i,this.matrix),this.hasColorTransform&&ut.writeCXFORM(i,this.colorTransform),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+Q.string(this.matrix)),this.hasColorTransform&&(e+=", ColorTransform: "+Q.string(this.colorTransform)),e},__class__:Xn};var Vn=function(){Xn.call(this),this.type=26,this.name="PlaceObject2",this.version=3,this.level=2};(i["format.swf.tags.TagPlaceObject2"]=Vn).__name__=["format","swf","tags","TagPlaceObject2"],Vn.__interfaces__=[Xi],Vn.__super__=Xn,Vn.prototype=n(Xn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1);var s=ut.readUI8(t);this.hasClipActions=0!=(128&s),this.hasClipDepth=0!=(64&s),this.hasName=0!=(32&s),this.hasRatio=0!=(16&s),this.hasColorTransform=0!=(8&s),this.hasMatrix=0!=(4&s),this.hasCharacter=0!=(2&s),this.hasMove=0!=(1&s),this.depth=ut.readUI16(t),this.hasCharacter&&(this.characterId=ut.readUI16(t)),this.hasMatrix&&(this.matrix=ut.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=ut.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=ut.readUI16(t)),this.hasName&&(this.instanceName=ut.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=ut.readUI16(t)),this.hasClipActions&&(this.clipActions=ut.readCLIPACTIONS(t,i))},publish:function(t,e){var i=0,n=ut._new();this.hasMove&&(i|=1),this.hasCharacter&&(i|=2),this.hasMatrix&&(i|=4),this.hasColorTransform&&(i|=8),this.hasRatio&&(i|=16),this.hasName&&(i|=32),this.hasClipDepth&&(i|=64),this.hasClipActions&&(i|=128),ut.writeUI8(n,i),ut.writeUI16(n,this.depth),this.hasCharacter&&ut.writeUI16(n,this.characterId),this.hasMatrix&&ut.writeMATRIX(n,this.matrix),this.hasColorTransform&&ut.writeCXFORM(n,this.colorTransform),this.hasRatio&&ut.writeUI16(n,this.ratio),this.hasName&&ut.writeSTRING(n,this.instanceName),this.hasClipDepth&&ut.writeUI16(n,this.clipDepth),this.hasClipActions&&ut.writeCLIPACTIONS(n,this.clipActions,e),ut.writeTagHeader(t,this.type,ut.get_length(n)),t.writeBytes(Su.fromBytes(n))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;return this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+Q.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasClipActions&&null!=this.clipActions&&(e+="\n"+Ss.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:Vn});var zn=function(){Vn.call(this),this.type=70,this.name="PlaceObject3",this.version=8,this.level=3};(i["format.swf.tags.TagPlaceObject3"]=zn).__name__=["format","swf","tags","TagPlaceObject3"],zn.__interfaces__=[Xi],zn.__super__=Vn,zn.prototype=n(Vn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1);var s=ut.readUI8(t);this.hasClipActions=0!=(128&s),this.hasClipDepth=0!=(64&s),this.hasName=0!=(32&s),this.hasRatio=0!=(16&s),this.hasColorTransform=0!=(8&s),this.hasMatrix=0!=(4&s),this.hasCharacter=0!=(2&s),this.hasMove=0!=(1&s);var r=ut.readUI8(t);if(this.hasOpaqueBackground=0!=(64&r),this.hasVisible=0!=(32&r),this.hasImage=0!=(16&r),this.hasClassName=0!=(8&r),this.hasCacheAsBitmap=0!=(4&r),this.hasBlendMode=0!=(2&r),this.hasFilterList=0!=(1&r),this.depth=ut.readUI16(t),this.hasClassName&&(this.className=ut.readSTRING(t)),this.hasCharacter&&(this.characterId=ut.readUI16(t)),this.hasMatrix&&(this.matrix=ut.readMATRIX(t)),this.hasColorTransform&&(this.colorTransform=ut.readCXFORMWITHALPHA(t)),this.hasRatio&&(this.ratio=ut.readUI16(t)),this.hasName&&(this.instanceName=ut.readSTRING(t)),this.hasClipDepth&&(this.clipDepth=ut.readUI16(t)),this.hasFilterList)for(var a=0,o=ut.readUI8(t);a<o;){a++;this.surfaceFilterList.push(ut.readFILTER(t))}this.hasBlendMode&&(this.blendMode=ut.readUI8(t)),this.hasCacheAsBitmap&&(this.bitmapCache=ut.readUI8(t)),this.hasVisible&&(this.visible=ut.readUI8(t)),this.hasOpaqueBackground&&(this.bitmapBackgroundColor=ut.readRGBA(t)),this.hasClipActions&&(this.clipActions=ut.readCLIPACTIONS(t,i))},prepareBody:function(){var t=ut._new(),e=0;this.hasClipActions&&(e|=128),this.hasClipDepth&&(e|=64),this.hasName&&(e|=32),this.hasRatio&&(e|=16),this.hasColorTransform&&(e|=8),this.hasMatrix&&(e|=4),this.hasCharacter&&(e|=2),this.hasMove&&(e|=1),ut.writeUI8(t,e);var i=0;if(this.hasOpaqueBackground&&(i|=64),this.hasVisible&&(i|=32),this.hasImage&&(i|=16),this.hasClassName&&(i|=8),this.hasCacheAsBitmap&&(i|=4),this.hasBlendMode&&(i|=2),this.hasFilterList&&(i|=1),ut.writeUI8(t,i),ut.writeUI16(t,this.depth),this.hasClassName&&ut.writeSTRING(t,this.className),this.hasCharacter&&ut.writeUI16(t,this.characterId),this.hasMatrix&&ut.writeMATRIX(t,this.matrix),this.hasColorTransform&&ut.writeCXFORM(t,this.colorTransform),this.hasRatio&&ut.writeUI16(t,this.ratio),this.hasName&&ut.writeSTRING(t,this.instanceName),this.hasClipDepth&&ut.writeUI16(t,this.clipDepth),this.hasFilterList){var n=this.surfaceFilterList.length;ut.writeUI8(t,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeFILTER(t,this.surfaceFilterList[a])}}return this.hasBlendMode&&ut.writeUI8(t,this.blendMode),this.hasCacheAsBitmap&&ut.writeUI8(t,this.bitmapCache),this.hasVisible&&ut.writeUI8(t,this.visible),this.hasOpaqueBackground&&ut.writeRGBA(t,this.bitmapBackgroundColor),this.hasClipActions&&ut.writeCLIPACTIONS(t,this.clipActions,this.version),t},publish:function(t,e){var i=this.prepareBody();ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth;if(this.hasClassName&&(e+=", ClassName: "+this.className),this.hasCharacter&&(e+=", CharacterID: "+this.characterId),this.hasMatrix&&(e+=", Matrix: "+this.matrix.toString()),this.hasColorTransform&&(e+=", ColorTransform: "+Q.string(this.colorTransform)),this.hasRatio&&(e+=", Ratio: "+this.ratio),this.hasName&&(e+=", Name: "+this.instanceName),this.hasClipDepth&&(e+=", ClipDepth: "+this.clipDepth),this.hasBlendMode&&(e+=", BlendMode: "+ue.toString(this.blendMode)),this.hasCacheAsBitmap&&(e+=", CacheAsBitmap: "+this.bitmapCache),this.hasVisible&&(e+=", Visible: "+this.visible),this.hasOpaqueBackground&&(e+=", BackgroundColor: "+ys.rgbaToString(this.bitmapBackgroundColor)),this.hasFilterList){e+="\n"+Ss.repeat(t+2)+"Filters:";for(var i=0,n=this.surfaceFilterList.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.surfaceFilterList[s].toString(t+4)}}return this.hasClipActions&&(e+="\n"+Ss.repeat(t+2)+this.clipActions.toString(t+2)),e},__class__:zn});var Hn=function(){zn.call(this),this.type=94,this.name="PlaceObject4",this.version=19,this.level=4};(i["format.swf.tags.TagPlaceObject4"]=Hn).__name__=["format","swf","tags","TagPlaceObject4"],Hn.__interfaces__=[Xi],Hn.__super__=zn,Hn.prototype=n(zn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),zn.prototype.parse.call(this,t,e,i,n)},publish:function(t,e){var i=this.prepareBody();ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=zn.prototype.toString.call(this,t);return null!=this.metaData&&(e+="\n"+Ss.repeat(t+2)+"MetaData: yes"),e},__class__:Hn});var Wn=function(){this.type=41,this.name="ProductInfo",this.version=3,this.level=1};(i["format.swf.tags.TagProductInfo"]=Wn).__name__=["format","swf","tags","TagProductInfo"],Wn.__interfaces__=[Ui],Wn.UINT_MAX_CARRY=function(){return ut.MAX_FLOAT_VALUE+1},Wn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.productId=ut.readUI32(t),this.edition=ut.readUI32(t),this.majorVersion=ut.readUI8(t),this.minorVersion=ut.readUI8(t),this.build=ut.readUI32(t)+ut.readUI32(t)*(ut.MAX_FLOAT_VALUE+1);var s=ut.readUI32(t)+ut.readUI32(t)*(ut.MAX_FLOAT_VALUE+1);this.compileDate=new Date(s)},publish:function(t,e){var i=ut._new();ut.writeUI32(i,this.productId),ut.writeUI32(i,this.edition),ut.writeUI8(i,this.majorVersion),ut.writeUI8(i,this.minorVersion),ut.writeUI32(i,0|this.build),ut.writeUI32(i,this.build/(ut.MAX_FLOAT_VALUE+1)|0),ut.writeUI32(i,0|this.compileDate.getTime()),ut.writeUI32(i,this.compileDate.getTime()/(ut.MAX_FLOAT_VALUE+1)|0),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"ProductID: "+this.productId+", Edition: "+this.edition+", Version: "+this.majorVersion+"."+this.minorVersion+" r"+this.build+", CompileDate: "+$.dateStr(this.compileDate)},__class__:Wn};var Yn=function(){this.type=24,this.name="Protect",this.version=2,this.level=1;var t=new vs(0);this.password=t};(i["format.swf.tags.TagProtect"]=Yn).__name__=["format","swf","tags","TagProtect"],Yn.__interfaces__=[Ui],Yn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),0<e&&t.readBytes(this.password,0,e)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.password)),0<Su.get_length(this.password)&&t.writeBytes(this.password)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:Yn};var Kn=function(){this.characterId=0,this.type=5,this.name="RemoveObject",this.version=1,this.level=1};(i["format.swf.tags.TagRemoveObject"]=Kn).__name__=["format","swf","tags","TagRemoveObject"],Kn.__interfaces__=[Xi],Kn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.characterId=ut.readUI16(t),this.depth=ut.readUI16(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,4),ut.writeUI16(t,this.characterId),ut.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"CharacterID: "+this.characterId+", Depth: "+this.depth},__class__:Kn};var jn=function(){Kn.call(this),this.type=28,this.name="RemoveObject2",this.version=3,this.level=2};(i["format.swf.tags.TagRemoveObject2"]=jn).__name__=["format","swf","tags","TagRemoveObject2"],jn.__interfaces__=[Xi],jn.__super__=Kn,jn.prototype=n(Kn.prototype,{parse:function(t,e,i,n){null==n&&(n=!1),this.depth=ut.readUI16(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,2),ut.writeUI16(t,this.depth)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth},__class__:jn});var qn=function(){this.type=65,this.name="ScriptLimits",this.version=7,this.level=1};(i["format.swf.tags.TagScriptLimits"]=qn).__name__=["format","swf","tags","TagScriptLimits"],qn.__interfaces__=[Ui],qn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.maxRecursionDepth=ut.readUI16(t),this.scriptTimeoutSeconds=ut.readUI16(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,4),ut.writeUI16(t,this.maxRecursionDepth),ut.writeUI16(t,this.scriptTimeoutSeconds)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"MaxRecursionDepth: "+this.maxRecursionDepth+", ScriptTimeoutSeconds: "+this.scriptTimeoutSeconds},__class__:qn};var Jn=function(){this.color=16777215,this.type=9,this.name="SetBackgroundColor",this.version=1,this.level=1};(i["format.swf.tags.TagSetBackgroundColor"]=Jn).__name__=["format","swf","tags","TagSetBackgroundColor"],Jn.__interfaces__=[Ui],Jn.create=function(t){null==t&&(t=16777215);var e=new Jn;return e.color=t,e},Jn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.color=ut.readRGB(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,3),ut.writeRGB(t,this.color)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Color: "+ys.rgbToString(this.color)},__class__:Jn};var Zn=function(){this.type=66,this.name="SetTabIndex",this.version=7,this.level=1};(i["format.swf.tags.TagSetTabIndex"]=Zn).__name__=["format","swf","tags","TagSetTabIndex"],Zn.__interfaces__=[Ui],Zn.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.depth=ut.readUI16(t),this.tabIndex=ut.readUI16(t)},publish:function(t,e){ut.writeTagHeader(t,this.type,4),ut.writeUI16(t,this.depth),ut.writeUI16(t,this.tabIndex)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Depth: "+this.depth+", TabIndex: "+this.tabIndex},__class__:Zn};var Qn=function(){this.type=1,this.name="ShowFrame",this.version=1,this.level=1};(i["format.swf.tags.TagShowFrame"]=Qn).__name__=["format","swf","tags","TagShowFrame"],Qn.__interfaces__=[Xi],Qn.prototype={parse:function(t,e,i,n){null==n&&(n=!1)},publish:function(t,e){ut.writeTagHeader(t,this.type,0)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:Qn};var $n=function(){this.type=19,this.name="SoundStreamBlock",this.version=1,this.level=1;var t=new vs(0);this.soundData=t};(i["format.swf.tags.TagSoundStreamBlock"]=$n).__name__=["format","swf","tags","TagSoundStreamBlock"],$n.__interfaces__=[Ui],$n.prototype={parse:function(t,e,i,n){null==n&&(n=!1),t.readBytes(this.soundData,0,e)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.soundData),!0),0<Su.get_length(this.soundData)&&t.writeBytes(this.soundData)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"Length: "+Su.get_length(this.soundData)},__class__:$n};var ts=function(){this.type=18,this.name="SoundStreamHead",this.version=1,this.level=1};(i["format.swf.tags.TagSoundStreamHead"]=ts).__name__=["format","swf","tags","TagSoundStreamHead"],ts.__interfaces__=[Ui],ts.prototype={parse:function(t,e,i,n){null==n&&(n=!1),ut.readUB(t,4),this.playbackSoundRate=ut.readUB(t,2),this.playbackSoundSize=ut.readUB(t,1),this.playbackSoundType=ut.readUB(t,1),this.streamSoundCompression=ut.readUB(t,4),this.streamSoundRate=ut.readUB(t,2),this.streamSoundSize=ut.readUB(t,1),this.streamSoundType=ut.readUB(t,1),this.streamSoundSampleCount=ut.readUI16(t),2==this.streamSoundCompression&&(this.latencySeek=ut.readSI16(t))},publish:function(t,e){var i=ut._new();ut.writeUB(i,4,0),ut.writeUB(i,2,this.playbackSoundRate),ut.writeUB(i,1,this.playbackSoundSize),ut.writeUB(i,1,this.playbackSoundType),ut.writeUB(i,4,this.streamSoundCompression),ut.writeUB(i,2,this.streamSoundRate),ut.writeUB(i,1,this.streamSoundSize),ut.writeUB(i,1,this.streamSoundType),ut.writeUI16(i,this.streamSoundSampleCount),2==this.streamSoundCompression&&ut.writeSI16(i,this.latencySeek),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+me.toString(this.streamSoundCompression)+", Rate: "+ve.toString(this.streamSoundRate)+", Size: "+be.toString(this.streamSoundSize)+", Type: "+ye.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount+", ",e+="LatencySeek: "+this.latencySeek},__class__:ts};var es=function(){ts.call(this),this.type=45,this.name="SoundStreamHead2",this.version=3,this.level=2};(i["format.swf.tags.TagSoundStreamHead2"]=es).__name__=["format","swf","tags","TagSoundStreamHead2"],es.__interfaces__=[Ui],es.__super__=ts,es.prototype=n(ts.prototype,{toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);return 0<this.streamSoundSampleCount&&(e+="Format: "+me.toString(this.streamSoundCompression)+", Rate: "+ve.toString(this.streamSoundRate)+", Size: "+be.toString(this.streamSoundSize)+", Type: "+ye.toString(this.streamSoundType)+", "),e+="Samples: "+this.streamSoundSampleCount},__class__:es});var is=function(){this.type=15,this.name="StartSound",this.version=1,this.level=1};(i["format.swf.tags.TagStartSound"]=is).__name__=["format","swf","tags","TagStartSound"],is.__interfaces__=[Ui],is.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.soundId=ut.readUI16(t),this.soundInfo=ut.readSOUNDINFO(t)},publish:function(t,e){var i=ut._new();ut.writeUI16(i,this.soundId),ut.writeSOUNDINFO(i,this.soundInfo),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"SoundID: "+this.soundId+", SoundInfo: "+Q.string(this.soundInfo)},__class__:is};var ns=function(){this.type=89,this.name="StartSound2",this.version=9,this.level=2};(i["format.swf.tags.TagStartSound2"]=ns).__name__=["format","swf","tags","TagStartSound2"],ns.__interfaces__=[Ui],ns.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.soundClassName=ut.readSTRING(t),this.soundInfo=ut.readSOUNDINFO(t)},publish:function(t,e){var i=ut._new();ut.writeSTRING(i,this.soundClassName),ut.writeSOUNDINFO(i,this.soundInfo),ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"SoundClassName: "+this.soundClassName+", SoundInfo: "+Q.string(this.soundInfo)},__class__:ns};var ss=function(){this.type=76,this.name="SymbolClass",this.version=9,this.level=1,this.symbols=[]};(i["format.swf.tags.TagSymbolClass"]=ss).__name__=["format","swf","tags","TagSymbolClass"],ss.__interfaces__=[Ui],ss.prototype={parse:function(t,e,i,n){null==n&&(n=!1);for(var s=0,r=ut.readUI16(t);s<r;){s++;this.symbols.push(ut.readSYMBOL(t))}},publish:function(t,e){var i=ut._new(),n=this.symbols.length;ut.writeUI16(i,n);for(var s=0,r=n;s<r;){var a=s++;ut.writeSYMBOL(i,this.symbols[a])}ut.writeTagHeader(t,this.type,ut.get_length(i)),t.writeBytes(Su.fromBytes(i))},toString:function(t){null==t&&(t=0);var e=Vi.toStringCommon(this.type,this.name,t);if(0<this.symbols.length){e+="\n"+Ss.repeat(t+2)+"Symbols:";for(var i=0,n=this.symbols.length;i<n;){var s=i++;e+="\n"+Ss.repeat(t+4)+"["+s+"] "+this.symbols[s].toString()}}return e},__class__:ss};var rs=function(t){null==t&&(t=0),this.type=t,this.name="????",this.version=0,this.level=1};(i["format.swf.tags.TagUnknown"]=rs).__name__=["format","swf","tags","TagUnknown"],rs.__interfaces__=[Ui],rs.prototype={parse:function(t,e,i,n){null==n&&(n=!1),ut.skipBytes(t,e)},publish:function(t,e){throw new fr(new Vh("No raw tag data available."))},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)},__class__:rs};var as=function(){this.type=61,this.name="VideoFrame",this.version=6,this.level=1;var t=new vs(0);this.videoData=t};(i["format.swf.tags.TagVideoFrame"]=as).__name__=["format","swf","tags","TagVideoFrame"],as.__interfaces__=[Ui],as.prototype={parse:function(t,e,i,n){null==n&&(n=!1),this.streamId=ut.readUI16(t),this.frameNum=ut.readUI16(t),t.readBytes(this.videoData,0,e-4)},publish:function(t,e){ut.writeTagHeader(t,this.type,Su.get_length(this.videoData)+4),ut.writeUI16(t,this.streamId),ut.writeUI16(t,this.frameNum),0<Su.get_length(this.videoData)&&t.writeBytes(this.videoData)},toString:function(t){return null==t&&(t=0),Vi.toStringCommon(this.type,this.name,t)+"StreamID: "+this.streamId+", Frame: "+this.frameNum},__class__:as};var os=function(t){null==t&&(t=0),rs.call(this),this.type=253,this.name="SWFEncryptActions"};(i["format.swf.tags.etc.TagSWFEncryptActions"]=os).__name__=["format","swf","tags","etc","TagSWFEncryptActions"],os.__interfaces__=[Ui],os.__super__=rs,os.prototype=n(rs.prototype,{__class__:os});var ls=function(t){null==t&&(t=0),rs.call(this),this.type=255,this.name="SWFEncryptSignature"};(i["format.swf.tags.etc.TagSWFEncryptSignature"]=ls).__name__=["format","swf","tags","etc","TagSWFEncryptSignature"],ls.__interfaces__=[Ui],ls.__super__=rs,ls.prototype=n(rs.prototype,{__class__:ls});var hs=function(t,e){null==e&&(e=0),null==t&&(t=0),this.tagIndexEnd=0,this.tagIndexStart=0,this.frameNumber=0,this.frameNumber=t,this.tagIndexStart=e,this.objects=new Gs,this.characters=[]};(i["format.swf.timeline.Frame"]=hs).__name__=["format","swf","timeline","Frame"],hs.prototype={getObjectsSortedByDepth:function(){var t=[];if(null==this._objectsSortedByDepth){for(var e=this.objects.keys();e.hasNext();){var i=e.next();t.push(i)}t.sort(of(this,this.sortNumeric)),this._objectsSortedByDepth=[];for(var n=0,s=t.length;n<s;){var r=n++;this._objectsSortedByDepth.push(this.objects.h[t[r]])}}return this._objectsSortedByDepth},sortNumeric:function(t,e){return t-e},get_tagCount:function(){return this.tagIndexEnd-this.tagIndexStart+1},placeObject:function(t,e){var i=this.objects.h[e.depth];if(null!=i)0==e.characterId?(i.lastModifiedAtIndex=t,i.isKeyframe=!1):((e.hasName||e.hasMatrix||e.hasColorTransform||e.hasFilterList)&&(i.lastModifiedAtIndex=t),i.isKeyframe=!0,e.characterId!=i.characterId&&(i.characterId=e.characterId,i.lastModifiedAtIndex=t));else{var n=this.objects,s=e.depth,r=new _s(e.depth,e.clipDepth,e.characterId,e.className,t,0,!0);n.h[s]=r}this._objectsSortedByDepth=null},removeObject:function(t){this.objects.remove(t.depth),this._objectsSortedByDepth=null},clone:function(){for(var t=new hs,e=this.objects.keys();e.hasNext();){var i=e.next(),n=t.objects,s=this.objects.h[i].clone();n.h[i]=s}return t},toString:function(t){null==t&&(t=0);var e=Ss.repeat(t)+"["+this.frameNumber+"] Start: "+this.tagIndexStart+", Length: "+this.get_tagCount();null!=this.label&&""!=this.label&&(e+=", Label: "+this.label),0<this.characters.length&&(e+="\n"+Ss.repeat(t+2)+"Defined CharacterIDs: "+this.characters.join(", "));for(var i=this.objects.keys();i.hasNext();){var n=i.next();e+=this.objects.h[n].toString()}return e},__class__:hs,__properties__:{get_tagCount:"get_tagCount"}};var _s=function(t,e,i,n,s,r,a){null==a&&(a=!1),null==r&&(r=0),this.layer=-1,this.depth=t,this.clipDepth=e,this.characterId=i,this.className=n,this.placedAtIndex=s,this.lastModifiedAtIndex=r,this.isKeyframe=a,this.layer=-1};(i["format.swf.timeline.FrameObject"]=_s).__name__=["format","swf","timeline","FrameObject"],_s.prototype={clone:function(){return new _s(this.depth,this.clipDepth,this.characterId,this.className,this.placedAtIndex,this.lastModifiedAtIndex,!1)},toString:function(){var t=Ss.repeat(2)+"Depth: "+this.depth+(-1<this.layer?" (Layer "+this.layer+")":"")+", CharacterId: "+this.characterId+", ";return null!=this.className&&(t+="ClassName: "+this.className+", "),t+="PlacedAt: "+this.placedAtIndex,0<this.lastModifiedAtIndex&&(t+=", LastModifiedAt: "+this.lastModifiedAtIndex),this.isKeyframe&&(t+=", IsKeyframe"),t},__class__:_s};var us=function(t,e){this.frameCount=0,this.depth=0,this.depth=t,this.frameCount=e,this.frameStripMap=[],this.strips=[]};(i["format.swf.timeline.Layer"]=us).__name__=["format","swf","timeline","Layer"],us.prototype={appendStrip:function(t,e,i){if(0!=t){var n=this.strips.length;if(0==n&&0<e){for(var s=0,r=e;s<r;){var a=s++;this.frameStripMap[a]=n}this.strips[n++]=new cs(1,0,e-1)}else if(0<n){var o=this.strips[n-1];if(o.endFrameIndex+1<e){for(var l=o.endFrameIndex+1,h=e;l<h;){var _=l++;this.frameStripMap[_]=n}this.strips[n++]=new cs(1,o.endFrameIndex+1,e-1)}}for(var u=e,c=i+1;u<c;){var f=u++;this.frameStripMap[f]=n}this.strips[n]=new cs(t,e,i)}},getStripsForFrameRegion:function(t,e){if(t>=this.frameStripMap.length||e<t)return[];var i=this.frameStripMap[t],n=e>=this.frameStripMap.length?this.strips.length-1:this.frameStripMap[e];return this.strips.slice(i,n+1)},toString:function(t){null==t&&(t=0);var e="Depth: "+this.depth+", Frames: "+this.frameCount;if(0<this.strips.length){e+="\n"+Ss.repeat(t+2)+"Strips:";for(var i=0,n=this.strips.length;i<n;){var s=i++,r=this.strips[s];e+="\n"+Ss.repeat(t+4)+"["+s+"] "+r.toString()}}return e},__class__:us};var cs=function(t,e,i){this.endFrameIndex=0,this.startFrameIndex=0,this.type=0,this.type=t,this.startFrameIndex=e,this.endFrameIndex=i};(i["format.swf.timeline.LayerStrip"]=cs).__name__=["format","swf","timeline","LayerStrip"],cs.prototype={toString:function(){var t;switch(t=this.startFrameIndex==this.endFrameIndex?"Frame: "+this.startFrameIndex:"Frames: "+this.startFrameIndex+"-"+this.endFrameIndex,t+=", Type: ",this.type){case 0:t+="EMPTY";break;case 1:t+="SPACER";break;case 2:t+="STATIC";break;case 3:t+="MOTIONTWEEN";break;case 4:t+="SHAPETWEEN";break;default:t+="unknown"}return t},__class__:cs};var fs=function(t,e){this.frameNumber=0,this.frameNumber=t,this.name=e};(i["format.swf.timeline.Scene"]=fs).__name__=["format","swf","timeline","Scene"],fs.prototype={toString:function(t){return null==t&&(t=0),Ss.repeat(t)+"Name: "+this.name+", Frame: "+this.frameNumber},__class__:fs};var ds=function(){var t=new vs(0);this.data=t};(i["format.swf.timeline.SoundStream"]=ds).__name__=["format","swf","timeline","SoundStream"],ds.prototype={toString:function(){return"[SoundStream] StartFrame: "+this.startFrame+", Frames: "+this.numFrames+", Samples: "+this.numSamples+", Bytes: "+Su.get_length(this.data)},__class__:ds};var ps=function(t){this.length=t.byteLength,this.b=new vf(t),(this.b.bufferValue=t).hxBytes=this,t.bytes=this.b};(i["haxe.io.Bytes"]=ps).__name__=["haxe","io","Bytes"],ps.alloc=function(t){return new ps(new pf(t))},ps.ofString=function(t){for(var e=[],i=0;i<t.length;){var n=t.charCodeAt(i++);55296<=n&&n<=56319&&(n=n-55232<<10|1023&t.charCodeAt(i++)),n<=127?e.push(n):(n<=2047?e.push(192|n>>6):(n<=65535?e.push(224|n>>12):(e.push(240|n>>18),e.push(128|n>>12&63)),e.push(128|n>>6&63)),e.push(128|63&n))}return new ps(new vf(e).buffer)},ps.ofData=function(t){var e=t.hxBytes;return null!=e?e:new ps(t)},ps.fastGet=function(t,e){return t.bytes[e]},ps.prototype={blit:function(t,e,i,n){if(t<0||i<0||n<0||t+n>this.length||i+n>e.length)throw new fr(Ks.OutsideBounds);0==i&&n==e.b.byteLength?this.b.set(e.b,t):this.b.set(e.b.subarray(i,i+n),t)},sub:function(t,e){if(t<0||e<0||t+e>this.length)throw new fr(Ks.OutsideBounds);return new ps(this.b.buffer.slice(t+this.b.byteOffset,t+this.b.byteOffset+e))},getDouble:function(t){return null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},getInt32:function(t){return null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getInt32(t,!0)},setInt32:function(t,e){null==this.data&&(this.data=new gf(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getInt64:function(t){return new Ds(this.getInt32(t+4),this.getInt32(t))},getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new fr(Ks.OutsideBounds);for(var i="",n=this.b,s=String.fromCharCode,r=t,a=t+e;r<a;){var o=n[r++];if(o<128){if(0==o)break;i+=s(o)}else if(o<224)i+=s((63&o)<<6|127&n[r++]);else if(o<240){i+=s((31&o)<<12|(127&n[r++])<<6|127&n[r++])}else{var l=(15&o)<<18|(127&n[r++])<<12|(127&n[r++])<<6|127&n[r++];i+=s(55232+(l>>10)),i+=s(1023&l|56320)}}return i},toString:function(){return this.getString(0,this.length)},__class__:ps};var gs=function(){};(i["openfl.utils.IDataOutput"]=gs).__name__=["openfl","utils","IDataOutput"],gs.prototype={__class__:gs,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var ms=function(){};(i["openfl.utils.IDataInput"]=ms).__name__=["openfl","utils","IDataInput"],ms.prototype={__class__:ms,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var vs=function(t){null==t&&(t=0);var e=new ps(new pf(t));ps.call(this,e.b.buffer),this.__length=t,this.__endian=0,this.position=0};(i["openfl.utils.ByteArrayData"]=vs).__name__=["openfl","utils","ByteArrayData"],vs.__interfaces__=[gs,ms],vs.fromBytes=function(t){var e=new vs;return e.__fromBytes(t),e},vs.__super__=ps,vs.prototype=n(ps.prototype,{clear:function(){this.__length=0,this.position=0},compress:function(t){this.__length=this.length,this.position=this.__length},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.b[this.position++];throw new fr(new Wh)},readByte:function(){var t=this.readUnsignedByte();return 0!=(128&t)?t-256:t},readBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0==i&&(i=this.__length-this.position),this.position+i>this.__length)throw new fr(new Wh);t.__length<e+i&&t.__resize(e+i),t.blit(e,this,this.position,i),this.position+=i},readDouble:function(){if(this.position+8>this.__length)throw new fr(new Wh);return this.position+=8,this.getDouble(this.position-8)},readFloat:function(){if(this.position+4>this.__length)throw new fr(new Wh);return this.position+=4,this.getFloat(this.position-4)},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readMultiByte:function(t,e){return this.readUTFBytes(t)},readShort:function(){var t,e=this.readUnsignedByte(),i=this.readUnsignedByte();return 0!=(32768&(t=1==this.__endian?i<<8|e:e<<8|i))?t-65536:t},readUnsignedByte:function(){if(this.position<this.__length)return this.b[this.position++];throw new fr(new Wh)},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.__length)throw new fr(new Wh);return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){this.__length=this.length,this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.b[this.position++]=255&t},writeBytes:function(t,e,i){null==i&&(i=0),null==e&&(e=0),0!=Su.get_length(t)&&(0==i&&(i=Su.get_length(t)-e),this.__resize(this.position+i),this.blit(this.position,t,e,i),this.position=this.position+i)},writeDouble:function(t){this.__resize(this.position+8),this.setDouble(this.position,t),this.position+=8},writeFloat:function(t){this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>24&255):(this.b[this.position++]=t>>24&255,this.b[this.position++]=t>>16&255,this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.b[this.position++]=255&t,this.b[this.position++]=t>>8&255):(this.b[this.position++]=t>>8&255,this.b[this.position++]=255&t)},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){var e=ps.ofString(t);this.writeShort(e.length),this.writeBytes(Su.fromBytes(e))},writeUTFBytes:function(t){var e=ps.ofString(t);this.writeBytes(Su.fromBytes(e))},__fromBytes:function(t){this.b=t.b,this.length=t.length,this.data=t.data,this.__length=t.length},__resize:function(t){if(t>this.length){var e=new ps(new pf(3*(t+1)>>1));e.blit(0,this,0,this.length),this.b=e.b,this.length=e.length,this.data=e.data}this.__length<t&&(this.__length=t)},__setData:function(t){this.b=t.b,this.length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.__length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:vs,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var bs=function(t){this.bitsPending=0,vs.call(this,t)};(i["format.swf.utils.BitArray"]=bs).__name__=["format","swf","utils","BitArray"],bs.__super__=vs,bs.prototype=n(vs.prototype,{readBits:function(t,e){if(null==e&&(e=0),0==t)return e;var i,n;if(0<this.bitsPending){var s=this.b[this.position-1]&255>>8-this.bitsPending;n=0|Math.min(this.bitsPending,t),this.bitsPending-=n,i=s>>this.bitsPending}else n=0|Math.min(8,t),this.bitsPending=8-n,i=this.readUnsignedByte()>>this.bitsPending;return e=e<<n|i,0<(t-=n)?this.readBits(t,e):e},writeBits:function(t,e){var i;0!=t&&(e&=-1>>>32-t,0<this.bitsPending?this.bitsPending>t?(this.b[this.position-1]=255&(this.b[this.position-1]|e<<this.bitsPending-t),i=t,this.bitsPending-=t):(i=this.bitsPending==t?(this.b[this.position-1]=255&(this.b[this.position-1]|e),t):(this.b[this.position-1]=255&(this.b[this.position-1]|e>>t-this.bitsPending),this.bitsPending),this.bitsPending=0):(i=0|Math.min(8,t),this.bitsPending=8-i,this.writeByte(e>>t-i<<this.bitsPending)),0<(t-=i)&&this.writeBits(t,e))},resetBitsPending:function(){this.bitsPending=0},calculateMaxBits:function(t,e){var i=0,n=0|ut.MIN_FLOAT_VALUE;if(t)for(var s=0;s<e.length;){var r=e[s];++s,i|=0<=r?r:~r<<1,n<r&&(n=r)}else for(var a=0;a<e.length;){var o=e[a];++a,i|=o}var l=0;return 0<i&&(l=Ns.encode(null==i?"null":""+i,"01").length,t&&0<n&&Ns.encode(null==n?"null":""+n,"01").length>=l&&++l),l},__class__:bs});var ys=function(){};(i["format.swf.utils.ColorUtils"]=ys).__name__=["format","swf","utils","ColorUtils"],ys.alpha=function(t){return(t>>>24)/255},ys.rgb=function(t){return 16777215&t},ys.r=function(t){return(ys.rgb(t)>>16&255)/255},ys.g=function(t){return(ys.rgb(t)>>8&255)/255},ys.b=function(t){return(255&ys.rgb(t))/255},ys.interpolate=function(t,e,i){var n=ys.r(t),s=ys.g(t),r=ys.b(t),a=ys.alpha(t),o=255*(n+(ys.r(e)-n)*i)|0,l=255*(s+(ys.g(e)-s)*i)|0;return 255*(r+(ys.b(e)-r)*i)|0|l<<8|o<<16|(255*(a+(ys.alpha(e)-a)*i)|0)<<24},ys.rgbToString=function(t){return Ss.printf("#%06x",[16777215&t])},ys.rgbaToString=function(t){return Ss.printf("#%06x(%02x)",[16777215&t,t>>>24])},ys.argbToString=function(t){return Ss.printf("#(%02x)%06x",[t>>>24,16777215&t])};var ws=function(){};(i["format.swf.utils.HalfPrecisionWriter"]=ws).__name__=["format","swf","utils","HalfPrecisionWriter"],ws.write=function(t,e){var i,n,s,r,a,o;e.resetBitsPending();var l=0,h=e.position;e.writeDouble(t),e.position-=4,i=e.readUnsignedInt(),e.position=h,l=0==(2147483647&i)?i>>16:(n=-2147483648&i,r=1048575&i,0==(s=2146435072&i)?n>>16:2146435072==s?0==r?n>>16|31744:65024:(n>>=16,31<=(o=(s>>20)-1023+15)?r>>16|31744:o<=0?(21<10-o?a=0:(a=(r|=1048576)>>11-o,0<(r>>10-o&1)&&++a),n|a):(s=o<<10,a=r>>10,0<(512&r)?1+(n|s|a):n|s|a))),e.writeShort(l)};var xs=function(){};(i["format.swf.utils.MatrixUtils"]=xs).__name__=["format","swf","utils","MatrixUtils"],xs.interpolate=function(t,e,i){var n=new Mt;return n.scaleX=t.scaleX+(e.scaleX-t.scaleX)*i,n.scaleY=t.scaleY+(e.scaleY-t.scaleY)*i,n.rotateSkew0=t.rotateSkew0+(e.rotateSkew0-t.rotateSkew0)*i,n.rotateSkew1=t.rotateSkew1+(e.rotateSkew1-t.rotateSkew1)*i,n.translateX=t.translateX+(e.translateX-t.translateX)*i|0,n.translateY=t.translateY+(e.translateY-t.translateY)*i|0,n};var Ts=function(){};(i["format.swf.utils.NumberUtils"]=Ts).__name__=["format","swf","utils","NumberUtils"],Ts.roundPixels20=function(t){return Math.round(100*t)/100},Ts.roundPixels400=function(t){return Math.round(1e4*t)/1e4};var Ss=function(){};(i["format.swf.utils.StringUtils"]=Ss).__name__=["format","swf","utils","StringUtils"],Ss.trim=function(t){return Ss.ltrim(Ss.rtrim(t))},Ss.ltrim=function(t){if(null!=t)for(var e=0,i=t.length;e<i;){var n=e++;if(32<$.cca(t,n))return t.substring(n)}return""},Ss.rtrim=function(t){if(null!=t)for(var e=t.length;0<e;){if(32<$.cca(t,e-1))return t.substring(0,e);--e}return""},Ss.simpleEscape=function(t){return t=(t=(t=t.split("\n").join("\\n")).split("\r").join("\\r")).split("\t").join("\\t")},Ss.strictEscape=function(t,e){if(null==e&&(e=!0),null!=t&&0<t.length){e&&(t=Ss.trim(t));for(var i=(t=encodeURIComponent(t)).split(""),n=0,s=i.length;n<s;){var r=n++;switch(i[r]){case"!":i[r]="%21";break;case"'":i[r]="%27";break;case"(":i[r]="%28";break;case")":i[r]="%29";break;case"*":i[r]="%2A";break;case"-":i[r]="%2D";break;case".":i[r]="%2E";break;case"_":i[r]="%5F";break;case"~":i[r]="%7E"}}return i.join("")}return""},Ss.repeat=function(t,e){null==e&&(e=" ");for(var i="",n=0,s=t;n<s;){n++;i+=e}return i},Ss.printf=function(t,e){var i="",n=0,s=-1,r=0;try{for(;r<t.length;){var a=t.charAt(r);if("%"==a)if(++r<t.length)if("%"==(a=t.charAt(r)))i+=a;else{var o,l=!1,h=!1,_=!1,u=!1,c=-1,f=-1,d="",p=Ss.getIndex(t);if(p<-1||0==p)throw Rs.trace("ERR parsing index",{fileName:"StringUtils.hx",lineNumber:116,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw Rs.trace("ERR: indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:119,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),++n}else{if(0==s)throw Rs.trace("ERR: non-indexed placeholder expected",{fileName:"StringUtils.hx",lineNumber:123,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),n=p}for(a=t.charAt(r);"+"==a||"-"==a||"#"==a||" "==a||"0"==a;){switch(a){case" ":_=!0;break;case"+":l=!0;break;case"-":h=!0;break;case"0":u=!0}if(++r==t.length)break;a=t.charAt(r)}if(r==t.length)throw"__break__";if("*"==a){var g=0;if(++r==t.length)throw"__break__";if((p=Ss.getIndex(t))<-1||0==p)throw Rs.trace("ERR parsing index for width",{fileName:"StringUtils.hx",lineNumber:152,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw Rs.trace("ERR: indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:155,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),g=n++}else{if(0==s)throw Rs.trace("ERR: non-indexed placeholder expected for width",{fileName:"StringUtils.hx",lineNumber:159,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),g=p}if(--g,!(e.length>g&&0<=g))throw Rs.trace("ERR index out of bounds while parsing width",{fileName:"StringUtils.hx",lineNumber:172,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(c=0|e[g],isNaN(c))throw c=-1,Rs.trace("ERR NaN while parsing width",{fileName:"StringUtils.hx",lineNumber:168,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else{for(;"0"<=a&&a<="9"&&(-1==c&&(c=0),c=10*c+Q.parseInt(a),++r!=t.length);)a=t.charAt(r);if(-1!=c&&r==t.length)throw Rs.trace("ERR eof while parsing width",{fileName:"StringUtils.hx",lineNumber:184,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}if("."==a){if(++r==t.length)throw"__break__";if("*"==(a=t.charAt(r))){var m=0;if(++r==t.length)throw"__break__";if((p=Ss.getIndex(t))<-1||0==p)throw Rs.trace("ERR parsing index for precision",{fileName:"StringUtils.hx",lineNumber:200,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(-1==p){if(1==s)throw Rs.trace("ERR: indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:203,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=0),m=n++}else{if(0==s)throw Rs.trace("ERR: non-indexed placeholder expected for precision",{fileName:"StringUtils.hx",lineNumber:207,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";-1==s&&(s=1),m=p}if(--m,!(e.length>m&&0<=m))throw Rs.trace("ERR index out of bounds while parsing precision",{fileName:"StringUtils.hx",lineNumber:220,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(f=0|e[m],isNaN(f))throw f=-1,Rs.trace("ERR NaN while parsing precision",{fileName:"StringUtils.hx",lineNumber:216,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else{for(;"0"<=a&&a<="9"&&(-1==f&&(f=0),f=10*f+Q.parseInt(a),++r!=t.length);)a=t.charAt(r);if(-1!=f&&r==t.length)throw Rs.trace("ERR eof while parsing precision",{fileName:"StringUtils.hx",lineNumber:232,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__"}}switch(a){case"h":case"l":if(++r==t.length)throw Rs.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:243,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";var v=t.charAt(r);if("h"==a&&"h"==v||"l"==a&&"l"==v){if(++r==t.length)throw Rs.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:246,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}else a=v;break;case"L":case"j":case"t":case"z":if(++r==t.length)throw Rs.trace("ERR eof after length",{fileName:"StringUtils.hx",lineNumber:252,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";a=t.charAt(r)}if(!(0<="diufFeEgGxXoscpn".indexOf(a)))throw Rs.trace("ERR unknown type: "+a,{fileName:"StringUtils.hx",lineNumber:262,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";if(d=a,!(e.length>=n&&0<n))throw Rs.trace("ERR value index out of bounds ("+n+")",{fileName:"StringUtils.hx",lineNumber:269,className:"format.swf.utils.StringUtils",methodName:"printf"}),"__break__";o=e[n-1];var b,y,w="",x=0;switch(d){case"E":case"F":case"G":case"e":case"f":case"g":-1==f&&(f=6);var T=Math.pow(10,f);if(b="number"==typeof o?o:parseFloat(Q.string(o)),w=Q.string(Math.round(Math.abs(b)*T)/T),0<f){var S,E=w.indexOf(".");S=-1==E?(w+=".",f):f-(w.length-E-1),w+=Ss.repeat(S,"0")}x=b<0?1:-1;break;case"c":w=Q.string(o).charAt(0);break;case"d":case"i":y="number"==typeof o?o:Q.parseInt(Q.string(o)),w=Q.string(Math.abs(y)),x=y<0?1:-1;break;case"o":w=Ns.encode(Q.string(0|o),"01234567");break;case"s":w=Q.string(o),-1!=f&&(w=$.substr(w,0,f));break;case"u":w=Q.string("number"==typeof o?o:Q.parseInt(Q.string(o)));break;case"X":case"p":case"x":w=Cs.hex("number"==typeof o?0|o:Q.parseInt(o)),"X"==d&&(w=w.toUpperCase())}var I=1==x||l||_;if(-1<c){var C=c-w.length;if(I&&--C,0<C){var P=u&&!h?"0":" ";h||(P+=w),w+=Ss.repeat(C,P)}}I&&(w=-1==x?(_?" ":"0")+w:"-"+w),i+=w}else i+=a;else i+=a;++r}}catch(t){if("__break__"!=t)throw t}return i},Ss.getIndex=function(t){for(var e=0,i=!1,n="",s=Ss.i;;){if(!("0"<=(n=t.charAt(Ss.i))&&n<="9"))break;if(i=!0,e=10*e+Q.parseInt(n),++Ss.i==t.length)return-2}return i?"$"!=n?(Ss.i=s,-1):++Ss.i==t.length?-2:e:-1};var Es=i["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};Es.CFunction=["CFunction",0],Es.CFunction.toString=f,(Es.CFunction.__enum__=Es).Module=function(t){var e=["Module",1,t];return e.__enum__=Es,e.toString=f,e},Es.FilePos=function(t,e,i){var n=["FilePos",2,t,e,i];return n.__enum__=Es,n.toString=f,n},Es.Method=function(t,e){var i=["Method",3,t,e];return i.__enum__=Es,i.toString=f,i},Es.LocalFunction=function(t){var e=["LocalFunction",4,t];return e.__enum__=Es,e.toString=f,e};var Is=function(){};(i["haxe.CallStack"]=Is).__name__=["haxe","CallStack"],Is.lastException=null,Is.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var i=[],n=0;n<e.length;){var s=e[n];++n,null!=Is.wrapCallSite&&(s=Is.wrapCallSite(s));var r=null,a=s.getFunctionName();if(null!=a){var o=a.lastIndexOf(".");if(0<=o){var l=$.substr(a,0,o),h=$.substr(a,o+1,null);r=Es.Method(l,h)}}i.push(Es.FilePos(r,s.getFileName(),s.getLineNumber()))}return i};var i=Is.makeStack(t.stack);return Error.prepareStackTrace=e,i},Is.wrapCallSite=null,Is.callStack=function(){try{throw new Error}catch(t){(Is.lastException=t)instanceof fr&&(t=t.val);var e=Is.getStack(t);return e.shift(),e}},Is.exceptionStack=function(){return Is.getStack(Is.lastException)},Is.toString=function(t){for(var e=new it,i=0;i<t.length;){var n=t[i];++i,e.b+="\nCalled from ",Is.itemToString(e,n)}return e.b},Is.itemToString=function(t,e){switch(e[1]){case 0:t.b+="a C function";break;case 1:var i=e[2];t.b+="module ",t.b+=null==i?"null":""+i;break;case 2:var n=e[4],s=e[3],r=e[2];null!=r&&(Is.itemToString(t,r),t.b+=" ("),t.b+=null==s?"null":""+s,t.b+=" line ",t.b+=null==n?"null":""+n,null!=r&&(t.b+=")");break;case 3:var a=e[3],o=e[2];t.b+=null==o?"null":""+o,t.b+=".",t.b+=null==a?"null":""+a;break;case 4:var l=e[2];t.b+="local function #",t.b+=null==l?"null":""+l}},Is.makeStack=function(t){if(null==t)return[];if("string"!=typeof t)return t;var e=t.split("\n");"Error"==e[0]&&e.shift();for(var i=[],n=new G("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),s=0;s<e.length;){var r=e[s];if(++s,n.match(r)){var a=n.matched(1).split("."),o=a.pop(),l=n.matched(2),h=Q.parseInt(n.matched(3));i.push(Es.FilePos("Anonymous function"==o?Es.LocalFunction():"Global code"==o?null:Es.Method(a.join("."),o),l,h))}else i.push(Es.Module(Cs.trim(r)))}return i};var As=function(){};(i["haxe.IMap"]=As).__name__=["haxe","IMap"],As.prototype={__class__:As};var Ds=function(t,e){this.high=t,this.low=e};(i["haxe._Int64.___Int64"]=Ds).__name__=["haxe","_Int64","___Int64"],Ds.prototype={__class__:Ds};var Rs=function(){};(i["haxe.Log"]=Rs).__name__=["haxe","Log"],Rs.trace=function(t,e){dr.__trace(t,e)};var Ms=function(){this.buf=new it,this.cache=[],this.useCache=Ms.USE_CACHE,this.useEnumIndex=Ms.USE_ENUM_INDEX,this.shash=new zs,this.scount=0};(i["haxe.Serializer"]=Ms).__name__=["haxe","Serializer"],Ms.run=function(t){var e=new Ms;return e.serialize(t),e.toString()},Ms.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash,i=null!=df[t]?e.getReserved(t):e.h[t];if(null!=i)return this.buf.b+="R",void(this.buf.b+=null==i?"null":""+i);var n=this.shash,s=this.scount++;null!=df[t]?n.setReserved(t,s):n.h[t]=s,this.buf.b+="y",t=encodeURIComponent(t),this.buf.b+=Q.string(t.length),this.buf.b+=":",this.buf.b+=null==t?"null":""+t},serializeRef:function(t){for(var e=typeof t,i=0,n=this.cache.length;i<n;){var s=i++,r=this.cache[s];if(typeof r==e&&r==t)return this.buf.b+="r",this.buf.b+=null==s?"null":""+s,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=Dt.fields(t);e<i.length;){var n=i[e];++e,this.serializeString(n),this.serialize(Dt.field(t,n))}this.buf.b+="g"},serialize:function(t){var e=Pi.typeof(t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var i=t;if(0==i)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==i?"null":""+i;break;case 2:var n=t;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=t?"t":"f";break;case 4:if(dr.__instanceof(t,cf)){var s=Pi.getClassName(t);this.buf.b+="A",this.serializeString(s)}else if(dr.__instanceof(t,ff))this.buf.b+="B",this.serializeString(Pi.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 5:throw new fr("Cannot serialize function");case 6:var r=e[2];if(r==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(r){case Array:var a=0;this.buf.b+="a";for(var o=0,l=t.length;o<l;){var h=o++;null==t[h]?++a:(0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a),a=0),this.serialize(t[h]))}0<a&&(1==a?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==a?"null":""+a)),this.buf.b+="h";break;case Date:var _=t;this.buf.b+="v",this.buf.b+=Q.string(_.getTime());break;case et:this.buf.b+="l";for(var u=t.h;null!=u;){var c=u.item;u=u.next;var f=c;this.serialize(f)}this.buf.b+="h";break;case Gs:this.buf.b+="q";for(var d=t,p=d.keys();p.hasNext();){var g=p.next();this.buf.b+=":",this.buf.b+=null==g?"null":""+g,this.serialize(d.h[g])}this.buf.b+="h";break;case Xs:this.buf.b+="M";for(var m=t,v=m.keys();v.hasNext();){var b=v.next(),y=Dt.field(b,"__id__");Dt.deleteField(b,"__id__"),this.serialize(b),b.__id__=y,this.serialize(m.h[b.__id__])}this.buf.b+="h";break;case zs:this.buf.b+="b";for(var w=t,x=w.keys();x.hasNext();){var T=x.next();this.serializeString(T),this.serialize(null!=df[T]?w.getReserved(T):w.h[T])}this.buf.b+="h";break;case ps:var S=t;this.buf.b+="s",this.buf.b+=Q.string(Math.ceil(8*S.length/6)),this.buf.b+=":";var E=0,I=S.length-2,C=Ms.BASE64_CODES;if(null==C){var P=Ms.BASE64.length;C=new Array(P);for(var A=0,D=Ms.BASE64.length;A<D;){var R=A++;C[R]=$.cca(Ms.BASE64,R)}Ms.BASE64_CODES=C}for(;E<I;){var M=S.b[E++],F=S.b[E++],B=S.b[E++];this.buf.b+=String.fromCharCode(C[M>>2]),this.buf.b+=String.fromCharCode(C[63&(M<<4|F>>4)]),this.buf.b+=String.fromCharCode(C[63&(F<<2|B>>6)]),this.buf.b+=String.fromCharCode(C[63&B])}if(E==I){var L=S.b[E++],k=S.b[E++];this.buf.b+=String.fromCharCode(C[L>>2]),this.buf.b+=String.fromCharCode(C[63&(L<<4|k>>4)]),this.buf.b+=String.fromCharCode(C[k<<2&63])}else if(E==I+1){var N=S.b[E++];this.buf.b+=String.fromCharCode(C[N>>2]),this.buf.b+=String.fromCharCode(C[N<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(Pi.getClassName(r)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Pi.getClassName(r)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 7:var O=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.buf.b+=Q.string(this.useEnumIndex?"j":"w"),this.serializeString(Pi.getEnumName(O)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=Q.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var U=t.length;this.buf.b+=Q.string(U-2);for(var G=2,X=U;G<X;){var V=G++;this.serialize(t[V])}this.useCache&&this.cache.push(t);break;default:throw new fr("Cannot serialize "+Q.string(t))}},__class__:Ms};var Fs=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};(i["haxe.Timer"]=Fs).__name__=["haxe","Timer"],Fs.delay=function(t,e){var i=new Fs(e);return i.run=function(){i.stop(),t()},i},Fs.measure=function(t,e){var i=Date.now()/1e3,n=t();return Rs.trace(Date.now()/1e3-i+"s",e),n},Fs.stamp=function(){return Date.now()/1e3},Fs.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Fs};var Bs=function(){};(i["haxe._Unserializer.DefaultResolver"]=Bs).__name__=["haxe","_Unserializer","DefaultResolver"],Bs.prototype={resolveClass:function(t){return Pi.resolveClass(t)},resolveEnum:function(t){return Pi.resolveEnum(t)},__class__:Bs};var Ls=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=Ls.DEFAULT_RESOLVER;null==e&&(e=new Bs,Ls.DEFAULT_RESOLVER=e),this.resolver=e};(i["haxe.Unserializer"]=Ls).__name__=["haxe","Unserializer"],Ls.initCodes=function(){for(var t=[],e=0,i=Ls.BASE64.length;e<i;){var n=e++;t[Ls.BASE64.charCodeAt(n)]=n}return t},Ls.prototype={setResolver:function(t){this.resolver=null==t?(null==ks.instance&&(ks.instance=new ks),ks.instance):t},readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(45!=n){if(n<48||57<n)break;t=10*t+(n-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(!(43<=e&&e<58||101==e||69==e))break;this.pos++}return parseFloat($.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new fr("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new fr("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.buf.charCodeAt(this.pos++))throw new fr("Invalid enum format");var i=this.readDigits();if(0==i)return Pi.createEnum(t,e);for(var n=[];0<i--;)n.push(this.unserialize());return Pi.createEnum(t,e,n)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var t=this.unserialize(),e=this.resolver.resolveClass(t);if(null==e)throw new fr("Class not found "+t);return e;case 66:var i=this.unserialize(),n=this.resolver.resolveEnum(i);if(null==n)throw new fr("Enum not found "+i);return n;case 67:var s=this.unserialize(),r=this.resolver.resolveClass(s);if(null==r)throw new fr("Class not found "+s);var a=Pi.createEmptyInstance(r);if(this.cache.push(a),a.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw new fr("Invalid custom data");return a;case 77:var o=new Xs;this.cache.push(o);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();o.set(l,this.unserialize())}return this.pos++,o;case 82:var h=this.readDigits();if(h<0||h>=this.scache.length)throw new fr("Invalid string reference");return this.scache[h];case 97:this.buf;var _=[];for(this.cache.push(_);;){var u=this.buf.charCodeAt(this.pos);if(104==u){this.pos++;break}if(117==u){this.pos++;var c=this.readDigits();_[_.length+c-1]=null}else _.push(this.unserialize())}return _;case 98:var f=new zs;this.cache.push(f);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var d=this.unserialize(),p=this.unserialize();null!=df[d]?f.setReserved(d,p):f.h[d]=p}return this.pos++,f;case 99:var g=this.unserialize(),m=this.resolver.resolveClass(g);if(null==m)throw new fr("Class not found "+g);var v=Pi.createEmptyInstance(m);return this.cache.push(v),this.unserializeObject(v),v;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var b=this.unserialize(),y=this.resolver.resolveEnum(b);if(null==y)throw new fr("Enum not found "+b);this.pos++;var w=this.readDigits(),x=y.__constructs__.slice()[w];if(null==x)throw new fr("Unknown enum index "+b+"@"+w);var T=this.unserializeEnum(y,x);return this.cache.push(T),T;case 107:return NaN;case 108:var S=new et;this.cache.push(S);for(this.buf;104!=this.buf.charCodeAt(this.pos);)S.add(this.unserialize());return this.pos++,S;case 109:return-1/0;case 110:return null;case 111:var E={};return this.cache.push(E),this.unserializeObject(E),E;case 112:return 1/0;case 113:var I=new Gs;this.cache.push(I);this.buf;for(var C=this.buf.charCodeAt(this.pos++);58==C;){var P=this.readDigits(),A=this.unserialize();I.h[P]=A,C=this.buf.charCodeAt(this.pos++)}if(104!=C)throw new fr("Invalid IntMap format");return I;case 114:var D=this.readDigits();if(D<0||D>=this.cache.length)throw new fr("Invalid reference");return this.cache[D];case 115:var R=this.readDigits(),M=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<R)throw new fr("Invalid bytes length");var F=Ls.CODES;null==F&&(F=Ls.initCodes(),Ls.CODES=F);for(var B=this.pos,L=3&R,k=B+(R-L),N=new ps(new pf(3*(R>>2)+(2<=L?L-1:0))),O=0;B<k;){var U=F[M.charCodeAt(B++)],G=F[M.charCodeAt(B++)];N.b[O++]=255&(U<<2|G>>4);var X=F[M.charCodeAt(B++)];N.b[O++]=255&(G<<4|X>>2);var V=F[M.charCodeAt(B++)];N.b[O++]=255&(X<<6|V)}if(2<=L){var z=F[M.charCodeAt(B++)],H=F[M.charCodeAt(B++)];if(N.b[O++]=255&(z<<2|H>>4),3==L){var W=F[M.charCodeAt(B++)];N.b[O++]=255&(H<<4|W>>2)}}return this.pos+=R,this.cache.push(N),N;case 116:return!0;case 118:var Y;if(48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4))Y=$.strDate($.substr(this.buf,this.pos,19)),this.pos+=19;else{var K=this.readFloat();Y=new Date(K)}return this.cache.push(Y),Y;case 119:var j=this.unserialize(),q=this.resolver.resolveEnum(j);if(null==q)throw new fr("Enum not found "+j);var J=this.unserializeEnum(q,this.unserialize());return this.cache.push(J),J;case 120:throw fr.wrap(this.unserialize());case 121:var Z=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<Z)throw new fr("Invalid string length");var Q=$.substr(this.buf,this.pos,Z);return this.pos+=Z,Q=decodeURIComponent(Q.split("+").join(" ")),this.scache.push(Q),Q;case 122:return 0}throw this.pos--,new fr("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Ls};var ks=function(){};(i["haxe._Unserializer.NullResolver"]=ks).__name__=["haxe","_Unserializer","NullResolver"],ks.instance=null,ks.prototype={resolveClass:function(t){return null},resolveEnum:function(t){return null},__class__:ks};var Ns=function(t){for(var e=t.length,i=1;1<<i<e;)++i;if(8<i||e!=1<<i)throw new fr("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};(i["haxe.crypto.BaseCode"]=Ns).__name__=["haxe","crypto","BaseCode"],Ns.encode=function(t,e){return new Ns(ps.ofString(e)).encodeString(t)},Ns.prototype={encodeBytes:function(t){for(var e=this.nbits,i=this.base,n=8*t.length/e|0,s=new ps(new pf(n+(8*t.length%e==0?0:1))),r=0,a=0,o=(1<<e)-1,l=0,h=0;h<n;){for(;a<e;)a+=8,r<<=8,r|=t.b[l++];a-=e,s.b[h++]=255&i.b[r>>a&o]}return 0<a&&(s.b[h++]=255&i.b[r<<e-a&o]),s},encodeString:function(t){return this.encodeBytes(ps.ofString(t)).toString()},__class__:Ns};var Os=function(){};(i["haxe.crypto.Crc32"]=Os).__name__=["haxe","crypto","Crc32"],Os.make=function(t){for(var e=-1,i=t.b.bufferValue,n=0,s=t.length;n<s;){for(var r=n++,a=255&(e^i.bytes[r]),o=0;o<8;){o++;1==(1&a)?a=a>>>1^-306674912:a>>>=1}e=e>>>8^a}return-1^e};var Us=function(){};(i["haxe.crypto.Md5"]=Us).__name__=["haxe","crypto","Md5"],Us.encode=function(t){var e=new Us,i=e.doEncode(Us.str2blks(t));return e.hex(i)},Us.str2blks=function(t){for(var e=ps.ofString(t),i=1+(e.length+8>>6),n=[],s=0,r=16*i;s<r;){n[s++]=0}for(var a=0,o=e.length,l=8*o;a<o;)n[a>>2]|=e.b[a]<<(l+a)%4*8,++a;n[a>>2]|=128<<(l+a)%4*8;var h=16*i-2;return n[h]=255&l,n[h]|=(l>>>8&255)<<8,n[h]|=(l>>>16&255)<<16,n[h]|=(l>>>24&255)<<24,n},Us.prototype={bitOR:function(t,e){return(t>>>1|e>>>1)<<1|(1&t|1&e)},bitXOR:function(t,e){return(t>>>1^e>>>1)<<1|1&t^1&e},bitAND:function(t,e){return(t>>>1&e>>>1)<<1|1&t&e},addme:function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},hex:function(t){for(var e="",i="0123456789abcdef",n=0;n<t.length;){var s=t[n];++n;for(var r=0;r<4;){var a=r++;e+=i.charAt(s>>8*a+4&15)+i.charAt(s>>8*a&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,n,s,r){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(n,r)),s),i)},ff:function(t,e,i,n,s,r,a){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(~e,n)),t,e,s,r,a)},gg:function(t,e,i,n,s,r,a){return this.cmn(this.bitOR(this.bitAND(e,n),this.bitAND(i,~n)),t,e,s,r,a)},hh:function(t,e,i,n,s,r,a){return this.cmn(this.bitXOR(this.bitXOR(e,i),n),t,e,s,r,a)},ii:function(t,e,i,n,s,r,a){return this.cmn(this.bitXOR(i,this.bitOR(e,~n)),t,e,s,r,a)},doEncode:function(t){for(var e=1732584193,i=-271733879,n=-1732584194,s=271733878,r=0;r<t.length;){var a=e,o=i,l=n,h=s;0,e=this.ff(e,i,n,s,t[r],7,-680876936),s=this.ff(s,e,i,n,t[r+1],12,-389564586),n=this.ff(n,s,e,i,t[r+2],17,606105819),i=this.ff(i,n,s,e,t[r+3],22,-1044525330),e=this.ff(e,i,n,s,t[r+4],7,-176418897),s=this.ff(s,e,i,n,t[r+5],12,1200080426),n=this.ff(n,s,e,i,t[r+6],17,-1473231341),i=this.ff(i,n,s,e,t[r+7],22,-45705983),e=this.ff(e,i,n,s,t[r+8],7,1770035416),s=this.ff(s,e,i,n,t[r+9],12,-1958414417),n=this.ff(n,s,e,i,t[r+10],17,-42063),i=this.ff(i,n,s,e,t[r+11],22,-1990404162),e=this.ff(e,i,n,s,t[r+12],7,1804603682),s=this.ff(s,e,i,n,t[r+13],12,-40341101),n=this.ff(n,s,e,i,t[r+14],17,-1502002290),i=this.ff(i,n,s,e,t[r+15],22,1236535329),e=this.gg(e,i,n,s,t[r+1],5,-165796510),s=this.gg(s,e,i,n,t[r+6],9,-1069501632),n=this.gg(n,s,e,i,t[r+11],14,643717713),i=this.gg(i,n,s,e,t[r],20,-373897302),e=this.gg(e,i,n,s,t[r+5],5,-701558691),s=this.gg(s,e,i,n,t[r+10],9,38016083),n=this.gg(n,s,e,i,t[r+15],14,-660478335),i=this.gg(i,n,s,e,t[r+4],20,-405537848),e=this.gg(e,i,n,s,t[r+9],5,568446438),s=this.gg(s,e,i,n,t[r+14],9,-1019803690),n=this.gg(n,s,e,i,t[r+3],14,-187363961),i=this.gg(i,n,s,e,t[r+8],20,1163531501),e=this.gg(e,i,n,s,t[r+13],5,-1444681467),s=this.gg(s,e,i,n,t[r+2],9,-51403784),n=this.gg(n,s,e,i,t[r+7],14,1735328473),i=this.gg(i,n,s,e,t[r+12],20,-1926607734),e=this.hh(e,i,n,s,t[r+5],4,-378558),s=this.hh(s,e,i,n,t[r+8],11,-2022574463),n=this.hh(n,s,e,i,t[r+11],16,1839030562),i=this.hh(i,n,s,e,t[r+14],23,-35309556),e=this.hh(e,i,n,s,t[r+1],4,-1530992060),s=this.hh(s,e,i,n,t[r+4],11,1272893353),n=this.hh(n,s,e,i,t[r+7],16,-155497632),i=this.hh(i,n,s,e,t[r+10],23,-1094730640),e=this.hh(e,i,n,s,t[r+13],4,681279174),s=this.hh(s,e,i,n,t[r],11,-358537222),n=this.hh(n,s,e,i,t[r+3],16,-722521979),i=this.hh(i,n,s,e,t[r+6],23,76029189),e=this.hh(e,i,n,s,t[r+9],4,-640364487),s=this.hh(s,e,i,n,t[r+12],11,-421815835),n=this.hh(n,s,e,i,t[r+15],16,530742520),i=this.hh(i,n,s,e,t[r+2],23,-995338651),e=this.ii(e,i,n,s,t[r],6,-198630844),s=this.ii(s,e,i,n,t[r+7],10,1126891415),n=this.ii(n,s,e,i,t[r+14],15,-1416354905),i=this.ii(i,n,s,e,t[r+5],21,-57434055),e=this.ii(e,i,n,s,t[r+12],6,1700485571),s=this.ii(s,e,i,n,t[r+3],10,-1894986606),n=this.ii(n,s,e,i,t[r+10],15,-1051523),i=this.ii(i,n,s,e,t[r+1],21,-2054922799),e=this.ii(e,i,n,s,t[r+8],6,1873313359),s=this.ii(s,e,i,n,t[r+15],10,-30611744),n=this.ii(n,s,e,i,t[r+6],15,-1560198380),i=this.ii(i,n,s,e,t[r+13],21,1309151649),e=this.ii(e,i,n,s,t[r+4],6,-145523070),s=this.ii(s,e,i,n,t[r+11],10,-1120210379),n=this.ii(n,s,e,i,t[r+2],15,718787259),i=this.ii(i,n,s,e,t[r+9],21,-343485551),e=this.addme(e,a),i=this.addme(i,o),n=this.addme(n,l),s=this.addme(s,h),r+=16}return[e,i,n,s]},__class__:Us};var Gs=function(){this.h={}};(i["haxe.ds.IntMap"]=Gs).__name__=["haxe","ds","IntMap"],Gs.__interfaces__=[As],Gs.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return $.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t]}}},__class__:Gs};var Xs=function(){this.h={__keys__:{}}};(i["haxe.ds.ObjectMap"]=Xs).__name__=["haxe","ds","ObjectMap"],Xs.__interfaces__=[As],Xs.assignId=function(t){return t.__id__=++Xs.count},Xs.getId=function(t){return t.__id__},Xs.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++Xs.count);this.h[i]=e,this.h.__keys__[i]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return $.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},__class__:Xs};var Vs=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};(i["haxe.ds._StringMap.StringMapIterator"]=Vs).__name__=["haxe","ds","_StringMap","StringMapIterator"],Vs.prototype={hasNext:function(){return this.index<this.count},next:function(){var t=this.map,e=this.keys[this.index++];return null!=df[e]?t.getReserved(e):t.h[e]},__class__:Vs};var zs=function(){this.h={}};(i["haxe.ds.StringMap"]=zs).__name__=["haxe","ds","StringMap"],zs.__interfaces__=[As],zs.prototype={set:function(t,e){null!=df[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=df[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=df[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=df[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return $.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},iterator:function(){return new Vs(this,this.arrayKeys())},__class__:zs};var Hs={};(i["haxe.ds._Vector.Vector_Impl_"]=Hs).__name__=["haxe","ds","_Vector","Vector_Impl_"],Hs.blit=function(t,e,i,n,s){if(t==i){if(e<n)for(var r=e+s,a=n+s,o=0,l=s;o<l;){o++;--r,t[--a]=t[r]}else if(n<e)for(var h=e,_=n,u=0,c=s;u<c;){u++;t[_]=t[h],++h,++_}}else for(var f=0,d=s;f<d;){var p=f++;i[n+p]=t[e+p]}};var Ws=function(){this.b=[]};(i["haxe.io.BytesBuffer"]=Ws).__name__=["haxe","io","BytesBuffer"],Ws.prototype={addInt32:function(t){this.b.push(255&t),this.b.push(t>>8&255),this.b.push(t>>16&255),this.b.push(t>>>24)},addInt64:function(t){this.addInt32(t.low),this.addInt32(t.high)},getBytes:function(){var t=new ps(new vf(this.b).buffer);return this.b=null,t},__class__:Ws};var Ys=function(){};(i["haxe.io.Eof"]=Ys).__name__=["haxe","io","Eof"],Ys.prototype={toString:function(){return"Eof"},__class__:Ys};var Ks=i["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Ks.Blocked=["Blocked",0],Ks.Blocked.toString=f,(Ks.Blocked.__enum__=Ks).Overflow=["Overflow",1],Ks.Overflow.toString=f,(Ks.Overflow.__enum__=Ks).OutsideBounds=["OutsideBounds",2],Ks.OutsideBounds.toString=f,(Ks.OutsideBounds.__enum__=Ks).Custom=function(t){var e=["Custom",3,t];return e.__enum__=Ks,e.toString=f,e};var js=function(){};(i["haxe.io.FPHelper"]=js).__name__=["haxe","io","FPHelper"],js.i32ToFloat=function(t){var e=t>>>23&255,i=8388607&t;return 0==i&&0==e?0:(1-(t>>>31<<1))*(1+Math.pow(2,-23)*i)*Math.pow(2,e-127)},js.floatToI32=function(t){if(0==t)return 0;var e=t<0?-t:t,i=Math.floor(Math.log(e)/.6931471805599453);i<-127?i=-127:128<i&&(i=128);var n=Math.round(8388608*(e/Math.pow(2,i)-1));return 8388608==n&&i<128&&(n=0,++i),(t<0?-2147483648:0)|i+127<<23|n},js.i64ToDouble=function(t,e){var i=(e>>20&2047)-1023,n=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==n&&-1023==i?0:(1-(e>>>31<<1))*(1+Math.pow(2,-52)*n)*Math.pow(2,i)},js.doubleToI64=function(t){var e=js.i64tmp;if(0==t)e.low=0,e.high=0;else if(isFinite(t)){var i=t<0?-t:t,n=Math.floor(Math.log(i)/.6931471805599453),s=Math.round(4503599627370496*(i/Math.pow(2,n)-1)),r=0|s,a=s/4294967296|0;e.low=r,e.high=(t<0?-2147483648:0)|n+1023<<20|a}else e.high=0<t?(e.low=0,2146435072):(e.low=0,-1048576);return e};var qs={};(i["haxe.io._Int32Array.Int32Array_Impl_"]=qs).__name__=["haxe","io","_Int32Array","Int32Array_Impl_"],qs.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new fr(Ks.OutsideBounds);if(0==e&&i==t.length)return new Int32Array(t);for(var n=new Int32Array(t.length),s=0,r=i;s<r;){var a=s++;n[a]=0|t[a+e]}return n},qs.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>2),new Int32Array(t.b.bufferValue,e,i)};var Js=function(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");e<i?(this.dir=$.substr(t,0,i),t=$.substr(t,i+1,null),this.backslash=!0):i<e?(this.dir=$.substr(t,0,e),t=$.substr(t,e+1,null)):this.dir=null;var n=t.lastIndexOf(".");this.file=-1!=n?(this.ext=$.substr(t,n+1,null),$.substr(t,0,n)):(this.ext=null,t)};(i["haxe.io.Path"]=Js).__name__=["haxe","io","Path"],Js.withoutExtension=function(t){var e=new Js(t);return e.ext=null,e.toString()},Js.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Js};var Zs={};(i["haxe.io._UInt16Array.UInt16Array_Impl_"]=Zs).__name__=["haxe","io","_UInt16Array","UInt16Array_Impl_"],Zs.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e>>1),new Uint16Array(t.b.bufferValue,e,i)};var Qs={};(i["haxe.io._UInt8Array.UInt8Array_Impl_"]=Qs).__name__=["haxe","io","_UInt8Array","UInt8Array_Impl_"],Qs.fromArray=function(t,e,i){if(null==e&&(e=0),null==i&&(i=t.length-e),e<0||i<0||e+i>t.length)throw new fr(Ks.OutsideBounds);if(0==e&&i==t.length)return new vf(t);for(var n=new vf(t.length),s=0,r=i;s<r;){var a=s++;n[a]=255&t[a+e]}return n},Qs.fromBytes=function(t,e,i){return null==e&&(e=0),null==i&&(i=t.length-e),new vf(t.b.bufferValue,e,i)};var $s=function(){};(i["haxe.rtti.Meta"]=$s).__name__=["haxe","rtti","Meta"],$s.getType=function(t){var e=$s.getMeta(t);return null==e||null==e.obj?{}:e.obj},$s.getMeta=function(t){return t.__meta__};var tr=function(t,e,i){this.xml=e,this.message=t,this.position=i,this.lineNumber=1;for(var n=this.positionAtLine=0,s=i;n<s;){var r=n++,a=e.charCodeAt(r);10==a?(this.lineNumber++,this.positionAtLine=0):13!=a&&this.positionAtLine++}};(i["haxe.xml.XmlParserException"]=tr).__name__=["haxe","xml","XmlParserException"],tr.prototype={toString:function(){return Pi.getClassName(dr.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:tr};var er=function(){};(i["haxe.xml.Parser"]=er).__name__=["haxe","xml","Parser"],er.parse=function(t,e){null==e&&(e=!1);var i=at.createDocument();return er.doParse(t,e,0,i),i},er.doParse=function(t,e,i,n){null==i&&(i=0);for(var s=null,r=1,a=1,o=null,l=0,h=0,_=0,u=t.charCodeAt(i),c=new it,f=1,d=-1;u==u;){switch(r){case 0:switch(u){case 9:case 10:case 13:case 32:break;default:r=a;continue}break;case 1:if(60!=u){l=i,r=13;continue}r=0,a=2;break;case 2:switch(u){case 33:if(91==t.charCodeAt(i+1)){if(i+=2,"CDATA["!=$.substr(t,i,6).toUpperCase())throw new fr(new tr("Expected <![CDATA[",t,i));r=17,l=(i+=5)+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=$.substr(t,i+2,6).toUpperCase())throw new fr(new tr("Expected <!DOCTYPE",t,i));r=16,l=(i+=8)+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw new fr(new tr("Expected \x3c!--",t,i));r=15,l=(i+=2)+1}break;case 47:if(null==n)throw new fr(new tr("Expected node name",t,i));l=i+1,r=0,a=10;break;case 63:r=14,l=i;break;default:r=3,l=i;continue}break;case 3:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(i==l)throw new fr(new tr("Expected node name",t,i));s=at.createElement($.substr(t,l,i-l)),n.addChild(s),++h,r=0,a=4;continue;case 4:switch(u){case 47:r=11;break;case 62:r=9;break;default:r=5,l=i;continue}break;case 5:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(l==i)throw new fr(new tr("Expected attribute name",t,i));if(o=$.substr(t,l,i-l),s.exists(o))throw new fr(new tr("Duplicate attribute ["+o+"]",t,i));r=0,a=6;continue;case 6:if(61!=u)throw new fr(new tr("Expected =",t,i));r=0,a=7;break;case 7:switch(u){case 34:case 39:c=new it,r=8,l=i+1,d=u;break;default:throw new fr(new tr('Expected "',t,i))}break;case 8:switch(u){case 38:var p=i-l;c.b+=null==p?$.substr(t,l,null):$.substr(t,l,p),r=18,f=8,l=i+1;break;case 60:case 62:if(e)throw new fr(new tr("Invalid unescaped "+String.fromCharCode(u)+" in attribute value",t,i));if(u==d){var g=i-l;c.b+=null==g?$.substr(t,l,null):$.substr(t,l,g);var m=c.b;c=new it,s.set(o,m),r=0,a=4}break;default:if(u==d){var v=i-l;c.b+=null==v?$.substr(t,l,null):$.substr(t,l,v);var b=c.b;c=new it,s.set(o,b),r=0,a=4}}break;case 9:l=i=er.doParse(t,e,i,s),r=1;break;case 10:if(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)break;if(l==i)throw new fr(new tr("Expected node name",t,i));var y=$.substr(t,l,i-l);if(n.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+n.nodeType);if(y!=n.nodeName){if(n.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+n.nodeType);throw new fr(new tr("Expected </"+n.nodeName+">",t,i))}r=0,a=12;continue;case 11:if(62!=u)throw new fr(new tr("Expected >",t,i));r=1;break;case 12:if(62==u)return 0==h&&n.addChild(at.createPCData("")),i;throw new fr(new tr("Expected >",t,i));case 13:if(60==u){var w=i-l;c.b+=null==w?$.substr(t,l,null):$.substr(t,l,w);var x=at.createPCData(c.b);c=new it,n.addChild(x),++h,r=0,a=2}else if(38==u){var T=i-l;c.b+=null==T?$.substr(t,l,null):$.substr(t,l,T),r=18,f=13,l=i+1}break;case 14:if(63==u&&62==t.charCodeAt(i+1)){++i;var S=$.substr(t,l+1,i-l-2);n.addChild(at.createProcessingInstruction(S)),++h,r=1}break;case 15:45==u&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)&&(n.addChild(at.createComment($.substr(t,l,i-l))),++h,i+=2,r=1);break;case 16:91==u?++_:93==u?--_:62==u&&0==_&&(n.addChild(at.createDocType($.substr(t,l,i-l))),++h,r=1);break;case 17:if(93==u&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var E=at.createCData($.substr(t,l,i-l));n.addChild(E),++h,i+=2,r=1}break;case 18:if(59==u){var I=$.substr(t,l,i-l);if(35==I.charCodeAt(0)){var C=120==I.charCodeAt(1)?Q.parseInt("0"+$.substr(I,1,I.length-1)):Q.parseInt($.substr(I,1,I.length-1));c.b+=String.fromCharCode(C)}else{var P=er.escapes;if(null!=df[I]?P.existsReserved(I):P.h.hasOwnProperty(I)){var A=er.escapes,D=null!=df[I]?A.getReserved(I):A.h[I];c.b+=Q.string(D)}else{if(e)throw new fr(new tr("Undefined entity: "+I,t,i));c.b+=Q.string("&"+I+";")}}l=i+1,r=f}else if(!(97<=u&&u<=122||65<=u&&u<=90||48<=u&&u<=57||58==u||46==u||95==u||45==u)&&35!=u){if(e)throw new fr(new tr("Invalid character in entity: "+String.fromCharCode(u),t,i));c.b+="&";var R=i-l;c.b+=null==R?$.substr(t,l,null):$.substr(t,l,R),l=i--,r=f}}u=t.charCodeAt(++i)}if(1==r&&(l=i,r=13),13==r){if(i!=l||0==h){var M=i-l;c.b+=null==M?$.substr(t,l,null):$.substr(t,l,M),n.addChild(at.createPCData(c.b)),++h}return i}if(e||18!=r||13!=f)throw new fr(new tr("Unexpected end",t,i));c.b+="&";var F=i-l;return c.b+=null==F?$.substr(t,l,null):$.substr(t,l,F),n.addChild(at.createPCData(c.b)),++h,i};var ir=function(t){this.output=new it,this.pretty=t};(i["haxe.xml.Printer"]=ir).__name__=["haxe","xml","Printer"],ir.print=function(t,e){null==e&&(e=!1);var i=new ir(e);return i.writeNode(t,""),i.output.b},ir.prototype={writeNode:function(t,e){switch(t.nodeType){case 0:if(this.output.b+=Q.string(e+"<"),t.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+t.nodeType);this.output.b+=Q.string(t.nodeName);for(var i=t.attributes();i.hasNext();){var n=i.next();this.output.b+=Q.string(" "+n+'="');var s=Cs.htmlEscape(t.get(n),!0);this.output.b+=Q.string(s),this.output.b+='"'}if(this.hasChildren(t)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),t.nodeType!=at.Document&&t.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+t.nodeType);for(var r=$.iter(t.children);r.hasNext();){var a=r.next();this.writeNode(a,this.pretty?e+"\t":e)}if(this.output.b+=Q.string(e+"</"),t.nodeType!=at.Element)throw new fr("Bad node type, expected Element but found "+t.nodeType);this.output.b+=Q.string(t.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(t.nodeType==at.Document||t.nodeType==at.Element)throw new fr("Bad node type, unexpected "+t.nodeType);var o=t.nodeValue;if(0!=o.length){var l=e+Cs.htmlEscape(o);this.output.b+=Q.string(l),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Q.string(e+"<![CDATA["),t.nodeType==at.Document||t.nodeType==at.Element)throw new fr("Bad node type, unexpected "+t.nodeType);var h=Cs.trim(t.nodeValue);this.output.b+=Q.string(h),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(t.nodeType==at.Document||t.nodeType==at.Element)throw new fr("Bad node type, unexpected "+t.nodeType);var _=t.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));_="\x3c!--"+(_=_.replace(u,""))+"--\x3e",this.output.b+=null==e?"null":""+e;var c=Cs.trim(_);this.output.b+=Q.string(c),this.pretty&&(this.output.b+="\n");break;case 4:if(t.nodeType==at.Document||t.nodeType==at.Element)throw new fr("Bad node type, unexpected "+t.nodeType);this.output.b+=Q.string("<!DOCTYPE "+t.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(t.nodeType==at.Document||t.nodeType==at.Element)throw new fr("Bad node type, unexpected "+t.nodeType);this.output.b+=Q.string("<?"+t.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(t.nodeType!=at.Document&&t.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+t.nodeType);for(var f=$.iter(t.children);f.hasNext();){var d=f.next();this.writeNode(d,e)}}},hasChildren:function(t){if(t.nodeType!=at.Document&&t.nodeType!=at.Element)throw new fr("Bad node type, expected Element or Document but found "+t.nodeType);for(var e=$.iter(t.children);e.hasNext();){var i=e.next();switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==at.Document||i.nodeType==at.Element)throw new fr("Bad node type, unexpected "+i.nodeType);if(0!=Cs.ltrim(i.nodeValue).length)return!0}}return!1},__class__:ir};var nr=function(t,e){this.from=t,this.to=e};(i["hxbit.ConvertField"]=nr).__name__=["hxbit","ConvertField"],nr.prototype={__class__:nr};var sr=function(t,e){for(var i=new zs,n=0,s=t.fieldsNames.length;n<s;){var r=n++,a=t.fieldsNames[r],o=t.fieldsTypes[r];null!=df[a]?i.setReserved(a,o):i.h[a]=o}if(this.read=[],t.isFinal!=e.isFinal)throw new fr("TODO : handle final flag change");for(var l=new zs,h=0,_=e.fieldsNames.length;h<_;){var u=h++,c=e.fieldsTypes[u],f=e.fieldsNames[u],d=null!=df[f]?i.getReserved(f):i.h[f],p=new nr(c,d);null!=d&&(sr.sameType(c,d)?p.same=!0:p.defaultValue=sr.getDefault(d)),p.index=this.read.length,this.read.push(p);var g=e.fieldsNames[u];null!=df[g]?l.setReserved(g,p):l.h[g]=p}this.write=[];for(var m=0,v=t.fieldsNames.length;m<v;){var b=m++,y=t.fieldsTypes[b],w=t.fieldsNames[b],x=null!=df[w]?l.getReserved(w):l.h[w];null==x&&((x=new nr(null,y)).defaultValue=sr.getDefault(y)),this.write.push(x)}};(i["hxbit.Convert"]=sr).__name__=["hxbit","Convert"],sr.sameType=function(t,e){switch(t[1]){case 0:switch(e[1]){case 10:var i=e[2];return sr.sameType(t,i);case 16:return!0;default:return Pi.enumEq(t,e)}break;case 7:switch(e[1]){case 7:var n=t[2],s=t[3],r=e[3],a=e[2];return!!sr.sameType(n,a)&&sr.sameType(s,r);case 10:var o=e[2];return sr.sameType(t,o);default:return Pi.enumEq(t,e)}break;case 8:switch(e[1]){case 8:var l=t[2],h=e[2];return sr.sameType(l,h);case 10:var _=e[2];return sr.sameType(t,_);default:return Pi.enumEq(t,e)}break;case 9:switch(e[1]){case 9:var u=t[2],c=e[2];if(u.length!=c.length)return!1;for(var f=0,d=u.length;f<d;){var p=f++,g=u[p],m=c[p];if(g.name!=m.name||g.opt!=m.opt||!sr.sameType(g.type,m.type))return!1}return!0;case 10:var v=e[2];return sr.sameType(t,v);default:return Pi.enumEq(t,e)}break;case 10:if(10==e[1]){var b=t[2],y=e[2];return sr.sameType(b,y)}var w=t[2];return sr.sameType(w,e);case 11:switch(e[1]){case 10:var x=e[2];return sr.sameType(t,x);case 11:var T=t[2],S=e[2];return sr.sameType(T,S);default:return Pi.enumEq(t,e)}break;case 12:switch(e[1]){case 10:var E=e[2];return sr.sameType(t,E);case 12:var I=t[2],C=e[2];return sr.sameType(I,C);default:return Pi.enumEq(t,e)}break;case 16:switch(e[1]){case 0:return!0;case 10:var P=e[2];return sr.sameType(t,P);default:return Pi.enumEq(t,e)}break;default:if(10!=e[1])return Pi.enumEq(t,e);var A=e[2];return sr.sameType(t,A)}},sr.getDefault=function(t){switch(t[1]){case 1:return 0;case 2:return!1;case 7:switch(t[2][1]){case 0:return new Gs;case 3:return new zs;default:return new Xs}break;case 8:return[];case 3:case 4:case 5:case 6:case 9:case 12:case 13:case 14:return null;case 10:var e=t[2];return sr.getDefault(e);case 11:return new Array(0);case 15:return new Ds(0,0);case 0:case 16:return 0}},sr.prototype={toString:function(){for(var t=[],e=0,i=this.write.length;e<i;){var n=e++,s=this.write[n];t.push(null==s.from?"insert:"+Q.string(s.defaultValue):s.same?n==s.index?"s":"@"+s.index:"@"+s.index+":"+Q.string(s.to))}return t.toString()},__class__:sr};var rr=i["hxbit.RpcMode"]={__ename__:["hxbit","RpcMode"],__constructs__:["All","Client","Server","Owner"]};rr.All=["All",0],rr.All.toString=f,(rr.All.__enum__=rr).Client=["Client",1],rr.Client.toString=f,(rr.Client.__enum__=rr).Server=["Server",2],rr.Server.toString=f,(rr.Server.__enum__=rr).Owner=["Owner",3],rr.Owner.toString=f,rr.Owner.__enum__=rr;var ar=i["hxbit.PropTypeDesc"]={__ename__:["hxbit","PropTypeDesc"],__constructs__:["PInt","PFloat","PBool","PString","PBytes","PSerializable","PEnum","PMap","PArray","PObj","PAlias","PVector","PNull","PUnknown","PDynamic","PInt64","PFlags"]};ar.PInt=["PInt",0],ar.PInt.toString=f,(ar.PInt.__enum__=ar).PFloat=["PFloat",1],ar.PFloat.toString=f,(ar.PFloat.__enum__=ar).PBool=["PBool",2],ar.PBool.toString=f,(ar.PBool.__enum__=ar).PString=["PString",3],ar.PString.toString=f,(ar.PString.__enum__=ar).PBytes=["PBytes",4],ar.PBytes.toString=f,(ar.PBytes.__enum__=ar).PSerializable=function(t){var e=["PSerializable",5,t];return e.__enum__=ar,e.toString=f,e},ar.PEnum=function(t){var e=["PEnum",6,t];return e.__enum__=ar,e.toString=f,e},ar.PMap=function(t,e){var i=["PMap",7,t,e];return i.__enum__=ar,i.toString=f,i},ar.PArray=function(t){var e=["PArray",8,t];return e.__enum__=ar,e.toString=f,e},ar.PObj=function(t){var e=["PObj",9,t];return e.__enum__=ar,e.toString=f,e},ar.PAlias=function(t){var e=["PAlias",10,t];return e.__enum__=ar,e.toString=f,e},ar.PVector=function(t){var e=["PVector",11,t];return e.__enum__=ar,e.toString=f,e},ar.PNull=function(t){var e=["PNull",12,t];return e.__enum__=ar,e.toString=f,e},ar.PUnknown=["PUnknown",13],ar.PUnknown.toString=f,(ar.PUnknown.__enum__=ar).PDynamic=["PDynamic",14],ar.PDynamic.toString=f,(ar.PDynamic.__enum__=ar).PInt64=["PInt64",15],ar.PInt64.toString=f,(ar.PInt64.__enum__=ar).PFlags=function(t){var e=["PFlags",16,t];return e.__enum__=ar,e.toString=f,e};var or=function(){};(i["hxbit.Macros"]=or).__name__=["hxbit","Macros"];var lr=function(){this.__uid=X.SEQ<<24|++X.UID,this.fieldsNames=[],this.fieldsTypes=[]};(i["hxbit.Schema"]=lr).__name__=["hxbit","Schema"],lr.__interfaces__=[C],lr.prototype={get_checkSum:function(){var t=new X;t.begin();var e=this.__uid;this.__uid=0,t.addKnownRef(this),this.__uid=e;var i=t.end();return Os.make(i)},getCLID:function(){return lr.__clid},serialize:function(t){t.out.b.push(this.isFinal?1:0);var e=this.fieldsNames;if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=0;n<e.length;){var s=e[n];if(++n,null==s)t.out.b.push(0);else{var r=ps.ofString(s),a=r.length+1;0<=a&&a<128?t.out.b.push(a):(t.out.b.push(128),t.out.addInt32(a));for(var o=t.out,l=(o.b,r.b),h=0,_=r.length;h<_;){var u=h++;o.b.push(l[u])}}}}var c=this.fieldsTypes;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,cr.doSerialize(t,p)}}},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("isFinal"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("fieldsNames"),t.fieldsTypes.push(ar.PArray(ar.PString)),t.fieldsNames.push("fieldsTypes"),t.fieldsTypes.push(ar.PArray(ar.PEnum("hxbit.PropTypeDesc"))),t.isFinal=X.isClassFinal(lr.__clid),t},unserializeInit:function(){},unserialize:function(t){var e;this.isFinal=0!=t.input.b[t.inPos++];var i=t.input.b[t.inPos++];128==i&&(i=t.input.getInt32(t.inPos),t.inPos+=4);var n,s,r=i;if(0==r)n=null;else{for(var a=[],o=0,l=--r;o<l;){var h=o++,_=t.input.b[t.inPos++];128==_&&(_=t.input.getInt32(t.inPos),t.inPos+=4);var u=_;if(0==u)e=null;else{--u;var c=t.input.getString(t.inPos,u);t.inPos+=u,e=c}a[h]=e}n=a}this.fieldsNames=n;var f=t.input.b[t.inPos++];128==f&&(f=t.input.getInt32(t.inPos),t.inPos+=4);var d,p=f;if(0==p)d=null;else{for(var g=[],m=0,v=--p;m<v;){var b=m++;s=cr.doUnserialize(t),g[b]=s}d=g}this.fieldsTypes=d},__class__:lr,__properties__:{get_checkSum:"get_checkSum"}};var hr=function(){};(i["hxbit.SerializableEnum"]=hr).__name__=["hxbit","SerializableEnum"];var _r=function(){};(i["hxbit.enumSer.format_swf_exporters_core_FilterType"]=_r).__name__=["hxbit","enumSer","format_swf_exporters_core_FilterType"],_r.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:var i=e[4],n=e[3],s=e[2];t.out.b.push(1),t.out.addInt32(js.floatToI32(s)),t.out.addInt32(js.floatToI32(n)),0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));break;case 1:var r=e[3],a=e[2];t.out.b.push(2),t.addKnownRef(a),t.addKnownRef(r);break;case 2:var o=e[12],l=e[11],h=e[10],_=e[9],u=e[8],c=e[7],f=e[6],d=e[5],p=e[4],g=e[3],m=e[2];t.out.b.push(3),t.out.addInt32(js.floatToI32(m)),t.out.addInt32(js.floatToI32(g)),0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p)),t.out.addInt32(js.floatToI32(d)),t.out.addInt32(js.floatToI32(f)),t.out.addInt32(js.floatToI32(c)),t.out.addInt32(js.floatToI32(u)),0<=_&&_<128?t.out.b.push(_):(t.out.b.push(128),t.out.addInt32(_)),t.out.b.push(h?1:0),t.out.b.push(l?1:0),t.out.b.push(o?1:0);break;case 3:var v=e[9],b=e[8],y=e[7],w=e[6],x=e[5],T=e[4],S=e[3],E=e[2];t.out.b.push(4),0<=E&&E<128?t.out.b.push(E):(t.out.b.push(128),t.out.addInt32(E)),t.out.addInt32(js.floatToI32(S)),t.out.addInt32(js.floatToI32(T)),t.out.addInt32(js.floatToI32(x)),t.out.addInt32(js.floatToI32(w)),0<=y&&y<128?t.out.b.push(y):(t.out.b.push(128),t.out.addInt32(y)),t.out.b.push(b?1:0),t.out.b.push(v?1:0);break;case 4:var I=e[12],C=e[11],P=e[10],A=e[9],D=e[8],R=e[7],M=e[6],F=e[5],B=e[4],L=e[3],k=e[2];if(t.out.b.push(5),t.out.addInt32(js.floatToI32(k)),t.out.addInt32(js.floatToI32(L)),null==B)t.out.b.push(0);else{var N=B.length+1;0<=N&&N<128?t.out.b.push(N):(t.out.b.push(128),t.out.addInt32(N));for(var O=0;O<B.length;){var U=B[O];++O,0<=U&&U<128?t.out.b.push(U):(t.out.b.push(128),t.out.addInt32(U))}}if(null==F)t.out.b.push(0);else{var G=F.length+1;0<=G&&G<128?t.out.b.push(G):(t.out.b.push(128),t.out.addInt32(G));for(var X=0;X<F.length;){var V=F[X];++X,t.out.addInt32(js.floatToI32(V))}}if(null==M)t.out.b.push(0);else{var z=M.length+1;0<=z&&z<128?t.out.b.push(z):(t.out.b.push(128),t.out.addInt32(z));for(var H=0;H<M.length;){var W=M[H];++H,t.out.addInt32(js.floatToI32(W))}}if(t.out.addInt32(js.floatToI32(R)),t.out.addInt32(js.floatToI32(D)),t.out.addInt32(js.floatToI32(A)),0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P)),null==C)t.out.b.push(0);else{t.out.b.push(1);var Y=C;0<=Y&&Y<128?t.out.b.push(Y):(t.out.b.push(128),t.out.addInt32(Y))}t.out.b.push(I?1:0);break;case 5:var K=e[13],j=e[12],q=e[11],J=e[10],Z=e[9],Q=e[8],$=e[7],tt=e[6],et=e[5],it=e[4],nt=e[3],st=e[2];if(t.out.b.push(6),t.out.addInt32(js.floatToI32(st)),t.out.addInt32(js.floatToI32(nt)),0<=it&&it<128?t.out.b.push(it):(t.out.b.push(128),t.out.addInt32(it)),t.out.addInt32(js.floatToI32(et)),0<=tt&&tt<128?t.out.b.push(tt):(t.out.b.push(128),t.out.addInt32(tt)),t.out.addInt32(js.floatToI32($)),t.out.addInt32(js.floatToI32(Q)),t.out.addInt32(js.floatToI32(Z)),t.out.addInt32(js.floatToI32(J)),0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q)),null==j)t.out.b.push(0);else{t.out.b.push(1);var rt=j;0<=rt&&rt<128?t.out.b.push(rt):(t.out.b.push(128),t.out.addInt32(rt))}t.out.b.push(K?1:0);break;case 6:var at=e[12],ot=e[11],lt=e[10],ht=e[9],_t=e[8],ut=e[7],ct=e[6],ft=e[5],dt=e[4],pt=e[3],gt=e[2];if(t.out.b.push(7),t.out.addInt32(js.floatToI32(gt)),t.out.addInt32(js.floatToI32(pt)),null==dt)t.out.b.push(0);else{var mt=dt.length+1;0<=mt&&mt<128?t.out.b.push(mt):(t.out.b.push(128),t.out.addInt32(mt));for(var vt=0;vt<dt.length;){var bt=dt[vt];++vt,0<=bt&&bt<128?t.out.b.push(bt):(t.out.b.push(128),t.out.addInt32(bt))}}if(null==ft)t.out.b.push(0);else{var yt=ft.length+1;0<=yt&&yt<128?t.out.b.push(yt):(t.out.b.push(128),t.out.addInt32(yt));for(var wt=0;wt<ft.length;){var xt=ft[wt];++wt,t.out.addInt32(js.floatToI32(xt))}}if(null==ct)t.out.b.push(0);else{var Tt=ct.length+1;0<=Tt&&Tt<128?t.out.b.push(Tt):(t.out.b.push(128),t.out.addInt32(Tt));for(var St=0;St<ct.length;){var Et=ct[St];++St,t.out.addInt32(js.floatToI32(Et))}}if(t.out.addInt32(js.floatToI32(ut)),t.out.addInt32(js.floatToI32(_t)),t.out.addInt32(js.floatToI32(ht)),0<=lt&&lt<128?t.out.b.push(lt):(t.out.b.push(128),t.out.addInt32(lt)),null==ot)t.out.b.push(0);else{t.out.b.push(1);var It=ot;0<=It&&It<128?t.out.b.push(It):(t.out.b.push(128),t.out.addInt32(It))}t.out.b.push(at?1:0)}},_r.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:var i,n,s=t.input.getFloat(t.inPos);t.inPos+=4,i=s;var r,a=t.input.getFloat(t.inPos);t.inPos+=4,n=a;var o=t.input.b[t.inPos++];return 128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4),r=o,Ke.BlurFilter(i,n,r);case 2:var l=t.getRef(Cu,Cu.__clid),h=t.getRef(Cu,Cu.__clid);return Ke.ColorMatrixFilter(l,h);case 3:var _,u,c=t.input.getFloat(t.inPos);t.inPos+=4,_=c;var f,d=t.input.getFloat(t.inPos);t.inPos+=4,u=d;var p,g=t.input.b[t.inPos++];128==g&&(g=t.input.getInt32(t.inPos),t.inPos+=4),f=g;var m,v=t.input.getFloat(t.inPos);t.inPos+=4,p=v;var b,y=t.input.getFloat(t.inPos);t.inPos+=4,m=y;var w,x=t.input.getFloat(t.inPos);t.inPos+=4,b=x;var T,S=t.input.getFloat(t.inPos);t.inPos+=4,w=S;var E=t.input.b[t.inPos++];128==E&&(E=t.input.getInt32(t.inPos),t.inPos+=4),T=E;var I=0!=t.input.b[t.inPos++],C=0!=t.input.b[t.inPos++],P=0!=t.input.b[t.inPos++];return Ke.DropShadowFilter(_,u,f,p,m,b,w,T,I,C,P);case 4:var A,D,R=t.input.b[t.inPos++];128==R&&(R=t.input.getInt32(t.inPos),t.inPos+=4),A=R;var M,F=t.input.getFloat(t.inPos);t.inPos+=4,D=F;var B,L=t.input.getFloat(t.inPos);t.inPos+=4,M=L;var k,N=t.input.getFloat(t.inPos);t.inPos+=4,B=N;var O,U=t.input.getFloat(t.inPos);t.inPos+=4,k=U;var G=t.input.b[t.inPos++];128==G&&(G=t.input.getInt32(t.inPos),t.inPos+=4),O=G;var X=0!=t.input.b[t.inPos++],V=0!=t.input.b[t.inPos++];return Ke.GlowFilter(A,D,M,B,k,O,X,V);case 5:var z,H,W=t.input.getFloat(t.inPos);t.inPos+=4,z=W;var Y,K,j=t.input.getFloat(t.inPos);t.inPos+=4,H=j;var q=t.input.b[t.inPos++];128==q&&(q=t.input.getInt32(t.inPos),t.inPos+=4);var J,Z,Q=q;if(0==Q)Y=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,nt=t.input.b[t.inPos++];128==nt&&(nt=t.input.getInt32(t.inPos),t.inPos+=4),K=nt,$[it]=K}Y=$}var st=t.input.b[t.inPos++];128==st&&(st=t.input.getInt32(t.inPos),t.inPos+=4);var rt,at,ot=st;if(0==ot)J=null;else{for(var lt=[],ht=0,_t=--ot;ht<_t;){var ut=ht++,ct=t.input.getFloat(t.inPos);t.inPos+=4,Z=ct,lt[ut]=Z}J=lt}var ft=t.input.b[t.inPos++];128==ft&&(ft=t.input.getInt32(t.inPos),t.inPos+=4);var dt,pt=ft;if(0==pt)rt=null;else{for(var gt=[],mt=0,vt=--pt;mt<vt;){var bt=mt++,yt=t.input.getFloat(t.inPos);t.inPos+=4,at=yt,gt[bt]=at}rt=gt}var wt,xt=t.input.getFloat(t.inPos);t.inPos+=4,dt=xt;var Tt,St=t.input.getFloat(t.inPos);t.inPos+=4,wt=St;var Et,It=t.input.getFloat(t.inPos);t.inPos+=4,Tt=It;var Ct,Pt,At=t.input.b[t.inPos++];if(128==At&&(At=t.input.getInt32(t.inPos),t.inPos+=4),Et=At,0==t.input.b[t.inPos++])Pt=null;else{var Dt=t.input.b[t.inPos++];128==Dt&&(Dt=t.input.getInt32(t.inPos),t.inPos+=4),Pt=Dt}Ct=Pt;var Rt=0!=t.input.b[t.inPos++];return Ke.GradientGlowFilter(z,H,Y,J,rt,dt,wt,Tt,Et,Ct,Rt);case 6:var Mt,Ft,Bt=t.input.getFloat(t.inPos);t.inPos+=4,Mt=Bt;var Lt,kt=t.input.getFloat(t.inPos);t.inPos+=4,Ft=kt;var Nt,Ot=t.input.b[t.inPos++];128==Ot&&(Ot=t.input.getInt32(t.inPos),t.inPos+=4),Lt=Ot;var Ut,Gt=t.input.getFloat(t.inPos);t.inPos+=4,Nt=Gt;var Xt,Vt=t.input.b[t.inPos++];128==Vt&&(Vt=t.input.getInt32(t.inPos),t.inPos+=4),Ut=Vt;var zt,Ht=t.input.getFloat(t.inPos);t.inPos+=4,Xt=Ht;var Wt,Yt=t.input.getFloat(t.inPos);t.inPos+=4,zt=Yt;var Kt,jt=t.input.getFloat(t.inPos);t.inPos+=4,Wt=jt;var qt,Jt=t.input.getFloat(t.inPos);t.inPos+=4,Kt=Jt;var Zt,Qt,$t=t.input.b[t.inPos++];if(128==$t&&($t=t.input.getInt32(t.inPos),t.inPos+=4),qt=$t,0==t.input.b[t.inPos++])Qt=null;else{var te=t.input.b[t.inPos++];128==te&&(te=t.input.getInt32(t.inPos),t.inPos+=4),Qt=te}Zt=Qt;var ee=0!=t.input.b[t.inPos++];return Ke.BevelFilter(Mt,Ft,Lt,Nt,Ut,Xt,zt,Wt,Kt,qt,Zt,ee);case 7:var ie,ne,se=t.input.getFloat(t.inPos);t.inPos+=4,ie=se;var re,ae,oe=t.input.getFloat(t.inPos);t.inPos+=4,ne=oe;var le=t.input.b[t.inPos++];128==le&&(le=t.input.getInt32(t.inPos),t.inPos+=4);var he,_e,ue=le;if(0==ue)re=null;else{for(var ce=[],fe=0,de=--ue;fe<de;){var pe=fe++,ge=t.input.b[t.inPos++];128==ge&&(ge=t.input.getInt32(t.inPos),t.inPos+=4),ae=ge,ce[pe]=ae}re=ce}var me=t.input.b[t.inPos++];128==me&&(me=t.input.getInt32(t.inPos),t.inPos+=4);var ve,be,ye=me;if(0==ye)he=null;else{for(var we=[],xe=0,Te=--ye;xe<Te;){var Se=xe++,Ee=t.input.getFloat(t.inPos);t.inPos+=4,_e=Ee,we[Se]=_e}he=we}var Ie=t.input.b[t.inPos++];128==Ie&&(Ie=t.input.getInt32(t.inPos),t.inPos+=4);var Ce,Pe=Ie;if(0==Pe)ve=null;else{for(var Ae=[],De=0,Re=--Pe;De<Re;){var Me=De++,Fe=t.input.getFloat(t.inPos);t.inPos+=4,be=Fe,Ae[Me]=be}ve=Ae}var Be,Le=t.input.getFloat(t.inPos);t.inPos+=4,Ce=Le;var ke,Ne=t.input.getFloat(t.inPos);t.inPos+=4,Be=Ne;var Oe,Ue=t.input.getFloat(t.inPos);t.inPos+=4,ke=Ue;var Ge,Xe,Ve=t.input.b[t.inPos++];if(128==Ve&&(Ve=t.input.getInt32(t.inPos),t.inPos+=4),Oe=Ve,0==t.input.b[t.inPos++])Xe=null;else{var ze=t.input.b[t.inPos++];128==ze&&(ze=t.input.getInt32(t.inPos),t.inPos+=4),Xe=ze}Ge=Xe;var He=0!=t.input.b[t.inPos++];return Ke.GradientBevelFilter(ie,ne,re,he,ve,Ce,Be,ke,Oe,Ge,He);default:throw new fr("Invalid enum index "+e)}},_r.getSchema=function(){for(var t=new lr,e=t.fieldsTypes,i=[],n=0,s=[ar.PInt];n<s.length;){var r=s[n];++n,i.push({name:"",type:r,opt:!1})}e.push(ar.PObj(i)),t.fieldsNames.push("BlurFilter");for(var a=t.fieldsTypes,o=[],l=0,h=[ar.PSerializable("openfl.utils.Float32ArrayContainer")];l<h.length;){var _=h[l];++l,o.push({name:"",type:_,opt:!1})}a.push(ar.PObj(o)),t.fieldsNames.push("ColorMatrixFilter");for(var u=t.fieldsTypes,c=[],f=0,d=[ar.PBool];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(ar.PObj(c)),t.fieldsNames.push("DropShadowFilter");for(var g=t.fieldsTypes,m=[],v=0,b=[ar.PBool];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(ar.PObj(m)),t.fieldsNames.push("GlowFilter");for(var w=t.fieldsTypes,x=[],T=0,S=[ar.PBool];T<S.length;){var E=S[T];++T,x.push({name:"",type:E,opt:!1})}w.push(ar.PObj(x)),t.fieldsNames.push("GradientGlowFilter");for(var I=t.fieldsTypes,C=[],P=0,A=[ar.PBool];P<A.length;){var D=A[P];++P,C.push({name:"",type:D,opt:!1})}I.push(ar.PObj(C)),t.fieldsNames.push("BevelFilter");for(var R=t.fieldsTypes,M=[],F=0,B=[ar.PBool];F<B.length;){var L=B[F];++F,M.push({name:"",type:L,opt:!1})}return R.push(ar.PObj(M)),t.fieldsNames.push("GradientBevelFilter"),t};var ur=function(){};(i["hxbit.enumSer.format_swf_lite_timeline_FrameObjectType"]=ur).__name__=["hxbit","enumSer","format_swf_lite_timeline_FrameObjectType"],ur.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4)}},ur.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return Oi.CREATE;case 2:return Oi.UPDATE;case 3:return Oi.UPDATE_CHARACTER;case 4:return Oi.DESTROY;default:throw new fr("Invalid enum index "+e)}},ur.getSchema=function(){var t=new lr;return t.fieldsTypes.push(null),t.fieldsNames.push("CREATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE"),t.fieldsTypes.push(null),t.fieldsNames.push("UPDATE_CHARACTER"),t.fieldsTypes.push(null),t.fieldsNames.push("DESTROY"),t};var cr=function(){};(i["hxbit.enumSer.hxbit_PropTypeDesc"]=cr).__name__=["hxbit","enumSer","hxbit_PropTypeDesc"],cr.doSerialize=function(t,e){if(null==e)t.out.b.push(0);else switch(e[1]){case 0:t.out.b.push(1);break;case 1:t.out.b.push(2);break;case 2:t.out.b.push(3);break;case 3:t.out.b.push(4);break;case 4:t.out.b.push(5);break;case 5:var i=e[2];if(t.out.b.push(6),null==i)t.out.b.push(0);else{var n=ps.ofString(i),s=n.length+1;0<=s&&s<128?t.out.b.push(s):(t.out.b.push(128),t.out.addInt32(s));for(var r=t.out,a=(r.b,n.b),o=0,l=n.length;o<l;){var h=o++;r.b.push(a[h])}}break;case 6:var _=e[2];if(t.out.b.push(7),null==_)t.out.b.push(0);else{var u=ps.ofString(_),c=u.length+1;0<=c&&c<128?t.out.b.push(c):(t.out.b.push(128),t.out.addInt32(c));for(var f=t.out,d=(f.b,u.b),p=0,g=u.length;p<g;){var m=p++;f.b.push(d[m])}}break;case 7:var v=e[3],b=e[2];t.out.b.push(8),cr.doSerialize(t,b),cr.doSerialize(t,v);break;case 8:var y=e[2];t.out.b.push(9),cr.doSerialize(t,y);break;case 9:var w=e[2];if(t.out.b.push(10),null==w)t.out.b.push(0);else{var x=w.length+1;0<=x&&x<128?t.out.b.push(x):(t.out.b.push(128),t.out.addInt32(x));for(var T=0;T<w.length;){var S=w[T];++T;var E=S;if(null==E)t.out.b.push(0);else{var I=0;null!=E.name&&(I|=1),null!=E.type&&(I|=2);var C=I+1;if(0<=C&&C<128?t.out.b.push(C):(t.out.b.push(128),t.out.addInt32(C)),0!=(1&I)){var P=E.name;if(null==P)t.out.b.push(0);else{var A=ps.ofString(P),D=A.length+1;0<=D&&D<128?t.out.b.push(D):(t.out.b.push(128),t.out.addInt32(D));for(var R=t.out,M=(R.b,A.b),F=0,B=A.length;F<B;){var L=F++;R.b.push(M[L])}}}t.out.b.push(E.opt?1:0),0!=(2&I)&&cr.doSerialize(t,E.type)}}}break;case 10:var k=e[2];t.out.b.push(11),cr.doSerialize(t,k);break;case 11:var N=e[2];t.out.b.push(12),cr.doSerialize(t,N);break;case 12:var O=e[2];t.out.b.push(13),cr.doSerialize(t,O);break;case 13:t.out.b.push(14);break;case 14:t.out.b.push(15);break;case 15:t.out.b.push(16);break;case 16:var U=e[2];t.out.b.push(17),cr.doSerialize(t,U)}},cr.doUnserialize=function(t){var e=t.input.b[t.inPos++];if(0==e)return null;switch(e){case 1:return ar.PInt;case 2:return ar.PFloat;case 3:return ar.PBool;case 4:return ar.PString;case 5:return ar.PBytes;case 6:var i,n=t.input.b[t.inPos++];128==n&&(n=t.input.getInt32(t.inPos),t.inPos+=4);var s=n;if(0==s)i=null;else{--s;var r=t.input.getString(t.inPos,s);t.inPos+=s,i=r}return ar.PSerializable(i);case 7:var a,o=t.input.b[t.inPos++];128==o&&(o=t.input.getInt32(t.inPos),t.inPos+=4);var l=o;if(0==l)a=null;else{--l;var h=t.input.getString(t.inPos,l);t.inPos+=l,a=h}return ar.PEnum(a);case 8:var _,u;return _=cr.doUnserialize(t),u=cr.doUnserialize(t),ar.PMap(_,u);case 9:var c;return c=cr.doUnserialize(t),ar.PArray(c);case 10:var f,d,p=t.input.b[t.inPos++];128==p&&(p=t.input.getInt32(t.inPos),t.inPos+=4);var g=p;if(0==g)f=null;else{for(var m=[],v=0,b=--g;v<b;){var y=v++,w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x=w;if(0==x)d=null;else{var T,S=null,E=null;if(0!=(1&--x)){var I=t.input.b[t.inPos++];128==I&&(I=t.input.getInt32(t.inPos),t.inPos+=4);var C=I;if(0==C)E=null;else{--C;var P=t.input.getString(t.inPos,C);t.inPos+=C,E=P}}if(T=0!=t.input.b[t.inPos++],0!=(2&x))S=cr.doUnserialize(t);d={name:E,opt:T,type:S}}m[y]=d}f=m}return ar.PObj(f);case 11:var A;return A=cr.doUnserialize(t),ar.PAlias(A);case 12:var D;return D=cr.doUnserialize(t),ar.PVector(D);case 13:var R;return R=cr.doUnserialize(t),ar.PNull(R);case 14:return ar.PUnknown;case 15:return ar.PDynamic;case 16:return ar.PInt64;case 17:var M;return M=cr.doUnserialize(t),ar.PFlags(M);default:throw new fr("Invalid enum index "+e)}},cr.getSchema=function(){var t=new lr;t.fieldsTypes.push(null),t.fieldsNames.push("PInt"),t.fieldsTypes.push(null),t.fieldsNames.push("PFloat"),t.fieldsTypes.push(null),t.fieldsNames.push("PBool"),t.fieldsTypes.push(null),t.fieldsNames.push("PString"),t.fieldsTypes.push(null),t.fieldsNames.push("PBytes");for(var e=t.fieldsTypes,i=[],n=0,s=[ar.PString];n<s.length;){var r=s[n];++n,i.push({name:"",type:r,opt:!1})}e.push(ar.PObj(i)),t.fieldsNames.push("PSerializable");for(var a=t.fieldsTypes,o=[],l=0,h=[ar.PString];l<h.length;){var _=h[l];++l,o.push({name:"",type:_,opt:!1})}a.push(ar.PObj(o)),t.fieldsNames.push("PEnum");for(var u=t.fieldsTypes,c=[],f=0,d=[ar.PEnum("hxbit.PropTypeDesc")];f<d.length;){var p=d[f];++f,c.push({name:"",type:p,opt:!1})}u.push(ar.PObj(c)),t.fieldsNames.push("PMap");for(var g=t.fieldsTypes,m=[],v=0,b=[ar.PEnum("hxbit.PropTypeDesc")];v<b.length;){var y=b[v];++v,m.push({name:"",type:y,opt:!1})}g.push(ar.PObj(m)),t.fieldsNames.push("PArray");for(var w=t.fieldsTypes,x=[],T=0,S=[ar.PArray(ar.PObj([{opt:!1,type:ar.PString,name:"name"},{opt:!1,type:ar.PBool,name:"opt"},{opt:!1,type:ar.PEnum("hxbit.PropTypeDesc"),name:"type"}]))];T<S.length;){var E=S[T];++T,x.push({name:"",type:E,opt:!1})}w.push(ar.PObj(x)),t.fieldsNames.push("PObj");for(var I=t.fieldsTypes,C=[],P=0,A=[ar.PEnum("hxbit.PropTypeDesc")];P<A.length;){var D=A[P];++P,C.push({name:"",type:D,opt:!1})}I.push(ar.PObj(C)),t.fieldsNames.push("PAlias");for(var R=t.fieldsTypes,M=[],F=0,B=[ar.PEnum("hxbit.PropTypeDesc")];F<B.length;){var L=B[F];++F,M.push({name:"",type:L,opt:!1})}R.push(ar.PObj(M)),t.fieldsNames.push("PVector");for(var k=t.fieldsTypes,N=[],O=0,U=[ar.PEnum("hxbit.PropTypeDesc")];O<U.length;){var G=U[O];++O,N.push({name:"",type:G,opt:!1})}k.push(ar.PObj(N)),t.fieldsNames.push("PNull"),t.fieldsTypes.push(null),t.fieldsNames.push("PUnknown"),t.fieldsTypes.push(null),t.fieldsNames.push("PDynamic"),t.fieldsTypes.push(null),t.fieldsNames.push("PInt64");for(var X=t.fieldsTypes,V=[],z=0,H=[ar.PEnum("hxbit.PropTypeDesc")];z<H.length;){var W=H[z];++z,V.push({name:"",type:W,opt:!1})}return X.push(ar.PObj(V)),t.fieldsNames.push("PFlags"),t};var fr=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,fr)};(i["js._Boot.HaxeError"]=fr).__name__=["js","_Boot","HaxeError"],fr.wrap=function(t){return t instanceof Error?t:new fr(t)},fr.__super__=Error,fr.prototype=n(Error.prototype,{__class__:fr});var dr=function(){};(i["js.Boot"]=dr).__name__=["js","Boot"],dr.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},dr.__trace=function(t,e){var i,n=null!=e?e.fileName+":"+e.lineNumber+": ":"";if(n+=dr.__string_rec(t,""),null!=e&&null!=e.customParams)for(var s=0,r=e.customParams;s<r.length;){var a=r[s];++s,n+=","+dr.__string_rec(a,"")}"undefined"!=typeof document&&null!=(i=document.getElementById("haxe:trace"))?i.innerHTML+=dr.__unhtml(n)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(n)},dr.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=dr.__nativeClassName(t);return null!=i?dr.__resolveNativeClass(i):null},dr.__string_rec=function(t,e){if(null==t)return"null";if(5<=e.length)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var s=2,r=t.length;s<r;){var a=s++;n+=2!=a?","+dr.__string_rec(t[a],e):dr.__string_rec(t[a],e)}return n+")"}var o="[";e+="\t";for(var l=0,h=t.length;l<h;){var _=l++;o+=(0<_?",":"")+dr.__string_rec(t[_],e)}return o+="]"}var u;try{u=t.toString}catch(t){return Is.lastException=t,"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var c=t.toString();if("[object Object]"!=c)return c}var f=null,d="{\n";e+="\t";var p=null!=t.hasOwnProperty;for(var f in t)p&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=d.length&&(d+=", \n"),d+=e+f+" : "+dr.__string_rec(t[f],e));return d+="\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}},dr.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var n=0,s=i.length;n<s;){var r=i[n++];if(r==e||dr.__interfLoop(r,e))return!0}return dr.__interfLoop(t.__super__,e)},dr.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array&&null==t.__enum__;case uf:return"boolean"==typeof t;case hf:return!0;case _f:return"number"==typeof t;case lf:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(dr.__interfLoop(dr.getClass(t),e))return!0}else if("object"==typeof e&&dr.__isNativeObj(e)&&t instanceof e)return!0;return e==cf&&null!=t.__name__||(e==ff&&null!=t.__ename__||t.__enum__==e)}},dr.__cast=function(t,e){if(dr.__instanceof(t,e))return t;throw new fr("Cannot cast "+Q.string(t)+" to "+Q.string(e))},dr.__nativeClassName=function(t){var e=dr.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},dr.__isNativeObj=function(t){return null!=dr.__nativeClassName(t)},dr.__resolveNativeClass=function(t){return e[t]};var pr=function(){};(i["js.Browser"]=pr).__name__=["js","Browser"],pr.getLocalStorage=function(){try{var t=window.localStorage;return t.getItem(""),t}catch(t){return Is.lastException=t,null}},pr.alert=function(t){window.alert(dr.__string_rec(t,""))};var gr=function(){};(i["js.html._CanvasElement.CanvasUtil"]=gr).__name__=["js","html","_CanvasElement","CanvasUtil"],gr.getContextWebGL=function(t,e){for(var i=0,n=["webgl","experimental-webgl"];i<n.length;){var s=n[i];++i;var r=t.getContext(s,e);if(null!=r)return r}return null};var mr=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0,n=e;i<n;){var s=i++;this.a[s]=0}this.byteLength=e}};(i["js.html.compat.ArrayBuffer"]=mr).__name__=["js","html","compat","ArrayBuffer"],mr.sliceImpl=function(t,e){var i=new vf(this,t,null==e?null:e-t),n=new pf(i.byteLength);return new vf(n).set(i),n},mr.prototype={slice:function(t,e){return new mr(this.a.slice(t,e))},__class__:mr};var vr=function(t,e,i){if(this.buf=t,this.offset=null==e?0:e,this.length=null==i?t.byteLength-this.offset:i,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new fr(Ks.OutsideBounds);this.byteLength=this.length,this.byteOffset=this.offset,this.buffer=this.buf};(i["js.html.compat.DataView"]=vr).__name__=["js","html","compat","DataView"],vr.prototype={getInt8:function(t){var e=this.buf.a[this.offset+t];return 128<=e?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var i=this.getUint16(t,e);return 32768<=i?i-65536:i},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var i=this.offset+t,n=this.buf.a[i++],s=this.buf.a[i++],r=this.buf.a[i++],a=this.buf.a[i++];return e?n|s<<8|r<<16|a<<24:a|r<<8|s<<16|n<<24},getUint32:function(t,e){var i=this.getInt32(t,e);return i<0?i+4294967296:i},getFloat32:function(t,e){return js.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var i=this.getInt32(t,e),n=this.getInt32(t+4,e);return js.i64ToDouble(e?i:n,e?n:i)},setInt8:function(t,e){this.buf.a[t+this.offset]=e<0?e+128&255:255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,i){this.setUint16(t,e<0?e+65536:e,i)},setUint16:function(t,e,i){var n=t+this.offset;i?(this.buf.a[n]=255&e,this.buf.a[n++]=e>>8&255):(this.buf.a[n++]=e>>8&255,this.buf.a[n]=255&e)},setInt32:function(t,e,i){this.setUint32(t,e,i)},setUint32:function(t,e,i){var n=t+this.offset;this.buf.a[n++]=i?(this.buf.a[n++]=255&e,this.buf.a[n++]=e>>8&255,this.buf.a[n++]=e>>16&255,e>>>24):(this.buf.a[n++]=e>>>24,this.buf.a[n++]=e>>16&255,this.buf.a[n++]=e>>8&255,255&e)},setFloat32:function(t,e,i){this.setUint32(t,js.floatToI32(e),i)},setFloat64:function(t,e,i){var n=js.doubleToI64(e);i?(this.setUint32(t,n.low),this.setUint32(t,n.high)):(this.setUint32(t,n.high),this.setUint32(t,n.low))},__class__:vr};var br=function(){};(i["js.html.compat.Float32Array"]=br).__name__=["js","html","compat","Float32Array"],br._new=function(t,e,i){var n;if("number"==typeof t){n=[];for(var s=0,r=t;s<r;){n[s++]=0}n.byteLength=n.length<<2;for(var a=[],o=n.byteOffset=0,l=n.length<<2;o<l;){o++;a.push(0)}n.buffer=new mr(a)}else if(dr.__instanceof(t,mr)){var h=t;null==e&&(e=0),null==i&&(i=h.byteLength-e>>2),n=[];for(var _=0,u=i;_<u;){_++;var c=h.a[e++]|h.a[e++]<<8|h.a[e++]<<16|h.a[e++]<<24;n.push(js.i32ToFloat(c))}n.byteLength=n.length<<2,n.byteOffset=e,n.buffer=h}else{if(!(t instanceof Array&&null==t.__enum__))throw new fr("TODO "+Q.string(t));n=t.slice();for(var f=[],d=0;d<n.length;){var p=n[d];++d;var g=js.floatToI32(p);f.push(255&g),f.push(g>>8&255),f.push(g>>16&255),f.push(g>>>24)}n.byteLength=n.length<<2,n.byteOffset=0,n.buffer=new mr(f)}return n.subarray=br._subarray,n.set=br._set,n},br._set=function(t,e){if(dr.__instanceof(t.buffer,mr)){var i=t;if(t.byteLength+e>this.byteLength)throw new fr("set() outside of range");for(var n=0,s=t.byteLength;n<s;){var r=n++;this[r+e]=i[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new fr("TODO");var a=t;if(a.length+e>this.byteLength)throw new fr("set() outside of range");for(var o=0,l=a.length;o<l;){var h=o++;this[h+e]=a[h]}}},br._subarray=function(t,e){var i=br._new(this.slice(t,e));return i.byteOffset=4*t,i};var yr=function(){};(i["js.html.compat.Uint8Array"]=yr).__name__=["js","html","compat","Uint8Array"],yr._new=function(t,e,i){var n;if("number"==typeof t){n=[];for(var s=0,r=t;s<r;){n[s++]=0}n.byteLength=n.length,n.byteOffset=0,n.buffer=new mr(n)}else if(dr.__instanceof(t,mr)){var a=t;null==e&&(e=0),null==i&&(i=a.byteLength-e),(n=0==e?a.a:a.a.slice(e,e+i)).byteLength=n.length,n.byteOffset=e,n.buffer=a}else{if(!(t instanceof Array&&null==t.__enum__))throw new fr("TODO "+Q.string(t));(n=t.slice()).byteLength=n.length,n.byteOffset=0,n.buffer=new mr(n)}return n.subarray=yr._subarray,n.set=yr._set,n},yr._set=function(t,e){if(dr.__instanceof(t.buffer,mr)){var i=t;if(t.byteLength+e>this.byteLength)throw new fr("set() outside of range");for(var n=0,s=t.byteLength;n<s;){var r=n++;this[r+e]=i[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new fr("TODO");var a=t;if(a.length+e>this.byteLength)throw new fr("set() outside of range");for(var o=0,l=a.length;o<l;){var h=o++;this[h+e]=a[h]}}},yr._subarray=function(t,e){var i=yr._new(this.slice(t,e));return i.byteOffset=t,i};var wr=function(){this.enabled=!0,this.audio=new zs,this.font=new zs,this.image=new zs,this.version=527697};(i["lime.AssetCache"]=wr).__name__=["lime","AssetCache"],wr.prototype={clear:function(t){if(null==t)this.audio=new zs,this.font=new zs,this.image=new zs;else{for(var e=this.audio.keys();e.hasNext();){var i=e.next();Cs.startsWith(i,t)&&this.audio.remove(i)}for(var n=this.font.keys();n.hasNext();){var s=n.next();Cs.startsWith(s,t)&&this.font.remove(s)}for(var r=this.image.keys();r.hasNext();){var a=r.next();Cs.startsWith(a,t)&&this.image.remove(a)}}},__class__:wr};var xr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Void_Void"]=xr).__name__=["lime","app","Event_Void_Void"],xr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,i=0;i<t.length&&(t[i](),e[i]?++i:this.remove(t[i]),!this.canceled););},__class__:xr};var Tr=function(){};(i["lime.Assets"]=Tr).__name__=["lime","Assets"],Tr.exists=function(t,e){Tr.initialize(),null==e&&(e="BINARY");var i=t.substring(0,t.indexOf(":")),n=$.substr(t,t.indexOf(":")+1,null),s=Tr.getLibrary(i);return null!=s&&s.exists(n,e)},Tr.getAudioBuffer=function(t,e){var i;if(null==e&&(e=!0),Tr.initialize(),e&&Tr.cache.enabled){var n=Tr.cache.audio;i=null!=df[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Tr.cache.audio,r=null!=df[t]?s.getReserved(t):s.h[t];if(Tr.isValidAudio(r))return r}var a=t.substring(0,t.indexOf(":")),o=$.substr(t,t.indexOf(":")+1,null),l=Tr.getLibrary(a);if(null!=l)if(l.exists(o,"SOUND")){if(l.isLocal(o,"SOUND")){var h=l.getAudioBuffer(o);if(e&&Tr.cache.enabled){var _=Tr.cache.audio;null!=df[t]?_.setReserved(t,h):_.h[t]=h}return h}Rs.trace('[Assets] Audio asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:125,className:"lime.Assets",methodName:"getAudioBuffer"})}else Rs.trace('[Assets] There is no audio asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:131,className:"lime.Assets",methodName:"getAudioBuffer"});else Rs.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:137,className:"lime.Assets",methodName:"getAudioBuffer"});return null},Tr.getBytes=function(t){Tr.initialize();var e=t.substring(0,t.indexOf(":")),i=$.substr(t,t.indexOf(":")+1,null),n=Tr.getLibrary(e);if(null!=n)if(n.exists(i,"BINARY")){if(n.isLocal(i,"BINARY"))return n.getBytes(i);Rs.trace('[Assets] String or Bytes asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:174,className:"lime.Assets",methodName:"getBytes"})}else Rs.trace('[Assets] There is no String or Bytes asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:180,className:"lime.Assets",methodName:"getBytes"});else Rs.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:186,className:"lime.Assets",methodName:"getBytes"});return null},Tr.getFont=function(t,e){var i;if(null==e&&(e=!0),Tr.initialize(),e&&Tr.cache.enabled){var n=Tr.cache.font;i=null!=df[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Tr.cache.font;return null!=df[t]?s.getReserved(t):s.h[t]}var r=t.substring(0,t.indexOf(":")),a=$.substr(t,t.indexOf(":")+1,null),o=Tr.getLibrary(r);if(null!=o)if(o.exists(a,"FONT")){if(o.isLocal(a,"FONT")){var l=o.getFont(a);if(e&&Tr.cache.enabled){var h=Tr.cache.font;null!=df[t]?h.setReserved(t,l):h.h[t]=l}return l}Rs.trace('[Assets] Font asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:237,className:"lime.Assets",methodName:"getFont"})}else Rs.trace('[Assets] There is no Font asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:243,className:"lime.Assets",methodName:"getFont"});else Rs.trace('[Assets] There is no asset library named "'+r+'"',{fileName:"Assets.hx",lineNumber:249,className:"lime.Assets",methodName:"getFont"});return null},Tr.getImage=function(t,e){var i;if(null==e&&(e=!0),Tr.initialize(),e&&Tr.cache.enabled){var n=Tr.cache.image;i=null!=df[t]?n.existsReserved(t):n.h.hasOwnProperty(t)}else i=!1;if(i){var s=Tr.cache.image,r=null!=df[t]?s.getReserved(t):s.h[t];if(Tr.isValidImage(r))return r}var a=t.substring(0,t.indexOf(":")),o=$.substr(t,t.indexOf(":")+1,null),l=Tr.getLibrary(a);if(null!=l)if(l.exists(o,"IMAGE")){if(l.isLocal(o,"IMAGE")){var h=l.getImage(o);if(e&&Tr.cache.enabled){var _=Tr.cache.image;null!=df[t]?_.setReserved(t,h):_.h[t]=h}return h}Rs.trace('[Assets] Image asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:307,className:"lime.Assets",methodName:"getImage"})}else Rs.trace('[Assets] There is no Image asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:313,className:"lime.Assets",methodName:"getImage"});else Rs.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:319,className:"lime.Assets",methodName:"getImage"});return null},Tr.getLibrary=function(t){null!=t&&""!=t||(t="default");var e=Tr.libraries;return null!=df[t]?e.getReserved(t):e.h[t]},Tr.getExtraSoundOptions=function(t){Tr.initialize();var e=Tr.getLibrary("");if(null!=e){if(e.exists(t,null))return e.getExtraSoundOptions(t);Rs.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:355,className:"lime.Assets",methodName:"getExtraSoundOptions"})}return null},Tr.getLogicalPath=function(t){Tr.initialize();var e=Tr.getLibrary("");if(null!=e)for(var i=e.getPathMap(),n=i.keys();n.hasNext();){var s=n.next();if((null!=df[s]?i.getReserved(s):i.h[s])==t)return s}return""},Tr.getPath=function(t){Tr.initialize();var e=t.substring(0,t.indexOf(":")),i=$.substr(t,t.indexOf(":")+1,null),n=Tr.getLibrary(e);if(null!=n){if(n.exists(i,null))return n.getPath(i);Rs.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:411,className:"lime.Assets",methodName:"getPath"})}else Rs.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:417,className:"lime.Assets",methodName:"getPath"});return null},Tr.getText=function(t){Tr.initialize();var e=t.substring(0,t.indexOf(":")),i=$.substr(t,t.indexOf(":")+1,null),n=Tr.getLibrary(e);if(null!=n)if(n.exists(i,"TEXT")){if(n.isLocal(i,"TEXT"))return n.getText(i);Rs.trace('[Assets] String asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:454,className:"lime.Assets",methodName:"getText"})}else Rs.trace('[Assets] There is no String asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:460,className:"lime.Assets",methodName:"getText"});else Rs.trace('[Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:466,className:"lime.Assets",methodName:"getText"});return null},Tr.initialize=function(){Tr.initialized||(Tr.registerLibrary("default",new O),Tr.initialized=!0)},Tr.isLocal=function(t,e,i){if(null==i&&(i=!0),Tr.initialize(),i&&Tr.cache.enabled){if("IMAGE"==e||null==e){var n=Tr.cache.image;if(null!=df[t]?n.existsReserved(t):n.h.hasOwnProperty(t))return!0}if("FONT"==e||null==e){var s=Tr.cache.font;if(null!=df[t]?s.existsReserved(t):s.h.hasOwnProperty(t))return!0}if("SOUND"==e||"MUSIC"==e||null==e){var r=Tr.cache.audio;if(null!=df[t]?r.existsReserved(t):r.h.hasOwnProperty(t))return!0}}var a=t.substring(0,t.indexOf(":")),o=$.substr(t,t.indexOf(":")+1,null),l=Tr.getLibrary(a);return null!=l&&l.isLocal(o,e)},Tr.isValidAudio=function(t){return null!=t},Tr.isValidImage=function(t){return!0},Tr.list=function(t){Tr.initialize();for(var e=[],i=Tr.libraries,n=new Vs(i,i.arrayKeys());n.hasNext();){var s=n.next().list(t);null!=s&&(e=e.concat(s))}return e},Tr.loadAudioBuffer=function(i,t){null==t&&(t=!0),Tr.initialize();var e,n=new Jr;if(t&&Tr.cache.enabled){var s=Tr.cache.audio;e=null!=df[i]?s.existsReserved(i):s.h.hasOwnProperty(i)}else e=!1;if(e){var r=Tr.cache.audio,a=null!=df[i]?r.getReserved(i):r.h[i];if(Tr.isValidAudio(a))return n.complete(a),n.future}var o=i.indexOf(":"),l=i.substring(0,o),h=i.indexOf(":")+1,_=$.substr(i,h,null),u=Tr.getLibrary(l);if(null!=u)if(u.exists(_,"SOUND")){var c=u.loadAudioBuffer(_);t&&Tr.cache.enabled&&c.onComplete(function(t){var e=Tr.cache.audio;null!=df[i]?e.setReserved(i,t):e.h[i]=t}),n.completeWith(c)}else n.error('[Assets] There is no audio asset with an ID of "'+i+'"');else n.error('[Assets] There is no asset library named "'+l+'"');return n.future},Tr.loadBytes=function(t){Tr.initialize();var e=new Jr,i=t.substring(0,t.indexOf(":")),n=$.substr(t,t.indexOf(":")+1,null),s=Tr.getLibrary(i);return null!=s?s.exists(n,"BINARY")?e.completeWith(s.loadBytes(n)):e.error('[Assets] There is no String or Bytes asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Tr.loadFont=function(t){Tr.initialize();var e=new Jr,i=t.substring(0,t.indexOf(":")),n=$.substr(t,t.indexOf(":")+1,null),s=Tr.getLibrary(i);return null!=s?s.exists(n,"FONT")?e.completeWith(s.loadFont(n)):e.error('[Assets] There is no Font asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Tr.loadImage=function(i,t){null==t&&(t=!0),Tr.initialize();var e,n=new Jr;if(t&&Tr.cache.enabled){var s=Tr.cache.image;e=null!=df[i]?s.existsReserved(i):s.h.hasOwnProperty(i)}else e=!1;if(e){var r=Tr.cache.image,a=null!=df[i]?r.getReserved(i):r.h[i];if(Tr.isValidImage(a))return n.complete(a),n.future}var o=i.indexOf(":"),l=i.substring(0,o),h=i.indexOf(":")+1,_=$.substr(i,h,null),u=Tr.getLibrary(l);if(null!=u)if(u.exists(_,"IMAGE")){var c=u.loadImage(_);t&&Tr.cache.enabled&&c.onComplete(function(t){var e=Tr.cache.image;null!=df[i]?e.setReserved(i,t):e.h[i]=t}),n.completeWith(c)}else n.error('[Assets] There is no Image asset with an ID of "'+i+'"');else n.error('[Assets] There is no asset library named "'+l+'"');return n.future},Tr.loadLibrary=function(t){Tr.initialize();var e=new Jr,i=Tr.getText("libraries/"+t+".json");if(null!=i&&""!=i){var n=JSON.parse(i),s=Pi.createInstance(Pi.resolveClass(n.type),n.args),r=Tr.libraries;null!=df[t]?r.setReserved(t,s):r.h[t]=s,s.onChange.add(of(rf=Tr.onChange,rf.dispatch)),e.completeWith(s.load())}else e.error('[Assets] There is no asset library named "'+t+'"');return e.future},Tr.loadText=function(t){Tr.initialize();var e=new Jr,i=t.substring(0,t.indexOf(":")),n=$.substr(t,t.indexOf(":")+1,null),s=Tr.getLibrary(i);return null!=s?s.exists(n,"TEXT")?e.completeWith(s.loadText(n)):e.error('[Assets] There is no String asset with an ID of "'+t+'"'):e.error('[Assets] There is no asset library named "'+i+'"'),e.future},Tr.registerLibrary=function(t,e){var i=Tr.libraries;if(null!=df[t]?i.existsReserved(t):i.h.hasOwnProperty(t)){var n=Tr.libraries;if((null!=df[t]?n.getReserved(t):n.h[t])==e)return;Tr.unloadLibrary(t)}null!=e&&e.onChange.add(Tr.library_onChange);var s=Tr.libraries;null!=df[t]?s.setReserved(t,e):s.h[t]=e},Tr.unloadLibrary=function(t){Tr.initialize();var e=Tr.libraries,i=null!=df[t]?e.getReserved(t):e.h[t];null!=i&&(Tr.cache.clear(t+":"),i.onChange.remove(Tr.library_onChange),i.unload()),Tr.libraries.remove(t)},Tr.library_onChange=function(){Tr.cache.clear(),Tr.onChange.dispatch()};var Sr=function(t){this.gameDeviceCache=new Gs,this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,ea.init(),Sr.instance=this};(i["lime._backend.html5.HTML5Application"]=Sr).__name__=["lime","_backend","html5","HTML5Application"],Sr.instance=null,Sr.staticHandleApplicationEvent=function(t){var e=performance.now();Sr.instance.handleApplicationEvent(e)},Sr.prototype={convertKeyCode:function(t){if(65<=t&&t<=90)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 144:return 1073741907;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",of(this,this.handleKeyEvent),!1),window.addEventListener("keyup",of(this,this.handleKeyEvent),!1),window.addEventListener("focus",of(this,this.handleWindowEvent),!1),window.addEventListener("blur",of(this,this.handleWindowEvent),!1),this.parent.windows[0].__resizable&&window.addEventListener("resize",of(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",of(this,this.handleWindowEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,i){return!1});for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),s=window.setTimeout(function(){t(i+n)},n);return r=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.requestAnimFrameFunc=window.requestAnimationFrame,this.handleApplicationEvent(0),0},exit:function(){ea.shutdown()},getFrameRate:function(){return this.framePeriod<0?60:1e3==this.framePeriod?0:1e3/this.framePeriod},handleApplicationEvent:function(t){if(this.currentUpdate=t,this.currentUpdate>=this.nextUpdate){if(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.render(this.parent.renderers[0]),this.parent.renderers[0].flip()),this.framePeriod<0)this.nextUpdate=this.currentUpdate;else for(;this.nextUpdate+=this.framePeriod,this.nextUpdate<this.currentUpdate;);this.lastUpdate=this.currentUpdate}Sr.stopUpdating||this.requestAnimFrameFunc.call(window,Sr.staticHandleApplicationEvent)},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){8==t.keyCode&&t.preventDefault();var e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),i=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0);"keydown"==t.type?this.parent.windows[0].onKeyDown.dispatch(e,i):this.parent.windows[0].onKeyUp.dispatch(e,i),this.parent.windows[0].backend.getEnableTextEvents()||t.preventDefault()}},handleWindowEvent:function(t){if(null!=this.parent.windows[0])switch(t.type){case"beforeunload":this.parent.windows[0].onClose.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch()}},setFrameRate:function(t){return this.framePeriod=60<=t?-1:0<t?1e3/t:1e3,t},updateGameDevices:function(){var t=so.__getDeviceData();if(null!=t)for(var e,i,n,s,r,a=0,o=t.length;a<o;){if(null!=(s=t[e=a++])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){(r=new Er).id=e,r.connected=s.connected;for(var l=0,h=s.buttons.length;l<h;){var _=l++;r.buttons.push(s.buttons[_].value)}for(var u=0,c=s.axes.length;u<c;){var f=u++;r.axes.push(s.axes[f])}"standard"==s.mapping&&(r.isGamepad=!0),this.gameDeviceCache.h[e]=r,s.connected&&(so.__connect(e),r.isGamepad&&eo.__connect(e))}if(r=this.gameDeviceCache.h[e],n=so.devices.h[e],i=eo.devices.h[e],s.connected){for(var d,p,g=0,m=s.buttons.length;g<m;){var v=g++;if((p=s.buttons[v].value)!=r.buttons[v]){if(6==v)n.onAxisMove.dispatch(s.axes.length,p),null!=i&&i.onAxisMove.dispatch(4,p);else if(7==v)n.onAxisMove.dispatch(s.axes.length+1,p),null!=i&&i.onAxisMove.dispatch(5,p);else if(0<p?n.onButtonDown.dispatch(v):n.onButtonUp.dispatch(v),null!=i){switch(v){case 0:d=0;break;case 1:d=1;break;case 2:d=2;break;case 3:d=3;break;case 4:d=9;break;case 5:d=10;break;case 8:d=4;break;case 9:d=6;break;case 10:d=7;break;case 11:d=8;break;case 12:d=11;break;case 13:d=12;break;case 14:d=13;break;case 15:d=14;break;case 16:d=5;break;default:continue}0<p?i.onButtonDown.dispatch(d):i.onButtonUp.dispatch(d)}r.buttons[v]=p}}for(var b=0,y=s.axes.length;b<y;){var w=b++;s.axes[w]!=r.axes[w]&&(n.onAxisMove.dispatch(w,s.axes[w]),null!=i&&i.onAxisMove.dispatch(w,s.axes[w]),r.axes[w]=s.axes[w])}}else r.connected&&(r.connected=!1,so.__disconnect(e),eo.__disconnect(e))}}},__class__:Sr};var Er=function(){this.connected=!0,this.buttons=[],this.axes=[]};(i["lime._backend.html5.GameDeviceData"]=Er).__name__=["lime","_backend","html5","GameDeviceData"],Er.prototype={__class__:Er};var Ir=function(){};(i["lime._backend.html5.HTML5Mouse"]=Ir).__name__=["lime","_backend","html5","HTML5Mouse"],Ir.__cursor=null,Ir.__hidden=null,Ir.hide=function(){if(!Ir.__hidden){Ir.__hidden=!0;for(var t=0,e=Ar.current.windows;t<e.length;){var i=e[t];++t,i.backend.element.style.cursor="none"}}},Ir.show=function(){if(Ir.__hidden){Ir.__hidden=!1;var t=Ir.__cursor;Ir.__cursor=null,Ir.set_cursor(t)}},Ir.warp=function(t,e,i){},Ir.get_cursor=function(){return null==Ir.__cursor?ho.DEFAULT:Ir.__cursor},Ir.set_cursor=function(t){if(Ir.__cursor!=t){if(!Ir.__hidden)for(var e=0,i=Ar.current.windows;e<i.length;){var n,s=i[e];switch(++e,t[1]){case 0:n="default";break;case 1:n="crosshair";break;case 3:n="move";break;case 4:n="pointer";break;case 5:n="nesw-resize";break;case 6:n="ns-resize";break;case 7:n="nwse-resize";break;case 8:n="ew-resize";break;case 9:n="text";break;case 10:case 11:n="wait";break;default:n="auto"}s.backend.element.style.cursor=n}Ir.__cursor=t}return Ir.__cursor},Ir.get_lock=function(){return!1},Ir.set_lock=function(t){return t};var Cr=function(t){this.parent=t};(i["lime._backend.html5.HTML5Renderer"]=Cr).__name__=["lime","_backend","html5","HTML5Renderer"],Cr.prototype={create:function(){this.createContext(),0==this.parent.context[1]&&(this.parent.window.backend.canvas.addEventListener("webglcontextlost",of(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",of(this,this.handleEvent),!1))},createContext:function(){if(null!=this.parent.window.backend.canvas){var t,e={alpha:!1,antialias:Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&0<this.parent.window.config.antialiasing,depth:!Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")||this.parent.window.config.depthBuffer,premultipliedAlpha:!1,stencil:Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1};if(null==(t=gr.getContextWebGL(this.parent.window.backend.canvas,e)))throw new fr("Only webgl supported");xa.context=t,this.parent.context=pa.OPENGL(new _a),this.parent.type=ma.OPENGL}},flip:function(){},handleEvent:function(t){switch(t.type){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(t){if(null!=this.parent.window.backend.canvas&&(null==t?t=new Aa(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):t.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),0<t.width&&0<t.height)){var e=window.document.createElement("canvas");return e.width=0|t.width,e.height=0|t.height,e.getContext("2d").drawImage(this.parent.window.backend.canvas,-t.x,-t.y),ua.fromCanvas(e)}return null},render:function(){},__class__:Cr};var Pr=function(t){this.unusedTouchesPool=new et,this.currentTouches=new Gs,null!=(this.parent=t).config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element),t.onFocusIn.add(of(this,this.focus))};(i["lime._backend.html5.HTML5Window"]=Pr).__name__=["lime","_backend","html5","HTML5Window"],Pr.textInput=null,Pr.prototype={alert:function(t,e){null!=t&&pr.alert(t)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=Pr.windowID++,dr.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var i=this.div.style;i.setProperty("-webkit-transform","translate3D(0,0,0)",null),i.setProperty("transform","translate3D(0,0,0)",null),i.position="relative",i.overflow="hidden",i.setProperty("-webkit-user-select","none",null),i.setProperty("-moz-user-select","none",null),i.setProperty("-ms-user-select","none",null),i.setProperty("-o-user-select","none",null)}if(this.parent.__resizable)if(this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height,null==this.element||0==this.element.clientWidth&&0==this.element.clientHeight)this.parent.resize(window.innerWidth,window.innerHeight);else{var n=0,s=0;0!=this.element.clientWidth&&0!=this.element.clientHeight?(n=this.element.clientWidth,s=this.element.clientHeight):0!=this.element.clientWidth?(n=this.element.clientWidth,s=Math.round(n*(this.parent.__originalHeight/this.parent.__originalWidth))):(s=this.element.clientHeight,n=Math.round(s*(this.parent.__originalWidth/this.parent.__originalHeight))),this.parent.resize(0|n,0|s)}else 0==this.parent.__width&&0==this.parent.__height&&(null!=this.element&&0!=this.element.clientWidth&&0!=this.element.clientHeight?this.parent.resize(this.element.clientWidth,this.element.clientHeight):this.parent.resize(window.innerWidth,window.innerHeight)),this.parent.__originalWidth=this.parent.__width,this.parent.__originalHeight=this.parent.__height;if(null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var r=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel","contextmenu"],a=0;a<r.length;){var o=r[a];++a,this.element.addEventListener(o,of(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"!=t.target.nodeName.toLowerCase()||(t.preventDefault(),!1)},!1),this.element.addEventListener("touchstart",of(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",of(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",of(this,this.handleTouchEvent),!0),this.element.addEventListener("gamepadconnected",of(this,this.handleGamepadEvent),!0),this.element.addEventListener("gamepaddisconnected",of(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return Wa.getDisplay(0)},getEnableTextEvents:function(){return this.enableTextEvents},handleFocusEvent:function(t){this.enableTextEvents&&Fs.delay(function(){Pr.textInput.focus()},20)},handleGamepadEvent:function(t){switch(t.type){case"gamepadconnected":so.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&eo.__connect(t.gamepad.index);break;case"gamepaddisconnected":so.__disconnect(t.gamepad.index),eo.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){""!=Pr.textInput.value&&(this.parent.onTextInput.dispatch(Pr.textInput.value),Pr.textInput.value="")},handleMouseEvent:function(t){var e=0,i=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var n=this.canvas.getBoundingClientRect();e=(t.clientX-n.left)*(this.parent.__width/n.width),i=(t.clientY-n.top)*(this.parent.__height/n.height)}else if(null!=this.div){var s=this.div.getBoundingClientRect();e=t.clientX-s.left,i=t.clientY-s.top}else{var r=this.element.getBoundingClientRect();e=(t.clientX-r.left)*(this.parent.__width/r.width),i=(t.clientY-r.top)*(this.parent.__height/r.height)}else e=t.clientX,i=t.clientY;switch(t.type){case"mousedown":this.parent.onMouseDown.dispatch(e,i,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"contextmenu":case"mouseleave":this.parent.onLeave.dispatch();break;case"mousemove":this.parent.onMouseMove.dispatch(e,i);break;case"mouseup":this.parent.onMouseUp.dispatch(e,i,t.button)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var i=this.setWidth,n=this.setHeight;0!=i&&0!=n||(n=null!=e?(i=e.width,e.height):i=1);for(var s=0,r=t.changedTouches;s<r.length;){var a=r[s];++s;var o=0,l=0;switch(l=null!=e?(o=(a.clientX-e.left)*(this.parent.__width/e.width),(a.clientY-e.top)*(this.parent.__height/e.height)):(o=a.clientX,a.clientY),t.type){case"touchend":var h=this.currentTouches.get(a.identifier);if(null!=h){var _=h.x,u=h.y;h.x=o/i,h.y=l/n,h.dx=h.x-_,h.dy=h.y-u,h.pressure=a.force,_o.onEnd.dispatch(h),this.currentTouches.remove(a.identifier),this.unusedTouchesPool.add(h),h==this.primaryTouch&&(this.parent.onMouseUp.dispatch(o,l,0),this.primaryTouch=null)}break;case"touchmove":var c=this.currentTouches.get(a.identifier);if(null!=c){var f=c.x,d=c.y;c.x=o/i,c.y=l/n,c.dx=c.x-f,c.dy=c.y-d,c.pressure=a.force,_o.onMove.dispatch(c),c==this.primaryTouch&&this.parent.onMouseMove.dispatch(o,l)}break;case"touchstart":var p=this.unusedTouchesPool.pop();null==p?p=new _o(o/i,l/n,a.identifier,0,0,a.force,this.parent.id):(p.x=o/i,p.y=l/n,p.id=a.identifier,p.dx=0,p.dy=0,p.pressure=a.force,p.device=this.parent.id),this.currentTouches.set(a.identifier,p),_o.onStart.dispatch(p),null==this.primaryTouch&&(this.primaryTouch=p),p==this.primaryTouch&&this.parent.onMouseDown.dispatch(o,l,0)}}},move:function(t,e){},resize:function(t,e){if(null!=this.element&&(this.parent.__width=t,this.parent.__height=e,null!=this.canvas&&this.element!=this.canvas)){var i=this.parent.stage,n=t,s=e;null!=i&&(2!=i.get_scaleMode()&&(t=Math.ceil(i.stageWidth*i.get_scaleX()),e=Math.ceil(i.stageHeight*i.get_scaleY()),this.parent.__width=t,this.parent.__height=e),Math.floor((n-t)/2),Math.floor((s-e)/2))}},resizeViewport:function(t,e){this.canvas.width=t,this.canvas.height=e},setBorderless:function(t){return t},setEnableTextEvents:function(t){return t?(null==Pr.textInput&&((Pr.textInput=window.document.createElement("input")).type="text",Pr.textInput.style.position="absolute",Pr.textInput.style.opacity="0",Pr.textInput.style.color="transparent",Pr.textInput.value="",Pr.textInput.autocapitalize="off",Pr.textInput.autocorrect="off",Pr.textInput.autocomplete="off",new G("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(Pr.textInput.style.fontSize="0px",Pr.textInput.style.width="0px",Pr.textInput.style.height="0px",Pr.textInput.style.left="0px",Pr.textInput.style.top="50%"):(Pr.textInput.style.width="1px",Pr.textInput.style.height="1px",Pr.textInput.style.left="-1000px",Pr.textInput.style.top="0px"),Pr.textInput.style.pointerEvents="none",Pr.textInput.style.zIndex="-10000000",window.document.body.appendChild(Pr.textInput)),this.enableTextEvents||(Pr.textInput.addEventListener("input",of(this,this.handleInputEvent),!0),Pr.textInput.addEventListener("blur",of(this,this.handleFocusEvent),!0)),Pr.textInput.focus()):null!=Pr.textInput&&(Pr.textInput.removeEventListener("input",of(this,this.handleInputEvent),!0),Pr.textInput.removeEventListener("blur",of(this,this.handleFocusEvent),!0),Pr.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},setIcon:function(t){},setMinimized:function(t){return!1},setResizable:function(t){return t},setTitle:function(t){return t},getScreenWidth:function(){return window.screen.width},getScreenHeight:function(){return window.screen.height},__class__:Pr};var Ar=function(){this.onUpdate=new Nr,si.call(this),null==Ar.current&&(Ar.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new Gs,this.backend=new Sr(this),this.onExit.add(of(this,this.onModuleExit)),this.onUpdate.add(of(this,this.update)),eo.onConnect.add(of(this,this.__onGamepadConnect)),so.onConnect.add(of(this,this.__onJoystickConnect)),_o.onStart.add(of(this,this.onTouchStart)),_o.onMove.add(of(this,this.onTouchMove)),_o.onEnd.add(of(this,this.onTouchEnd))};(i["lime.app.Application"]=Ar).__name__=["lime","app","Application"],Ar.current=null,Ar.__super__=si,Ar.prototype=n(si.prototype,{addModule:function(t){if(this.modules.push(t),0<this.windows.length){for(var e=0,i=this.windows;e<i.length;){var n=i[e];++e,t.onWindowCreate(n)}(null==this.preloader||this.preloader.complete)&&t.onPreloadComplete()}},addRenderer:function(t){var e=of(this,this.render),i=t;t.onRender.add(function(){e(i)});var n=of(this,this.onRenderContextLost),s=t;t.onContextLost.add(function(){n(s)});var r=of(this,this.onRenderContextRestored),a=t;t.onContextRestored.add(function(t){r(a,t)}),this.renderers.push(t)},create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var s=new uo(n);this.createWindow(s);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},createWindow:function(t){var e=of(this,this.onWindowActivate),i=t;t.onActivate.add(function(){e(i)});var n=of(this,this.onWindowClose),s=t;t.onClose.add(function(){n(s)});var r=of(this,this.onWindowCreate),a=t;t.onCreate.add(function(){r(a)});var o=of(this,this.onWindowDeactivate),l=t;t.onDeactivate.add(function(){o(l)});var h=of(this,this.onWindowEnter),_=t;t.onEnter.add(function(){h(_)});var u=of(this,this.onWindowFocusIn),c=t;t.onFocusIn.add(function(){u(c)});var f=of(this,this.onWindowFocusOut),d=t;t.onFocusOut.add(function(){f(d)});var p=of(this,this.onWindowFullscreen),g=t;t.onFullscreen.add(function(){p(g)});var m=of(this,this.onKeyDown),v=t;t.onKeyDown.add(function(t,e){m(v,t,e)});var b=of(this,this.onKeyUp),y=t;t.onKeyUp.add(function(t,e){b(y,t,e)});var w=of(this,this.onWindowLeave),x=t;t.onLeave.add(function(){w(x)});var T=of(this,this.onWindowMinimize),S=t;t.onMinimize.add(function(){T(S)});var E=of(this,this.onMouseDown),I=t;t.onMouseDown.add(function(t,e,i){E(I,t,e,i)});var C=of(this,this.onMouseMove),P=t;t.onMouseMove.add(function(t,e){C(P,t,e)});var A=of(this,this.onMouseMoveRelative),D=t;t.onMouseMoveRelative.add(function(t,e){A(D,t,e)});var R=of(this,this.onMouseUp),M=t;t.onMouseUp.add(function(t,e,i){R(M,t,e,i)});var F=of(this,this.onMouseWheel),B=t;t.onMouseWheel.add(function(t,e){F(B,t,e)});var L=of(this,this.onWindowMove),k=t;t.onMove.add(function(t,e){L(k,t,e)});var N=of(this,this.onWindowResize),O=t;t.onResize.add(function(t,e){N(O,t,e)});var U=of(this,this.onWindowRestore),G=t;t.onRestore.add(function(){U(G)});var X=of(this,this.onTextEdit),V=t;t.onTextEdit.add(function(t,e,i){X(V,t,e,i)});var z=of(this,this.onTextInput),H=t;if(t.onTextInput.add(function(t){z(H,t)}),null==t.renderer){var W=new ga(t);this.addRenderer(W)}t.create(this),this.windows.push(t),(this.windowByID.h[t.id]=t).onCreate.dispatch()},exec:function(){return(Ar.current=this).backend.exec()},onGamepadAxisMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onGamepadAxisMove(t,e,i)}},onGamepadButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadConnect(t)}},onGamepadDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickAxisMove(t,e,i)}},onJoystickButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickConnect(t)}},onJoystickDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickHatMove(t,e,i)}},onJoystickTrackballMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onJoystickTrackballMove(t,e,i)}},onKeyDown:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onKeyDown(t,e,i)}},onKeyUp:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onKeyUp(t,e,i)}},onModuleExit:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onMouseDown(t,e,i,n)}},onMouseMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseMove(t,e,i)}},onMouseMoveRelative:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseMoveRelative(t,e,i)}},onMouseUp:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onMouseUp(t,e,i,n)}},onMouseWheel:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onMouseWheel(t,e,i)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var i=e[t];++t,i.onPreloadComplete()}},onPreloadProgress:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onPreloadProgress(t,e,i)}},onRenderContextLost:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,i,n){for(var s=0,r=this.modules;s<r.length;){var a=r[s];++s,a.onTextEdit(t,e,i,n)}},onTextInput:function(t,e){for(var i=0,n=this.modules;i<n.length;){var s=n[i];++i,s.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowDeactivate(t)}},onWindowEnter:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowMinimize(t)}},onWindowMove:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onWindowMove(t,e,i)}},onWindowResize:function(t,e,i){for(var n=0,s=this.modules;n<s.length;){var r=s[n];++n,r.onWindowResize(t,e,i)}},onWindowRestore:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowRestore(t)}},removeModule:function(t){null!=t&&(t.onModuleExit(0),$.remove(this.modules,t))},removeRenderer:function(t){null!=t&&-1<this.renderers.indexOf(t)&&$.remove(this.renderers,t)},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&($.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(of(this,this.onPreloadProgress)),this.preloader.onComplete.remove(of(this,this.onPreloadComplete))),(this.preloader=t).complete?this.onPreloadComplete():(t.onProgress.add(of(this,this.onPreloadProgress)),t.onComplete.add(of(this,this.onPreloadComplete)))},update:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.update(t)}},__onGamepadConnect:function(t){this.onGamepadConnect(t);var i=of(this,this.onGamepadAxisMove),n=t;t.onAxisMove.add(function(t,e){i(n,t,e)});var e=of(this,this.onGamepadButtonDown),s=t;t.onButtonDown.add(function(t){e(s,t)});var r=of(this,this.onGamepadButtonUp),a=t;t.onButtonUp.add(function(t){r(a,t)});var o=of(this,this.onGamepadDisconnect),l=t;t.onDisconnect.add(function(){o(l)})},__onJoystickConnect:function(t){this.onJoystickConnect(t);var i=of(this,this.onJoystickAxisMove),n=t;t.onAxisMove.add(function(t,e){i(n,t,e)});var e=of(this,this.onJoystickButtonDown),s=t;t.onButtonDown.add(function(t){e(s,t)});var r=of(this,this.onJoystickButtonUp),a=t;t.onButtonUp.add(function(t){r(a,t)});var o=of(this,this.onJoystickDisconnect),l=t;t.onDisconnect.add(function(){o(l)});var h=of(this,this.onJoystickHatMove),_=t;t.onHatMove.add(function(t,e){h(_,t,e)});var u=of(this,this.onJoystickTrackballMove),c=t;t.onTrackballMove.add(function(t,e){u(c,t,e)})},stopUpdating:function(){Sr.stopUpdating=!0},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(t){return this.backend.setFrameRate(t)},get_renderer:function(){return this.renderers[0]},get_window:function(){return this.windows[0]},__class__:Ar,__properties__:{get_window:"get_window",get_renderer:"get_renderer",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});var Dr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event"]=Dr).__name__=["lime","app","Event"],Dr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__class__:Dr};var Rr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Dynamic_Void"]=Rr).__name__=["lime","app","Event_Dynamic_Void"],Rr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Rr};var Mr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Float_Float_Int_Void"]=Mr).__name__=["lime","app","Event_Float_Float_Int_Void"],Mr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Mr};var Fr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Float_Float_Void"]=Fr).__name__=["lime","app","Event_Float_Float_Void"],Fr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:Fr};var Br=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Float_Void"]=Br).__name__=["lime","app","Event_Int_Float_Void"],Br.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:Br};var Lr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Int_Dynamic_Void"]=Lr).__name__=["lime","app","Event_Int_Int_Dynamic_Void"],Lr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Lr};var kr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Int_Void"]=kr).__name__=["lime","app","Event_Int_Int_Void"],kr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:kr};var Nr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_Void"]=Nr).__name__=["lime","app","Event_Int_Void"],Nr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Nr};var Or=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=Or).__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"],Or.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:Or};var Ur=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_String_Int_Int_Void"]=Ur).__name__=["lime","app","Event_String_Int_Int_Void"],Ur.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,s=this.__repeat,r=0;r<n.length&&(n[r](t,e,i),s[r]?++r:this.remove(n[r]),!this.canceled););},__class__:Ur};var Gr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_String_Void"]=Gr).__name__=["lime","app","Event_String_Void"],Gr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Gr};var Xr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_graphics_RenderContext_Void"]=Xr).__name__=["lime","app","Event_lime_graphics_RenderContext_Void"],Xr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Xr};var Vr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Vr).__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"],Vr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:Vr};var zr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_GamepadButton_Void"]=zr).__name__=["lime","app","Event_lime_ui_GamepadButton_Void"],zr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:zr};var Hr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_Gamepad_Void"]=Hr).__name__=["lime","app","Event_lime_ui_Gamepad_Void"],Hr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Hr};var Wr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_Joystick_Void"]=Wr).__name__=["lime","app","Event_lime_ui_Joystick_Void"],Wr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Wr};var Yr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Yr).__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"],Yr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,s=0;s<i.length&&(i[s](t,e),n[s]?++s:this.remove(i[s]),!this.canceled););},__class__:Yr};var Kr=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};(i["lime.app.Event_lime_ui_Touch_Void"]=Kr).__name__=["lime","app","Event_lime_ui_Touch_Void"],Kr.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,s=this.__priorities.length;n<s;){var r=n++;if(i>this.__priorities[r])return this.__listeners.splice(r,0,t),this.__priorities.splice(r,0,i),void this.__repeat.splice(r,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,Dt.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;0<=--e;)Dt.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?++n:this.remove(e[n]),!this.canceled););},__class__:Kr};var jr=function(t){if(null!=t){null==jr.__threadPool&&(jr.__threadPool=new Ya,jr.__threadPool.doWork.add(jr.threadPool_doWork),jr.__threadPool.onComplete.add(jr.threadPool_onComplete),jr.__threadPool.onError.add(jr.threadPool_onError));var e=new Jr;e.future=this,jr.__threadPool.queue({promise:e,work:t})}};(i["lime.app.Future"]=jr).__name__=["lime","app","Future"],jr.__threadPool=null,jr.threadPool_doWork=function(e){try{var t=e.work();jr.__threadPool.sendComplete({promise:e.promise,result:t})}catch(t){(Is.lastException=t)instanceof fr&&(t=t.val),jr.__threadPool.sendError({promise:e.promise,error:t})}},jr.threadPool_onComplete=function(t){t.promise.complete(t.result)},jr.threadPool_onError=function(t){t.promise.error(t.error)},jr.prototype={onComplete:function(t){return null!=t&&(this.__completed?t(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.__errored?t(this.__errorMessage):this.__completed||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},then:function(i){if(this.__completed)return i(this.value);if(this.__errored){var t=new jr;return t.onError(this.__errorMessage),t}var n=new Jr;return this.onError(of(n,n.error)),this.onProgress(of(n,n.progress)),this.onComplete(function(t){var e=i(t);e.onError(of(n,n.error)),e.onComplete(of(n,n.complete))}),n.future},get_isCompleted:function(){return!!this.__completed||this.__errored},__class__:jr,__properties__:{get_isCompleted:"get_isCompleted"}};var qr=function(){this.total=0,this.loaded=0,this.onError=new Gr,this.onProgress=new Lr,this.onComplete=new xr,this.onProgress.add(of(this,this.update))};(i["lime.app.Preloader"]=qr).__name__=["lime","app","Preloader"],qr.prototype={create:function(t){},load:function(t,e){for(var i=null,n=Tr.cache.version,s=0,r=t.length;s<r;){var a=s++;switch(i=t[a],e[a]){case"BINARY":if(!qr.loaders.exists(i)){var o=new La;qr.loaders.set(i,o),this.total++}break;case"FONT":this.total++,this.loadFont(i);break;case"IMAGE":if(!qr.images.exists(i)){var l=new Image;qr.images.set(i,l),l.crossOrigin="Anonymous",l.onload=of(this,this.image_onLoad),l.onerror=of(this,this.image_onError),l.src=i+"?"+n,this.total++}break;case"TEXT":if(!qr.loaders.exists(i)){var h=new La;h.responseType="text",qr.loaders.set(i,h),this.total++}}}for(var _=qr.loaders.keys();_.hasNext();){var u=_.next(),c=qr.loaders;(null!=df[u]?c.getReserved(u):c.h[u]).load(u+"?"+n).onComplete(of(this,this.loader_onComplete)).onError(of(this,this.loader_onError))}0==this.total&&this.start()},loadFont:function(e){var i=this;if(window.document.fonts&&of(rf=window.document.fonts,rf.load))window.document.fonts.load("1em '"+e+"'").then(function(t){i.loaded++,i.onProgress.dispatch(i.loaded,i.total,e),i.loaded==i.total&&i.start()});else{var t=window.document.createElement("span");t.innerHTML="giItT1WQy@!-/#";var n=t.style;n.position="absolute",n.left="-10000px",n.top="-10000px",n.fontSize="300px",n.fontFamily="Blank",n.fontVariant="normal",n.fontStyle="normal",n.fontWeight="normal",n.letterSpacing="0",window.document.body.appendChild(t);var s=t.offsetWidth;n.fontFamily="'"+e+"', Blank";var r=null,a=!1,o=0,l=function(){return o+=1,(t.offsetWidth!=s||200<o)&&(a?(i.loaded++,null!=r&&window.clearInterval(r),t.parentNode.removeChild(t),t=null,i.onProgress.dispatch(i.loaded,i.total,null),i.loaded==i.total&&i.start(),!0):!(a=!0))};l()||(r=window.setInterval(l,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e,i){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,t),this.loaded==this.total&&this.start()},image_onError:function(t){this.onError.dispatch(t.target.src),e.console.error("Error loading image: "+t.target.src),this.loaded++},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},loader_onError:function(t){this.onError.dispatch(t)},__class__:qr};var Jr=function(){this.future=new jr};(i["lime.app.Promise"]=Jr).__name__=["lime","app","Promise"],Jr.prototype={complete:function(t){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,i=this.future.__completeListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(of(this,this.complete)),t.onError(of(this,this.error)),t.onProgress(of(this,this.progress)),this},error:function(t){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=t,null!=this.future.__errorListeners)){for(var e=0,i=this.future.__errorListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__errorListeners=null}return this},progress:function(t){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var e=0,i=this.future.__progressListeners;e<i.length;){var n=i[e];++e,n(t)}return this},get_isCompleted:function(){return this.future.get_isCompleted()},__class__:Jr,__properties__:{get_isCompleted:"get_isCompleted"}};var Zr=function(){this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0};(i["lime.audio.ALAudioContext"]=Zr).__name__=["lime","audio","ALAudioContext"],Zr.prototype={bufferData:function(t,e,i,n,s){aa.bufferData(t,e,i,n,s)},buffer3f:function(t,e,i,n,s){aa.buffer3f(t,e,i,n,s)},buffer3i:function(t,e,i,n,s){aa.buffer3i(t,e,i,n,s)},bufferf:function(t,e,i){aa.bufferf(t,e,i)},bufferfv:function(t,e,i){aa.bufferfv(t,e,i)},bufferi:function(t,e,i){aa.bufferi(t,e,i)},bufferiv:function(t,e,i){aa.bufferiv(t,e,i)},deleteBuffer:function(t){aa.deleteBuffer(t)},deleteBuffers:function(t){aa.deleteBuffers(t)},deleteSource:function(t){aa.deleteSource(t)},deleteSources:function(t){aa.deleteSources(t)},disable:function(t){aa.disable(t)},distanceModel:function(t){aa.distanceModel(t)},dopplerFactor:function(t){aa.dopplerFactor(t)},dopplerVelocity:function(t){aa.dopplerVelocity(t)},enable:function(t){aa.enable(t)},genSource:function(){return aa.genSource()},genSources:function(t){return aa.genSources(t)},genBuffer:function(){return aa.genBuffer()},genBuffers:function(t){return aa.genBuffers(t)},getBoolean:function(t){return aa.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),aa.getBooleanv(t,e)},getBuffer3f:function(t,e){return aa.getBuffer3f(t,e)},getBuffer3i:function(t,e){return aa.getBuffer3i(t,e)},getBufferf:function(t,e){return aa.getBufferf(t,e)},getBufferfv:function(t,e,i){return null==i&&(i=1),aa.getBufferfv(t,e,i)},getBufferi:function(t,e){return aa.getBufferi(t,e)},getBufferiv:function(t,e,i){return null==i&&(i=1),aa.getBufferiv(t,e,i)},getDouble:function(t){return aa.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),aa.getDoublev(t,e)},getEnumValue:function(t){return aa.getEnumValue(t)},getError:function(){return aa.getError()},getErrorString:function(){return aa.getErrorString()},getFloat:function(t){return aa.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),aa.getFloatv(t,e)},getInteger:function(t){return aa.getInteger(t)},getIntegerv:function(t,e){return null==e&&(e=1),aa.getIntegerv(t,e)},getListener3f:function(t){return aa.getListener3f(t)},getListener3i:function(t){return aa.getListener3i(t)},getListenerf:function(t){return aa.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),aa.getListenerfv(t,e)},getListeneri:function(t){return aa.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),aa.getListeneriv(t,e)},getProcAddress:function(t){return aa.getProcAddress(t)},getSource3f:function(t,e){return aa.getSource3f(t,e)},getSourcef:function(t,e){return aa.getSourcef(t,e)},getSource3i:function(t,e){return aa.getSource3i(t,e)},getSourcefv:function(t,e,i){return null==i&&(i=1),aa.getSourcefv(t,e)},getSourcei:function(t,e){return aa.getSourcei(t,e)},getSourceiv:function(t,e,i){return null==i&&(i=1),aa.getSourceiv(t,e,i)},getString:function(t){return aa.getString(t)},isBuffer:function(t){return aa.isBuffer(t)},isEnabled:function(t){return aa.isEnabled(t)},isExtensionPresent:function(t){return aa.isExtensionPresent(t)},isSource:function(t){return aa.isSource(t)},listener3f:function(t,e,i,n){aa.listener3f(t,e,i,n)},listener3i:function(t,e,i,n){aa.listener3i(t,e,i,n)},listenerf:function(t,e){aa.listenerf(t,e)},listenerfv:function(t,e){aa.listenerfv(t,e)},listeneri:function(t,e){aa.listeneri(t,e)},listeneriv:function(t,e){aa.listeneriv(t,e)},source3f:function(t,e,i,n,s){aa.source3f(t,e,i,n,s)},source3i:function(t,e,i,n,s){aa.source3i(t,e,i,n,s)},sourcef:function(t,e,i){aa.sourcef(t,e,i)},sourcefv:function(t,e,i){aa.sourcefv(t,e,i)},sourcei:function(t,e,i){aa.sourcei(t,e,i)},sourceiv:function(t,e,i){aa.sourceiv(t,e,i)},sourcePlay:function(t){aa.sourcePlay(t)},sourcePlayv:function(t){aa.sourcePlayv(t)},sourceStop:function(t){aa.sourceStop(t)},sourceStopv:function(t){aa.sourceStopv(t)},sourceRewind:function(t){aa.sourceRewind(t)},sourceRewindv:function(t){aa.sourceRewindv(t)},sourcePause:function(t){aa.sourcePause(t)},sourcePausev:function(t){aa.sourcePausev(t)},sourceQueueBuffer:function(t,e){aa.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,i){aa.sourceQueueBuffers(t,e,i)},sourceUnqueueBuffer:function(t){return aa.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return aa.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){aa.speedOfSound(t)},__class__:Zr};var Qr=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.EXTENSIONS=4102,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.OUT_OF_MEMORY=40965,this.INVALID_VALUE=40964,this.INVALID_ENUM=40963,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.NO_ERROR=0,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.FREQUENCY=4103,this.TRUE=1,this.FALSE=0};(i["lime.audio.ALCAudioContext"]=Qr).__name__=["lime","audio","ALCAudioContext"],Qr.prototype={closeDevice:function(t){return oa.closeDevice(t)},createContext:function(t,e){return oa.createContext(t,e)},destroyContext:function(t){oa.destroyContext(t)},getContextsDevice:function(t){return oa.getContextsDevice(t)},getCurrentContext:function(){return oa.getCurrentContext()},getError:function(t){return oa.getError(t)},getErrorString:function(t){return oa.getErrorString(t)},getIntegerv:function(t,e,i){return null==i&&(i=1),oa.getIntegerv(t,e,i)},getString:function(t,e){return oa.getString(t,e)},makeContextCurrent:function(t){return oa.makeContextCurrent(t)},openDevice:function(t){return oa.openDevice(t)},processContext:function(t){oa.processContext(t)},suspendContext:function(t){oa.suspendContext(t)},__class__:Qr};var $r=function(){this.id=0};(i["lime.audio.AudioBuffer"]=$r).__name__=["lime","audio","AudioBuffer"],$r.fromBytes=function(t){return null},$r.fromFile=function(t){return null},$r.fromURL=function(t,e){null!=t&&-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&e($r.fromFile(t))},$r.prototype={dispose:function(){},__class__:$r};var ta=i["lime.audio.AudioContext"]={__ename__:["lime","audio","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};ta.OPENAL=function(t,e){var i=["OPENAL",0,t,e];return i.__enum__=ta,i.toString=f,i},ta.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=ta,e.toString=f,e},ta.WEB=function(t){var e=["WEB",2,t];return e.__enum__=ta,e.toString=f,e},ta.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=ta,e.toString=f,e},ta.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=ta,e.toString=f,e};var ea=function(){};(i["lime.audio.AudioManager"]=ea).__name__=["lime","audio","AudioManager"],ea.context=null,ea.init=function(t){if(null==ea.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,ea.context=ta.WEB(new AudioContext)}catch(t){Is.lastException=t,ea.context=ta.HTML5(new ra)}else ea.context=t},ea.resume=function(){if(null!=ea.context){var t=ea.context;if(0==t[1]){var e=t[2];e.processContext(e.getCurrentContext())}}},ea.shutdown=function(){if(null!=ea.context){var t=ea.context;switch(t[1]){case 0:var e=t[2],i=e.getCurrentContext();if(null!=i){var n=e.getContextsDevice(i);e.makeContextCurrent(null),e.destroyContext(i),e.closeDevice(n)}break;case 2:t[2].close()}ea.context=null}},ea.suspend=function(){if(null!=ea.context){var t=ea.context;if(0==t[1]){var e=t[2];e.suspendContext(e.getCurrentContext())}}};var ia=function(t,e,i,n){null==n&&(n=0),null==e&&(e=0),this.onComplete=new xr,this.buffer=t,this.offset=e,null!=i&&0!=i&&this.set_length(i),this.set_loops(n),this.id=0,null!=t&&this.init()};(i["lime.audio.AudioSource"]=ia).__name__=["lime","audio","AudioSource"],ia.prototype={dispose:function(){var t=ea.context;if(0==t[1]){var e=t[3];0!=this.id&&e.deleteSource(this.id)}},init:function(){var t=ea.context;if(0==t[1]){var e=t[3];if(0==this.buffer.id){this.buffer.id=e.genBuffer();var i=0;1==this.buffer.channels?8==this.buffer.bitsPerSample?i=e.FORMAT_MONO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_MONO16):2==this.buffer.channels&&(8==this.buffer.bitsPerSample?i=e.FORMAT_STEREO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_STEREO16)),e.bufferData(this.buffer.id,i,this.buffer.data,this.buffer.data.length,this.buffer.sampleRate)}this.id=e.genSource(),e.sourcei(this.id,e.BUFFER,this.buffer.id)}},play:function(){},pause:function(){},stop:function(){},timer_onRun:function(){},get_currentTime:function(){return 0},set_currentTime:function(t){return this.pauseTime=t},get_gain:function(){return 1},set_gain:function(t){return 1},get_length:function(){return null!=this.__length?this.__length:0},set_length:function(t){return this.__length=t},get_loops:function(){return this.__loops},set_loops:function(t){return this.__loops=t},__class__:ia,__properties__:{set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var na=function(t,e,i){this.start=t,this.duration=e,this.preload=i};(i["lime.audio.ExtraSoundOptions"]=na).__name__=["lime","audio","ExtraSoundOptions"],na.prototype={__class__:na};var sa=function(){};(i["lime.audio.FlashAudioContext"]=sa).__name__=["lime","audio","FlashAudioContext"],sa.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,i,n){return null==n&&(n=-1),0},load:function(t,e,i){},loadCompressedDataFromByteArray:function(t,e,i){},loadPCMFromByteArray:function(t,e,i,n,s,r){null==r&&(r=44100),null==s&&(s=!0)},play:function(t,e,i,n){return null==i&&(i=0),null==e&&(e=0),null},__class__:sa};var ra=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};(i["lime.audio.HTML5AudioContext"]=ra).__name__=["lime","audio","HTML5AudioContext"],ra.prototype={canPlayType:function(t,e){return null!=t.src?t.src.canPlayType(e):null},createBuffer:function(t){var e=new $r;return e.src=new Audio,e.src.src=t,e},getAutoplay:function(t){return null!=t.src&&t.src.autoplay},getBuffered:function(t){return null!=t.src?t.src.buffered:null},getCurrentSrc:function(t){return null!=t.src?t.src.currentSrc:null},getCurrentTime:function(t){return null!=t.src?t.src.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.src?t.src.defaultPlaybackRate:1},getDuration:function(t){return null!=t.src?t.src.duration:0},getEnded:function(t){return null!=t.src&&t.src.ended},getError:function(t){return null!=t.src?t.src.error:null},getLoop:function(t){return null!=t.src&&t.src.loop},getMuted:function(t){return null!=t.src&&t.src.muted},getNetworkState:function(t){return null!=t.src?t.src.networkState:0},getPaused:function(t){return null!=t.src&&t.src.paused},getPlaybackRate:function(t){return null!=t.src?t.src.playbackRate:1},getPlayed:function(t){return null!=t.src?t.src.played:null},getPreload:function(t){return null!=t.src?t.src.preload:null},getReadyState:function(t){return null!=t.src?t.src.readyState:0},getSeekable:function(t){return null!=t.src?t.src.seekable:null},getSeeking:function(t){return null!=t.src&&t.src.seeking},getSrc:function(t){return null!=t.src?t.src.src:null},getStartTime:function(t){return null!=t.src?t.src.playbackRate:0},getVolume:function(t){return null!=t.src?t.src.volume:1},load:function(t){null==t.src||t.src.load()},pause:function(t){null==t.src||t.src.pause()},play:function(t){null==t.src||t.src.play()},setAutoplay:function(t,e){null!=t.src&&(t.src.autoplay=e)},setCurrentTime:function(t,e){null!=t.src&&(t.src.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.src&&(t.src.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.src&&(t.src.loop=e)},setMuted:function(t,e){null!=t.src&&(t.src.muted=e)},setPlaybackRate:function(t,e){null!=t.src&&(t.src.playbackRate=e)},setPreload:function(t,e){null!=t.src&&(t.src.preload=e)},setSrc:function(t,e){null!=t.src&&(t.src.src=e)},setVolume:function(t,e){null!=t.src&&(t.src.volume=e)},__class__:ra};var aa=function(){};(i["lime.audio.openal.AL"]=aa).__name__=["lime","audio","openal","AL"],aa.bufferData=function(t,e,i,n,s){},aa.buffer3f=function(t,e,i,n,s){},aa.buffer3i=function(t,e,i,n,s){},aa.bufferf=function(t,e,i){},aa.bufferfv=function(t,e,i){},aa.bufferi=function(t,e,i){},aa.bufferiv=function(t,e,i){},aa.deleteBuffer=function(t){},aa.deleteBuffers=function(t){},aa.deleteSource=function(t){},aa.deleteSources=function(t){},aa.disable=function(t){},aa.distanceModel=function(t){},aa.dopplerFactor=function(t){},aa.dopplerVelocity=function(t){},aa.enable=function(t){},aa.genSource=function(){return 0},aa.genSources=function(t){return null},aa.genBuffer=function(){return 0},aa.genBuffers=function(t){return null},aa.getBoolean=function(t){return!1},aa.getBooleanv=function(t,e){return null==e&&(e=1),null},aa.getBuffer3f=function(t,e){return null},aa.getBuffer3i=function(t,e){return null},aa.getBufferf=function(t,e){return 0},aa.getBufferfv=function(t,e,i){return null==i&&(i=1),null},aa.getBufferi=function(t,e){return 0},aa.getBufferiv=function(t,e,i){return null==i&&(i=1),null},aa.getDouble=function(t){return 0},aa.getDoublev=function(t,e){return null==e&&(e=1),null},aa.getEnumValue=function(t){return 0},aa.getError=function(){return 0},aa.getErrorString=function(){switch(aa.getError()){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},aa.getFloat=function(t){return 0},aa.getFloatv=function(t,e){return null==e&&(e=1),null},aa.getInteger=function(t){return 0},aa.getIntegerv=function(t,e){return null==e&&(e=1),null},aa.getListener3f=function(t){return null},aa.getListener3i=function(t){return null},aa.getListenerf=function(t){return 0},aa.getListenerfv=function(t,e){return null==e&&(e=1),null},aa.getListeneri=function(t){return 0},aa.getListeneriv=function(t,e){return null==e&&(e=1),null},aa.getProcAddress=function(t){return null},aa.getSource3f=function(t,e){return null},aa.getSourcef=function(t,e){return 0},aa.getSource3i=function(t,e){return null},aa.getSourcefv=function(t,e,i){return null==i&&(i=1),null},aa.getSourcei=function(t,e){return 0},aa.getSourceiv=function(t,e,i){return null==i&&(i=1),null},aa.getString=function(t){return null},aa.isBuffer=function(t){return!1},aa.isEnabled=function(t){return!1},aa.isExtensionPresent=function(t){return!1},aa.isSource=function(t){return!1},aa.listener3f=function(t,e,i,n){},aa.listener3i=function(t,e,i,n){},aa.listenerf=function(t,e){},aa.listenerfv=function(t,e){},aa.listeneri=function(t,e){},aa.listeneriv=function(t,e){},aa.source3f=function(t,e,i,n,s){},aa.source3i=function(t,e,i,n,s){},aa.sourcef=function(t,e,i){},aa.sourcefv=function(t,e,i){},aa.sourcei=function(t,e,i){},aa.sourceiv=function(t,e,i){},aa.sourcePlay=function(t){},aa.sourcePlayv=function(t){},aa.sourceStop=function(t){},aa.sourceStopv=function(t){},aa.sourceRewind=function(t){},aa.sourceRewindv=function(t){},aa.sourcePause=function(t){},aa.sourcePausev=function(t){},aa.sourceQueueBuffer=function(t,e){},aa.sourceQueueBuffers=function(t,e,i){},aa.sourceUnqueueBuffer=function(t){return 0},aa.sourceUnqueueBuffers=function(t,e){return null},aa.speedOfSound=function(t){};var oa=function(){};(i["lime.audio.openal.ALC"]=oa).__name__=["lime","audio","openal","ALC"],oa.closeDevice=function(t){return!1},oa.createContext=function(t,e){return null},oa.destroyContext=function(t){},oa.getContextsDevice=function(t){return null},oa.getCurrentContext=function(){return null},oa.getError=function(t){return 0},oa.getErrorString=function(t){switch(oa.getError(t)){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},oa.getIntegerv=function(t,e,i){return null},oa.getString=function(t,e){return null},oa.makeContextCurrent=function(t){return!1},oa.openDevice=function(t){return null},oa.processContext=function(t){},oa.suspendContext=function(t){};var la={};(i["lime.audio.openal._ALContext.ALContext_Impl_"]=la).__name__=["lime","audio","openal","_ALContext","ALContext_Impl_"],la._new=function(t){return t};var ha={};(i["lime.audio.openal._ALDevice.ALDevice_Impl_"]=ha).__name__=["lime","audio","openal","_ALDevice","ALDevice_Impl_"],ha._new=function(t){return t};var _a=function(){this.BROWSER_DEFAULT_WEBGL=37444,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.UNPACK_FLIP_Y_WEBGL=37440,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.MAX_RENDERBUFFER_SIZE=34024,this.RENDERBUFFER_BINDING=36007,this.FRAMEBUFFER_BINDING=36006,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_COMPLETE=36053,this.NONE=0,this.DEPTH_STENCIL_ATTACHMENT=33306,this.STENCIL_ATTACHMENT=36128,this.DEPTH_ATTACHMENT=36096,this.COLOR_ATTACHMENT0=36064,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.RENDERBUFFER_STENCIL_SIZE=36181,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_WIDTH=36162,this.DEPTH_STENCIL=34041,this.STENCIL_INDEX8=36168,this.STENCIL_INDEX=6401,this.DEPTH_COMPONENT16=33189,this.RGB565=36194,this.RGB5_A1=32855,this.RGBA4=32854,this.RENDERBUFFER=36161,this.FRAMEBUFFER=36160,this.HIGH_INT=36341,this.MEDIUM_INT=36340,this.LOW_INT=36339,this.HIGH_FLOAT=36338,this.MEDIUM_FLOAT=36337,this.LOW_FLOAT=36336,this.COMPILE_STATUS=35713,this.POINT_SPRITE=34913,this.VERTEX_PROGRAM_POINT_SIZE=34370,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.SAMPLER_CUBE=35680,this.SAMPLER_2D=35678,this.FLOAT_MAT4=35676,this.FLOAT_MAT3=35675,this.FLOAT_MAT2=35674,this.BOOL_VEC4=35673,this.BOOL_VEC3=35672,this.BOOL_VEC2=35671,this.BOOL=35670,this.INT_VEC4=35669,this.INT_VEC3=35668,this.INT_VEC2=35667,this.FLOAT_VEC4=35666,this.FLOAT_VEC3=35665,this.FLOAT_VEC2=35664,this.MIRRORED_REPEAT=33648,this.CLAMP_TO_EDGE=33071,this.REPEAT=10497,this.ACTIVE_TEXTURE=34016,this.TEXTURE31=34015,this.TEXTURE30=34014,this.TEXTURE29=34013,this.TEXTURE28=34012,this.TEXTURE27=34011,this.TEXTURE26=34010,this.TEXTURE25=34009,this.TEXTURE24=34008,this.TEXTURE23=34007,this.TEXTURE22=34006,this.TEXTURE21=34005,this.TEXTURE20=34004,this.TEXTURE19=34003,this.TEXTURE18=34002,this.TEXTURE17=34001,this.TEXTURE16=34e3,this.TEXTURE15=33999,this.TEXTURE14=33998,this.TEXTURE13=33997,this.TEXTURE12=33996,this.TEXTURE11=33995,this.TEXTURE10=33994,this.TEXTURE9=33993,this.TEXTURE8=33992,this.TEXTURE7=33991,this.TEXTURE6=33990,this.TEXTURE5=33989,this.TEXTURE4=33988,this.TEXTURE3=33987,this.TEXTURE2=33986,this.TEXTURE1=33985,this.TEXTURE0=33984,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE=5890,this.TEXTURE_2D=3553,this.TEXTURE_WRAP_T=10243,this.TEXTURE_WRAP_S=10242,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_MAG_FILTER=10240,this.LINEAR_MIPMAP_LINEAR=9987,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR=9729,this.NEAREST=9728,this.VERSION=7938,this.RENDERER=7937,this.VENDOR=7936,this.DECR_WRAP=34056,this.INCR_WRAP=34055,this.INVERT=5386,this.DECR=7683,this.INCR=7682,this.REPLACE=7681,this.KEEP=7680,this.ALWAYS=519,this.GEQUAL=518,this.NOTEQUAL=517,this.GREATER=516,this.LEQUAL=515,this.EQUAL=514,this.LESS=513,this.NEVER=512,this.CURRENT_PROGRAM=35725,this.SHADING_LANGUAGE_VERSION=35724,this.ACTIVE_ATTRIBUTES=35721,this.ACTIVE_UNIFORMS=35718,this.ATTACHED_SHADERS=35717,this.VALIDATE_STATUS=35715,this.LINK_STATUS=35714,this.DELETE_STATUS=35712,this.SHADER_TYPE=35663,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VARYING_VECTORS=36348,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VERTEX_ATTRIBS=34921,this.VERTEX_SHADER=35633,this.FRAGMENT_SHADER=35632,this.UNSIGNED_SHORT_5_6_5=33635,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_4_4_4_4=32819,this.LUMINANCE_ALPHA=6410,this.LUMINANCE=6409,this.BGRA_EXT=32993,this.BGR_EXT=32992,this.RGBA=6408,this.RGB=6407,this.ALPHA=6406,this.DEPTH_COMPONENT=6402,this.FLOAT=5126,this.UNSIGNED_INT=5125,this.INT=5124,this.UNSIGNED_SHORT=5123,this.SHORT=5122,this.UNSIGNED_BYTE=5121,this.BYTE=5120,this.GENERATE_MIPMAP_HINT=33170,this.NICEST=4354,this.FASTEST=4353,this.DONT_CARE=4352,this.COMPRESSED_TEXTURE_FORMATS=34467,this.SAMPLE_COVERAGE_INVERT=32939,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLES=32937,this.SAMPLE_BUFFERS=32936,this.TEXTURE_BINDING_2D=32873,this.POLYGON_OFFSET_FACTOR=32824,this.POLYGON_OFFSET_UNITS=10752,this.STENCIL_BITS=3415,this.DEPTH_BITS=3414,this.ALPHA_BITS=3413,this.BLUE_BITS=3412,this.GREEN_BITS=3411,this.RED_BITS=3410,this.SUBPIXEL_BITS=3408,this.MAX_VIEWPORT_DIMS=3386,this.MAX_TEXTURE_SIZE=3379,this.PACK_ALIGNMENT=3333,this.UNPACK_ALIGNMENT=3317,this.COLOR_WRITEMASK=3107,this.COLOR_CLEAR_VALUE=3106,this.SCISSOR_BOX=3088,this.VIEWPORT=2978,this.STENCIL_BACK_WRITEMASK=36005,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_FUNC=34816,this.STENCIL_WRITEMASK=2968,this.STENCIL_VALUE_MASK=2963,this.STENCIL_REF=2967,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_FAIL=2964,this.STENCIL_FUNC=2962,this.STENCIL_CLEAR_VALUE=2961,this.DEPTH_FUNC=2932,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_WRITEMASK=2930,this.DEPTH_RANGE=2928,this.FRONT_FACE=2886,this.CULL_FACE_MODE=2885,this.ALIASED_LINE_WIDTH_RANGE=33902,this.ALIASED_POINT_SIZE_RANGE=33901,this.LINE_WIDTH=2849,this.CCW=2305,this.CW=2304,this.OUT_OF_MEMORY=1285,this.INVALID_OPERATION=1282,this.INVALID_VALUE=1281,this.INVALID_ENUM=1280,this.NO_ERROR=0,this.SAMPLE_COVERAGE=32928,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.POLYGON_OFFSET_FILL=32823,this.SCISSOR_TEST=3089,this.DEPTH_TEST=2929,this.STENCIL_TEST=2960,this.DITHER=3024,this.BLEND=3042,this.CULL_FACE=2884,this.FRONT_AND_BACK=1032,this.BACK=1029,this.FRONT=1028,this.CURRENT_VERTEX_ATTRIB=34342,this.BUFFER_USAGE=34661,this.BUFFER_SIZE=34660,this.DYNAMIC_DRAW=35048,this.STATIC_DRAW=35044,this.STREAM_DRAW=35040,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER=34962,this.BLEND_COLOR=32773,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_COLOR=32769,this.BLEND_SRC_ALPHA=32971,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_RGB=32969,this.BLEND_DST_RGB=32968,this.FUNC_REVERSE_SUBTRACT=32779,this.FUNC_SUBTRACT=32778,this.BLEND_EQUATION_ALPHA=34877,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION=32777,this.FUNC_ADD=32774,this.SRC_ALPHA_SATURATE=776,this.ONE_MINUS_DST_COLOR=775,this.DST_COLOR=774,this.ONE_MINUS_DST_ALPHA=773,this.DST_ALPHA=772,this.ONE_MINUS_SRC_ALPHA=771,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_COLOR=769,this.SRC_COLOR=768,this.ONE=1,this.ZERO=0,this.TRIANGLE_FAN=6,this.TRIANGLE_STRIP=5,this.TRIANGLES=4,this.LINE_STRIP=3,this.LINE_LOOP=2,this.LINES=1,this.POINTS=0,this.COLOR_BUFFER_BIT=16384,this.STENCIL_BUFFER_BIT=1024,this.DEPTH_BUFFER_BIT=256};(i["lime.graphics.GLRenderContext"]=_a).__name__=["lime","graphics","GLRenderContext"],_a.prototype={activeTexture:function(t){t!=xa.currentActiveTexture&&(xa.context.activeTexture(t),xa.currentActiveTexture=t)},attachShader:function(t,e){xa.context.attachShader(t,e)},bindAttribLocation:function(t,e,i){xa.context.bindAttribLocation(t,e,i)},bindBuffer:function(t,e){xa.context.bindBuffer(t,e)},bindFramebuffer:function(t,e){xa.context.bindFramebuffer(t,e)},bindRenderbuffer:function(t,e){xa.context.bindRenderbuffer(t,e)},bindTexture:function(t,e){xa.currentBoundTexture[xa.currentActiveTexture]!=e&&(xa.context.bindTexture(t,e),null==(xa.currentBoundTexture[xa.currentActiveTexture]=e)||xa.textureStateCache.exists(e)||xa.textureStateCache.set(e,new Gs))},blendColor:function(t,e,i,n){xa.context.blendColor(t,e,i,n)},blendEquation:function(t){xa.context.blendEquation(t)},blendEquationSeparate:function(t,e){xa.context.blendEquationSeparate(t,e)},blendFunc:function(t,e){xa.context.blendFunc(t,e)},blendFuncSeparate:function(t,e,i,n){xa.context.blendFuncSeparate(t,e,i,n)},bufferData:function(t,e,i){xa.context.bufferData(t,e,i)},bufferSubData:function(t,e,i){xa.context.bufferSubData(t,e,i)},checkFramebufferStatus:function(t){return xa.context.checkFramebufferStatus(t)},clear:function(t){xa.context.clear(t)},clearColor:function(t,e,i,n){xa.context.clearColor(t,e,i,n)},clearDepth:function(t){xa.context.clearDepth(t)},clearStencil:function(t){xa.context.clearStencil(t)},colorMask:function(t,e,i,n){xa.context.colorMask(t,e,i,n)},compileShader:function(t){xa.context.compileShader(t)},compressedTexImage2D:function(t,e,i,n,s,r,a){xa.context.compressedTexImage2D(t,e,i,n,s,r,a)},compressedTexSubImage2D:function(t,e,i,n,s,r,a,o){xa.context.compressedTexSubImage2D(t,e,i,n,s,r,a,o)},copyTexImage2D:function(t,e,i,n,s,r,a,o){xa.context.copyTexImage2D(t,e,i,n,s,r,a,o)},copyTexSubImage2D:function(t,e,i,n,s,r,a,o){xa.context.copyTexSubImage2D(t,e,i,n,s,r,a,o)},createBuffer:function(){return xa.context.createBuffer()},createFramebuffer:function(){return xa.context.createFramebuffer()},createProgram:function(){return xa.context.createProgram()},createRenderbuffer:function(){return xa.context.createRenderbuffer()},createShader:function(t){return xa.context.createShader(t)},createTexture:function(){return xa.context.createTexture()},cullFace:function(t){xa.context.cullFace(t)},deleteBuffer:function(t){xa.context.deleteBuffer(t)},deleteFramebuffer:function(t){xa.context.deleteFramebuffer(t)},deleteProgram:function(t){xa.context.deleteProgram(t)},deleteRenderbuffer:function(t){xa.context.deleteRenderbuffer(t)},deleteShader:function(t){xa.context.deleteShader(t)},deleteTexture:function(t){xa.textureStateCache.remove(t),xa.context.deleteTexture(t)},depthFunc:function(t){xa.context.depthFunc(t)},depthMask:function(t){xa.context.depthMask(t)},depthRange:function(t,e){xa.context.depthRange(t,e)},detachShader:function(t,e){xa.context.detachShader(t,e)},disable:function(t){xa.context.disable(t)},disableVertexAttribArray:function(t){xa.context.disableVertexAttribArray(t)},drawArrays:function(t,e,i){xa.context.drawArrays(t,e,i)},drawElements:function(t,e,i,n){xa.context.drawElements(t,e,i,n)},enable:function(t){xa.context.enable(t)},enableVertexAttribArray:function(t){xa.context.enableVertexAttribArray(t)},finish:function(){xa.context.finish()},flush:function(){xa.context.flush()},framebufferRenderbuffer:function(t,e,i,n){xa.context.framebufferRenderbuffer(t,e,i,n)},framebufferTexture2D:function(t,e,i,n,s){xa.context.framebufferTexture2D(t,e,i,n,s)},frontFace:function(t){xa.context.frontFace(t)},generateMipmap:function(t){xa.context.generateMipmap(t)},getActiveAttrib:function(t,e){return xa.context.getActiveAttrib(t,e)},getActiveUniform:function(t,e){return xa.context.getActiveUniform(t,e)},getAttachedShaders:function(t){return xa.context.getAttachedShaders(t)},getAttribLocation:function(t,e){return xa.context.getAttribLocation(t,e)},getBufferParameter:function(t,e){return xa.context.getBufferParameter(t,e)},getContextAttributes:function(){return xa.context.getContextAttributes()},getError:function(){return xa.context.getError()},getExtension:function(t){return xa.context.getExtension(t)},getFramebufferAttachmentParameter:function(t,e,i){return xa.context.getFramebufferAttachmentParameter(t,e,i)},getParameter:function(t){return xa.context.getParameter(t)},getProgramInfoLog:function(t){return xa.context.getProgramInfoLog(t)},getProgramParameter:function(t,e){return xa.context.getProgramParameter(t,e)},getRenderbufferParameter:function(t,e){return xa.context.getRenderbufferParameter(t,e)},getShaderInfoLog:function(t){return xa.context.getShaderInfoLog(t)},getShaderParameter:function(t,e){return xa.context.getShaderParameter(t,e)},getShaderPrecisionFormat:function(t,e){return xa.context.getShaderPrecisionFormat(t,e)},getShaderSource:function(t){return xa.context.getShaderSource(t)},getSupportedExtensions:function(){return xa.context.getSupportedExtensions()},getTexParameter:function(t,e){return xa.context.getTexParameter(t,e)},getUniform:function(t,e){return xa.context.getUniform(t,e)},getUniformLocation:function(t,e){return xa.context.getUniformLocation(t,e)},getVertexAttrib:function(t,e){return xa.context.getVertexAttrib(t,e)},getVertexAttribOffset:function(t,e){return xa.context.getVertexAttribOffset(t,e)},hint:function(t,e){xa.context.hint(t,e)},isBuffer:function(t){return xa.context.isBuffer(t)},isContextLost:function(){return xa.context.isContextLost()},isEnabled:function(t){return xa.context.isEnabled(t)},isFramebuffer:function(t){return xa.context.isFramebuffer(t)},isProgram:function(t){return xa.context.isProgram(t)},isRenderbuffer:function(t){return xa.context.isRenderbuffer(t)},isShader:function(t){return xa.context.isShader(t)},isTexture:function(t){return xa.context.isTexture(t)},lineWidth:function(t){xa.context.lineWidth(t)},linkProgram:function(t){xa.context.linkProgram(t)},pixelStorei:function(t,e){xa.context.pixelStorei(t,e)},polygonOffset:function(t,e){xa.context.polygonOffset(t,e)},readPixels:function(t,e,i,n,s,r,a){xa.context.readPixels(t,e,i,n,s,r,a)},renderbufferStorage:function(t,e,i,n){xa.context.renderbufferStorage(t,e,i,n)},sampleCoverage:function(t,e){xa.context.sampleCoverage(t,e)},scissor:function(t,e,i,n){xa.context.scissor(t,e,i,n)},shaderSource:function(t,e){xa.context.shaderSource(t,e)},stencilFunc:function(t,e,i){xa.context.stencilFunc(t,e,i)},stencilFuncSeparate:function(t,e,i,n){xa.context.stencilFuncSeparate(t,e,i,n)},stencilMask:function(t){xa.context.stencilMask(t)},stencilMaskSeparate:function(t,e){xa.context.stencilMaskSeparate(t,e)},stencilOp:function(t,e,i){xa.context.stencilOp(t,e,i)},stencilOpSeparate:function(t,e,i,n){xa.context.stencilOpSeparate(t,e,i,n)},texImage2D:function(t,e,i,n,s,r,a,o,l){xa.context.texImage2D(t,e,i,n,s,r,a,o,l)},texImage2DWeb:function(t,e,i,n,s,r){xa.context.texImage2D(t,e,i,n,s,r)},texParameterf:function(t,e,i){xa.context.texParameterf(t,e,i)},texParameteri:function(t,e,i){var n=xa.currentBoundTexture[xa.currentActiveTexture],s=xa.textureStateCache.get(n);s.h[e]!=i&&(xa.context.texParameteri(t,e,i),s.h[e]=i)},texSubImage2D:function(t,e,i,n,s,r,a,o,l){xa.context.texSubImage2D(t,e,i,n,s,r,a,o,l)},uniform1f:function(t,e){xa.context.uniform1f(t,e)},uniform1fv:function(t,e){xa.context.uniform1fv(t,e)},uniform1i:function(t,e){xa.context.uniform1i(t,e)},uniform1iv:function(t,e){xa.context.uniform1iv(t,e)},uniform2f:function(t,e,i){xa.context.uniform2f(t,e,i)},uniform2fv:function(t,e){xa.context.uniform2fv(t,e)},uniform2i:function(t,e,i){xa.context.uniform2i(t,e,i)},uniform2iv:function(t,e){xa.context.uniform2iv(t,e)},uniform3f:function(t,e,i,n){xa.context.uniform3f(t,e,i,n)},uniform3fv:function(t,e){xa.context.uniform3fv(t,e)},uniform3i:function(t,e,i,n){xa.context.uniform3i(t,e,i,n)},uniform3iv:function(t,e){xa.context.uniform3iv(t,e)},uniform4f:function(t,e,i,n,s){xa.context.uniform4f(t,e,i,n,s)},uniform4fv:function(t,e){xa.context.uniform4fv(t,e)},uniform4i:function(t,e,i,n,s){xa.context.uniform4i(t,e,i,n,s)},uniform4iv:function(t,e){xa.context.uniform4iv(t,e)},uniformMatrix2fv:function(t,e,i){xa.context.uniformMatrix2fv(t,e,i)},uniformMatrix3fv:function(t,e,i){xa.context.uniformMatrix3fv(t,e,i)},uniformMatrix4fv:function(t,e,i){xa.context.uniformMatrix4fv(t,e,i)},useProgram:function(t){var e=t;e!=xa.currentProgram&&(xa.context.useProgram(e),e=xa.currentProgram)},validateProgram:function(t){xa.context.validateProgram(t)},vertexAttrib1f:function(t,e){xa.context.vertexAttrib1f(t,e)},vertexAttrib1fv:function(t,e){xa.context.vertexAttrib1fv(t,e)},vertexAttrib2f:function(t,e,i){xa.context.vertexAttrib2f(t,e,i)},vertexAttrib2fv:function(t,e){xa.context.vertexAttrib2fv(t,e)},vertexAttrib3f:function(t,e,i,n){xa.context.vertexAttrib3f(t,e,i,n)},vertexAttrib3fv:function(t,e){xa.context.vertexAttrib3fv(t,e)},vertexAttrib4f:function(t,e,i,n,s){xa.context.vertexAttrib4f(t,e,i,n,s)},vertexAttrib4fv:function(t,e){xa.context.vertexAttrib4fv(t,e)},vertexAttribPointer:function(t,e,i,n,s,r){xa.context.vertexAttribPointer(t,e,i,n,s,r)},viewport:function(t,e,i,n){xa.context.viewport(t,e,i,n)},get_version:function(){return 2},__class__:_a,__properties__:{get_version:"get_version"}};var ua=function(t,e,i,n,s,r,a){if(null==s&&(s=-1),null==n&&(n=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=n,this.height=s,null==a)if(null!=Ar.current&&null!=Ar.current.renderers[0]){Ar.current.renderers[0].context;this.type=da.DATA}else this.type=da.DATA;else this.type=a;if(null==t){if(0<n&&0<s)switch(this.type[1]){case 0:this.buffer=new ca(null,n,s),Ta.createCanvas(this,n,s),null!=r&&this.fillRect(new Aa(0,0,n,s),r);break;case 1:var o,l=n*s*4;o=null!=l?new vf(l):null,this.buffer=new ca(o,n,s),null!=r&&this.fillRect(new Aa(0,0,n,s),r)}}else this.__fromImageBuffer(t)};(i["lime.graphics.Image"]=ua).__name__=["lime","graphics","Image"],ua.__base64Encoder=null,ua.fromBase64=function(t,e,i){if(null==t)return null;var n=new ua;return n.__fromBase64(t,e,i),n},ua.fromBitmapData=function(t){return null==t?null:Dt.getProperty(t,"image")},ua.fromBytes=function(t,e){if(null==t)return null;var i=new ua;return i.__fromBytes(t,e),i},ua.fromCanvas=function(t){if(null==t)return null;var e=new ca(null,t.width,t.height);return e.set_src(t),new ua(e)},ua.fromFile=function(t,e,i){var n=new ua;return n.__fromFile(t,e,i),n},ua.fromImageElement=function(t){if(null==t)return null;var e=new ca(null,t.width,t.height);return e.set_src(t),new ua(e)},ua.__base64Encode=function(t){var e;switch(t.length%3){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==ua.__base64Encoder&&(ua.__base64Encoder=new Ns(ps.ofString(ua.__base64Chars))),ua.__base64Encoder.encodeBytes(t).toString()+e},ua.__isJPG=function(t){return 255==t.b[0]&&216==t.b[1]},ua.__isPNG=function(t){return 137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},ua.__isGIF=function(t){if(71!=t.b[0]||73!=t.b[1]||70!=t.b[2]||56!=t.b[3])return!1;var e=t.b[4];return(55==e||57==e)&&97==t.b[5]},ua.prototype={clone:function(){if(null==this.buffer)return new ua(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type);this.type==da.CANVAS&&null==this.buffer.__srcImage&&(Ta.convertToCanvas(this),Ta.sync(this,!0));var t=new ua(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Ta.colorTransform(this,t,e);break;case 1:Ta.convertToData(this),Sa.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),Ia.__toFlashColorTransform(e))}},copyChannel:function(t,e,i,n,s){if((e=this.__clipRect(e),null!=this.buffer&&null!=e)&&((s!=fa.ALPHA||this.get_transparent())&&!(e.width<=0||e.height<=0)))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),this.type[1]){case 0:Ta.copyChannel(this,t,e,i,n,s);break;case 1:Ta.convertToData(this),Ta.convertToData(t),Sa.copyChannel(this,t,e,i,n,s);break;case 2:var r,a;switch(n[1]){case 0:r=1;break;case 1:r=2;break;case 2:r=4;break;case 3:r=8}switch(s[1]){case 0:a=1;break;case 1:a=2;break;case 2:a=4;break;case 3:a=8}e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),r,a)}},copyPixels:function(t,e,i,n,s,r){if((null==r&&(r=!1),null!=this.buffer&&null!=t)&&!(e.width<=0||e.height<=0||this.width<=0||this.height<=0))switch(e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),i.x+e.width>this.width&&(e.width=this.width-i.x),i.y+e.height>this.height&&(e.height=this.height-i.y),i.x<0&&(e.width+=i.x,e.x=-i.x,i.x=0),i.y<0&&(e.height+=i.y,e.y=-i.y,i.y=0),this.type[1]){case 0:Ta.convertToCanvas(this),Ta.copyPixels(this,t,e,i,n,s,r);break;case 1:Ta.convertToData(this),Ta.convertToData(t),Sa.copyPixels(this,t,e,i,n,s,r);break;case 2:e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),null!=n&&null!=s&&s.offset(n.offsetX,n.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),null!=n?n.buffer.get_src():null,null!=s?s.__toFlashPoint():null,r)}},encode:function(t,e){switch(null==e&&(e=90),null==t&&(t="png"),t){case"bmp":return va.encode(this);case"jpeg":case"jpg":return ya.encode(this,e);case"png":return wa.encode(this)}return null},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){switch(this.type[1]){case 0:Ta.fillRect(this,t,e,i);break;case 1:if(Ta.convertToData(this),0==this.buffer.data.length)return;Sa.fillRect(this,t,e,i);break;case 2:var n;if(t.offset(this.offsetX,this.offsetY),null==i){n=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}else switch(i){case 1:n=e;break;case 2:n=(255&e)<<24|(255&e>>8)<<16|(255&e>>16)<<8|255&e>>24;break;default:n=(255&e)<<24|(255&e>>24)<<16|(255&e>>16)<<8|255&e>>8}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),n)}this.dirty=!0}},floodFill:function(t,e,i,n){if(null!=this.buffer)switch(this.type[1]){case 0:Ta.floodFill(this,t,e,i,n);break;case 1:Ta.convertToData(this),Sa.floodFill(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,s)}},getColorBoundsRect:function(t,e,i,n){if(null==i&&(i=!0),null==this.buffer)return null;switch(this.type[1]){case 0:return Ta.convertToData(this),Sa.getColorBoundsRect(this,t,e,i,n);case 1:return Sa.getColorBoundsRect(this,t,e,i,n);case 2:var s=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,i);return new Aa(s.x,s.y,s.width,s.height);default:return null}},getPixel:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return Ta.getPixel(this,t,e,i);case 1:return Ta.convertToData(this),Sa.getPixel(this,t,e,i);case 2:var n=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY);if(null==i){return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}switch(i){case 1:return n;case 2:return(255&n)<<24|(255&n>>8)<<16|(255&n>>16)<<8|255&n>>24;default:return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}break;default:return 0}},getPixel32:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;switch(this.type[1]){case 0:return Ta.getPixel32(this,t,e,i);case 1:return Ta.convertToData(this),Sa.getPixel32(this,t,e,i);case 2:var n=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY);if(null==i){return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}switch(i){case 1:return n;case 2:return(255&n)<<24|(255&n>>8)<<16|(255&n>>16)<<8|255&n>>24;default:return(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24}break;default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;switch(this.type[1]){case 0:return Ta.getPixels(this,t,e);case 1:return Ta.convertToData(this),Sa.getPixels(this,t,e);case 2:default:return null}},merge:function(t,e,i,n,s,r,a){if(null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Ta.convertToCanvas(this),Ta.merge(this,t,e,i,n,s,r,a);break;case 1:Ta.convertToData(this),Ta.convertToData(t),Sa.merge(this,t,e,i,n,s,r,a);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),n,s,r,a);break;default:return}},resize:function(t,e){switch(this.type[1]){case 0:Ta.resize(this,t,e);break;case 1:Sa.resize(this,t,e)}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer)switch(this.type[1]){case 0:Ta.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new Da(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}},setPixel:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:Ta.setPixel(this,t,e,i,n);break;case 1:Ta.convertToData(this),Sa.setPixel(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,s)}},setPixel32:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height))switch(this.type[1]){case 0:Ta.setPixel32(this,t,e,i,n);break;case 1:Ta.convertToData(this),Sa.setPixel32(this,t,e,i,n);break;case 2:var s;if(null==n){s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}else switch(n){case 1:s=i;break;case 2:s=(255&i)<<24|(255&i>>8)<<16|(255&i>>16)<<8|255&i>>24;break;default:s=(255&i)<<24|(255&i>>24)<<16|(255&i>>16)<<8|255&i>>8}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,s)}},setPixels:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t)switch(this.type[1]){case 0:Ta.setPixels(this,t,e,i);break;case 1:Ta.convertToData(this),Sa.setPixels(this,t,e,i)}},threshold:function(t,e,i,n,s,r,a,o,l){if(null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==this.buffer||null==t||null==e)return 0;switch(this.type[1]){case 0:case 1:return Ta.convertToData(this),Sa.threshold(this,t,e,i,n,s,r,a,o,l);case 2:var h,_;if(null==l){h=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}else switch(l){case 1:h=r;break;case 2:h=(255&r)<<24|(255&r>>8)<<16|(255&r>>16)<<8|255&r>>24;break;default:h=(255&r)<<24|(255&r>>24)<<16|(255&r>>16)<<8|255&r>>8}if(null==l){_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}else switch(l){case 1:_=a;break;case 2:_=(255&a)<<24|(255&a>>8)<<16|(255&a>>16)<<8|255&a>>24;break;default:_=(255&a)<<24|(255&a>>24)<<16|(255&a>>16)<<8|255&a>>8}return e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),n,s,h,_,o)}return 0},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,i){var n=this,s=new Image;s.crossOrigin="Anonymous";s.addEventListener("load",function(t){n.buffer=new ca(null,s.width,s.height),n.buffer.__srcImage=s,n.offsetX=0,n.offsetY=0,n.width=n.buffer.width,n.height=n.buffer.height,null!=i&&i(n)},!1),s.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var i="";if(ua.__isPNG(t))i="image/png";else if(ua.__isJPG(t))i="image/jpeg";else{if(!ua.__isGIF(t))throw new fr("Image tried to read PNG/JPG Bytes, but found an invalid header.");i="image/gif"}this.__fromBase64(ua.__base64Encode(t),i,e)},__fromFile:function(t,e,i){var n=this,s=new Image;s.crossOrigin="Anonymous",s.onload=function(t){n.buffer=new ca(null,s.width,s.height),n.buffer.__srcImage=s,n.width=s.width,n.height=s.height,null!=e&&e(n)},s.onerror=function(t){null!=i&&i()},s.src=t;s.complete},__fromImageBuffer:function(t){null!=(this.buffer=t)&&(-1==this.width&&(this.width=t.width),-1==this.height&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&(Ta.convertToCanvas(this),Ta.sync(this,!1),Ta.createImageData(this)),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){this.buffer.format!=t&&(1==this.type[1]&&Sa.setFormat(this,t));return this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&1+~this.buffer.width)==this.buffer.width&&(0!=this.buffer.height&&(this.buffer.height&1+~this.buffer.height)==this.buffer.height)},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,i=1;e<this.buffer.width;)e<<=1;for(;i<this.buffer.height;)i<<=1;switch(this.type[1]){case 0:break;case 1:Sa.resizeBuffer(this,e,i)}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied)1==this.type[1]&&(Ta.convertToData(this),Sa.multiplyAlpha(this));else if(!t&&this.buffer.premultiplied){1==this.type[1]&&(Ta.convertToData(this),Sa.unmultiplyAlpha(this))}return t},get_rect:function(){return new Aa(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&Ta.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:ua,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var ca=function(t,e,i,n,s){null==n&&(n=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=n,this.format=null==s?0:s,this.transparent=!0};(i["lime.graphics.ImageBuffer"]=ca).__name__=["lime","graphics","ImageBuffer"],ca.prototype={clone:function(){var t=new ca(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,i=this.data.byteLength;e=null!=i?new vf(i):null,t.data=e;var n=this.data,s=null!=n?new vf(n):null;t.data.set(s)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var r=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(r)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return t instanceof HTMLImageElement?this.__srcImage=t:t instanceof HTMLCanvasElement&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},get_glCompatibleBuffer:function(){return null!=this.__srcImageData?this.__srcImageData:null!=this.__srcImage?this.__srcImage:null!=this.__srcCanvas?this.__srcCanvas:null},__class__:ca,__properties__:{get_glCompatibleBuffer:"get_glCompatibleBuffer",get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var fa=i["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};fa.RED=["RED",0],fa.RED.toString=f,(fa.RED.__enum__=fa).GREEN=["GREEN",1],fa.GREEN.toString=f,(fa.GREEN.__enum__=fa).BLUE=["BLUE",2],fa.BLUE.toString=f,(fa.BLUE.__enum__=fa).ALPHA=["ALPHA",3],fa.ALPHA.toString=f,fa.ALPHA.__enum__=fa;var da=i["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};da.CANVAS=["CANVAS",0],da.CANVAS.toString=f,(da.CANVAS.__enum__=da).DATA=["DATA",1],da.DATA.toString=f,(da.DATA.__enum__=da).FLASH=["FLASH",2],da.FLASH.toString=f,(da.FLASH.__enum__=da).CUSTOM=["CUSTOM",3],da.CUSTOM.toString=f,da.CUSTOM.__enum__=da;var pa=i["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:["OPENGL","CUSTOM","NONE"]};pa.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=pa,e.toString=f,e},pa.CUSTOM=function(t){var e=["CUSTOM",1,t];return e.__enum__=pa,e.toString=f,e},pa.NONE=["NONE",2],pa.NONE.toString=f,pa.NONE.__enum__=pa;var ga=function(t){this.onRender=new xr,this.onContextRestored=new Xr,this.onContextLost=new xr,this.window=t,this.backend=new Cr(this),this.window.renderer=this};(i["lime.graphics.Renderer"]=ga).__name__=["lime","graphics","Renderer"],ga.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(t){return this.backend.readPixels(t)},render:function(){this.backend.render()},__class__:ga};var ma=i["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:["OPENGL","CUSTOM"]};ma.OPENGL=["OPENGL",0],ma.OPENGL.toString=f,(ma.OPENGL.__enum__=ma).CUSTOM=["CUSTOM",1],ma.CUSTOM.toString=f,ma.CUSTOM.__enum__=ma;var va=function(){};(i["lime.graphics.format.BMP"]=va).__name__=["lime","graphics","format","BMP"],va.encode=function(t,e){(t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null==e&&(e=ba.RGB);var i=14,n=40,s=t.width*t.height*4;if(null!=e)switch(e[1]){case 0:s=3*t.width+3*t.width%4+3*t.height+3*t.height;break;case 1:n=108;break;case 2:i=0,s+=t.width*t.height}var r=new ps(new pf(i+n+s)),a=0;if(0<i&&(r.b[a++]=66,r.b[a++]=77,r.setInt32(a,r.length),a+=4,r.setUInt16(a,0),a+=2,r.setUInt16(a,0),a+=2,r.setInt32(a,i+n),a+=4),r.setInt32(a,n),a+=4,r.setInt32(a,t.width),a+=4,r.setInt32(a,e==ba.ICO?2*t.height:t.height),a+=4,r.setUInt16(a,1),a+=2,r.setUInt16(a,e==ba.RGB?24:32),a+=2,r.setInt32(a,e==ba.BITFIELD?3:0),a+=4,r.setInt32(a,s),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,11824),a+=4,r.setInt32(a,0),a+=4,r.setInt32(a,0),a+=4,e==ba.BITFIELD){r.setInt32(a,16711680),a+=4,r.setInt32(a,65280),a+=4,r.setInt32(a,255),a+=4,r.setInt32(a,-16777216),a+=4,r.b[a++]=32,r.b[a++]=110,r.b[a++]=105,r.b[a++]=87;for(var o=0;o<48;){o++;r.b[a++]=0}}var l,h,_,u,c=t.getPixels(new Aa(0,0,t.width,t.height),1),f=0;if(null!=e)switch(e[1]){case 0:for(var d=0,p=t.height;d<p;){var g=d++;f=4*(t.height-1-g)*t.width;for(var m=0,v=t.width;m<v;){m++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h}for(var b=0,y=3*t.width%4;b<y;){b++;r.b[a++]=0}}break;case 1:for(var w=0,x=t.height;w<x;){var T=w++;f=4*(t.height-1-T)*t.width;for(var S=0,E=t.width;S<E;){S++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h,r.b[a++]=255&l}}break;case 2:for(var I=new ps(new pf(t.width*t.height)),C=0,P=0,A=t.height;P<A;){var D=P++;f=4*(t.height-1-D)*t.width;for(var R=0,M=t.width;R<M;){R++;l=c.b[f++],h=c.b[f++],_=c.b[f++],u=c.b[f++],r.b[a++]=255&u,r.b[a++]=255&_,r.b[a++]=255&h,r.b[a++]=255&l,I.b[C++]=0}}r.blit(a,I,0,t.width*t.height)}return r};var ba=i["lime.graphics.format.BMPType"]={__ename__:["lime","graphics","format","BMPType"],__constructs__:["RGB","BITFIELD","ICO"]};ba.RGB=["RGB",0],ba.RGB.toString=f,(ba.RGB.__enum__=ba).BITFIELD=["BITFIELD",1],ba.BITFIELD.toString=f,(ba.BITFIELD.__enum__=ba).ICO=["ICO",2],ba.ICO.toString=f,ba.ICO.__enum__=ba;var ya=function(){};(i["lime.graphics.format.JPEG"]=ya).__name__=["lime","graphics","format","JPEG"],ya.decodeBytes=function(t,e){return null==e&&(e=!0),null},ya.decodeFile=function(t,e){return null==e&&(e=!0),null},ya.encode=function(t,e){if((t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),Ta.sync(t,!1),null==t.buffer.__srcCanvas)return null;for(var i=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),n=window.atob(i.split(";base64,")[1]),s=new ps(new pf(n.length)),r=0,a=n.length;r<a;){var o=r++,l=$.cca(n,o);s.b[o]=255&l}return s};var wa=function(){};(i["lime.graphics.format.PNG"]=wa).__name__=["lime","graphics","format","PNG"],wa.decodeBytes=function(t,e){return null==e&&(e=!0),null},wa.decodeFile=function(t,e){return null==e&&(e=!0),null},wa.encode=function(t){return(t.get_premultiplied()||0!=t.get_format())&&((t=t.clone()).set_premultiplied(!1),t.set_format(0)),null};var xa=function(){};(i["lime.graphics.opengl.GL"]=xa).__name__=["lime","graphics","opengl","GL"],xa.__properties__={get_version:"get_version"},xa.version=null,xa.context=null,xa.currentProgram=null,xa.currentActiveTexture=null,xa.activeTexture=function(t){t!=xa.currentActiveTexture&&(xa.context.activeTexture(t),xa.currentActiveTexture=t)},xa.attachShader=function(t,e){xa.context.attachShader(t,e)},xa.bindAttribLocation=function(t,e,i){xa.context.bindAttribLocation(t,e,i)},xa.bindBuffer=function(t,e){xa.context.bindBuffer(t,e)},xa.bindFramebuffer=function(t,e){xa.context.bindFramebuffer(t,e)},xa.bindRenderbuffer=function(t,e){xa.context.bindRenderbuffer(t,e)},xa.bindTexture=function(t,e){xa.currentBoundTexture[xa.currentActiveTexture]!=e&&(xa.context.bindTexture(t,e),null!=(xa.currentBoundTexture[xa.currentActiveTexture]=e)&&null==xa.textureStateCache.h.__keys__[e.__id__]&&xa.textureStateCache.set(e,new Gs))},xa.blendColor=function(t,e,i,n){xa.context.blendColor(t,e,i,n)},xa.blendEquation=function(t){xa.context.blendEquation(t)},xa.blendEquationSeparate=function(t,e){xa.context.blendEquationSeparate(t,e)},xa.blendFunc=function(t,e){xa.context.blendFunc(t,e)},xa.blendFuncSeparate=function(t,e,i,n){xa.context.blendFuncSeparate(t,e,i,n)},xa.bufferData=function(t,e,i){xa.context.bufferData(t,e,i)},xa.bufferSubData=function(t,e,i){xa.context.bufferSubData(t,e,i)},xa.checkFramebufferStatus=function(t){return xa.context.checkFramebufferStatus(t)},xa.clear=function(t){xa.context.clear(t)},xa.clearColor=function(t,e,i,n){xa.context.clearColor(t,e,i,n)},xa.clearDepth=function(t){xa.context.clearDepth(t)},xa.clearStencil=function(t){xa.context.clearStencil(t)},xa.colorMask=function(t,e,i,n){xa.context.colorMask(t,e,i,n)},xa.compileShader=function(t){xa.context.compileShader(t)},xa.compressedTexImage2D=function(t,e,i,n,s,r,a){xa.context.compressedTexImage2D(t,e,i,n,s,r,a)},xa.compressedTexSubImage2D=function(t,e,i,n,s,r,a,o){xa.context.compressedTexSubImage2D(t,e,i,n,s,r,a,o)},xa.copyTexImage2D=function(t,e,i,n,s,r,a,o){xa.context.copyTexImage2D(t,e,i,n,s,r,a,o)},xa.copyTexSubImage2D=function(t,e,i,n,s,r,a,o){xa.context.copyTexSubImage2D(t,e,i,n,s,r,a,o)},xa.createBuffer=function(){return xa.context.createBuffer()},xa.createFramebuffer=function(){return xa.context.createFramebuffer()},xa.createProgram=function(){return xa.context.createProgram()},xa.createRenderbuffer=function(){return xa.context.createRenderbuffer()},xa.createShader=function(t){return xa.context.createShader(t)},xa.createTexture=function(){return xa.context.createTexture()},xa.cullFace=function(t){xa.context.cullFace(t)},xa.deleteBuffer=function(t){xa.context.deleteBuffer(t)},xa.deleteFramebuffer=function(t){xa.context.deleteFramebuffer(t)},xa.deleteProgram=function(t){xa.context.deleteProgram(t)},xa.deleteRenderbuffer=function(t){xa.context.deleteRenderbuffer(t)},xa.deleteShader=function(t){xa.context.deleteShader(t)},xa.deleteTexture=function(t){xa.textureStateCache.remove(t),xa.context.deleteTexture(t)},xa.depthFunc=function(t){xa.context.depthFunc(t)},xa.depthMask=function(t){xa.context.depthMask(t)},xa.depthRange=function(t,e){xa.context.depthRange(t,e)},xa.detachShader=function(t,e){xa.context.detachShader(t,e)},xa.disable=function(t){xa.context.disable(t)},xa.disableVertexAttribArray=function(t){xa.context.disableVertexAttribArray(t)},xa.drawArrays=function(t,e,i){xa.context.drawArrays(t,e,i)},xa.drawElements=function(t,e,i,n){xa.context.drawElements(t,e,i,n)},xa.enable=function(t){xa.context.enable(t)},xa.enableVertexAttribArray=function(t){xa.context.enableVertexAttribArray(t)},xa.finish=function(){xa.context.finish()},xa.flush=function(){xa.context.flush()},xa.framebufferRenderbuffer=function(t,e,i,n){xa.context.framebufferRenderbuffer(t,e,i,n)},xa.framebufferTexture2D=function(t,e,i,n,s){xa.context.framebufferTexture2D(t,e,i,n,s)},xa.frontFace=function(t){xa.context.frontFace(t)},xa.generateMipmap=function(t){xa.context.generateMipmap(t)},xa.getActiveAttrib=function(t,e){return xa.context.getActiveAttrib(t,e)},xa.getActiveUniform=function(t,e){return xa.context.getActiveUniform(t,e)},xa.getAttachedShaders=function(t){return xa.context.getAttachedShaders(t)},xa.getAttribLocation=function(t,e){return xa.context.getAttribLocation(t,e)},xa.getBufferParameter=function(t,e){return xa.context.getBufferParameter(t,e)},xa.getContextAttributes=function(){return xa.context.getContextAttributes()},xa.getError=function(){return xa.context.getError()},xa.getExtension=function(t){return xa.context.getExtension(t)},xa.getFramebufferAttachmentParameter=function(t,e,i){return xa.context.getFramebufferAttachmentParameter(t,e,i)},xa.getParameter=function(t){return xa.context.getParameter(t)},xa.getProgramInfoLog=function(t){return xa.context.getProgramInfoLog(t)},xa.getProgramParameter=function(t,e){return xa.context.getProgramParameter(t,e)},xa.getRenderbufferParameter=function(t,e){return xa.context.getRenderbufferParameter(t,e)},xa.getShaderInfoLog=function(t){return xa.context.getShaderInfoLog(t)},xa.getShaderParameter=function(t,e){return xa.context.getShaderParameter(t,e)},xa.getShaderPrecisionFormat=function(t,e){return xa.context.getShaderPrecisionFormat(t,e)},xa.getShaderSource=function(t){return xa.context.getShaderSource(t)},xa.getSupportedExtensions=function(){return xa.context.getSupportedExtensions()},xa.getTexParameter=function(t,e){return xa.context.getTexParameter(t,e)},xa.getUniform=function(t,e){return xa.context.getUniform(t,e)},xa.getUniformLocation=function(t,e){return xa.context.getUniformLocation(t,e)},xa.getVertexAttrib=function(t,e){return xa.context.getVertexAttrib(t,e)},xa.getVertexAttribOffset=function(t,e){return xa.context.getVertexAttribOffset(t,e)},xa.hint=function(t,e){xa.context.hint(t,e)},xa.isBuffer=function(t){return xa.context.isBuffer(t)},xa.isContextLost=function(){return xa.context.isContextLost()},xa.isEnabled=function(t){return xa.context.isEnabled(t)},xa.isFramebuffer=function(t){return xa.context.isFramebuffer(t)},xa.isProgram=function(t){return xa.context.isProgram(t)},xa.isRenderbuffer=function(t){return xa.context.isRenderbuffer(t)},xa.isShader=function(t){return xa.context.isShader(t)},xa.isTexture=function(t){return xa.context.isTexture(t)},xa.lineWidth=function(t){xa.context.lineWidth(t)},xa.linkProgram=function(t){xa.context.linkProgram(t)},xa.pixelStorei=function(t,e){xa.context.pixelStorei(t,e)},xa.polygonOffset=function(t,e){xa.context.polygonOffset(t,e)},xa.readPixels=function(t,e,i,n,s,r,a){xa.context.readPixels(t,e,i,n,s,r,a)},xa.renderbufferStorage=function(t,e,i,n){xa.context.renderbufferStorage(t,e,i,n)},xa.sampleCoverage=function(t,e){xa.context.sampleCoverage(t,e)},xa.scissor=function(t,e,i,n){xa.context.scissor(t,e,i,n)},xa.shaderSource=function(t,e){xa.context.shaderSource(t,e)},xa.stencilFunc=function(t,e,i){xa.context.stencilFunc(t,e,i)},xa.stencilFuncSeparate=function(t,e,i,n){xa.context.stencilFuncSeparate(t,e,i,n)},xa.stencilMask=function(t){xa.context.stencilMask(t)},xa.stencilMaskSeparate=function(t,e){xa.context.stencilMaskSeparate(t,e)},xa.stencilOp=function(t,e,i){xa.context.stencilOp(t,e,i)},xa.stencilOpSeparate=function(t,e,i,n){xa.context.stencilOpSeparate(t,e,i,n)},xa.texImage2D=function(t,e,i,n,s,r,a,o,l){xa.context.texImage2D(t,e,i,n,s,r,a,o,l)},xa.texImage2DWeb=function(t,e,i,n,s,r){xa.context.texImage2D(t,e,i,n,s,r)},xa.texParameterf=function(t,e,i){xa.context.texParameterf(t,e,i)},xa.texParameteri=function(t,e,i){var n=xa.currentBoundTexture[xa.currentActiveTexture],s=xa.textureStateCache.h[n.__id__];s.h[e]!=i&&(xa.context.texParameteri(t,e,i),s.h[e]=i)},xa.texSubImage2D=function(t,e,i,n,s,r,a,o,l){xa.context.texSubImage2D(t,e,i,n,s,r,a,o,l)},xa.uniform1f=function(t,e){xa.context.uniform1f(t,e)},xa.uniform1fv=function(t,e){xa.context.uniform1fv(t,e)},xa.uniform1i=function(t,e){xa.context.uniform1i(t,e)},xa.uniform1iv=function(t,e){xa.context.uniform1iv(t,e)},xa.uniform2f=function(t,e,i){xa.context.uniform2f(t,e,i)},xa.uniform2fv=function(t,e){xa.context.uniform2fv(t,e)},xa.uniform2i=function(t,e,i){xa.context.uniform2i(t,e,i)},xa.uniform2iv=function(t,e){xa.context.uniform2iv(t,e)},xa.uniform3f=function(t,e,i,n){xa.context.uniform3f(t,e,i,n)},xa.uniform3fv=function(t,e){xa.context.uniform3fv(t,e)},xa.uniform3i=function(t,e,i,n){xa.context.uniform3i(t,e,i,n)},xa.uniform3iv=function(t,e){xa.context.uniform3iv(t,e)},xa.uniform4f=function(t,e,i,n,s){xa.context.uniform4f(t,e,i,n,s)},xa.uniform4fv=function(t,e){xa.context.uniform4fv(t,e)},xa.uniform4i=function(t,e,i,n,s){xa.context.uniform4i(t,e,i,n,s)},xa.uniform4iv=function(t,e){xa.context.uniform4iv(t,e)},xa.uniformMatrix2fv=function(t,e,i){xa.context.uniformMatrix2fv(t,e,i)},xa.uniformMatrix3fv=function(t,e,i){xa.context.uniformMatrix3fv(t,e,i)},xa.uniformMatrix4fv=function(t,e,i){xa.context.uniformMatrix4fv(t,e,i)},xa.useProgram=function(t){t!=xa.currentProgram&&(xa.context.useProgram(t),t=xa.currentProgram)},xa.validateProgram=function(t){xa.context.validateProgram(t)},xa.vertexAttrib1f=function(t,e){xa.context.vertexAttrib1f(t,e)},xa.vertexAttrib1fv=function(t,e){xa.context.vertexAttrib1fv(t,e)},xa.vertexAttrib2f=function(t,e,i){xa.context.vertexAttrib2f(t,e,i)},xa.vertexAttrib2fv=function(t,e){xa.context.vertexAttrib2fv(t,e)},xa.vertexAttrib3f=function(t,e,i,n){xa.context.vertexAttrib3f(t,e,i,n)},xa.vertexAttrib3fv=function(t,e){xa.context.vertexAttrib3fv(t,e)},xa.vertexAttrib4f=function(t,e,i,n,s){xa.context.vertexAttrib4f(t,e,i,n,s)},xa.vertexAttrib4fv=function(t,e){xa.context.vertexAttrib4fv(t,e)},xa.vertexAttribPointer=function(t,e,i,n,s,r){xa.context.vertexAttribPointer(t,e,i,n,s,r)},xa.viewport=function(t,e,i,n){xa.context.viewport(t,e,i,n)},xa.get_version=function(){return 2};var Ta=function(){};(i["lime.graphics.utils.ImageCanvasUtil"]=Ta).__name__=["lime","graphics","utils","ImageCanvasUtil"],Ta.colorTransform=function(t,e,i){Ta.convertToCanvas(t),Ta.createImageData(t),Sa.colorTransform(t,e,i)},Ta.convertToCanvas=function(t){var e=t.buffer;if(t.type==da.DATA&&null!=e.data)return Ta.createCanvas(t,e.width,e.height),Ta.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0),void(t.type=da.CANVAS);null!=e.__srcImage?(null==e.__srcCanvas&&(Ta.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(Ta.createCanvas(t,e.width,e.height),Ta.createImageData(t),e.__srcContext.putImageData(e.__srcImageData,0,0)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},Ta.convertToData=function(t){null==t.buffer.data&&(Ta.convertToCanvas(t),Ta.sync(t,!1),Ta.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},Ta.copyChannel=function(t,e,i,n,s,r){Ta.convertToCanvas(e),Ta.createImageData(e),Ta.convertToCanvas(t),Ta.createImageData(t),Sa.copyChannel(t,e,i,n,s,r)},Ta.copyPixels=function(t,e,i,n,s,r,a){if(null==a&&(a=!1),!(null==n||n.x>=t.width||n.y>=t.height||null==i||i.width<1||i.height<1)){if(null!=s&&s.get_transparent()){null==r&&(r=new Da);var o=t.clone();o.copyChannel(s,new Aa(r.x,r.y,i.width,i.height),new Da(i.x,i.y),fa.ALPHA,fa.ALPHA),e=o}Ta.sync(t,!0),a||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(n.x+t.offsetX,n.y+t.offsetY,i.width+t.offsetX,i.height+t.offsetY),Ta.sync(e,!1),Ta.convertToCanvas(e),null!=e.buffer.get_src()&&(t.buffer.__srcContext.drawImage(e.buffer.get_src(),i.x+e.offsetX|0,i.y+e.offsetY|0,0|i.width,0|i.height,n.x+t.offsetX|0,n.y+t.offsetY|0,0|i.width,0|i.height),t.dirty=!0)}},Ta.createCanvas=function(t,e,i){var n=t.buffer;null==n.__srcCanvas&&(n.__srcCanvas=window.document.createElement("canvas"),n.__srcCanvas.width=e,n.__srcCanvas.height=i,t.get_transparent()?n.__srcContext=n.__srcCanvas.getContext("2d"):(t.get_transparent()||n.__srcCanvas.setAttribute("moz-opaque","true"),n.__srcContext=n.__srcCanvas.getContext("2d",{alpha:!1})),n.__srcContext.mozImageSmoothingEnabled=!1,n.__srcContext.msImageSmoothingEnabled=!1,n.__srcContext.imageSmoothingEnabled=!1)},Ta.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i,n=e.__srcImageData.data.buffer;i=null!=n?new vf(n):null,e.data=i}},Ta.fillRect=function(t,e,i,n){var s,r,a,o;(Ta.convertToCanvas(t),Ta.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&i))?t.buffer.__srcCanvas.width=t.buffer.width:(o=1==n?(s=i>>16&255,r=i>>8&255,a=255&i,t.get_transparent()?i>>24&255:255):(s=i>>24&255,r=i>>16&255,a=i>>8&255,t.get_transparent()?255&i:255),t.buffer.__srcContext.fillStyle="rgba("+s+", "+r+", "+a+", "+o/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY))},Ta.floodFill=function(t,e,i,n,s){Ta.convertToCanvas(t),Ta.createImageData(t),Sa.floodFill(t,e,i,n,s)},Ta.getPixel=function(t,e,i,n){return Ta.convertToCanvas(t),Ta.createImageData(t),Sa.getPixel(t,e,i,n)},Ta.getPixel32=function(t,e,i,n){return Ta.convertToCanvas(t),Ta.createImageData(t),Sa.getPixel32(t,e,i,n)},Ta.getPixels=function(t,e,i){return Ta.convertToCanvas(t),Ta.createImageData(t),Sa.getPixels(t,e,i)},Ta.merge=function(t,e,i,n,s,r,a,o){Ta.convertToCanvas(e),Ta.createImageData(e),Ta.convertToCanvas(t),Ta.createImageData(t),Sa.merge(t,e,i,n,s,r,a,o)},Ta.resize=function(t,e,i){var n=t.buffer;if(null==n.__srcCanvas)Ta.createCanvas(t,e,i),n.__srcContext.drawImage(n.get_src(),0,0,e,i);else{Ta.sync(t,!0);var s=n.__srcCanvas;n.__srcCanvas=null,Ta.createCanvas(t,e,i),n.__srcContext.drawImage(s,0,0,e,i)}},Ta.scroll=function(t,e,i){e%t.width==0&&i%t.height==0||(Ta.convertToCanvas(t),Ta.sync(t,!0),t.buffer.__srcContext.clearRect(e,i,t.width,t.height),t.buffer.__srcContext.drawImage(t.buffer.__srcCanvas,e,i))},Ta.setPixel=function(t,e,i,n,s){Ta.convertToCanvas(t),Ta.createImageData(t),Sa.setPixel(t,e,i,n,s)},Ta.setPixel32=function(t,e,i,n,s){Ta.convertToCanvas(t),Ta.createImageData(t),Sa.setPixel32(t,e,i,n,s)},Ta.setPixels=function(t,e,i,n){Ta.convertToCanvas(t),Ta.createImageData(t),Sa.setPixels(t,e,i,n)},Ta.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=da.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var Sa=function(){};(i["lime.graphics.utils.ImageDataUtil"]=Sa).__name__=["lime","graphics","utils","ImageDataUtil"],Sa.colorTransform=function(t,e,i){var n=t.buffer.data;if(null!=n){for(var s,r,a,o=t.buffer.format,l=t.buffer.premultiplied,h=new Ea(t,e),_=Ia.getAlphaTable(i),u=Ia.getRedTable(i),c=Ia.getGreenTable(i),f=Ia.getBlueTable(i),d=0,p=h.height;d<p;){var g=d++;s=h.offset+h.stride*g;for(var m=0,v=h.width;m<v;){switch(r=s+4*m++,o){case 0:a=(255&n[r])<<24|(255&n[r+1])<<16|(255&n[r+2])<<8|255&n[r+3];break;case 1:a=(255&n[r+1])<<24|(255&n[r+2])<<16|(255&n[r+3])<<8|255&n[r];break;case 2:a=(255&n[r+2])<<24|(255&n[r+1])<<16|(255&n[r])<<8|255&n[r+3]}switch(l&&0!=(255&a)&&255!=(255&a)&&(Ba.unmult=255/(255&a),a=(255&Ba.__clamp[Math.round((a>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((a>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((a>>8&255)*Ba.unmult)])<<8|255&a),a=(255&u[a>>24&255])<<24|(255&c[a>>16&255])<<16|(255&f[a>>8&255])<<8|255&_[255&a],l&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(Ba.a16=Ba.__alpha16[255&a],a=((a>>24&255)*Ba.a16>>16&255)<<24|((a>>16&255)*Ba.a16>>16&255)<<16|((a>>8&255)*Ba.a16>>16&255)<<8|255&a)),o){case 0:n[r]=a>>24&255,n[r+1]=a>>16&255,n[r+2]=a>>8&255,n[r+3]=255&a;break;case 1:n[r]=255&a,n[r+1]=a>>24&255,n[r+2]=a>>16&255,n[r+3]=a>>8&255;break;case 2:n[r]=a>>8&255,n[r+1]=a>>16&255,n[r+2]=a>>24&255,n[r+3]=255&a}}}t.dirty=!0}},Sa.copyChannel=function(t,e,i,n,s,r){var a,o;switch(r[1]){case 0:a=0;break;case 1:a=1;break;case 2:a=2;break;case 3:a=3}switch(s[1]){case 0:o=0;break;case 1:o=1;break;case 2:o=2;break;case 3:o=3}var l=e.buffer.data,h=t.buffer.data;if(null!=l&&null!=h){for(var _,u,c,f,d=new Ea(e,i),p=new Ea(t,new Aa(n.x,n.y,d.width,d.height)),g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=0,x=p.height;w<x;){var T=w++;_=d.offset+d.stride*T,u=p.offset+p.stride*T;for(var S=0,E=p.width;S<E;){S++;switch(g){case 0:c=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:c=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:c=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}switch(v&&0!=(255&c)&&255!=(255&c)&&(Ba.unmult=255/(255&c),c=(255&Ba.__clamp[Math.round((c>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((c>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((c>>8&255)*Ba.unmult)])<<8|255&c),m){case 0:f=(255&h[u])<<24|(255&h[u+1])<<16|(255&h[u+2])<<8|255&h[u+3];break;case 1:f=(255&h[u+1])<<24|(255&h[u+2])<<16|(255&h[u+3])<<8|255&h[u];break;case 2:f=(255&h[u+2])<<24|(255&h[u+1])<<16|(255&h[u])<<8|255&h[u+3]}switch(b&&0!=(255&f)&&255!=(255&f)&&(Ba.unmult=255/(255&f),f=(255&Ba.__clamp[Math.round((f>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((f>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((f>>8&255)*Ba.unmult)])<<8|255&f),o){case 0:y=c>>24&255;break;case 1:y=c>>16&255;break;case 2:y=c>>8&255;break;case 3:y=255&c}switch(a){case 0:f=(255&y)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&f;break;case 1:f=(255&f>>24)<<24|(255&y)<<16|(255&f>>8)<<8|255&f;break;case 2:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&y)<<8|255&f;break;case 3:f=(255&f>>24)<<24|(255&f>>16)<<16|(255&f>>8)<<8|255&y}switch(b&&(0==(255&f)?0!=f&&(f=0):255!=(255&f)&&(Ba.a16=Ba.__alpha16[255&f],f=((f>>24&255)*Ba.a16>>16&255)<<24|((f>>16&255)*Ba.a16>>16&255)<<16|((f>>8&255)*Ba.a16>>16&255)<<8|255&f)),m){case 0:h[u]=f>>24&255,h[u+1]=f>>16&255,h[u+2]=f>>8&255,h[u+3]=255&f;break;case 1:h[u]=255&f,h[u+1]=f>>24&255,h[u+2]=f>>16&255,h[u+3]=f>>8&255;break;case 2:h[u]=f>>8&255,h[u+1]=f>>16&255,h[u+2]=f>>24&255,h[u+3]=255&f}_+=4,u+=4}}t.dirty=!0}},Sa.copyPixels=function(t,e,i,n,s,r,a){null==a&&(a=!1);var o=e.buffer.data,l=t.buffer.data;if(null!=o&&null!=l){var h,_,u,c,f,d,p,g,m=new Ea(e,i),v=new Ea(t,new Aa(n.x,n.y,m.width,m.height)),b=e.buffer.format,y=t.buffer.format,w=e.buffer.premultiplied,x=t.buffer.premultiplied;if(a&&e.get_transparent())if(null==s)for(var T=0,S=v.height;T<S;){var E=T++;h=m.offset+m.stride*E,_=v.offset+v.stride*E;for(var I=0,C=v.width;I<C;){I++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(Ba.unmult=255/(255&u),u=(255&Ba.__clamp[Math.round((u>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((u>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((u>>8&255)*Ba.unmult)])<<8|255&u),y){case 0:g=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:g=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:g=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}if(x&&0!=(255&g)&&255!=(255&g)&&(Ba.unmult=255/(255&g),g=(255&Ba.__clamp[Math.round((g>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((g>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((g>>8&255)*Ba.unmult)])<<8|255&g),0==(p=(c=(255&u)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&Ba.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&Ba.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&Ba.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&Ba.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(Ba.a16=Ba.__alpha16[255&g],g=((g>>24&255)*Ba.a16>>16&255)<<24|((g>>16&255)*Ba.a16>>16&255)<<16|((g>>8&255)*Ba.a16>>16&255)<<8|255&g)),y){case 0:l[_]=g>>24&255,l[_+1]=g>>16&255,l[_+2]=g>>8&255,l[_+3]=255&g;break;case 1:l[_]=255&g,l[_+1]=g>>24&255,l[_+2]=g>>16&255,l[_+3]=g>>8&255;break;case 2:l[_]=g>>8&255,l[_+1]=g>>16&255,l[_+2]=g>>24&255,l[_+3]=255&g}h+=4,_+=4}}else{null==r&&(r=new Da);for(var P,A,D=s.buffer.data,R=s.buffer.format,M=s.buffer.premultiplied,F=new Ea(s,new Aa(r.x,r.y,v.width,v.height)),B=0,L=F.height;B<L;){var k=B++;h=m.offset+m.stride*k,_=v.offset+v.stride*k,P=F.offset+F.stride*k;for(var N=0,O=F.width;N<O;){N++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(Ba.unmult=255/(255&u),u=(255&Ba.__clamp[Math.round((u>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((u>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((u>>8&255)*Ba.unmult)])<<8|255&u),y){case 0:g=(255&l[_])<<24|(255&l[_+1])<<16|(255&l[_+2])<<8|255&l[_+3];break;case 1:g=(255&l[_+1])<<24|(255&l[_+2])<<16|(255&l[_+3])<<8|255&l[_];break;case 2:g=(255&l[_+2])<<24|(255&l[_+1])<<16|(255&l[_])<<8|255&l[_+3]}switch(x&&0!=(255&g)&&255!=(255&g)&&(Ba.unmult=255/(255&g),g=(255&Ba.__clamp[Math.round((g>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((g>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((g>>8&255)*Ba.unmult)])<<8|255&g),R){case 0:A=(255&D[P])<<24|(255&D[P+1])<<16|(255&D[P+2])<<8|255&D[P+3];break;case 1:A=(255&D[P+1])<<24|(255&D[P+2])<<16|(255&D[P+3])<<8|255&D[P];break;case 2:A=(255&D[P+2])<<24|(255&D[P+1])<<16|(255&D[P])<<8|255&D[P+3]}if(M&&0!=(255&A)&&255!=(255&A)&&(Ba.unmult=255/(255&A),A=(255&Ba.__clamp[Math.round((A>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((A>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((A>>8&255)*Ba.unmult)])<<8|255&A),0==(p=(c=(255&A)/255)+(f=(255&g)/255)*(d=1-c)))g=0;else g=(255&(g=(255&(g=(255&(g=(255&Ba.__clamp[Math.round(((u>>24&255)*c+(g>>24&255)*f*d)/p)])<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&Ba.__clamp[Math.round(((u>>16&255)*c+(g>>16&255)*f*d)/p)])<<16|(255&g>>8)<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&Ba.__clamp[Math.round(((u>>8&255)*c+(g>>8&255)*f*d)/p)])<<8|255&g)>>24)<<24|(255&g>>16)<<16|(255&g>>8)<<8|255&Ba.__clamp[Math.round(255*p)];switch(x&&(0==(255&g)?0!=g&&(g=0):255!=(255&g)&&(Ba.a16=Ba.__alpha16[255&g],g=((g>>24&255)*Ba.a16>>16&255)<<24|((g>>16&255)*Ba.a16>>16&255)<<16|((g>>8&255)*Ba.a16>>16&255)<<8|255&g)),y){case 0:l[_]=g>>24&255,l[_+1]=g>>16&255,l[_+2]=g>>8&255,l[_+3]=255&g;break;case 1:l[_]=255&g,l[_+1]=g>>24&255,l[_+2]=g>>16&255,l[_+3]=g>>8&255;break;case 2:l[_]=g>>8&255,l[_+1]=g>>16&255,l[_+2]=g>>24&255,l[_+3]=255&g}h+=4,_+=4}}}else for(var U=0,G=v.height;U<G;){var X=U++;h=m.offset+m.stride*X,_=v.offset+v.stride*X;for(var V=0,z=v.width;V<z;){V++;switch(b){case 0:u=(255&o[h])<<24|(255&o[h+1])<<16|(255&o[h+2])<<8|255&o[h+3];break;case 1:u=(255&o[h+1])<<24|(255&o[h+2])<<16|(255&o[h+3])<<8|255&o[h];break;case 2:u=(255&o[h+2])<<24|(255&o[h+1])<<16|(255&o[h])<<8|255&o[h+3]}switch(w&&0!=(255&u)&&255!=(255&u)&&(Ba.unmult=255/(255&u),u=(255&Ba.__clamp[Math.round((u>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((u>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((u>>8&255)*Ba.unmult)])<<8|255&u),x&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(Ba.a16=Ba.__alpha16[255&u],u=((u>>24&255)*Ba.a16>>16&255)<<24|((u>>16&255)*Ba.a16>>16&255)<<16|((u>>8&255)*Ba.a16>>16&255)<<8|255&u)),y){case 0:l[_]=u>>24&255,l[_+1]=u>>16&255,l[_+2]=u>>8&255,l[_+3]=255&u;break;case 1:l[_]=255&u,l[_+1]=u>>24&255,l[_+2]=u>>16&255,l[_+3]=u>>8&255;break;case 2:l[_]=u>>8&255,l[_+1]=u>>16&255,l[_+2]=u>>24&255,l[_+3]=255&u}h+=4,_+=4}}t.dirty=!0}},Sa.fillRect=function(t,e,i,n){var s;switch(n){case 1:s=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;break;case 2:s=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;break;default:s=i}t.get_transparent()||(s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|255);var r=t.buffer.data;if(null!=r){for(var a,o=t.buffer.format,l=t.buffer.premultiplied,h=new Ea(t,e),_=0,u=h.height;_<u;){var c=_++;a=h.offset+h.stride*c;for(var f=0,d=h.width;f<d;){var p=a+4*f++;switch(l&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(Ba.a16=Ba.__alpha16[255&s],s=((s>>24&255)*Ba.a16>>16&255)<<24|((s>>16&255)*Ba.a16>>16&255)<<16|((s>>8&255)*Ba.a16>>16&255)<<8|255&s)),o){case 0:r[p]=s>>24&255,r[p+1]=s>>16&255,r[p+2]=s>>8&255,r[p+3]=255&s;break;case 1:r[p]=255&s,r[p+1]=s>>24&255,r[p+2]=s>>16&255,r[p+3]=s>>8&255;break;case 2:r[p]=s>>8&255,r[p+1]=s>>16&255,r[p+2]=s>>24&255,r[p+3]=255&s}}}t.dirty=!0}},Sa.floodFill=function(t,e,i,n,s){var r=t.buffer.data;if(null!=r){1==s&&(n=(16777215&n)<<8|n>>24&255);var a,o=t.buffer.format,l=t.buffer.premultiplied,h=n,_=(i+t.offsetY)*(4*t.buffer.width)+4*(e+t.offsetX);switch(o){case 0:a=(255&r[_])<<24|(255&r[_+1])<<16|(255&r[_+2])<<8|255&r[_+3];break;case 1:a=(255&r[_+1])<<24|(255&r[_+2])<<16|(255&r[_+3])<<8|255&r[_];break;case 2:a=(255&r[_+2])<<24|(255&r[_+1])<<16|(255&r[_])<<8|255&r[_+3]}if(l&&0!=(255&a)&&255!=(255&a)&&(Ba.unmult=255/(255&a),a=(255&Ba.__clamp[Math.round((a>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((a>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((a>>8&255)*Ba.unmult)])<<8|255&a),t.get_transparent()||(h=(255&h>>24)<<24|(255&h>>16)<<16|(255&h>>8)<<8|255,a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255),h!=a){var u,c,f,d,p,g,m=[0,-1,1,0],v=[-1,0,0,1],b=-t.offsetX,y=-t.offsetY,w=b+t.width,x=y+t.height,T=[];for(T.push(e),T.push(i);0<T.length;){c=T.pop(),u=T.pop();for(var S=0;S<4;){var E=S++;if(d=c+v[E],!((f=u+m[E])<b||d<y||w<=f||x<=d)){switch(p=4*(d*t.width+f),o){case 0:g=(255&r[p])<<24|(255&r[p+1])<<16|(255&r[p+2])<<8|255&r[p+3];break;case 1:g=(255&r[p+1])<<24|(255&r[p+2])<<16|(255&r[p+3])<<8|255&r[p];break;case 2:g=(255&r[p+2])<<24|(255&r[p+1])<<16|(255&r[p])<<8|255&r[p+3]}if(l&&0!=(255&g)&&255!=(255&g)&&(Ba.unmult=255/(255&g),g=(255&Ba.__clamp[Math.round((g>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((g>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((g>>8&255)*Ba.unmult)])<<8|255&g),g==a){switch(l&&(0==(255&h)?0!=h&&(h=0):255!=(255&h)&&(Ba.a16=Ba.__alpha16[255&h],h=((h>>24&255)*Ba.a16>>16&255)<<24|((h>>16&255)*Ba.a16>>16&255)<<16|((h>>8&255)*Ba.a16>>16&255)<<8|255&h)),o){case 0:r[p]=h>>24&255,r[p+1]=h>>16&255,r[p+2]=h>>8&255,r[p+3]=255&h;break;case 1:r[p]=255&h,r[p+1]=h>>24&255,r[p+2]=h>>16&255,r[p+3]=h>>8&255;break;case 2:r[p]=h>>8&255,r[p+1]=h>>16&255,r[p+2]=h>>24&255,r[p+3]=255&h}T.push(f),T.push(d)}}}}t.dirty=!0}}},Sa.getColorBoundsRect=function(t,e,i,n,s){null==n&&(n=!0);var r,a,o,l,h=t.width+1,_=0,u=t.height+1,c=0;switch(s){case 1:r=(255&i>>16)<<24|(255&i>>8)<<16|(255&i)<<8|255&i>>24;a=(255&e>>16)<<24|(255&e>>8)<<16|(255&e)<<8|255&e>>24;break;case 2:r=(255&i>>8)<<24|(255&i>>16)<<16|(255&i>>24)<<8|255&i;a=(255&e>>8)<<24|(255&e>>16)<<16|(255&e>>24)<<8|255&e;break;default:r=i,a=e}t.get_transparent()||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255,a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);for(var f,d=0,p=t.width;d<p;){var g=d++;l=!1;for(var m=0,v=t.height;m<v;){var b=m++;if(o=t.getPixel32(g,b,0),l=n?(o&a)==r:(o&a)!=r){g<h&&(h=g);break}}if(l)break}for(var y=0,w=t.width;y<w;){var x=y++;f=t.width-1-x,l=!1;for(var T=0,S=t.height;T<S;){var E=T++;if(o=t.getPixel32(f,E,0),l=n?(o&a)==r:(o&a)!=r){_<f&&(_=f);break}}if(l)break}for(var I,C=0,P=t.height;C<P;){var A=C++;l=!1;for(var D=0,R=t.width;D<R;){var M=D++;if(o=t.getPixel32(M,A,0),l=n?(o&a)==r:(o&a)!=r){A<u&&(u=A);break}}if(l)break}for(var F=0,B=t.height;F<B;){var L=F++;I=t.height-1-L,l=!1;for(var k=0,N=t.width;k<N;){var O=k++;if(o=t.getPixel32(O,I,0),l=n?(o&a)==r:(o&a)!=r){c<I&&(c=I);break}}if(l)break}var U=_-h,G=c-u;return 0<U&&++U,0<G&&++G,U<0&&(U=0),G<0&&(G=0),h==_&&(U=1),u==c&&(G=1),h>t.width&&(h=0),u>t.height&&(u=0),new Aa(h,u,U,G)},Sa.getPixel=function(t,e,i,n){var s,r=t.buffer.data,a=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:s=(255&r[a])<<24|(255&r[a+1])<<16|(255&r[a+2])<<8|255&r[a+3];break;case 1:s=(255&r[a+1])<<24|(255&r[a+2])<<16|(255&r[a+3])<<8|255&r[a];break;case 2:s=(255&r[a+2])<<24|(255&r[a+1])<<16|(255&r[a])<<8|255&r[a+3]}switch(o&&0!=(255&s)&&255!=(255&s)&&(Ba.unmult=255/(255&s),s=(255&Ba.__clamp[Math.round((s>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((s>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((s>>8&255)*Ba.unmult)])<<8|255&s),s=(255&s>>24)<<24|(255&s>>16)<<16|(255&s>>8)<<8|0,n){case 1:return(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;case 2:return(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;default:return s}},Sa.getPixel32=function(t,e,i,n){var s,r=t.buffer.data,a=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),o=t.buffer.premultiplied;switch(t.buffer.format){case 0:s=(255&r[a])<<24|(255&r[a+1])<<16|(255&r[a+2])<<8|255&r[a+3];break;case 1:s=(255&r[a+1])<<24|(255&r[a+2])<<16|(255&r[a+3])<<8|255&r[a];break;case 2:s=(255&r[a+2])<<24|(255&r[a+1])<<16|(255&r[a])<<8|255&r[a+3]}switch(o&&0!=(255&s)&&255!=(255&s)&&(Ba.unmult=255/(255&s),s=(255&Ba.__clamp[Math.round((s>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((s>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((s>>8&255)*Ba.unmult)])<<8|255&s),n){case 1:return(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;case 2:return(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s;default:return s}},Sa.getPixels=function(t,e,i){if(null==t.buffer.data)return null;for(var n,s,r=e.width*e.height|0,a=new ps(new pf(4*r)),o=t.buffer.data,l=t.buffer.format,h=t.buffer.premultiplied,_=new Ea(t,e),u=0,c=0,f=_.height;c<f;){var d=c++;n=_.offset+_.stride*d;for(var p=0,g=_.width;p<g;){p++;switch(l){case 0:s=(255&o[n])<<24|(255&o[n+1])<<16|(255&o[n+2])<<8|255&o[n+3];break;case 1:s=(255&o[n+1])<<24|(255&o[n+2])<<16|(255&o[n+3])<<8|255&o[n];break;case 2:s=(255&o[n+2])<<24|(255&o[n+1])<<16|(255&o[n])<<8|255&o[n+3]}switch(h&&0!=(255&s)&&255!=(255&s)&&(Ba.unmult=255/(255&s),s=(255&Ba.__clamp[Math.round((s>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((s>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((s>>8&255)*Ba.unmult)])<<8|255&s),i){case 1:s=(255&s)<<24|(255&s>>24)<<16|(255&s>>16)<<8|255&s>>8;break;case 2:s=(255&s>>8)<<24|(255&s>>16)<<16|(255&s>>24)<<8|255&s}a.b[u++]=255&s>>24,a.b[u++]=255&s>>16,a.b[u++]=255&s>>8,a.b[u++]=255&s,n+=4}}return a},Sa.merge=function(t,e,i,n,s,r,a,o){if(null!=t.buffer.data&&null!=e.buffer.data){for(var l,h,_,u,c=new Ea(e,i),f=new Ea(t,new Aa(n.x,n.y,c.width,c.height)),d=e.buffer.data,p=t.buffer.data,g=e.buffer.format,m=t.buffer.format,v=e.buffer.premultiplied,b=t.buffer.premultiplied,y=0,w=f.height;y<w;){var x=y++;l=c.offset+c.stride*x,h=f.offset+f.stride*x;for(var T=0,S=f.width;T<S;){T++;switch(g){case 0:_=(255&d[l])<<24|(255&d[l+1])<<16|(255&d[l+2])<<8|255&d[l+3];break;case 1:_=(255&d[l+1])<<24|(255&d[l+2])<<16|(255&d[l+3])<<8|255&d[l];break;case 2:_=(255&d[l+2])<<24|(255&d[l+1])<<16|(255&d[l])<<8|255&d[l+3]}switch(v&&0!=(255&_)&&255!=(255&_)&&(Ba.unmult=255/(255&_),_=(255&Ba.__clamp[Math.round((_>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((_>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((_>>8&255)*Ba.unmult)])<<8|255&_),m){case 0:u=(255&p[h])<<24|(255&p[h+1])<<16|(255&p[h+2])<<8|255&p[h+3];break;case 1:u=(255&p[h+1])<<24|(255&p[h+2])<<16|(255&p[h+3])<<8|255&p[h];break;case 2:u=(255&p[h+2])<<24|(255&p[h+1])<<16|(255&p[h])<<8|255&p[h+3]}switch(b&&0!=(255&u)&&255!=(255&u)&&(Ba.unmult=255/(255&u),u=(255&Ba.__clamp[Math.round((u>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((u>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((u>>8&255)*Ba.unmult)])<<8|255&u),u=(255&(u=(255&(u=(255&(u=(255&(((_>>24&255)*s+(u>>24&255)*(256-s))/256|0))<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&(((_>>16&255)*r+(u>>16&255)*(256-r))/256|0))<<16|(255&u>>8)<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&(((_>>8&255)*a+(u>>8&255)*(256-a))/256|0))<<8|255&u)>>24)<<24|(255&u>>16)<<16|(255&u>>8)<<8|255&(((255&_)*o+(255&u)*(256-o))/256|0),b&&(0==(255&u)?0!=u&&(u=0):255!=(255&u)&&(Ba.a16=Ba.__alpha16[255&u],u=((u>>24&255)*Ba.a16>>16&255)<<24|((u>>16&255)*Ba.a16>>16&255)<<16|((u>>8&255)*Ba.a16>>16&255)<<8|255&u)),m){case 0:p[h]=u>>24&255,p[h+1]=u>>16&255,p[h+2]=u>>8&255,p[h+3]=255&u;break;case 1:p[h]=255&u,p[h+1]=u>>24&255,p[h+2]=u>>16&255,p[h+3]=u>>8&255;break;case 2:p[h]=u>>8&255,p[h+1]=u>>16&255,p[h+2]=u>>24&255,p[h+3]=255&u}l+=4,h+=4}}t.dirty=!0}},Sa.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i,n=t.buffer.format,s=0,r=e.length/4|0;s<r;){var a=s++,o=4*a;switch(n){case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o];break;case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3]}var l=4*a;switch(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(Ba.a16=Ba.__alpha16[255&i],i=((i>>24&255)*Ba.a16>>16&255)<<24|((i>>16&255)*Ba.a16>>16&255)<<16|((i>>8&255)*Ba.a16>>16&255)<<8|255&i),n){case 0:e[l]=i>>24&255,e[l+1]=i>>16&255,e[l+2]=i>>8&255,e[l+3]=255&i;break;case 1:e[l]=255&i,e[l+1]=i>>24&255,e[l+2]=i>>16&255,e[l+3]=i>>8&255;break;case 2:e[l]=i>>8&255,e[l+1]=i>>16&255,e[l+2]=i>>24&255,e[l+3]=255&i}}t.buffer.premultiplied=!0,t.dirty=!0}},Sa.resize=function(t,e,i){var n=t.buffer;if(n.width!=e||n.height!=i){var s,r=e*i*4;s=null!=r?new vf(r):null;for(var a,o,l,h,_,u,c,f,d,p,g,m,v,b=new ca(s,e,i),y=t.width,w=t.height,x=t.get_data(),T=b.data,S=0,E=i;S<E;)for(var I=S++,C=0,P=e;C<P;){var A=C++;a=4*((c=0|(d=(I+.5)/i*w-.5))*y+(u=0|(f=(A+.5)/e*y-.5))),l=c<w-1?a+4*y:a,h=(o=u<y-1?a+4:a)!=a?l+4:l,m=1-(p=f-u),v=1-(g=d-c),T[_=4*(I*e+A)]=(Rt.toFloat(x[a])*m+Rt.toFloat(x[o])*p)*v+(Rt.toFloat(x[l])*m+Rt.toFloat(x[h])*p)*g|0,T[_+1]=(Rt.toFloat(x[a+1])*m+Rt.toFloat(x[o+1])*p)*v+(Rt.toFloat(x[l+1])*m+Rt.toFloat(x[h+1])*p)*g|0,T[_+2]=(Rt.toFloat(x[a+2])*m+Rt.toFloat(x[o+2])*p)*v+(Rt.toFloat(x[l+2])*m+Rt.toFloat(x[h+2])*p)*g|0,0==x[o+3]||0==x[l+3]||0==x[h+3]?T[_+3]=0:T[_+3]=x[a+3]}n.data=b.data,n.width=e,n.height=i}},Sa.resizeBuffer=function(t,e,i){for(var n,s,r=t.buffer,a=t.get_data(),o=e*i*4,l=null!=o?new vf(o):null,h=0,_=r.height;h<_;)for(var u=h++,c=0,f=r.width;c<f;){var d=c++;n=4*(u*r.width+d),l[s=4*(u*e+d)]=a[n],l[s+1]=a[n+1],l[s+2]=a[n+2],l[s+3]=a[n+3]}r.data=l,r.width=e,r.height=i},Sa.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var n,s,r,a,o,l,h,_,u,c,f,d,p,g=i.length/4|0;switch(t.get_format()){case 0:s=0,r=1,a=2,o=3;break;case 1:s=1,r=2,a=3,o=0;break;case 2:s=2,r=1,a=0,o=3}switch(e){case 0:l=0,h=1,_=2,u=3;break;case 1:l=1,h=2,_=3,u=0;break;case 2:l=2,h=1,_=0,u=3}for(var m=0,v=g;m<v;){c=i[(n=4*m++)+s],f=i[n+r],d=i[n+a],p=i[n+o],i[n+l]=c,i[n+h]=f,i[n+_]=d,i[n+u]=p}t.buffer.format=e,t.dirty=!0}},Sa.setPixel=function(t,e,i,n,s){var r;switch(s){case 1:r=(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24;break;case 2:r=(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;break;default:r=n}var a=0,o=t.buffer.data,l=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX),h=t.buffer.premultiplied;switch(t.buffer.format){case 0:a=(255&o[l])<<24|(255&o[l+1])<<16|(255&o[l+2])<<8|255&o[l+3];break;case 1:a=(255&o[l+1])<<24|(255&o[l+2])<<16|(255&o[l+3])<<8|255&o[l];break;case 2:a=(255&o[l+2])<<24|(255&o[l+1])<<16|(255&o[l])<<8|255&o[l+3]}h&&0!=(255&a)&&255!=(255&a)&&(Ba.unmult=255/(255&a),a=(255&Ba.__clamp[Math.round((a>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((a>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((a>>8&255)*Ba.unmult)])<<8|255&a),r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255&(255&a);var _=t.buffer.data,u=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(Ba.a16=Ba.__alpha16[255&r],r=((r>>24&255)*Ba.a16>>16&255)<<24|((r>>16&255)*Ba.a16>>16&255)<<16|((r>>8&255)*Ba.a16>>16&255)<<8|255&r)),t.buffer.format){case 0:_[u]=r>>24&255,_[u+1]=r>>16&255,_[u+2]=r>>8&255,_[u+3]=255&r;break;case 1:_[u]=255&r,_[u+1]=r>>24&255,_[u+2]=r>>16&255,_[u+3]=r>>8&255;break;case 2:_[u]=r>>8&255,_[u+1]=r>>16&255,_[u+2]=r>>24&255,_[u+3]=255&r}t.dirty=!0},Sa.setPixel32=function(t,e,i,n,s){var r;switch(s){case 1:r=(255&n>>16)<<24|(255&n>>8)<<16|(255&n)<<8|255&n>>24;break;case 2:r=(255&n>>8)<<24|(255&n>>16)<<16|(255&n>>24)<<8|255&n;break;default:r=n}t.get_transparent()||(r=(255&r>>24)<<24|(255&r>>16)<<16|(255&r>>8)<<8|255);var a=t.buffer.data,o=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(Ba.a16=Ba.__alpha16[255&r],r=((r>>24&255)*Ba.a16>>16&255)<<24|((r>>16&255)*Ba.a16>>16&255)<<16|((r>>8&255)*Ba.a16>>16&255)<<8|255&r)),t.buffer.format){case 0:a[o]=r>>24&255,a[o+1]=r>>16&255,a[o+2]=r>>8&255,a[o+3]=255&r;break;case 1:a[o]=255&r,a[o+1]=r>>24&255,a[o+2]=r>>16&255,a[o+3]=r>>8&255;break;case 2:a[o]=r>>8&255,a[o+1]=r>>16&255,a[o+2]=r>>24&255,a[o+3]=255&r}t.dirty=!0},Sa.setPixels=function(t,e,i,n){if(null!=t.buffer.data){for(var s,r,a,o=t.buffer.data,l=t.buffer.format,h=t.buffer.premultiplied,_=new Ea(t,e),u=t.get_transparent(),c=0,f=0,d=_.height;f<d;){var p=f++;s=_.offset+_.stride*p;for(var g=0,m=_.width;g<m;){var v=g++;switch(r=i.b[c+3]|i.b[c+2]<<8|i.b[c+1]<<16|i.b[c]<<24,c+=4,n){case 1:a=(255&r>>16)<<24|(255&r>>8)<<16|(255&r)<<8|255&r>>24;break;case 2:a=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;break;default:a=r}u||(a=(255&a>>24)<<24|(255&a>>16)<<16|(255&a>>8)<<8|255);var b=s+4*v;switch(h&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(Ba.a16=Ba.__alpha16[255&a],a=((a>>24&255)*Ba.a16>>16&255)<<24|((a>>16&255)*Ba.a16>>16&255)<<16|((a>>8&255)*Ba.a16>>16&255)<<8|255&a)),l){case 0:o[b]=a>>24&255,o[b+1]=a>>16&255,o[b+2]=a>>8&255,o[b+3]=255&a;break;case 1:o[b]=255&a,o[b+1]=a>>24&255,o[b+2]=a>>16&255,o[b+3]=a>>8&255;break;case 2:o[b]=a>>8&255,o[b+1]=a>>16&255,o[b+2]=a>>24&255,o[b+3]=255&a}}}t.dirty=!0}},Sa.threshold=function(t,e,i,n,s,r,a,o,l,h){var _,u,c,f;switch(h){case 1:_=(255&a>>16)<<24|(255&a>>8)<<16|(255&a)<<8|255&a>>24;u=(255&o>>16)<<24|(255&o>>8)<<16|(255&o)<<8|255&o>>24;c=(255&r>>16)<<24|(255&r>>8)<<16|(255&r)<<8|255&r>>24;break;case 2:_=(255&a>>8)<<24|(255&a>>16)<<16|(255&a>>24)<<8|255&a;u=(255&o>>8)<<24|(255&o>>16)<<16|(255&o>>24)<<8|255&o;c=(255&r>>8)<<24|(255&r>>16)<<16|(255&r>>24)<<8|255&r;break;default:_=a,u=o,c=r}switch(s){case"!=":f=0;break;case"<":f=2;break;case"<=":f=3;break;case"==":f=1;break;case">":f=4;break;case">=":f=5;break;default:f=-1}if(-1==f)return 0;var d=e.buffer.data,p=t.buffer.data;if(null==d||null==p)return 0;for(var g,m,v,b,y,w,x=0,T=new Ea(e,i),S=new Ea(t,new Aa(n.x,n.y,T.width,T.height)),E=e.buffer.format,I=t.buffer.format,C=e.buffer.premultiplied,P=t.buffer.premultiplied,A=0,D=S.height;A<D;){var R=A++;g=T.offset+T.stride*R,m=S.offset+S.stride*R;for(var M=0,F=S.width;M<F;){var B,L;M++;switch(E){case 0:v=(255&d[g])<<24|(255&d[g+1])<<16|(255&d[g+2])<<8|255&d[g+3];break;case 1:v=(255&d[g+1])<<24|(255&d[g+2])<<16|(255&d[g+3])<<8|255&d[g];break;case 2:v=(255&d[g+2])<<24|(255&d[g+1])<<16|(255&d[g])<<8|255&d[g+3]}switch(C&&0!=(255&v)&&255!=(255&v)&&(Ba.unmult=255/(255&v),v=(255&Ba.__clamp[Math.round((v>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((v>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((v>>8&255)*Ba.unmult)])<<8|255&v),w=(B=(b=v&u)>>24&255)!=(L=c>>24&255)?L<B?1:-1:(B=b>>16&255)!=(L=c>>16&255)?L<B?1:-1:(B=b>>8&255)!=(L=c>>8&255)?L<B?1:-1:(B=255&b)!=(L=255&c)?L<B?1:-1:0,f){case 0:y=0!=w;break;case 1:y=0==w;break;case 2:y=-1==w;break;case 3:y=0==w||-1==w;break;case 4:y=1==w;break;case 5:y=0==w||1==w;break;default:y=!1}if(y){switch(P&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(Ba.a16=Ba.__alpha16[255&_],_=((_>>24&255)*Ba.a16>>16&255)<<24|((_>>16&255)*Ba.a16>>16&255)<<16|((_>>8&255)*Ba.a16>>16&255)<<8|255&_)),I){case 0:p[m]=_>>24&255,p[m+1]=_>>16&255,p[m+2]=_>>8&255,p[m+3]=255&_;break;case 1:p[m]=255&_,p[m+1]=_>>24&255,p[m+2]=_>>16&255,p[m+3]=_>>8&255;break;case 2:p[m]=_>>8&255,p[m+1]=_>>16&255,p[m+2]=_>>24&255,p[m+3]=255&_}++x}else if(l)switch(P&&(0==(255&v)?0!=v&&(v=0):255!=(255&v)&&(Ba.a16=Ba.__alpha16[255&v],v=((v>>24&255)*Ba.a16>>16&255)<<24|((v>>16&255)*Ba.a16>>16&255)<<16|((v>>8&255)*Ba.a16>>16&255)<<8|255&v)),I){case 0:p[m]=v>>24&255,p[m+1]=v>>16&255,p[m+2]=v>>8&255,p[m+3]=255&v;break;case 1:p[m]=255&v,p[m+1]=v>>24&255,p[m+2]=v>>16&255,p[m+3]=v>>8&255;break;case 2:p[m]=v>>8&255,p[m+1]=v>>16&255,p[m+2]=v>>24&255,p[m+3]=255&v}g+=4,m+=4}}return 0<x&&(t.dirty=!0),x},Sa.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i,n=t.buffer.format,s=0,r=e.length/4|0;s<r;){var a=s++,o=4*a;switch(n){case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o];break;case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3]}0!=(255&i)&&255!=(255&i)&&(Ba.unmult=255/(255&i),i=(255&Ba.__clamp[Math.round((i>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((i>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((i>>8&255)*Ba.unmult)])<<8|255&i);var l=4*a;switch(n){case 0:e[l]=i>>24&255,e[l+1]=i>>16&255,e[l+2]=i>>8&255,e[l+3]=255&i;break;case 1:e[l]=255&i,e[l+1]=i>>24&255,e[l+2]=i>>16&255,e[l+3]=i>>8&255;break;case 2:e[l]=i>>8&255,e[l+1]=i>>16&255,e[l+2]=i>>24&255,e[l+3]=255&i}}t.buffer.premultiplied=!1,t.dirty=!0}},Sa.__pixelCompare=function(t,e){var i,n;return(i=t>>24&255)!=(n=e>>24&255)?n<i?1:-1:(i=t>>16&255)!=(n=e>>16&255)?n<i?1:-1:(i=t>>8&255)!=(n=e>>8&255)?n<i?1:-1:(i=255&t)!=(n=255&e)?n<i?1:-1:0};var Ea=function(t,e){this.image=t,this.rect=null==e?t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};(i["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Ea).__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"],Ea.prototype={clip:function(t,e,i,n){this.rect.__contract(t,e,i,n),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(t){return this.offset+this.stride*t},__class__:Ea};var Ia={};(i["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Ia).__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"],Ia.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},Ia._new=function(t){var e;if(null!=t&&20==t.length)e=t;else{var i=Ia.__identity;e=null!=i?new mf(i):null}return e},Ia.clone=function(t){var e;return e=null!=t?new mf(t):null,Ia._new(e)},Ia.concat=function(t,e){t[0]+=e[0],t[6]+=e[6],t[12]+=e[12],t[18]+=e[18]},Ia.copyFrom=function(t,e){t.set(e)},Ia.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},Ia.getAlphaTable=function(t){for(var e,i=new vf(256),n=t[18],s=255*t[19],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},Ia.getBlueTable=function(t){for(var e,i=new vf(256),n=t[12],s=255*t[14],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},Ia.getGreenTable=function(t){for(var e,i=new vf(256),n=t[6],s=255*t[9],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},Ia.getRedTable=function(t){for(var e,i=new vf(256),n=t[0],s=255*t[4],r=0;r<256;){var a=r++;255<(e=Math.floor(a*n+s))&&(e=255),e<0&&(e=0),i[a]=e}return i},Ia.__toFlashColorTransform=function(t){return null},Ia.get_alphaMultiplier=function(t){return t[18]},Ia.set_alphaMultiplier=function(t,e){return t[18]=e},Ia.get_alphaOffset=function(t){return 255*t[19]},Ia.set_alphaOffset=function(t,e){return t[19]=e/255},Ia.get_blueMultiplier=function(t){return t[12]},Ia.set_blueMultiplier=function(t,e){return t[12]=e},Ia.get_blueOffset=function(t){return 255*t[14]},Ia.set_blueOffset=function(t,e){return t[14]=e/255},Ia.get_color=function(t){return(255*t[4]|0)<<16|(255*t[9]|0)<<8|255*t[14]|0},Ia.set_color=function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,Ia.get_color(t)},Ia.get_greenMultiplier=function(t){return t[6]},Ia.set_greenMultiplier=function(t,e){return t[6]=e},Ia.get_greenOffset=function(t){return 255*t[9]},Ia.set_greenOffset=function(t,e){return t[9]=e/255},Ia.get_redMultiplier=function(t){return t[0]},Ia.set_redMultiplier=function(t,e){return t[0]=e},Ia.get_redOffset=function(t){return 255*t[4]},Ia.set_redOffset=function(t,e){return t[4]=e/255},Ia.get=function(t,e){return t[e]},Ia.set=function(t,e,i){return t[e]=i};var Ca=function(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r};(i["lime.math.Matrix3"]=Ca).__name__=["lime","math","Matrix3"],Ca.prototype={clone:function(){return new Ca(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(2<t)throw new fr("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new fr("Column "+t+" out of bounds (2)");e.z=0==t?(e.x=this.a,e.y=this.c,0):1==t?(e.x=this.b,e.y=this.d,0):(e.x=this.tx,e.y=this.ty,1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new fr("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new fr("Row "+t+" out of bounds (2)");e.z=0==t?(e.x=this.a,e.y=this.b,this.tx):1==t?(e.x=this.c,e.y=this.d,this.ty):(e.x=0,e.y=0,1)},createBox:function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t,this.d=e,this.b=i,this.tx=n,this.ty=s},createGradientBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i),a=Math.sin(i);this.b=a*this.d,this.c=-a*this.a,this.a*=r,this.d*=r}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=s+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector2:function(t){return new Da(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},mult:function(t){var e=new Ca(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.concat(t),e},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=s;var r=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=r},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(t){return new Da(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__transformX:function(t){return t.x*this.a+t.y*this.c+this.tx},__transformY:function(t){return t.x*this.b+t.y*this.d+this.ty},__translateTransformed:function(t){this.tx=t.x*this.a+t.y*this.c+this.tx,this.ty=t.x*this.b+t.y*this.d+this.ty},__class__:Ca};var Pa={};(i["lime.math._Matrix4.Matrix4_Impl_"]=Pa).__name__=["lime","math","_Matrix4","Matrix4_Impl_"],Pa.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},Pa._new=function(t){var e;if(null!=t&&16==t.length)e=t;else{var i=Pa.__identity;e=null!=i?new mf(i):null}return e},Pa.append=function(t,e){var i=t[0],n=t[4],s=t[8],r=t[12],a=t[1],o=t[5],l=t[9],h=t[13],_=t[2],u=t[6],c=t[10],f=t[14],d=t[3],p=t[7],g=t[11],m=t[15],v=Pa.get(e,0),b=Pa.get(e,4),y=Pa.get(e,8),w=Pa.get(e,12),x=Pa.get(e,1),T=Pa.get(e,5),S=Pa.get(e,9),E=Pa.get(e,13),I=Pa.get(e,2),C=Pa.get(e,6),P=Pa.get(e,10),A=Pa.get(e,14),D=Pa.get(e,3),R=Pa.get(e,7),M=Pa.get(e,11),F=Pa.get(e,15);t[0]=i*v+a*b+_*y+d*w,t[1]=i*x+a*T+_*S+d*E,t[2]=i*I+a*C+_*P+d*A,t[3]=i*D+a*R+_*M+d*F,t[4]=n*v+o*b+u*y+p*w,t[5]=n*x+o*T+u*S+p*E,t[6]=n*I+o*C+u*P+p*A,t[7]=n*D+o*R+u*M+p*F,t[8]=s*v+l*b+c*y+g*w,t[9]=s*x+l*T+c*S+g*E,t[10]=s*I+l*C+c*P+g*A,t[11]=s*D+l*R+c*M+g*F,t[12]=r*v+h*b+f*y+m*w,t[13]=r*x+h*T+f*S+m*E,t[14]=r*I+h*C+f*P+m*A,t[15]=r*D+h*R+f*M+m*F},Pa.appendRotation=function(t,e,i,n){var s=Pa.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var r=n;Pa.appendTranslation(s,r.x,r.y,r.z)}Pa.append(t,s)},Pa.appendScale=function(t,e,i,n){var s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];s=null!=r?new mf(r):null,Pa.append(t,Pa._new(s))},Pa.appendTranslation=function(t,e,i,n){t[12]+=e,t[13]+=i,t[14]+=n},Pa.clone=function(t){var e;return e=null!=t?new mf(t):null,Pa._new(e)},Pa.copyColumnFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w;break;case 1:t[4]=i.x,t[5]=i.y,t[6]=i.z,t[7]=i.w;break;case 2:t[8]=i.x,t[9]=i.y,t[10]=i.z,t[11]=i.w;break;case 3:t[12]=i.x,t[13]=i.y,t[14]=i.z,t[15]=i.w;break;default:throw new fr("Error, Column "+e+" out of bounds [0, ..., 3]")}},Pa.copyColumnTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[1],i.z=t[2],i.w=t[3];break;case 1:i.x=t[4],i.y=t[5],i.z=t[6],i.w=t[7];break;case 2:i.x=t[8],i.y=t[9],i.z=t[10],i.w=t[11];break;case 3:i.x=t[12],i.y=t[13],i.z=t[14],i.w=t[15];break;default:throw new fr("Error, Column "+e+" out of bounds [0, ..., 3]")}},Pa.copyFrom=function(t,e){t.set(e)},Pa.copythisFrom=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&Pa.transpose(t);for(var s=0,r=e.length-i;s<r;){var a=s++;t[a]=e[a+i]}n&&Pa.transpose(t)},Pa.copythisTo=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&Pa.transpose(t);for(var s=0,r=t.length;s<r;){var a=s++;e[a+i]=t[a]}n&&Pa.transpose(t)},Pa.copyRowFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[4]=i.y,t[8]=i.z,t[12]=i.w;break;case 1:t[1]=i.x,t[5]=i.y,t[9]=i.z,t[13]=i.w;break;case 2:t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=i.w;break;case 3:t[3]=i.x,t[7]=i.y,t[11]=i.z,t[15]=i.w;break;default:throw new fr("Error, Row "+Q.string(Rt.toFloat(e))+" out of bounds [0, ..., 3]")}},Pa.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var s,r=n*Math.PI/180,a=Math.cos(r),o=Math.sin(r),l=[a*i,-o*i,0,0,o*i,a*i,0,0,0,0,1,0,t,e,0,1];return s=null!=l?new mf(l):null,Pa._new(s)},Pa.createABCD=function(t,e,i,n,s,r){var a,o=[t,e,0,0,i,n,0,0,0,0,1,0,s,r,0,1];return a=null!=o?new mf(o):null,Pa._new(a)},Pa.createOrtho=function(t,e,i,n,s,r){var a,o=1/(e-t),l=1/(n-i),h=1/(r-s),_=[2*o,0,0,0,0,2*l,0,0,0,0,-2*h,0,-(t+e)*o,-(i+n)*l,-(s+r)*h,1];return a=null!=_?new mf(_):null,Pa._new(a)},Pa.copyRowTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[4],i.z=t[8],i.w=t[12];break;case 1:i.x=t[1],i.y=t[5],i.z=t[9],i.w=t[13];break;case 2:i.x=t[2],i.y=t[6],i.z=t[10],i.w=t[14];break;case 3:i.x=t[3],i.y=t[7],i.z=t[11],i.w=t[15];break;default:throw new fr("Error, Row "+e+" out of bounds [0, ..., 3]")}},Pa.copyToMatrix4=function(t,e){dr.__cast(e,mf).set(t)},Pa.deltaTransformVector=function(t,e){var i=e.x,n=e.y,s=e.z;return new Ra(i*t[0]+n*t[4]+s*t[8]+t[3],i*t[1]+n*t[5]+s*t[9]+t[7],i*t[2]+n*t[6]+s*t[10]+t[11],0)},Pa.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},Pa.interpolate=function(t,e,i){for(var n=Pa._new(),s=0;s<16;){var r=s++;Pa.set(n,r,Pa.get(t,r)+(Pa.get(e,r)-Pa.get(t,r))*i)}return n},Pa.interpolateTo=function(t,e,i){for(var n=0;n<16;){var s=n++;t[s]+=(Pa.get(e,s)-t[s])*i}},Pa.invert=function(t){var e=Pa.get_determinant(t),i=1e-11<Math.abs(e);if(i){e=1/e;var n=t[0],s=t[4],r=t[8],a=t[12],o=t[1],l=t[5],h=t[9],_=t[13],u=t[2],c=t[6],f=t[10],d=t[14],p=t[3],g=t[7],m=t[11],v=t[15];t[0]=e*(l*(f*v-d*m)-h*(c*v-d*g)+_*(c*m-f*g)),t[1]=-e*(o*(f*v-d*m)-h*(u*v-d*p)+_*(u*m-f*p)),t[2]=e*(o*(c*v-d*g)-l*(u*v-d*p)+_*(u*g-c*p)),t[3]=-e*(o*(c*m-f*g)-l*(u*m-f*p)+h*(u*g-c*p)),t[4]=-e*(s*(f*v-d*m)-r*(c*v-d*g)+a*(c*m-f*g)),t[5]=e*(n*(f*v-d*m)-r*(u*v-d*p)+a*(u*m-f*p)),t[6]=-e*(n*(c*v-d*g)-s*(u*v-d*p)+a*(u*g-c*p)),t[7]=e*(n*(c*m-f*g)-s*(u*m-f*p)+r*(u*g-c*p)),t[8]=e*(s*(h*v-_*m)-r*(l*v-_*g)+a*(l*m-h*g)),t[9]=-e*(n*(h*v-_*m)-r*(o*v-_*p)+a*(o*m-h*p)),t[10]=e*(n*(l*v-_*g)-s*(o*v-_*p)+a*(o*g-l*p)),t[11]=-e*(n*(l*m-h*g)-s*(o*m-h*p)+r*(o*g-l*p)),t[12]=-e*(s*(h*d-_*f)-r*(l*d-_*c)+a*(l*f-h*c)),t[13]=e*(n*(h*d-_*f)-r*(o*d-_*u)+a*(o*f-h*u)),t[14]=-e*(n*(l*d-_*c)-s*(o*d-_*u)+a*(o*c-l*u)),t[15]=e*(n*(l*f-h*c)-s*(o*f-h*u)+r*(o*c-l*u))}return i},Pa.pointAt=function(t,e,i,n){null==i&&(i=new Ra(0,0,-1)),null==n&&(n=new Ra(0,-1,0));var s,r=new Ra(i.x-e.x,i.y-e.y,i.z-e.z),a=new Ra(n.x,n.y,n.z,n.w),o=Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z);0!=o&&(r.x/=o,r.y/=o,r.z/=o);var l=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=l&&(a.x/=l,a.y/=l,a.z/=l);var h=new Ra(r.x,r.y,r.z,r.w),_=a.x*r.x+a.y*r.y+a.z*r.z;if(h.x*=_,h.y*=_,h.z*=_,a=new Ra(a.x-h.x,a.y-h.y,a.z-h.z),0<Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)){var u=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);0!=u&&(a.x/=u,a.y/=u,a.z/=u)}else a=0!=r.x?new Ra(-r.y,r.x,0):new Ra(1,0,0);s=new Ra(a.y*r.z-a.z*r.y,a.z*r.x-a.x*r.z,a.x*r.y-a.y*r.x,1);var c=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);0!=c&&(s.x/=c,s.y/=c,s.z/=c),t[0]=s.x,t[4]=s.y,t[8]=s.z,t[12]=0,t[1]=a.x,t[5]=a.y,t[9]=a.z,t[13]=0,t[2]=r.x,t[6]=r.y,t[10]=r.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},Pa.prepend=function(t,e){var i=Pa.get(e,0),n=Pa.get(e,4),s=Pa.get(e,8),r=Pa.get(e,12),a=Pa.get(e,1),o=Pa.get(e,5),l=Pa.get(e,9),h=Pa.get(e,13),_=Pa.get(e,2),u=Pa.get(e,6),c=Pa.get(e,10),f=Pa.get(e,14),d=Pa.get(e,3),p=Pa.get(e,7),g=Pa.get(e,11),m=Pa.get(e,15),v=t[0],b=t[4],y=t[8],w=t[12],x=t[1],T=t[5],S=t[9],E=t[13],I=t[2],C=t[6],P=t[10],A=t[14],D=t[3],R=t[7],M=t[11],F=t[15];t[0]=i*v+a*b+_*y+d*w,t[1]=i*x+a*T+_*S+d*E,t[2]=i*I+a*C+_*P+d*A,t[3]=i*D+a*R+_*M+d*F,t[4]=n*v+o*b+u*y+p*w,t[5]=n*x+o*T+u*S+p*E,t[6]=n*I+o*C+u*P+p*A,t[7]=n*D+o*R+u*M+p*F,t[8]=s*v+l*b+c*y+g*w,t[9]=s*x+l*T+c*S+g*E,t[10]=s*I+l*C+c*P+g*A,t[11]=s*D+l*R+c*M+g*F,t[12]=r*v+h*b+f*y+m*w,t[13]=r*x+h*T+f*S+m*E,t[14]=r*I+h*C+f*P+m*A,t[15]=r*D+h*R+f*M+m*F},Pa.prependRotation=function(t,e,i,n){var s=Pa.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var r=n;Pa.appendTranslation(s,r.x,r.y,r.z)}Pa.prepend(t,s)},Pa.prependScale=function(t,e,i,n){var s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];s=null!=r?new mf(r):null,Pa.prepend(t,Pa._new(s))},Pa.prependTranslation=function(t,e,i,n){var s=Pa._new();Pa.set_position(s,new Ra(e,i,n)),Pa.prepend(t,s)},Pa.transformVector=function(t,e){var i=e.x,n=e.y,s=e.z;return new Ra(i*t[0]+n*t[4]+s*t[8]+t[12],i*t[1]+n*t[5]+s*t[9]+t[13],i*t[2]+n*t[6]+s*t[10]+t[14],i*t[3]+n*t[7]+s*t[11]+t[15])},Pa.transformVectors=function(t,e,i){for(var n=0;n+3<=e.length;){var s=e[n],r=e[n+1],a=e[n+2];i[n]=s*t[0]+r*t[4]+a*t[8]+t[12],i[n+1]=s*t[1]+r*t[5]+a*t[9]+t[13],i[n+2]=s*t[2]+r*t[6]+a*t[10]+t[14],n+=3}},Pa.transpose=function(t){var e=null!=t?new mf(t):null;t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11]},Pa.getAxisRotation=function(t,e,i,n){var s=Pa._new(),r=new Ra(t,e,i),a=-n*(Math.PI/180),o=Math.cos(a),l=Math.sin(a),h=1-o;Pa.set(s,0,o+r.x*r.x*h),Pa.set(s,5,o+r.y*r.y*h),Pa.set(s,10,o+r.z*r.z*h);var _=r.x*r.y*h,u=r.z*l;return Pa.set(s,4,_+u),Pa.set(s,1,_-u),_=r.x*r.z*h,u=r.y*l,Pa.set(s,8,_-u),Pa.set(s,2,_+u),_=r.y*r.z*h,u=r.x*l,Pa.set(s,9,_+u),Pa.set(s,6,_-u),s},Pa.get_determinant=function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},Pa.get_position=function(t){return new Ra(t[12],t[13],t[14])},Pa.set_position=function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},Pa.get=function(t,e){return t[e]},Pa.set=function(t,e,i){return t[e]=i};var Aa=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=n};(i["lime.math.Rectangle"]=Aa).__name__=["lime","math","Rectangle"],Aa.prototype={clone:function(){return new Aa(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new Aa;var n=this.y<t.y?t.y:this.y,s=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return s<=n?new Aa:new Aa(e,n,i-e,s-n)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},transform:function(t){var e=t.a*this.x+t.c*this.y,i=e,n=t.b*this.x+t.d*this.y,s=n,r=t.a*(this.x+this.width)+t.c*this.y,a=t.b*(this.x+this.width)+t.d*this.y;return r<e&&(e=r),a<n&&(n=a),i<r&&(i=r),s<a&&(s=a),(r=t.a*(this.x+this.width)+t.c*(this.y+this.height))<e&&(e=r),(a=t.b*(this.x+this.width)+t.d*(this.y+this.height))<n&&(n=a),i<r&&(i=r),s<a&&(s=a),(r=t.a*this.x+t.c*(this.y+this.height))<e&&(e=r),(a=t.b*this.x+t.d*(this.y+this.height))<n&&(n=a),i<r&&(i=r),s<a&&(s=a),new Aa(e+t.tx,n+t.ty,i-e,s-n)},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),n=this.y>t.y?t.y:this.y,s=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new Aa(e,n,i-e,s-n)},__contract:function(t,e,i,n){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y))},__expand:function(t,e,i,n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var s=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t),this.y>e&&(this.y=e),s<t+i&&(this.width=t+i-this.x),r<e+n&&(this.height=e+n-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new Da(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new Da(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new Da(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:Aa,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Da=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};(i["lime.math.Vector2"]=Da).__name__=["lime","math","Vector2"],Da.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},Da.interpolate=function(t,e,i){return new Da(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},Da.polar=function(t,e){return new Da(t*Math.cos(e),t*Math.sin(e))},Da.prototype={add:function(t){return new Da(t.x+this.x,t.y+this.y)},clone:function(){return new Da(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new Da(this.x-t.x,this.y-t.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Da,__properties__:{get_length:"get_length"}};var Ra=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};(i["lime.math.Vector4"]=Ra).__name__=["lime","math","Vector4"],Ra.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Ra.X_AXIS=null,Ra.Y_AXIS=null,Ra.Z_AXIS=null,Ra.angleBetween=function(t,e){var i=new Ra(t.x,t.y,t.z,t.w),n=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z);0!=n&&(i.x/=n,i.y/=n,i.z/=n);var s=new Ra(e.x,e.y,e.z,e.w),r=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);return 0!=r&&(s.x/=r,s.y/=r,s.z/=r),Math.acos(i.x*s.x+i.y*s.y+i.z*s.z)},Ra.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.sqrt(i*i+n*n+s*s)},Ra.get_X_AXIS=function(){return new Ra(1,0,0)},Ra.get_Y_AXIS=function(){return new Ra(0,1,0)},Ra.get_Z_AXIS=function(){return new Ra(0,0,1)},Ra.prototype={add:function(t){return new Ra(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new Ra(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new Ra(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new Ra(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Ra,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var Ma={};(i["lime.math.color._ARGB.ARGB_Impl_"]=Ma).__name__=["lime","math","color","_ARGB","ARGB_Impl_"],Ma.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Ma.a16=null,Ma.unmult=null,Ma._new=function(t){return null==t&&(t=0),t},Ma.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},Ma.multiplyAlpha=function(t){0==(t>>24&255)?t=0:255!=(t>>24&255)&&(Ma.a16=Ba.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*Ma.a16>>16&255)<<16|((t>>8&255)*Ma.a16>>16&255)<<8|(255&t)*Ma.a16>>16&255)},Ma.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 1:t=(255&e[i+2])<<24|(255&e[i+3])<<16|(255&e[i])<<8|255&e[i+1];break;case 2:t=(255&e[i+1])<<24|(255&e[i])<<16|(255&e[i+3])<<8|255&e[i+2]}s&&0!=(t>>24&255)&&255!=(t>>24&255)&&(Ma.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&Ba.__clamp[Math.floor((t>>16&255)*Ma.unmult)])<<16|(255&Ba.__clamp[Math.floor((t>>8&255)*Ma.unmult)])<<8|255&Ba.__clamp[Math.floor((255&t)*Ma.unmult)])},Ma.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},Ma.unmultiplyAlpha=function(t){0!=(t>>24&255)&&255!=(t>>24&255)&&(Ma.unmult=255/(t>>24&255),t=(255&t>>24)<<24|(255&Ba.__clamp[Math.floor((t>>16&255)*Ma.unmult)])<<16|(255&Ba.__clamp[Math.floor((t>>8&255)*Ma.unmult)])<<8|255&Ba.__clamp[Math.floor((255&t)*Ma.unmult)])},Ma.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(t>>24&255)?t=0:255!=(t>>24&255)&&(Ma.a16=Ba.__alpha16[t>>24&255],t=(255&t>>24)<<24|((t>>16&255)*Ma.a16>>16&255)<<16|((t>>8&255)*Ma.a16>>16&255)<<8|(255&t)*Ma.a16>>16&255)),n){case 0:e[i]=t>>16&255,e[i+1]=t>>8&255,e[i+2]=255&t,e[i+3]=t>>24&255;break;case 1:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 2:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255}},Ma.__fromBGRA=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},Ma.__fromRGBA=function(t){return(255&t)<<24|(255&t>>24)<<16|(255&t>>16)<<8|255&t>>8},Ma.get_a=function(t){return t>>24&255},Ma.set_a=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},Ma.get_b=function(t){return 255&t},Ma.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},Ma.get_g=function(t){return t>>8&255},Ma.set_g=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},Ma.get_r=function(t){return t>>16&255},Ma.set_r=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e};var Fa={};(i["lime.math.color._BGRA.BGRA_Impl_"]=Fa).__name__=["lime","math","color","_BGRA","BGRA_Impl_"],Fa.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Fa.a16=null,Fa.unmult=null,Fa._new=function(t){return null==t&&(t=0),t},Fa.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},Fa.multiplyAlpha=function(t){0==(255&t)?t=0:255!=(255&t)&&(Fa.a16=Ba.__alpha16[255&t],t=((t>>24&255)*Fa.a16>>16&255)<<24|((t>>16&255)*Fa.a16>>16&255)<<16|((t>>8&255)*Fa.a16>>16&255)<<8|255&t)},Fa.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3];break;case 1:t=(255&e[i+3])<<24|(255&e[i+2])<<16|(255&e[i+1])<<8|255&e[i];break;case 2:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3]}s&&0!=(255&t)&&255!=(255&t)&&(Fa.unmult=255/(255&t),t=(255&Ba.__clamp[Math.floor((t>>24&255)*Fa.unmult)])<<24|(255&Ba.__clamp[Math.floor((t>>16&255)*Fa.unmult)])<<16|(255&Ba.__clamp[Math.floor((t>>8&255)*Fa.unmult)])<<8|255&t)},Fa.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},Fa.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(Fa.unmult=255/(255&t),t=(255&Ba.__clamp[Math.floor((t>>24&255)*Fa.unmult)])<<24|(255&Ba.__clamp[Math.floor((t>>16&255)*Fa.unmult)])<<16|(255&Ba.__clamp[Math.floor((t>>8&255)*Fa.unmult)])<<8|255&t)},Fa.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(255&t)?t=0:255!=(255&t)&&(Fa.a16=Ba.__alpha16[255&t],t=((t>>24&255)*Fa.a16>>16&255)<<24|((t>>16&255)*Fa.a16>>16&255)<<16|((t>>8&255)*Fa.a16>>16&255)<<8|255&t)),n){case 0:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255;break;case 2:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t}},Fa.__fromARGB=function(t){return(255&t)<<24|(255&t>>8)<<16|(255&t>>16)<<8|255&t>>24},Fa.__fromRGBA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},Fa.get_a=function(t){return 255&t},Fa.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},Fa.get_b=function(t){return t>>24&255},Fa.set_b=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e},Fa.get_g=function(t){return t>>16&255},Fa.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},Fa.get_r=function(t){return t>>8&255},Fa.set_r=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e};var Ba={};(i["lime.math.color._RGBA.RGBA_Impl_"]=Ba).__name__=["lime","math","color","_RGBA","RGBA_Impl_"],Ba.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Ba.__alpha16=null,Ba.__clamp=null,Ba.a16=null,Ba.unmult=null,Ba._new=function(t){return null==t&&(t=0),t},Ba.create=function(t,e,i,n){return(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},Ba.multiplyAlpha=function(t){0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(Ba.a16=Ba.__alpha16[255&t],t=((t>>24&255)*Ba.a16>>16&255)<<24|((t>>16&255)*Ba.a16>>16&255)<<16|((t>>8&255)*Ba.a16>>16&255)<<8|255&t)},Ba.readUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),n){case 0:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 1:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 2:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3]}s&&0!=(255&t)&&255!=(255&t)&&(Ba.unmult=255/(255&t),t=(255&Ba.__clamp[Math.round((t>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((t>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((t>>8&255)*Ba.unmult)])<<8|255&t)},Ba.set=function(t,e,i,n,s){(255&e)<<24|(255&i)<<16|(255&n)<<8|255&s},Ba.unmultiplyAlpha=function(t){0!=(255&t)&&255!=(255&t)&&(Ba.unmult=255/(255&t),t=(255&Ba.__clamp[Math.round((t>>24&255)*Ba.unmult)])<<24|(255&Ba.__clamp[Math.round((t>>16&255)*Ba.unmult)])<<16|(255&Ba.__clamp[Math.round((t>>8&255)*Ba.unmult)])<<8|255&t)},Ba.writeUInt8=function(t,e,i,n,s){switch(null==s&&(s=!1),null==n&&(n=0),s&&(0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(Ba.a16=Ba.__alpha16[255&t],t=((t>>24&255)*Ba.a16>>16&255)<<24|((t>>16&255)*Ba.a16>>16&255)<<16|((t>>8&255)*Ba.a16>>16&255)<<8|255&t)),n){case 0:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>24&255,e[i+2]=t>>16&255,e[i+3]=t>>8&255;break;case 2:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t}},Ba.__fromARGB=function(t){return(255&t>>16)<<24|(255&t>>8)<<16|(255&t)<<8|255&t>>24},Ba.__fromBGRA=function(t){return(255&t>>8)<<24|(255&t>>16)<<16|(255&t>>24)<<8|255&t},Ba.get_a=function(t){return 255&t},Ba.set_a=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&e,e},Ba.get_b=function(t){return t>>8&255},Ba.set_b=function(t,e){return t=(255&t>>24)<<24|(255&t>>16)<<16|(255&e)<<8|255&t,e},Ba.get_g=function(t){return t>>16&255},Ba.set_g=function(t,e){return t=(255&t>>24)<<24|(255&e)<<16|(255&t>>8)<<8|255&t,e},Ba.get_r=function(t){return t>>24&255},Ba.set_r=function(t,e){return t=(255&e)<<24|(255&t>>16)<<16|(255&t>>8)<<8|255&t,e};var La=function(){this.responseType="arraybuffer",this.response={bytes:null,text:null},this.promise=new Jr};(i["lime.net.HTTPRequest"]=La).__name__=["lime","net","HTTPRequest"],La.prototype={load:function(t){var e=this;this.bytesLoaded=0,this.bytesTotal=0;var i=new XMLHttpRequest;return i.addEventListener("progress",of(this,this.request_onProgress),!1),i.onreadystatechange=function(){4==i.readyState&&(null!=i.status&&200<=i.status&&i.status<=400?("arraybuffer"==i.responseType?e.response.bytes=fo.ofData(i.response):e.response.text=i.response,e.promise.complete(e.response)):e.promise.error(i.responseURL))},i.open("GET",t,!0),i.responseType=this.responseType,i.send(""),this.promise.future},curl_onProgress:function(t,e,i,n){return(n>this.bytesLoaded||e>this.bytesLoaded||i>this.bytesTotal||t>this.bytesTotal)&&(n>this.bytesLoaded&&(this.bytesLoaded=0|n),e>this.bytesLoaded&&(this.bytesLoaded=0|e),i>this.bytesTotal&&(this.bytesTotal=0|i),t>this.bytesTotal&&(this.bytesTotal=0|t),this.promise.progress(this.bytesLoaded/this.bytesTotal)),0},curl_onWrite:function(t,e,i){var n=this.response.bytes;return this.response.bytes=fo.alloc(this.response.bytes.length+t.length),this.response.bytes.blit(0,n,0,n.length),this.response.bytes.blit(n.length,t,0,t.length),e*i},request_onProgress:function(t){this.promise.progress(t.loaded/t.total)},__class__:La};var ka={};(i["lime.net.curl._CURL.CURL_Impl_"]=ka).__name__=["lime","net","curl","_CURL","CURL_Impl_"],ka.getDate=function(t,e){return 0},ka.globalCleanup=function(){},ka.globalInit=function(t){return 0},ka.version=function(){return null},ka.versionInfo=function(t){return null},ka.intGt=function(t,e){return e<t};var Na=function(){};(i["lime.net.curl.CURLEasy"]=Na).__name__=["lime","net","curl","CURLEasy"],Na.cleanup=function(t){},Na.duphandle=function(t){return 0},Na.escape=function(t,e,i){return null},Na.getinfo=function(t,e){return null},Na.init=function(){return 0},Na.pause=function(t,e){return 0},Na.perform=function(t){return 0},Na.reset=function(t){},Na.setopt=function(t,e,i){return 0},Na.strerror=function(t){return null},Na.unescape=function(t,e,i,n){return null},Na.__writeCallback=function(t,e,i,n){return 0};var Oa=function(){this.onProgress=new Rr,this.onError=new Rr,this.onComplete=new Rr,this.doWork=new Rr};(i["lime.system.BackgroundWorker"]=Oa).__name__=["lime","system","BackgroundWorker"],Oa.prototype={cancel:function(){this.canceled=!0},run:function(t){this.canceled=!1,this.__runMessage=t,this.__doWork()},sendComplete:function(t){this.canceled||(this.canceled=!0,this.onComplete.dispatch(t))},sendError:function(t){this.canceled||(this.canceled=!0,this.onError.dispatch(t))},sendProgress:function(t){this.canceled||this.onProgress.dispatch(t)},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__update:function(t){},__class__:Oa};var Ua=function(){};(i["lime.system.CFFI"]=Ua).__name__=["lime","system","CFFI"],Ua.available=null,Ua.enabled=null,Ua.load=function(t,e,i,n){if(null==n&&(n=!1),null==i&&(i=0),!Ua.enabled)return Dt.makeVarArgs(function(t){return{}});return null},Ua.__findHaxelib=function(t){return""},Ua.__loaderTrace=function(t){},Ua.__sysName=function(){return null},Ua.__tryLoad=function(t,e,i,n){return null};var Ga={};(i["lime.system._CFFIPointer.CFFIPointer_Impl_"]=Ga).__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"],Ga._new=function(t){return t},Ga.get=function(t){return 0},Ga.equals=function(t,e){return Ga.get(t)==e},Ga.equalsPointer=function(t,e){return Ga.get(t)==Ga.get(e)},Ga.greaterThan=function(t,e){return Ga.get(t)>e},Ga.greaterThanPointer=function(t,e){return Ga.get(t)>Ga.get(e)},Ga.greaterThanOrEqual=function(t,e){return Ga.get(t)>=e},Ga.greaterThanOrEqualPointer=function(t,e){return Ga.get(t)>=Ga.get(e)},Ga.lessThan=function(t,e){return Ga.get(t)<e},Ga.lessThanPointer=function(t,e){return Ga.get(t)<Ga.get(e)},Ga.lessThanOrEqual=function(t,e){return Ga.get(t)<=e},Ga.lessThanOrEqualPointer=function(t,e){return Ga.get(t)<=Ga.get(e)},Ga.notEquals=function(t,e){return Ga.get(t)!=e},Ga.notEqualsPointer=function(t,e){return Ga.get(t)!=Ga.get(e)};var Xa=function(){};(i["lime.system.Clipboard"]=Xa).__name__=["lime","system","Clipboard"],Xa.__properties__={set_text:"set_text",get_text:"get_text"},Xa.get_text=function(){return null},Xa.set_text=function(t){try{clipboard.copy(t)}catch(t){Is.lastException=t,Rs.trace("Failed to copy text.",{fileName:"Clipboard.hx",lineNumber:56,className:"lime.system.Clipboard",methodName:"set_text"})}return t};var Va=function(){};(i["lime.system.Display"]=Va).__name__=["lime","system","Display"],Va.prototype={__class__:Va};var za=function(t,e,i,n){this.width=t,this.height=e,this.refreshRate=i,this.pixelFormat=n};(i["lime.system.DisplayMode"]=za).__name__=["lime","system","DisplayMode"],za.prototype={__class__:za};var Ha=i["lime.system.Endian"]={__ename__:["lime","system","Endian"],__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};Ha.LITTLE_ENDIAN=["LITTLE_ENDIAN",0],Ha.LITTLE_ENDIAN.toString=f,(Ha.LITTLE_ENDIAN.__enum__=Ha).BIG_ENDIAN=["BIG_ENDIAN",1],Ha.BIG_ENDIAN.toString=f,Ha.BIG_ENDIAN.__enum__=Ha;var Wa=function(){};(i["lime.system.System"]=Wa).__name__=["lime","system","System"],Wa.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},Wa.applicationDirectory=null,Wa.applicationStorageDirectory=null,Wa.desktopDirectory=null,Wa.disableCFFI=null,Wa.documentsDirectory=null,Wa.endianness=null,Wa.fontsDirectory=null,Wa.numDisplays=null,Wa.userDirectory=null,Wa.embed=t.lime.embed=function(t,e,i,n,s){var r=null;r="string"==typeof t?window.document.getElementById(dr.__cast(t,String)):null==t?window.document.createElement("div"):t;var a=null;null!=n&&(a=-1<(n=Cs.replace(n,"#","")).indexOf("0x")?Q.parseInt(n):Q.parseInt("0x"+n)),null==e&&(e=0),null==i&&(i=0),mi.config.windows[0].background=a,mi.config.windows[0].element=r,mi.config.windows[0].width=e,mi.config.windows[0].height=i,mi.config.assetsPrefix=s,mi.create()},Wa.exit=function(t){},Wa.getDisplay=function(t){if(0!=t)return null;var e=new Va;return e.id=0,e.name="Generic Display",e.dpi=96,e.currentMode=new za(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new Aa(0,0,e.currentMode.width,e.currentMode.height),e},Wa.getTimer=function(){return Date.now()},Wa.load=function(t,e,i,n){return null==n&&(n=!1),null==i&&(i=0),Ua.load(t,e,i,n)},Wa.get_allowScreenTimeout=function(){return!0},Wa.set_allowScreenTimeout=function(t){return!0},Wa.get_applicationDirectory=function(){return null},Wa.get_applicationStorageDirectory=function(){return null!=Ar.current&&null!=Ar.current.config&&(null!=Ar.current.config.company&&Ar.current.config.company,null!=Ar.current.config.file&&Ar.current.config.file),null},Wa.get_desktopDirectory=function(){return null},Wa.get_documentsDirectory=function(){return null},Wa.get_fontsDirectory=function(){return null},Wa.get_numDisplays=function(){return 1},Wa.get_userDirectory=function(){return null},Wa.get_endianness=function(){return Ha.LITTLE_ENDIAN};var Ya=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onProgress=new Rr,this.onError=new Rr,this.onComplete=new Rr,this.doWork=new Rr,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};(i["lime.system.ThreadPool"]=Ya).__name__=["lime","system","ThreadPool"],Ya.prototype={queue:function(t){this.doWork.dispatch(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},__class__:Ya};var Ka=i["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:["lime","system","_ThreadPool","ThreadPoolMessageType"],__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};Ka.COMPLETE=["COMPLETE",0],Ka.COMPLETE.toString=f,(Ka.COMPLETE.__enum__=Ka).ERROR=["ERROR",1],Ka.ERROR.toString=f,(Ka.ERROR.__enum__=Ka).EXIT=["EXIT",2],Ka.EXIT.toString=f,(Ka.EXIT.__enum__=Ka).PROGRESS=["PROGRESS",3],Ka.PROGRESS.toString=f,(Ka.PROGRESS.__enum__=Ka).WORK=["WORK",4],Ka.WORK.toString=f,Ka.WORK.__enum__=Ka;var ja=function(t,e){this.type=t,this.state=e};(i["lime.system._ThreadPool.ThreadPoolMessage"]=ja).__name__=["lime","system","_ThreadPool","ThreadPoolMessage"],ja.prototype={__class__:ja};var qa={};(i["lime.text._Glyph.Glyph_Impl_"]=qa).__name__=["lime","text","_Glyph","Glyph_Impl_"],qa._new=function(t){return t};var Ja=function(){};(i["lime.text.GlyphMetrics"]=Ja).__name__=["lime","text","GlyphMetrics"],Ja.prototype={__class__:Ja};var Za=function(t,e,i){this.glyph=t,this.advance=e,this.offset=null!=i?i:new Da};(i["lime.text.GlyphPosition"]=Za).__name__=["lime","text","GlyphPosition"],Za.prototype={__class__:Za};var Qa={};(i["lime.text._TextDirection.TextDirection_Impl_"]=Qa).__name__=["lime","text","_TextDirection","TextDirection_Impl_"],Qa.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},Qa.reverse=function(t){1},Qa.toString=function(t){switch(t){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},Qa.get_backward=function(t){return 5==(-3&t)},Qa.get_forward=function(t){return 4==(-3&t)},Qa.get_horizontal=function(t){return 4==(-2&t)},Qa.get_vertical=function(t){return 6==(-2&t)};var $a=function(t,e,i,n,s,r){null==r&&(r="en"),null==s&&(s="Zyyy"),null==n&&(n=4),null==i&&(i=12),null==t&&(t=""),this.set_text(t),this.set_font(e),this.set_size(i),this.__direction=n,this.__script=s,this.__language=r,this.positions=[],this.__dirty=!0};(i["lime.text.TextLayout"]=$a).__name__=["lime","text","TextLayout"],$a.prototype={__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction||(this.__direction=t,this.__dirty=!0),t},set_font:function(t){return t==this.font||(this.font=t,this.__dirty=!0),t},get_glyphs:function(){for(var t=[],e=0,i=this.get_positions();e<i.length;){var n=i[e];++e,t.push(n.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language||(this.__language=t,this.__dirty=!0),t},get_script:function(){return this.__script},set_script:function(t){return t==this.__script||(this.__script=t,this.__dirty=!0),t},set_size:function(t){return t==this.size||(this.size=t,this.__dirty=!0),t},set_text:function(t){return t==this.text||(this.text=t,this.__dirty=!0),t},__class__:$a,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var to={};(i["lime.text._TextScript.TextScript_Impl_"]=to).__name__=["lime","text","_TextScript","TextScript_Impl_"],to.__properties__={get_rightToLeft:"get_rightToLeft"},to.get_rightToLeft=function(t){switch(t){case"Arab":case"Armi":case"Avst":case"Cprt":case"Hebr":case"Khar":case"Lydi":case"Mand":case"Nkoo":case"Orkh":case"Phli":case"Phlp":case"Phnx":case"Samr":case"Sarb":case"Syrc":case"Thaa":return!0;default:return!1}};var eo=function(t){this.onDisconnect=new xr,this.onButtonUp=new zr,this.onButtonDown=new zr,this.onAxisMove=new Vr,this.id=t,this.connected=!0};(i["lime.ui.Gamepad"]=eo).__name__=["lime","ui","Gamepad"],eo.addMappings=function(t){},eo.__connect=function(t){if(!eo.devices.h.hasOwnProperty(t)){var e=new eo(t);eo.devices.h[t]=e,eo.onConnect.dispatch(e)}},eo.__disconnect=function(t){var e=eo.devices.h[t];null!=e&&(e.connected=!1),eo.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},eo.prototype={get_guid:function(){return so.__getDeviceData()[this.id].id},get_name:function(){return so.__getDeviceData()[this.id].id},__class__:eo,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var io={};(i["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=io).__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"],io.toString=function(t){switch(t){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+t+")"}};var no={};(i["lime.ui._GamepadButton.GamepadButton_Impl_"]=no).__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"],no.toString=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+t+")"}};var so=function(t){this.onTrackballMove=new Br,this.onHatMove=new Or,this.onDisconnect=new xr,this.onButtonUp=new Nr,this.onButtonDown=new Nr,this.onAxisMove=new Br,this.id=t,this.connected=!0};(i["lime.ui.Joystick"]=so).__name__=["lime","ui","Joystick"],so.__connect=function(t){if(!so.devices.h.hasOwnProperty(t)){var e=new so(t);so.devices.h[t]=e,so.onConnect.dispatch(e)}},so.__disconnect=function(t){var e=so.devices.h[t];null!=e&&(e.connected=!1),so.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},so.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},so.prototype={get_guid:function(){return so.__getDeviceData()[this.id].id},get_name:function(){return so.__getDeviceData()[this.id].id},get_numAxes:function(){return so.__getDeviceData()[this.id].axes.length},get_numButtons:function(){return so.__getDeviceData()[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:so,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var ro={};(i["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=ro).__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"],ro.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},ro._new=function(t){return t},ro.get_center=function(t){return 0==t},ro.set_center=function(t,e){return e&&0,e},ro.get_down=function(t){return 0<(4&t)},ro.set_down=function(t,e){return e?4:268435451,e},ro.get_left=function(t){return 0<(8&t)},ro.set_left=function(t,e){return e?8:268435447,e},ro.get_right=function(t){return 0<(2&t)},ro.set_right=function(t,e){return e?2:268435453,e},ro.get_up=function(t){return 0<(1&t)},ro.set_up=function(t,e){return e?1:268435454,e};var ao={};(i["lime.ui._KeyCode.KeyCode_Impl_"]=ao).__name__=["lime","ui","_KeyCode","KeyCode_Impl_"],ao.gt=function(t,e){return e<t},ao.gte=function(t,e){return e<=t},ao.lt=function(t,e){return t<e},ao.lte=function(t,e){return t<=e},ao.plus=function(t,e){return t+e};var oo={};(i["lime.ui._KeyModifier.KeyModifier_Impl_"]=oo).__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"],oo.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},oo.get_altKey=function(t){return!((256&t)<=0)||0<(512&t)},oo.set_altKey=function(t,e){return e?768:268434687,e},oo.get_capsLock=function(t){return!((8192&t)<=0)||0<(8192&t)},oo.set_capsLock=function(t,e){return e?8192:268427263,e},oo.get_ctrlKey=function(t){return!((64&t)<=0)||0<(128&t)},oo.set_ctrlKey=function(t,e){return e?192:268435263,e},oo.get_metaKey=function(t){return!((1024&t)<=0)||0<(2048&t)},oo.set_metaKey=function(t,e){return e?3072:268432383,e},oo.get_numLock=function(t){return!((4096&t)<=0)||0<(4096&t)},oo.set_numLock=function(t,e){return e?4096:268431359,e},oo.get_shiftKey=function(t){return!((1&t)<=0)||0<(2&t)},oo.set_shiftKey=function(t,e){return e?3:268435452,e};var lo=function(){};(i["lime.ui.Mouse"]=lo).__name__=["lime","ui","Mouse"],lo.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"},lo.hide=function(){Ir.hide()},lo.show=function(){Ir.show()},lo.warp=function(t,e,i){Ir.warp(t,e,i)},lo.get_cursor=function(){return Ir.get_cursor()},lo.set_cursor=function(t){return Ir.set_cursor(t)},lo.get_lock=function(){return Ir.get_lock()},lo.set_lock=function(t){return Ir.set_lock(t)};var ho=i["lime.ui.MouseCursor"]={__ename__:["lime","ui","MouseCursor"],__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};ho.ARROW=["ARROW",0],ho.ARROW.toString=f,(ho.ARROW.__enum__=ho).CROSSHAIR=["CROSSHAIR",1],ho.CROSSHAIR.toString=f,(ho.CROSSHAIR.__enum__=ho).DEFAULT=["DEFAULT",2],ho.DEFAULT.toString=f,(ho.DEFAULT.__enum__=ho).MOVE=["MOVE",3],ho.MOVE.toString=f,(ho.MOVE.__enum__=ho).POINTER=["POINTER",4],ho.POINTER.toString=f,(ho.POINTER.__enum__=ho).RESIZE_NESW=["RESIZE_NESW",5],ho.RESIZE_NESW.toString=f,(ho.RESIZE_NESW.__enum__=ho).RESIZE_NS=["RESIZE_NS",6],ho.RESIZE_NS.toString=f,(ho.RESIZE_NS.__enum__=ho).RESIZE_NWSE=["RESIZE_NWSE",7],ho.RESIZE_NWSE.toString=f,(ho.RESIZE_NWSE.__enum__=ho).RESIZE_WE=["RESIZE_WE",8],ho.RESIZE_WE.toString=f,(ho.RESIZE_WE.__enum__=ho).TEXT=["TEXT",9],ho.TEXT.toString=f,(ho.TEXT.__enum__=ho).WAIT=["WAIT",10],ho.WAIT.toString=f,(ho.WAIT.__enum__=ho).WAIT_ARROW=["WAIT_ARROW",11],ho.WAIT_ARROW.toString=f,(ho.WAIT_ARROW.__enum__=ho).CUSTOM=["CUSTOM",12],ho.CUSTOM.toString=f,ho.CUSTOM.__enum__=ho;var _o=function(t,e,i,n,s,r,a){this.x=t,this.y=e,this.id=i,this.dx=n,this.dy=s,this.pressure=r,this.device=a};(i["lime.ui.Touch"]=_o).__name__=["lime","ui","Touch"],_o.prototype={__class__:_o};var uo=function(t){this.onTextInput=new Gr,this.onTextEdit=new Ur,this.onRestore=new xr,this.onResize=new kr,this.onMove=new Fr,this.onMouseWheel=new Fr,this.onMouseUp=new Mr,this.onMouseMoveRelative=new Fr,this.onMouseMove=new Fr,this.onMouseDown=new Mr,this.onMinimize=new xr,this.onLeave=new xr,this.onKeyUp=new Yr,this.onKeyDown=new Yr,this.onFullscreen=new xr,this.onFocusOut=new xr,this.onFocusIn=new xr,this.onEnter=new xr,this.onDeactivate=new xr,this.onCreate=new xr,this.onClose=new xr,this.onActivate=new xr,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width,this.__originalWidth=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height,this.__originalHeight=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"borderless")&&(this.__borderless=t.borderless),Object.prototype.hasOwnProperty.call(t,"resizable")&&(this.__resizable=t.resizable),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new Pr(this)};(i["lime.ui.Window"]=uo).__name__=["lime","ui","Window"],uo.prototype={alert:function(t,e){this.backend.alert(t,e)},close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(t,e){this.backend.move(t,e),this.__x=t,this.__y=e},resize:function(t,e){this.__width=t,this.__height=e,this.backend.resize(t,e)},resizeViewport:function(t,e){this.backend.resizeViewport(t,e)},setIcon:function(t){null!=t&&this.backend.setIcon(t)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.backend.setBorderless(t)},get_originalWidth:function(){return this.__originalWidth},get_originalHeight:function(){return this.__originalHeight},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(t){return this.backend.setEnableTextEvents(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__minimized=this.backend.setMinimized(t)},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.backend.setResizable(t),this.__resizable},get_scale:function(){return this.__scale},get_screenWidth:function(){return this.backend.getScreenWidth()},get_screenHeight:function(){return this.backend.getScreenHeight()},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.backend.setTitle(this.__title)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:uo,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_screenHeight:"get_screenHeight",get_screenWidth:"get_screenWidth",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",get_originalHeight:"get_originalHeight",get_originalWidth:"get_originalWidth",set_minimized:"set_minimized",get_minimized:"get_minimized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var co=i["lime.utils.TAError"]={__ename__:["lime","utils","TAError"],__constructs__:["RangeError"]};co.RangeError=["RangeError",0],co.RangeError.toString=f,co.RangeError.__enum__=co;var fo=function(t,e){ps.call(this,e)};(i["lime.utils.Bytes"]=fo).__name__=["lime","utils","Bytes"],fo.alloc=function(t){var e=new ps(new pf(t));return new fo(e.length,e.b.bufferValue)},fo.fastGet=function(t,e){return t.bytes[e]},fo.ofData=function(t){var e=ps.ofData(t);return new fo(e.length,e.b.bufferValue)},fo.ofString=function(t){var e=ps.ofString(t);return new fo(e.length,e.b.bufferValue)},fo.readFile=function(t){return null},fo.lime_bytes_from_data_pointer=function(t,e){return fo.cffi_lime_bytes_from_data_pointer(t,e)},fo.lime_bytes_get_data_pointer=function(t){return fo.cffi_lime_bytes_get_data_pointer(t)},fo.lime_bytes_read_file=function(t){return fo.cffi_lime_bytes_read_file(t)},fo.__super__=ps,fo.prototype=n(ps.prototype,{__class__:fo});var po={};(i["lime.utils._Float32Array.Float32Array_Impl_"]=po).__name__=["lime","utils","_Float32Array","Float32Array_Impl_"],po.__set=function(t,e,i){return t[e]=i},po.__get=function(t,e){return t[e]},po.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new mf(t.b.bufferValue):null==i?new mf(t.b.bufferValue,e):new mf(t.b.bufferValue,e,i)},po.toBytes=function(t){return new ps(new vf(t.buffer))},po.toString=function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var go=function(){};(i["lime.utils.GLUtils"]=go).__name__=["lime","utils","GLUtils"],go.compileShader=function(t,e){var i=xa.context.createShader(e);if(xa.context.shaderSource(i,t),xa.context.compileShader(i),0==xa.context.getShaderParameter(i,35713))switch(e){case 35632:throw new fr("Error compiling fragment shader");case 35633:throw new fr("Error compiling vertex shader");default:throw new fr("Error compiling unknown shader type")}return i},go.createProgram=function(t,e){var i=go.compileShader(t,35633),n=go.compileShader(e,35632),s=xa.context.createProgram();if(xa.context.attachShader(s,i),xa.context.attachShader(s,n),xa.context.linkProgram(s),0==xa.context.getProgramParameter(s,35714))throw new fr("Unable to initialize the shader program.");return s};var mo={};(i["lime.utils._Int16Array.Int16Array_Impl_"]=mo).__name__=["lime","utils","_Int16Array","Int16Array_Impl_"],mo.__set=function(t,e,i){return t[e]=i},mo.__get=function(t,e){return t[e]},mo.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int16Array(t.b.bufferValue):null==i?new Int16Array(t.b.bufferValue,e):new Int16Array(t.b.bufferValue,e,i)},mo.toBytes=function(t){return new ps(new vf(t.buffer))},mo.toString=function(t){return null!=t?"Int16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var vo={};(i["lime.utils._Int32Array.Int32Array_Impl_"]=vo).__name__=["lime","utils","_Int32Array","Int32Array_Impl_"],vo.__set=function(t,e,i){return t[e]=i},vo.__get=function(t,e){return t[e]},vo.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int32Array(t.b.bufferValue):null==i?new Int32Array(t.b.bufferValue,e):new Int32Array(t.b.bufferValue,e,i)},vo.toBytes=function(t){return new ps(new vf(t.buffer))},vo.toString=function(t){return null!=t?"Int32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var bo=function(){};(i["lime.utils.LZMA"]=bo).__name__=["lime","utils","LZMA"],bo.decode=function(t){return null},bo.encode=function(t){return null};var yo={};(i["lime.utils._UInt16Array.UInt16Array_Impl_"]=yo).__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"],yo.__set=function(t,e,i){return t[e]=i},yo.__get=function(t,e){return t[e]},yo.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint16Array(t.b.bufferValue):null==i?new Uint16Array(t.b.bufferValue,e):new Uint16Array(t.b.bufferValue,e,i)},yo.toBytes=function(t){return new ps(new vf(t.buffer))},yo.toString=function(t){return null!=t?"UInt16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var wo={};(i["lime.utils._UInt32Array.UInt32Array_Impl_"]=wo).__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"],wo.__set=function(t,e,i){return t[e]=i},wo.__get=function(t,e){return t[e]},wo.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint32Array(t.b.bufferValue):null==i?new Uint32Array(t.b.bufferValue,e):new Uint32Array(t.b.bufferValue,e,i)},wo.toBytes=function(t){return new ps(new vf(t.buffer))},wo.toString=function(t){return null!=t?"UInt32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var xo={};(i["lime.utils._UInt8Array.UInt8Array_Impl_"]=xo).__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"],xo.__set=function(t,e,i){return t[e]=i},xo.__get=function(t,e){return t[e]},xo.fromBytes=function(t,e,i){return null==e?new vf(t.b.bufferValue):null==i?new vf(t.b.bufferValue,e):new vf(t.b.bufferValue,e,i)},xo.toBytes=function(t){return new ps(new vf(t.buffer))},xo.toString=function(t){return null!=t?"UInt8Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var To=function(){};(i["openfl.IAssetCache"]=To).__name__=["openfl","IAssetCache"],To.prototype={__class__:To,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var So=function(){this.__enabled=!0,this.bitmapData=new zs,this.font=new zs,this.sound=new zs};(i["openfl.AssetCache"]=So).__name__=["openfl","AssetCache"],So.__interfaces__=[To],So.prototype={clear:function(t){if(null==t)this.bitmapData=new zs,this.font=new zs,this.sound=new zs;else{for(var e=this.bitmapData.keys();e.hasNext();){var i=e.next();Cs.startsWith(i,t)&&this.bitmapData.remove(i)}for(var n=this.font.keys();n.hasNext();){var s=n.next();Cs.startsWith(s,t)&&this.font.remove(s)}for(var r=this.sound.keys();r.hasNext();){var a=r.next();Cs.startsWith(a,t)&&this.sound.remove(a)}}},getBitmapData:function(t){var e=this.bitmapData;return null!=df[t]?e.getReserved(t):e.h[t]},getFont:function(t){var e=this.font;return null!=df[t]?e.getReserved(t):e.h[t]},getSound:function(t){var e=this.sound;return null!=df[t]?e.getReserved(t):e.h[t]},hasBitmapData:function(t){var e=this.bitmapData;return null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasFont:function(t){var e=this.font;return null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},hasSound:function(t){var e=this.sound;return null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t)},removeBitmapData:function(t){return this.bitmapData.remove(t)},removeFont:function(t){return this.font.remove(t)},removeSound:function(t){return this.sound.remove(t)},setBitmapData:function(t,e){var i=this.bitmapData;null!=df[t]?i.setReserved(t,e):i.h[t]=e},setFont:function(t,e){var i=this.font;null!=df[t]?i.setReserved(t,e):i.h[t]=e},setSound:function(t,e){var i=this.sound;null!=df[t]?i.setReserved(t,e):i.h[t]=e},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:So,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Eo=function(){};(i["openfl.Assets"]=Eo).__name__=["openfl","Assets"],Eo.addEventListener=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),Tr.onChange.has(Eo.LimeAssets_onChange)||Tr.onChange.add(Eo.LimeAssets_onChange),Eo.dispatcher.addEventListener(t,e,i,n,s)},Eo.dispatchEvent=function(t){return Eo.dispatcher.dispatchEvent(t)},Eo.exists=function(t,e){return Tr.exists(t,e)},Eo.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&Eo.cache.get_enabled()&&Eo.cache.hasBitmapData(t)){var i=Eo.cache.getBitmapData(t);if(Eo.isValidBitmapData(i))return i}var n=Tr.getImage(t,!1);if(null==n)return null;var s=Bl.fromImage(n);return e&&Eo.cache.get_enabled()&&Eo.cache.setBitmapData(t,s),s},Eo.getBitmapDataFromSymbol=function(t,e){return null==e&&(e=!0),Bl.isSpritesheetImage(t.path)?Bl.getFromSpritesheet(t.id,t.path):Eo.getBitmapData(t.path,e)},Eo.getBytes=function(t){return Su.fromBytes(Tr.getBytes(t))},Eo.getFont=function(t,e){if(null==e&&(e=!0),e&&Eo.cache.get_enabled()&&Eo.cache.hasFont(t))return Eo.cache.getFont(t);var i=Tr.getFont(t,!1);if(null==i)return new Ti;var n=Ti.__fromLimeFont(i);return e&&Eo.cache.get_enabled()&&Eo.cache.setFont(t,n),n},Eo.getLibrary=function(t){return Tr.getLibrary(t)},Eo.getMovieClip=function(t){var e=t.substring(0,t.indexOf(":")),i=$.substr(t,t.indexOf(":")+1,null),n=Eo.getLibrary(e);if(null!=n)if(n.exists(i,"MOVIE_CLIP")){if(n.isLocal(i,"MOVIE_CLIP"))return n.getMovieClip(i);Rs.trace('[openfl.Assets] MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:232,className:"openfl.Assets",methodName:"getMovieClip"})}else Rs.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:238,className:"openfl.Assets",methodName:"getMovieClip"});else Rs.trace('[openfl.Assets] There is no asset library named "'+e+'"',{fileName:"Assets.hx",lineNumber:244,className:"openfl.Assets",methodName:"getMovieClip"});return null},Eo.getMusic=function(t,e){null==e&&(e=!0);var i=Tr.getPath(t);return null!=i?new j_(new nu(i)):null},Eo.getPath=function(t){return Tr.getPath(t)},Eo.getSound=function(t,e){if(null==e&&(e=!0),e&&Eo.cache.get_enabled()&&Eo.cache.hasSound(t)){var i=Eo.cache.getSound(t);if(Eo.isValidSound(i))return i}var n=Tr.getPath(t);return null!=n?new j_(new nu(n)):null},Eo.getText=function(t){return Tr.getText(t)},Eo.hasEventListener=function(t){return Eo.dispatcher.hasEventListener(t)},Eo.isLocal=function(t,e,i){if(null==i&&(i=!0),i&&Eo.cache.get_enabled()){if(("IMAGE"==e||null==e)&&Eo.cache.hasBitmapData(t))return!0;if(("FONT"==e||null==e)&&Eo.cache.hasFont(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&Eo.cache.hasSound(t))return!0}var n=t.substring(0,t.indexOf(":")),s=$.substr(t,t.indexOf(":")+1,null),r=Eo.getLibrary(n);return null!=r&&r.isLocal(s,e)},Eo.isValidBitmapData=function(t){return null!=t&&null!=t.get_bd().get_image()},Eo.isValidSound=function(t){return!0},Eo.list=function(t){return Tr.list(t)},Eo.loadBitmapData=function(i,n,e){null==n&&(n=!0),null==n&&(n=!0);var s=new Jr;if(null!=e&&(s.future.onComplete(e),s.future.onError(function(t){e(null)})),n&&Eo.cache.get_enabled()&&Eo.cache.hasBitmapData(i)){var t=Eo.cache.getBitmapData(i);if(Eo.isValidBitmapData(t))return s.complete(t),s.future}return Tr.loadImage(i,!1).onComplete(function(t){if(null!=t){var e=Bl.fromImage(t);n&&Eo.cache.get_enabled()&&Eo.cache.setBitmapData(i,e),s.complete(e)}else s.error('[Assets] Could not load Image "'+i+'"')}).onError(of(s,s.error)).onProgress(of(s,s.progress)),s.future},Eo.loadBytes=function(t,e){var i=new Jr,n=Tr.loadBytes(t);return null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}),n.onComplete(function(t){i.complete(Su.fromBytes(t))}),n.onProgress(function(t){i.progress(t)}),n.onError(function(t){i.error(t)})),i.future},Eo.loadFont=function(i,n,e){null==n&&(n=!0),null==n&&(n=!0);var s=new Jr;if(null!=e&&(s.future.onComplete(e),s.future.onError(function(t){e(null)})),n&&Eo.cache.get_enabled()&&Eo.cache.hasFont(i)){var t=Eo.cache.getFont(i);return s.complete(t),s.future}return Tr.loadFont(i).onComplete(function(t){var e=Ti.__fromLimeFont(t);n&&Eo.cache.get_enabled()&&Eo.cache.setFont(i,e),s.complete(e)}).onError(of(s,s.error)).onProgress(of(s,s.progress)),s.future},Eo.loadLibrary=function(t,e){var i=Tr.loadLibrary(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},Eo.loadMusic=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new jr(function(){return Eo.getMusic(t,e)})},Eo.loadMovieClip=function(t,e){var i=new Jr;null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}));var n=t.substring(0,t.indexOf(":")),s=$.substr(t,t.indexOf(":")+1,null),r=Eo.getLibrary(n);return null!=r?r.exists(s,"MOVIE_CLIP")?i.completeWith(r.loadMovieClip(s)):i.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+n+'"'),i.future},Eo.loadSound=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new jr(function(){return Eo.getSound(t,e)})},Eo.loadText=function(t,e){var i=Tr.loadText(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},Eo.registerLibrary=function(t,e){Tr.registerLibrary(t,e)},Eo.removeEventListener=function(t,e,i){null==i&&(i=!1),Eo.dispatcher.removeEventListener(t,e,i)},Eo.resolveClass=function(t){return Pi.resolveClass(t)},Eo.resolveEnum=function(t){return Pi.resolveEnum(t)},Eo.unloadLibrary=function(t){Tr.unloadLibrary(t)},Eo.LimeAssets_onChange=function(){Eo.dispatchEvent(new Ge("change"))};var Io=function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.__uid=X.SEQ<<24|++X.UID,this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=n,this.redOffset=s,this.greenOffset=r,this.blueOffset=a,this.alphaOffset=o};(i["openfl.geom.ColorTransform"]=Io).__name__=["openfl","geom","ColorTransform"],Io.__interfaces__=[C],Io.prototype={concat:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset=t.redMultiplier*this.redOffset+t.redOffset,this.greenOffset=t.greenMultiplier*this.greenOffset+t.greenOffset,this.blueOffset=t.blueMultiplier*this.blueOffset+t.blueOffset,this.alphaOffset=t.alphaMultiplier*this.alphaOffset+t.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new Io(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),!(null==t||this.redMultiplier!=t.redMultiplier||this.greenMultiplier!=t.greenMultiplier||this.blueMultiplier!=t.blueMultiplier||!e&&this.alphaMultiplier!=t.alphaMultiplier||this.redOffset!=t.redOffset||this.greenOffset!=t.greenOffset||this.blueOffset!=t.blueOffset)&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},reset:function(){var t=!this.__isDefault();return t&&(this.redMultiplier=this.greenMultiplier=this.blueMultiplier=this.alphaMultiplier=1,this.redOffset=this.greenOffset=this.blueOffset=this.alphaOffset=0),t},setFromCombination:function(t,e){this.redMultiplier=t.redMultiplier*e.redMultiplier,this.greenMultiplier=t.greenMultiplier*e.greenMultiplier,this.blueMultiplier=t.blueMultiplier*e.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier*e.alphaMultiplier,this.redOffset=t.redOffset+e.redOffset,this.greenOffset=t.greenOffset+e.greenOffset,this.blueOffset=t.blueOffset+e.blueOffset,this.alphaOffset=t.alphaOffset+e.alphaOffset},copyFrom:function(t){this.redMultiplier=t.redMultiplier,this.greenMultiplier=t.greenMultiplier,this.blueMultiplier=t.blueMultiplier,this.alphaMultiplier=t.alphaMultiplier,this.redOffset=t.redOffset,this.greenOffset=t.greenOffset,this.blueOffset=t.blueOffset,this.alphaOffset=t.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|0|this.blueOffset},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){var t=[this.redMultiplier,0,0,0,this.redOffset/255,0,this.greenMultiplier,0,0,this.greenOffset/255,0,0,this.blueMultiplier,0,this.blueOffset/255,0,0,0,this.alphaMultiplier,this.alphaOffset/255];return null!=t?new mf(t):null},getCLID:function(){return Io.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.alphaMultiplier)),t.out.addInt32(js.floatToI32(this.alphaOffset)),t.out.addInt32(js.floatToI32(this.blueMultiplier)),t.out.addInt32(js.floatToI32(this.blueOffset)),t.out.addInt32(js.floatToI32(this.greenMultiplier)),t.out.addInt32(js.floatToI32(this.greenOffset)),t.out.addInt32(js.floatToI32(this.redMultiplier)),t.out.addInt32(js.floatToI32(this.redOffset))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("alphaMultiplier"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("alphaOffset"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("blueMultiplier"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("blueOffset"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("greenMultiplier"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("greenOffset"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("redMultiplier"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("redOffset"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(Io.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaMultiplier=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.alphaOffset=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.blueMultiplier=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.blueOffset=s;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.greenMultiplier=r;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.greenOffset=a;var o=t.input.getFloat(t.inPos);t.inPos+=4,this.redMultiplier=o;var l=t.input.getFloat(t.inPos);t.inPos+=4,this.redOffset=l},__class__:Io,__properties__:{set_color:"set_color",get_color:"get_color"}};var Co=function(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.__uid=X.SEQ<<24|++X.UID,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r};(i["openfl.geom.Matrix"]=Co).__name__=["openfl","geom","Matrix"],Co.__interfaces__=[C],Co.prototype={clone:function(){return new Co(this.a,this.b,this.c,this.d,this.tx,this.ty)},preTransform:function(t){this.tx=t.tx*this.a+t.ty*this.c+this.tx,this.ty=t.tx*this.b+t.ty*this.d+this.ty;var e=t.a*this.a+t.b*this.c;this.c=t.c*this.a+t.d*this.c,this.a=e;var i=t.a*this.b+t.b*this.d;this.d=t.c*this.b+t.d*this.d,this.b=i},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(2<t)throw new fr("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw new fr("Column "+t+" out of bounds (2)");e.z=0==t?(e.x=this.a,e.y=this.c,0):1==t?(e.x=this.b,e.y=this.d,0):(e.x=this.tx,e.y=this.ty,1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw new fr("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(2<t)throw new fr("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),0!=i){var r=Math.cos(i),a=Math.sin(i);this.a=r*t,this.b=a*e,this.c=-a*t,this.d=r*e}else this.a=t,this.b=0,this.c=0,this.d=e;this.tx=n,this.ty=s},createGradientBox:function(t,e,i,n,s){if(null==s&&(s=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var r=Math.cos(i),a=Math.sin(i);this.b=a*this.d,this.c=-a*this.a,this.a*=r,this.d*=r}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=s+e/2},deltaTransformPoint:function(t){return new xe(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var s=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=s;var r=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=r},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,s,r){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=r},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new xe(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e=new mf(9);this.__array=e}return this.__array[8]=(this.__array[7]=t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0),1),this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return new Ca(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,i=t.y;t.x=e*this.a+i*this.c+this.tx,t.y=e*this.b+i*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},getCLID:function(){return Co.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.a)),t.out.addInt32(js.floatToI32(this.b)),t.out.addInt32(js.floatToI32(this.c)),t.out.addInt32(js.floatToI32(this.d)),t.out.addInt32(js.floatToI32(this.tx)),t.out.addInt32(js.floatToI32(this.ty))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("a"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("b"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("c"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("d"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("tx"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("ty"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(Co.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.a=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.b=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.c=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.d=s;var r=t.input.getFloat(t.inPos);t.inPos+=4,this.tx=r;var a=t.input.getFloat(t.inPos);t.inPos+=4,this.ty=a},__class__:Co};var Po=function(){};(i["openfl.Lib"]=Po).__name__=["openfl","Lib"],Po.application=null,Po.as=function(t,e){return dr.__instanceof(t,e)?t:null},Po.attach=function(t){return new l},Po.embed=t.openfl.embed=function(t,e,i,n,s){Wa.embed(t,e,i,n,s)},Po.getTimer=function(){return Date.now()},Po.getURL=function(t,e){null==e&&(e="_blank"),window.open(t.url,e)},Po.notImplemented=function(t){var e=Po.__sentWarnings;if(!(null!=df[t]?e.existsReserved(t):e.h.hasOwnProperty(t))){var i=Po.__sentWarnings;null!=df[t]?i.setReserved(t,!0):i.h[t]=!0,Rs.trace("Warning: "+t+" is not implemented",{fileName:"Lib.hx",lineNumber:113,className:"openfl.Lib",methodName:"notImplemented"})}},Po.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},Po.trace=function(t){Rs.trace(t,{fileName:"Lib.hx",lineNumber:144,className:"openfl.Lib",methodName:"trace"})};var Ao={};(i["openfl._Vector.Vector_Impl_"]=Ao).__name__=["openfl","_Vector","Vector_Impl_"],Ao.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"},Ao._new=function(t,e){null==e&&(e=!1),null==t&&(t=0);var i=new lt,n=new Array(t);return i.data=n,i.length=t,i.fixed=e,i},Ao.concat=function(t,e){var i=new lt;i.length=null!=e?t.length+e.length:t.length,i.fixed=!1;var n=i.length,s=new Array(n);return i.data=s,Hs.blit(t.data,0,i.data,0,t.length),null!=e&&Hs.blit(e.data,0,i.data,t.length,e.length),i},Ao.copy=function(t){var e=new lt;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);return e.data=n,Hs.blit(t.data,0,e.data,0,t.length),e},Ao.iterator=function(t){return new Do(t)},Ao.join=function(t,e){for(var i="",n=0,s=t.length;n<s;){var r=n++;0<r&&(i+=e),i+=Q.string(t.data[r])}return i},Ao.pop=function(t){var e=null;return t.fixed||0<t.length&&(t.length--,e=t.data[t.length]),e},Ao.push=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.data.length+10,n=new Array(i);Hs.blit(t.data,0,n,0,t.data.length),t.data=n}t.data[t.length-1]=e}return t.length},Ao.reverse=function(t){for(var e=t.length,i=new Array(e),n=0,s=t.length;n<s;){var r=n++;i[t.length-1-r]=t.data[r]}t.data=i},Ao.shift=function(t){if(!t.fixed&&0<t.length){t.length--;var e=t.data[0];return Hs.blit(t.data,1,t.data,0,t.length),e}return null},Ao.unshift=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i=t.length+10,n=new Array(i);Hs.blit(t.data,0,n,1,t.data.length),t.data=n}else Hs.blit(t.data,0,t.data,1,t.length-1);t.data[0]=e}},Ao.slice=function(t,e,i){null==i&&(i=0),null==e&&(e=0),e<0&&(e+=t.length),i<=0&&(i+=t.length),i>t.length&&(i=t.length);var n=i-e;(n<=0||n>t.length)&&(n=t.length);var s=new lt;s.length=i-e,s.fixed=!0;var r=new Array(n);return s.data=r,Hs.blit(t.data,e,s.data,0,n),s},Ao.sort=function(t,e){var i=t.data.slice(0);i.sort(e),t.data=i.slice(0)},Ao.splice=function(t,e,i){e<0&&(e+=t.length),e+i>t.length&&(i=t.length-e),i<0&&(i=0);var n=new lt;n.length=i,n.fixed=!1;var s=new Array(i);return n.data=s,Hs.blit(t.data,e,n.data,0,i),0<i&&(t.length-=i,Hs.blit(t.data,e+i,t.data,e,t.length-e)),n},Ao.toString=function(t){return t.data.slice(0).toString()},Ao.indexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,s=i,r=t.length;s<r;){var a=s++;if(t.data[a]==e){n=a;break}}return n},Ao.lastIndexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,s=t.length-1;i<=s;){if(t.data[s]==e){n=s;break}--s}return n},Ao.ofArray=function(t){var e=new lt;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},Ao.convert=function(t){return t},Ao.get=function(t,e){return t.data[e]},Ao.set=function(t,e,i){if(!t.fixed&&(e>=t.length&&(t.length=e+1),t.data.length<t.length)){var n=t.data.length+10,s=new Array(n);Hs.blit(t.data,0,s,0,t.data.length),t.data=s}return t.data[e]=i},Ao.fromArray=function(t){var e=new lt;return e.length=t.length,e.fixed=!0,e.data=t.slice(0),e},Ao.toArray=function(t){for(var e=[],i=0,n=t.data.length;i<n;){var s=i++;e.push(t.data[s])}return e},Ao.fromHaxeVector=function(t){var e=new lt;return e.length=t.length,e.fixed=!0,e.data=t,e},Ao.toHaxeVector=function(t){return t.data},Ao.fromVectorData=function(t){return t},Ao.toVectorData=function(t){return t},Ao.get_length=function(t){return t.length},Ao.set_length=function(t,e){if(!t.fixed){if(e>t.length){var i=new Array(e);Hs.blit(t.data,0,i,0,0|Math.min(t.data.length,e)),t.data=i}t.length=e}return e},Ao.get_fixed=function(t){return t.fixed},Ao.set_fixed=function(t,e){return t.fixed=e};var Do=function(t){this.index=0,this.vectorData=t};(i["openfl.VectorDataIterator"]=Do).__name__=["openfl","VectorDataIterator"],Do.prototype={hasNext:function(){return this.index<this.vectorData.length},next:function(){return this.vectorData.data[this.index++]},__class__:Do};var Ro=function(t){this.renderSession=t};(i["openfl._internal.renderer.AbstractMaskManager"]=Ro).__name__=["openfl","_internal","renderer","AbstractMaskManager"],Ro.prototype={pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:Ro};var Mo=function(t,e){this.width=t,this.height=e};(i["openfl._internal.renderer.AbstractRenderer"]=Mo).__name__=["openfl","_internal","renderer","AbstractRenderer"],Mo.prototype={render:function(t){},renderShape:function(t){},setViewport:function(t,e,i,n,s){null==s&&(s=!1)},resize:function(t,e){},__class__:Mo};var Fo=function(){this.__uid=X.SEQ<<24|++X.UID;var t=new Gt;t._items=[],t._length=t._items.length,this.cf=t;var e=new Gt;e._items=[],e._length=e._items.length,this.bd=e;var i=new Gt;i._items=[],i._length=i._items.length,this.bd_ids=i;var n=new Gt;n._items=[],n._length=n._items.length,this.vi=n;var s=new Gt;s._items=[],s._length=s._items.length,this.vf=s;var r=new Gt;r._items=[],r._length=r._items.length,this.m=r;var a=new Gt;a._items=[],a._length=a._items.length,this.ii=a;var o=new Gt;o._items=[],o._length=o._items.length,this.i=o;var l=new Gt;l._items=[],l._length=l._items.length,this.ff=l;var h=new Gt;h._items=[],h._length=h._items.length,this.t=h;var _=new Gt;_._items=[],_._length=_._items.length,this.b=_;var u=new Gt;u._items=[],u._length=u._items.length,this.types=u};(i["openfl._internal.renderer.DrawCommandBuffer"]=Fo).__name__=["openfl","_internal","renderer","DrawCommandBuffer"],Fo.__interfaces__=[C],Fo.bitmapOverride=null,Fo.prototype={pushClampedFloat:function(t){var e=this.cf;e._items[e._length++]=255*t|0},pushTwip:function(t){var e=this.t;e._items[e._length++]=20*t|0},append:function(t){for(var e=new Bo(t),i=0,n=t.types;i<n._length;){var s=i>=n._length?null:n._items[i];switch(++i,s){case 0:e.advance(),e.prev=0;var r=e,a=r.buffer.bd,o=r.bdPos,l=r.buffer.m,h=r.mPos,_=r.buffer.b,u=r.bPos,c=r.buffer.b,f=r.bPos+1;this.beginBitmapFill(o>=a._length?null:a._items[o],h>=l._length?null:l._items[h],u>=_._length?null:_._items[u],f>=c._length?null:c._items[f]);break;case 1:e.advance(),e.prev=1;var d=e,p=d.buffer.i,g=d.iPos;this.beginFill(g>=p._length?null:p._items[g],d.buffer.clampedFloats[d.cfPos]/255);break;case 2:e.advance(),e.prev=2;var m=e,v=m.buffer.i,b=m.iPos,y=m.buffer.ii,w=m.iiPos,x=m.buffer.ff,T=m.ffPos,S=m.buffer.ii,E=m.iiPos+1,I=m.buffer.m,C=m.mPos,P=m.buffer.i,A=m.iPos+1,D=m.buffer.i,R=m.iPos+2;this.beginGradientFill(b>=v._length?null:v._items[b],w>=y._length?null:y._items[w],T>=x._length?null:x._items[T],E>=S._length?null:S._items[E],C>=I._length?null:I._items[C],A>=P._length?null:P._items[A],R>=D._length?null:D._items[R],m.buffer.twips[m.fPos]/20);break;case 3:e.advance(),e.prev=3;var M=e;this.cubicCurveTo(M.buffer.twips[M.fPos]/20,M.buffer.twips[M.fPos+1]/20,M.buffer.twips[M.fPos+2]/20,M.buffer.twips[M.fPos+3]/20,M.buffer.twips[M.fPos+4]/20,M.buffer.twips[M.fPos+5]/20);break;case 4:e.advance(),e.prev=4;var F=e;this.curveTo(F.buffer.twips[F.fPos]/20,F.buffer.twips[F.fPos+1]/20,F.buffer.twips[F.fPos+2]/20,F.buffer.twips[F.fPos+3]/20);break;case 5:e.advance(),e.prev=5;var B=e;this.drawCircle(B.buffer.twips[B.fPos]/20,B.buffer.twips[B.fPos+1]/20,B.buffer.twips[B.fPos+2]/20);break;case 6:e.advance(),e.prev=6;var L=e;this.drawArc(L.buffer.twips[L.fPos]/20,L.buffer.twips[L.fPos+1]/20,L.buffer.twips[L.fPos+2]/20,L.buffer.twips[L.fPos+3]/20,L.buffer.twips[L.fPos+4]/20);break;case 7:e.advance(),e.prev=7;var k=e;this.drawEllipse(k.buffer.twips[k.fPos]/20,k.buffer.twips[k.fPos+1]/20,k.buffer.twips[k.fPos+2]/20,k.buffer.twips[k.fPos+3]/20);break;case 8:e.advance(),e.prev=8;var N=e,O=N.buffer.bd,U=N.bdPos,G=N.buffer.m,X=N.mPos,V=N.buffer.b,z=N.bPos;this.drawImage(U>=O._length?null:O._items[U],X>=G._length?null:G._items[X],z>=V._length?null:V._items[z]);break;case 9:e.advance(),e.prev=9;var H=e,W=H.buffer.vi,Y=H.viPos,K=H.buffer.vf,j=H.vfPos,q=H.buffer.i,J=H.iPos;this.drawPath(Y>=W._length?null:W._items[Y],j>=K._length?null:K._items[j],J>=q._length?null:q._items[J]);break;case 10:e.advance(),e.prev=10;var Z=e;this.drawRect(Z.buffer.twips[Z.fPos]/20,Z.buffer.twips[Z.fPos+1]/20,Z.buffer.twips[Z.fPos+2]/20,Z.buffer.twips[Z.fPos+3]/20);break;case 11:e.advance(),e.prev=11;var Q=e;this.drawRoundRect(Q.buffer.twips[Q.fPos]/20,Q.buffer.twips[Q.fPos+1]/20,Q.buffer.twips[Q.fPos+2]/20,Q.buffer.twips[Q.fPos+3]/20,Q.buffer.twips[Q.fPos+4]/20,Q.buffer.twips[Q.fPos+5]/20);break;case 13:e.advance(),e.prev=13;var $=e,tt=$.buffer.vf,et=$.vfPos,it=$.buffer.vi,nt=$.viPos+1,st=$.buffer.vf,rt=$.vfPos+2,at=$.buffer.i,ot=$.iPos+3;this.drawTriangles(et>=tt._length?null:tt._items[et],nt>=it._length?null:it._items[nt],rt>=st._length?null:st._items[rt],ot>=at._length?null:at._items[ot]);break;case 14:e.advance(),e.prev=14;this.endFill();break;case 15:e.advance(),e.prev=15;var lt=e,ht=lt.buffer.bd,_t=lt.bdPos,ut=lt.buffer.m,ct=lt.mPos,ft=lt.buffer.b,dt=lt.bPos,pt=lt.buffer.b,gt=lt.bPos+1;this.lineBitmapStyle(_t>=ht._length?null:ht._items[_t],ct>=ut._length?null:ut._items[ct],dt>=ft._length?null:ft._items[dt],gt>=pt._length?null:pt._items[gt]);break;case 16:e.advance(),e.prev=16;var mt=e,vt=mt.buffer.i,bt=mt.iPos,yt=mt.buffer.ii,wt=mt.iiPos,xt=mt.buffer.ff,Tt=mt.ffPos,St=mt.buffer.ii,Et=mt.iiPos+1,It=mt.buffer.m,Ct=mt.mPos,Pt=mt.buffer.i,At=mt.iPos+1,Dt=mt.buffer.i,Rt=mt.iPos+2;this.lineGradientStyle(bt>=vt._length?null:vt._items[bt],wt>=yt._length?null:yt._items[wt],Tt>=xt._length?null:xt._items[Tt],Et>=St._length?null:St._items[Et],Ct>=It._length?null:It._items[Ct],At>=Pt._length?null:Pt._items[At],Rt>=Dt._length?null:Dt._items[Rt],mt.buffer.twips[mt.fPos]/20);break;case 17:e.advance(),e.prev=17;var Mt=e,Ft=Mt.buffer.i,Bt=Mt.iPos,Lt=Mt.buffer.b,kt=Mt.bPos,Nt=Mt.buffer.i,Ot=Mt.iPos+1,Ut=Mt.buffer.i,Gt=Mt.iPos+2,Xt=Mt.buffer.i,Vt=Mt.iPos+3;this.lineStyle(Mt.buffer.twips[Mt.fPos]/20,Bt>=Ft._length?null:Ft._items[Bt],Mt.buffer.clampedFloats[Mt.cfPos]/255,kt>=Lt._length?null:Lt._items[kt],Ot>=Nt._length?null:Nt._items[Ot],Gt>=Ut._length?null:Ut._items[Gt],Vt>=Xt._length?null:Xt._items[Vt],Mt.buffer.twips[Mt.fPos+1]/20);break;case 18:e.advance(),e.prev=18;var zt=e;this.lineTo(zt.buffer.twips[zt.fPos]/20,zt.buffer.twips[zt.fPos+1]/20);break;case 19:e.advance(),e.prev=19;var Ht=e;this.moveTo(Ht.buffer.twips[Ht.fPos]/20,Ht.buffer.twips[Ht.fPos+1]/20);break;case 20:e.advance(),e.prev=20;var Wt=e,Yt=Wt.buffer.m,Kt=Wt.mPos;this.overrideMatrix(Kt>=Yt._length?null:Yt._items[Kt])}}return e.destroy(),t},beginBitmapFill:function(t,e,i,n){var s=this.types;s._items[s._length++]=0;var r=this.bd;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},beginBitmapFillWithId:function(t,e,i,n){var s=this.types;s._items[s._length++]=0;var r=this.bd_ids;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},beginFill:function(t,e){var i=this.types;i._items[i._length++]=1;var n=this.i;n._items[n._length++]=t;var s=this.cf;s._items[s._length++]=255*e|0},beginGradientFill:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=2;var h=this.i;h._items[h._length++]=t;var _=this.ii;_._items[_._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=n;var f=this.m;f._items[f._length++]=s;var d=this.i;d._items[d._length++]=r;var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},clear:function(){for(var t=this.types,e=0,i=t._length;e<i;){var n=e++;t._items[n]=null}t._length=0;for(var s=this.b,r=0,a=s._length;r<a;){var o=r++;s._items[o]=null}s._length=0;for(var l=this.i,h=0,_=l._length;h<_;){var u=h++;l._items[u]=null}l._length=0;for(var c=this.t,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0;for(var g=this.m,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;for(var y=this.vi,w=0,x=y._length;w<x;){var T=w++;y._items[T]=null}y._length=0;for(var S=this.vf,E=0,I=S._length;E<I;){var C=E++;S._items[C]=null}S._length=0;for(var P=this.bd_ids,A=0,D=P._length;A<D;){var R=A++;P._items[R]=null}P._length=0;for(var M=this.ff,F=0,B=M._length;F<B;){var L=F++;M._items[L]=null}M._length=0;for(var k=this.ii,N=0,O=k._length;N<O;){var U=N++;k._items[U]=null}k._length=0;for(var G=this.bd,X=0,V=G._length;X<V;){var z=X++;G._items[z]=null}G._length=0;for(var H=this.cf,W=0,Y=H._length;W<Y;){var K=W++;H._items[K]=null}H._length=0,this.drawCommandTypes=null,this.floats=null,this.clampedFloats=null,this.twips=null},copy:function(){var t=new Fo;return t.append(this),t},cubicCurveTo:function(t,e,i,n,s,r){var a=this.types;a._items[a._length++]=3;var o=this.t;o._items[o._length++]=20*t|0;var l=this.t;l._items[l._length++]=20*e|0;var h=this.t;h._items[h._length++]=20*i|0;var _=this.t;_._items[_._length++]=20*n|0;var u=this.t;u._items[u._length++]=20*s|0;var c=this.t;c._items[c._length++]=20*r|0},curveTo:function(t,e,i,n){var s=this.types;s._items[s._length++]=4;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.t=null,this.ff=null,this.ii=null,this.m=null,this.vf=null,this.vi=null,this.bd_ids=null},drawCircle:function(t,e,i){var n=this.types;n._items[n._length++]=5;var s=this.t;s._items[s._length++]=20*t|0;var r=this.t;r._items[r._length++]=20*e|0;var a=this.t;a._items[a._length++]=20*i|0},drawArc:function(t,e,i,n,s){var r=this.types;r._items[r._length++]=6;var a=this.t;a._items[a._length++]=20*t|0;var o=this.t;o._items[o._length++]=20*e|0;var l=this.t;l._items[l._length++]=20*i|0;var h=this.t;h._items[h._length++]=20*n|0;var _=this.t;_._items[_._length++]=20*s|0},drawEllipse:function(t,e,i,n){var s=this.types;s._items[s._length++]=7;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},drawImage:function(t,e,i){var n=this.types;n._items[n._length++]=8;var s=this.bd;s._items[s._length++]=t;var r=this.m;r._items[r._length++]=e;var a=this.b;a._items[a._length++]=i},drawImageWithId:function(t,e,i){var n=this.types;n._items[n._length++]=8;var s=this.bd_ids;s._items[s._length++]=t;var r=this.m;r._items[r._length++]=e;var a=this.b;a._items[a._length++]=i},drawPath:function(t,e,i){throw new fr("Unsupported drawPath")},drawRect:function(t,e,i,n){var s=this.types;s._items[s._length++]=10;var r=this.t;r._items[r._length++]=20*t|0;var a=this.t;a._items[a._length++]=20*e|0;var o=this.t;o._items[o._length++]=20*i|0;var l=this.t;l._items[l._length++]=20*n|0},drawRoundRect:function(t,e,i,n,s,r){var a=this.types;a._items[a._length++]=11;var o=this.t;o._items[o._length++]=20*t|0;var l=this.t;l._items[l._length++]=20*e|0;var h=this.t;h._items[h._length++]=20*i|0;var _=this.t;_._items[_._length++]=20*n|0;var u=this.t;u._items[u._length++]=20*s|0;var c=this.t;c._items[c._length++]=20*r|0},drawTriangles:function(t,e,i,n){throw new fr("Unsupported drawTriangles")},endFill:function(){var t=this.types;t._items[t._length++]=14},lineBitmapStyle:function(t,e,i,n){var s=this.types;s._items[s._length++]=15;var r=this.bd;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},lineBitmapStyleWithId:function(t,e,i,n){var s=this.types;s._items[s._length++]=15;var r=this.bd_ids;r._items[r._length++]=t;var a=this.m;a._items[a._length++]=e;var o=this.b;o._items[o._length++]=i;var l=this.b;l._items[l._length++]=n},lineGradientStyle:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=16;var h=this.i;h._items[h._length++]=t;var _=this.ii;_._items[_._length++]=e;var u=this.ff;u._items[u._length++]=i;var c=this.ii;c._items[c._length++]=n;var f=this.m;f._items[f._length++]=s;var d=this.i;d._items[d._length++]=r;var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},lineStyle:function(t,e,i,n,s,r,a,o){var l=this.types;l._items[l._length++]=17;var h=this.t;h._items[h._length++]=20*(null==t?-1:t)|0;var _=this.i;_._items[_._length++]=e;var u=this.cf;u._items[u._length++]=255*i|0;var c=this.b;c._items[c._length++]=n;var f=this.i;f._items[f._length++]=s,null==r&&(r=1);var d=this.i;d._items[d._length++]=r,null==a&&(a=2);var p=this.i;p._items[p._length++]=a;var g=this.t;g._items[g._length++]=20*o|0},lineTo:function(t,e){var i=this.types;i._items[i._length++]=18;var n=this.t;n._items[n._length++]=20*t|0;var s=this.t;s._items[s._length++]=20*e|0},moveTo:function(t,e){var i=this.types;i._items[i._length++]=19;var n=this.t;n._items[n._length++]=20*t|0;var s=this.t;s._items[s._length++]=20*e|0},overrideMatrix:function(t){var e=this.types;e._items[e._length++]=20;var i=this.m;i._items[i._length++]=t},get_length:function(){return this.validate(),this.drawCommandTypes.length},resolveBitmapDatas:function(t){var e=new Gt;e._items=[],e._length=e._items.length,this.bd=e;for(var i=0,n=this.bd_ids._length;i<n;){var s,r=i++;if(null!=Fo.bitmapOverride){var a=this.bd_ids;s=Fo.bitmapOverride.h.hasOwnProperty(r>=a._length?null:a._items[r])}else s=!1;if(s){var o=this.bd,l=this.bd_ids,h=Eo.getBitmapData(Fo.bitmapOverride.h[r>=l._length?null:l._items[r]]);o._items[o._length++]=h}else{var _=this.bd_ids,u=t.symbols.h[r>=_._length?null:_._items[r]];if(null!=u){var c=this.bd,f=Bl.getFromSymbol(u);c._items[c._length++]=f}else{var d=this.bd;d._items[d._length++]=null}}}},validate:function(){null==this.drawCommandTypes&&(this.drawCommandTypes=Qs.fromArray(this.types._items),this.clampedFloats=Qs.fromArray(this.cf._items),this.twips=qs.fromArray(this.t._items))},needsHighPrecision:function(){for(var t=0,e=this.twips.length;t<e;){var i=t++;if(this.twips[i]<-32768||32767<this.twips[i])return!0}return!1},customSerialize:function(t){this.validate();var e=ps.ofData(this.drawCommandTypes.buffer);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=t.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}var l=this.b._items;if(null==l)t.out.b.push(0);else{var h=l.length+1;0<=h&&h<128?t.out.b.push(h):(t.out.b.push(128),t.out.addInt32(h));for(var _=0;_<l.length;){var u=l[_];++_,t.out.b.push(u?1:0)}}var c=this.i._items;if(null==c)t.out.b.push(0);else{var f=c.length+1;0<=f&&f<128?t.out.b.push(f):(t.out.b.push(128),t.out.addInt32(f));for(var d=0;d<c.length;){var p=c[d];++d,0<=p&&p<128?t.out.b.push(p):(t.out.b.push(128),t.out.addInt32(p))}}if(this.needsHighPrecision()){t.out.b.push(1);var g=ps.ofData(this.twips.buffer);if(null==g)t.out.b.push(0);else{var m=g.length+1;0<=m&&m<128?t.out.b.push(m):(t.out.b.push(128),t.out.addInt32(m));for(var v=t.out,b=(v.b,g.b),y=0,w=g.length;y<w;){var x=y++;v.b.push(b[x])}}}else{t.out.b.push(0);for(var T=new Uint16Array(this.twips.length),S=0,E=this.twips.length;S<E;){var I=S++;T[I]=this.twips[I]+32768&65535}var C=ps.ofData(T.buffer);if(null==C)t.out.b.push(0);else{var P=C.length+1;0<=P&&P<128?t.out.b.push(P):(t.out.b.push(128),t.out.addInt32(P));for(var A=t.out,D=(A.b,C.b),R=0,M=C.length;R<M;){var F=R++;A.b.push(D[F])}}}var B=this.ff._items;if(null==B)t.out.b.push(0);else{var L=B.length+1;0<=L&&L<128?t.out.b.push(L):(t.out.b.push(128),t.out.addInt32(L));for(var k=0;k<B.length;){var N=B[k];if(++k,null==N)t.out.b.push(0);else{var O=N.length+1;0<=O&&O<128?t.out.b.push(O):(t.out.b.push(128),t.out.addInt32(O));for(var U=0;U<N.length;){var G=N[U];++U,t.out.addInt32(js.floatToI32(G))}}}}var X=this.ii._items;if(null==X)t.out.b.push(0);else{var V=X.length+1;0<=V&&V<128?t.out.b.push(V):(t.out.b.push(128),t.out.addInt32(V));for(var z=0;z<X.length;){var H=X[z];if(++z,null==H)t.out.b.push(0);else{var W=H.length+1;0<=W&&W<128?t.out.b.push(W):(t.out.b.push(128),t.out.addInt32(W));for(var Y=0;Y<H.length;){var K=H[Y];++Y,0<=K&&K<128?t.out.b.push(K):(t.out.b.push(128),t.out.addInt32(K))}}}}var j=this.m._items;if(null==j)t.out.b.push(0);else{var q=j.length+1;0<=q&&q<128?t.out.b.push(q):(t.out.b.push(128),t.out.addInt32(q));for(var J=0;J<j.length;){var Z=j[J];++J,t.out.addInt32(js.floatToI32(Z.a)),t.out.addInt32(js.floatToI32(Z.b)),t.out.addInt32(js.floatToI32(Z.c)),t.out.addInt32(js.floatToI32(Z.d)),t.out.addInt32(js.floatToI32(Z.tx)),t.out.addInt32(js.floatToI32(Z.ty))}}var Q=this.bd_ids._items;if(null==Q)t.out.b.push(0);else{var $=Q.length+1;0<=$&&$<128?t.out.b.push($):(t.out.b.push(128),t.out.addInt32($));for(var tt=0;tt<Q.length;){var et=Q[tt];++tt,0<=et&&et<128?t.out.b.push(et):(t.out.b.push(128),t.out.addInt32(et))}}var it=ps.ofData(this.clampedFloats.buffer);if(null==it)t.out.b.push(0);else{var nt=it.length+1;0<=nt&&nt<128?t.out.b.push(nt):(t.out.b.push(128),t.out.addInt32(nt));for(var st=t.out,rt=(st.b,it.b),at=0,ot=it.length;at<ot;){var lt=at++;st.b.push(rt[lt])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.sub(t.inPos,n);t.inPos+=n,i=s}this.drawCommandTypes=Qs.fromBytes(i);var r=t.input.b[t.inPos++];128==r&&(r=t.input.getInt32(t.inPos),t.inPos+=4);var a,o=r;if(0==o)a=null;else{for(var l=[],h=0,_=--o;h<_;){l[h++]=0!=t.input.b[t.inPos++]}a=l}var u=new Gt;u._items=null!=a?a:[],u._length=u._items.length,this.b=u;var c=t.input.b[t.inPos++];128==c&&(c=t.input.getInt32(t.inPos),t.inPos+=4);var f,d=c;if(0==d)f=null;else{for(var p=[],g=0,m=--d;g<m;){var v=g++,b=t.input.b[t.inPos++];128==b&&(b=t.input.getInt32(t.inPos),t.inPos+=4),p[v]=b}f=p}var y=new Gt;if(y._items=null!=f?f:[],y._length=y._items.length,this.i=y,0!=t.input.b[t.inPos++]){var w=t.input.b[t.inPos++];128==w&&(w=t.input.getInt32(t.inPos),t.inPos+=4);var x,T=w;if(0==T)x=null;else{--T;var S=t.input.sub(t.inPos,T);t.inPos+=T,x=S}this.twips=qs.fromBytes(x)}else{var E=t.input.b[t.inPos++];128==E&&(E=t.input.getInt32(t.inPos),t.inPos+=4);var I,C=E;if(0==C)I=null;else{--C;var P=t.input.sub(t.inPos,C);t.inPos+=C,I=P}var A=Zs.fromBytes(I),D=new Int32Array(A.length);this.twips=D;for(var R=0,M=this.twips.length;R<M;){var F=R++;this.twips[F]=A[F]-32768|0}}var B=t.input.b[t.inPos++];128==B&&(B=t.input.getInt32(t.inPos),t.inPos+=4);var L,k=B;if(0==k)L=null;else{for(var N=[],O=0,U=--k;O<U;){var G=O++,X=t.input.b[t.inPos++];128==X&&(X=t.input.getInt32(t.inPos),t.inPos+=4);var V,z=X;if(0==z)V=null;else{for(var H=[],W=0,Y=--z;W<Y;){var K=W++,j=t.input.getFloat(t.inPos);t.inPos+=4,H[K]=j}V=H}N[G]=V}L=N}var q=new Gt;q._items=null!=L?L:[],q._length=q._items.length,this.ff=q;var J=t.input.b[t.inPos++];128==J&&(J=t.input.getInt32(t.inPos),t.inPos+=4);var Z,Q=J;if(0==Q)Z=null;else{for(var $=[],tt=0,et=--Q;tt<et;){var it=tt++,nt=t.input.b[t.inPos++];128==nt&&(nt=t.input.getInt32(t.inPos),t.inPos+=4);var st,rt=nt;if(0==rt)st=null;else{for(var at=[],ot=0,lt=--rt;ot<lt;){var ht=ot++,_t=t.input.b[t.inPos++];128==_t&&(_t=t.input.getInt32(t.inPos),t.inPos+=4),at[ht]=_t}st=at}$[it]=st}Z=$}var ut=new Gt;ut._items=null!=Z?Z:[],ut._length=ut._items.length,this.ii=ut;var ct=t.input.b[t.inPos++];128==ct&&(ct=t.input.getInt32(t.inPos),t.inPos+=4);var ft,dt=ct;if(0==dt)ft=null;else{for(var pt=[],gt=0,mt=--dt;gt<mt;){var vt=gt++,bt=new Co,yt=t.input.getFloat(t.inPos);t.inPos+=4,bt.a=yt;var wt=t.input.getFloat(t.inPos);t.inPos+=4,bt.b=wt;var xt=t.input.getFloat(t.inPos);t.inPos+=4,bt.c=xt;var Tt=t.input.getFloat(t.inPos);t.inPos+=4,bt.d=Tt;var St=t.input.getFloat(t.inPos);t.inPos+=4,bt.tx=St;var Et=t.input.getFloat(t.inPos);t.inPos+=4,bt.ty=Et,pt[vt]=bt}ft=pt}var It=new Gt;It._items=null!=ft?ft:[],It._length=It._items.length,this.m=It;var Ct=t.input.b[t.inPos++];128==Ct&&(Ct=t.input.getInt32(t.inPos),t.inPos+=4);var Pt,At=Ct;if(0==At)Pt=null;else{for(var Dt=[],Rt=0,Mt=--At;Rt<Mt;){var Ft=Rt++,Bt=t.input.b[t.inPos++];128==Bt&&(Bt=t.input.getInt32(t.inPos),t.inPos+=4),Dt[Ft]=Bt}Pt=Dt}var Lt=new Gt;Lt._items=null!=Pt?Pt:[],Lt._length=Lt._items.length,this.bd_ids=Lt;var kt=t.input.b[t.inPos++];128==kt&&(kt=t.input.getInt32(t.inPos),t.inPos+=4);var Nt,Ot=kt;if(0==Ot)Nt=null;else{--Ot;var Ut=t.input.sub(t.inPos,Ot);t.inPos+=Ot,Nt=Ut}this.clampedFloats=Qs.fromBytes(Nt)},getCLID:function(){return Fo.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new lr;return t.isFinal=X.isClassFinal(Fo.__clid),t},unserializeInit:function(){var t=new Gt;t._items=[],t._length=t._items.length,this.types=t;var e=new Gt;e._items=[],e._length=e._items.length,this.b=e;var i=new Gt;i._items=[],i._length=i._items.length,this.t=i;var n=new Gt;n._items=[],n._length=n._items.length,this.ff=n;var s=new Gt;s._items=[],s._length=s._items.length,this.i=s;var r=new Gt;r._items=[],r._length=r._items.length,this.ii=r;var a=new Gt;a._items=[],a._length=a._items.length,this.m=a;var o=new Gt;o._items=[],o._length=o._items.length,this.vf=o;var l=new Gt;l._items=[],l._length=l._items.length,this.vi=l;var h=new Gt;h._items=[],h._length=h._items.length,this.bd_ids=h;var _=new Gt;_._items=[],_._length=_._items.length,this.bd=_;var u=new Gt;u._items=[],u._length=u._items.length,this.cf=u},unserialize:function(t){this.customUnserialize(t)},__class__:Fo,__properties__:{get_length:"get_length"}};var Bo=function(t){this.reset(t)};(i["openfl._internal.renderer.DrawCommandReader"]=Bo).__name__=["openfl","_internal","renderer","DrawCommandReader"],Bo.prototype={endCheck:function(){this.advance()},advance:function(){switch(this.prev){case 0:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 1:this.iPos+=1,this.cfPos+=1;break;case 2:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=5;break;case 7:this.fPos+=4;break;case 8:this.bdPos+=1,this.mPos+=1,this.bPos+=1;break;case 9:this.viPos+=1,this.vfPos+=1,this.iPos+=1;break;case 10:this.fPos+=4;break;case 11:this.fPos+=6;break;case 12:throw new fr("Unsupported DRAW_TILES");case 13:this.vfPos+=2,this.viPos+=1,this.iPos+=1;break;case 14:break;case 15:this.bdPos+=1,this.mPos+=1,this.bPos+=2;break;case 16:this.mPos+=1,this.iiPos+=2,this.ffPos+=1,this.fPos+=1,this.iPos+=3;break;case 17:this.iPos+=4,this.fPos+=2,this.cfPos+=1,this.bPos+=1;break;case 18:case 19:this.fPos+=2;break;case 20:this.mPos+=1}},destroy:function(){this.buffer=null,this.reset()},bool:function(t){var e=this.buffer.b,i=this.bPos+t;return i>=e._length?null:e._items[i]},fArr:function(t){var e=this.buffer.ff,i=this.ffPos+t;return i>=e._length?null:e._items[i]},float:function(t){return this.buffer.twips[this.fPos+t]/20},clampedFloat:function(t){return this.buffer.clampedFloats[this.cfPos+t]/255},iArr:function(t){var e=this.buffer.ii,i=this.iiPos+t;return i>=e._length?null:e._items[i]},int:function(t){var e=this.buffer.i,i=this.iPos+t;return i>=e._length?null:e._items[i]},matrix:function(t){var e=this.buffer.m,i=this.mPos+t;return i>=e._length?null:e._items[i]},iVec:function(t){var e=this.buffer.vi,i=this.viPos+t;return i>=e._length?null:e._items[i]},fVec:function(t){var e=this.buffer.vf,i=this.vfPos+t;return i>=e._length?null:e._items[i]},bitmapData:function(t){var e=this.buffer.bd,i=this.bdPos+t;return i>=e._length?null:e._items[i]},readBeginBitmapFill:function(){this.advance(),this.prev=0;return this},readBeginFill:function(){this.advance(),this.prev=1;return this},readBeginGradientFill:function(){this.advance(),this.prev=2;return this},readCubicCurveTo:function(){this.advance(),this.prev=3;return this},readCurveTo:function(){this.advance(),this.prev=4;return this},readDrawCircle:function(){this.advance(),this.prev=5;return this},readDrawArc:function(){this.advance(),this.prev=6;return this},readDrawEllipse:function(){this.advance(),this.prev=7;return this},readDrawImage:function(){this.advance(),this.prev=8;return this},readDrawPath:function(){this.advance(),this.prev=9;return this},readDrawRect:function(){this.advance(),this.prev=10;return this},readDrawRoundRect:function(){this.advance(),this.prev=11;return this},readDrawTriangles:function(){this.advance(),this.prev=13;return this},readEndFill:function(){this.advance(),this.prev=14;return this},readLineBitmapStyle:function(){this.advance(),this.prev=15;return this},readLineGradientStyle:function(){this.advance(),this.prev=16;return this},readLineStyle:function(){this.advance(),this.prev=17;return this},readLineTo:function(){this.advance(),this.prev=18;return this},readMoveTo:function(){this.advance(),this.prev=19;return this},readOverrideMatrix:function(){this.advance(),this.prev=20;return this},reset:function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.mPos=this.viPos=this.vfPos=this.ffPos=this.iiPos=this.bdPos=this.cfPos=0,this.prev=21,null!=t&&t.validate()},skip:function(t){this.advance(),this.prev=t},__class__:Bo};var Lo={};(i["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=Lo).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"],Lo.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},Lo._new=function(t){return t},Lo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},Lo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Lo.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Lo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var ko={};(i["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=ko).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"],ko.__properties__={get_alpha:"get_alpha",get_color:"get_color"},ko._new=function(t){return t},ko.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},ko.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255};var No={};(i["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=No).__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"],No.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},No._new=function(t){return t},No.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},No.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},No.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},No.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},No.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},No.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},No.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},No.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var Oo={};(i["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=Oo).__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"],Oo.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},Oo._new=function(t){return t},Oo.get_controlX1=function(t){return t.buffer.twips[t.fPos]/20},Oo.get_controlY1=function(t){return t.buffer.twips[t.fPos+1]/20},Oo.get_controlX2=function(t){return t.buffer.twips[t.fPos+2]/20},Oo.get_controlY2=function(t){return t.buffer.twips[t.fPos+3]/20},Oo.get_anchorX=function(t){return t.buffer.twips[t.fPos+4]/20},Oo.get_anchorY=function(t){return t.buffer.twips[t.fPos+5]/20};var Uo={};(i["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=Uo).__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"],Uo.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},Uo._new=function(t){return t},Uo.get_controlX=function(t){return t.buffer.twips[t.fPos]/20},Uo.get_controlY=function(t){return t.buffer.twips[t.fPos+1]/20},Uo.get_anchorX=function(t){return t.buffer.twips[t.fPos+2]/20},Uo.get_anchorY=function(t){return t.buffer.twips[t.fPos+3]/20};var Go={};(i["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=Go).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"],Go.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},Go._new=function(t){return t},Go.get_x=function(t){return t.buffer.twips[t.fPos]/20},Go.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Go.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20};var Xo={};(i["openfl._internal.renderer._DrawCommandReader.DrawArcView_Impl_"]=Xo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawArcView_Impl_"],Xo.__properties__={get_endAngle:"get_endAngle",get_startAngle:"get_startAngle",get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},Xo._new=function(t){return t},Xo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Xo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Xo.get_radius=function(t){return t.buffer.twips[t.fPos+2]/20},Xo.get_startAngle=function(t){return t.buffer.twips[t.fPos+3]/20},Xo.get_endAngle=function(t){return t.buffer.twips[t.fPos+4]/20};var Vo={};(i["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=Vo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"],Vo.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Vo._new=function(t){return t},Vo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Vo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Vo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},Vo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var zo={};(i["openfl._internal.renderer._DrawCommandReader.DrawImageView_Impl_"]=zo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawImageView_Impl_"],zo.__properties__={get_smooth:"get_smooth",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},zo._new=function(t){return t},zo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},zo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},zo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]};var Ho={};(i["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=Ho).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"],Ho.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"},Ho._new=function(t){return t},Ho.get_commands=function(t){var e=t.buffer.vi,i=t.viPos;return i>=e._length?null:e._items[i]},Ho.get_data=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},Ho.get_winding=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]};var Wo={};(i["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=Wo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"],Wo.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Wo._new=function(t){return t},Wo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Wo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Wo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},Wo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20};var Yo={};(i["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=Yo).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"],Yo.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},Yo._new=function(t){return t},Yo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Yo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20},Yo.get_width=function(t){return t.buffer.twips[t.fPos+2]/20},Yo.get_height=function(t){return t.buffer.twips[t.fPos+3]/20},Yo.get_ellipseWidth=function(t){return t.buffer.twips[t.fPos+4]/20},Yo.get_ellipseHeight=function(t){return t.buffer.twips[t.fPos+5]/20};var Ko={};(i["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=Ko).__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"],Ko.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},Ko._new=function(t){return t},Ko.get_vertices=function(t){var e=t.buffer.vf,i=t.vfPos;return i>=e._length?null:e._items[i]},Ko.get_indices=function(t){var e=t.buffer.vi,i=t.viPos+1;return i>=e._length?null:e._items[i]},Ko.get_uvtData=function(t){var e=t.buffer.vf,i=t.vfPos+2;return i>=e._length?null:e._items[i]},Ko.get_culling=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]};var jo={};(i["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=jo).__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"],jo._new=function(t){return t};var qo={};(i["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=qo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"],qo.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},qo._new=function(t){return t},qo.get_bitmap=function(t){var e=t.buffer.bd,i=t.bdPos;return i>=e._length?null:e._items[i]},qo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},qo.get_repeat=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},qo.get_smooth=function(t){var e=t.buffer.b,i=t.bPos+1;return i>=e._length?null:e._items[i]};var Jo={};(i["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=Jo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"],Jo.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},Jo._new=function(t){return t},Jo.get_type=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Jo.get_colors=function(t){var e=t.buffer.ii,i=t.iiPos;return i>=e._length?null:e._items[i]},Jo.get_alphas=function(t){var e=t.buffer.ff,i=t.ffPos;return i>=e._length?null:e._items[i]},Jo.get_ratios=function(t){var e=t.buffer.ii,i=t.iiPos+1;return i>=e._length?null:e._items[i]},Jo.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]},Jo.get_spreadMethod=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Jo.get_interpolationMethod=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Jo.get_focalPointRatio=function(t){return t.buffer.twips[t.fPos]/20};var Zo={};(i["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=Zo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"],Zo.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},Zo._new=function(t){return t},Zo.get_thickness=function(t){return t.buffer.twips[t.fPos]/20},Zo.get_color=function(t){var e=t.buffer.i,i=t.iPos;return i>=e._length?null:e._items[i]},Zo.get_alpha=function(t){return t.buffer.clampedFloats[t.cfPos]/255},Zo.get_pixelHinting=function(t){var e=t.buffer.b,i=t.bPos;return i>=e._length?null:e._items[i]},Zo.get_scaleMode=function(t){var e=t.buffer.i,i=t.iPos+1;return i>=e._length?null:e._items[i]},Zo.get_caps=function(t){var e=t.buffer.i,i=t.iPos+2;return i>=e._length?null:e._items[i]},Zo.get_joints=function(t){var e=t.buffer.i,i=t.iPos+3;return i>=e._length?null:e._items[i]},Zo.get_miterLimit=function(t){return t.buffer.twips[t.fPos+1]/20};var Qo={};(i["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=Qo).__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"],Qo.__properties__={get_y:"get_y",get_x:"get_x"},Qo._new=function(t){return t},Qo.get_x=function(t){return t.buffer.twips[t.fPos]/20},Qo.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var $o={};(i["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=$o).__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"],$o.__properties__={get_y:"get_y",get_x:"get_x"},$o._new=function(t){return t},$o.get_x=function(t){return t.buffer.twips[t.fPos]/20},$o.get_y=function(t){return t.buffer.twips[t.fPos+1]/20};var tl={};(i["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=tl).__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"],tl.__properties__={get_matrix:"get_matrix"},tl._new=function(t){return t},tl.get_matrix=function(t){var e=t.buffer.m,i=t.mPos;return i>=e._length?null:e._items[i]};var el=function(){};(i["openfl._internal.renderer.DrawCommandType"]=el).__name__=["openfl","_internal","renderer","DrawCommandType"];var il=function(){this.activeTextures=0;var t=new Gt;t._items=[],t._length=t._items.length,this.renderTargetBaseTransformStack=t,this.pushRenderTargetBaseTransform(null,null)};(i["openfl._internal.renderer.RenderSession"]=il).__name__=["openfl","_internal","renderer","RenderSession"],il.prototype={pushRenderTargetBaseTransform:function(t,e){var i=Co.pool.get(),n=Dt.field(t,"__renderTransform");null!=n?(i.copyFrom(n),i.invert()):i.identity(),null!=e&&i.concat(e);var s=this.renderTargetBaseTransformStack;s._items[s._length++]=i},popRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack,e=t._items[--t._length];t._items[t._length]=null;var i=e;Co.pool.put(i)},getRenderTargetBaseTransform:function(){var t=this.renderTargetBaseTransformStack;return t._items[t._length-1]},get_usesMainSpriteBatch:function(){var t=this.renderer;return this.spriteBatch==t.mainSpriteBatch},__class__:il,__properties__:{get_usesMainSpriteBatch:"get_usesMainSpriteBatch"}};var nl=function(){};(i["openfl._internal.renderer.canvas.CanvasGraphics"]=nl).__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"],nl.hasFill=null,nl.hasStroke=null,nl.hitTesting=null,nl.inversePendingMatrix=null,nl.pendingMatrix=null,nl.context=null,nl.__hitTestContext=null,nl.__hitTestCanvas=null,nl.closePath=function(){var t=nl.context;null!=t.strokeStyle&&(t.closePath(),t.stroke(),t.beginPath())},nl.createBitmapFill=function(t,e){return t.get_bd().__sync(),0==t.get_src().width?null:nl.context.createPattern(t.get_src(),e?"repeat":"no-repeat")},nl.createGradientPattern=function(t,e,i,n,s,r,a,o){var l=null,h=nl.context;switch(0!=o&&(o=Math.min(Math.max(o,-1),1)),t){case 0:l=h.createLinearGradient(-819.2,0,819.2,0);break;case 1:l=h.createRadialGradient(819.2*o,0,0,0,0,819.2)}for(var _=0,u=e.length;_<u;){var c=_++,f=e[c],d=i[c],p=(16711680&f)>>>16,g=(65280&f)>>>8,m=255&f,v=n[c]/255;v<0&&(v=0),1<v&&(v=1),l.addColorStop(v,"rgba("+p+", "+g+", "+m+", "+d+")")}return l},nl.drawRoundRect=function(t,e,i,n,s,r){null==r&&(r=s),i/2<(s*=.5)&&(s=i/2),n/2<(r*=.5)&&(r=n/2);var a=t+i,o=e+n,l=-s+s*nl.SIN45,h=-s+s*nl.TAN22,_=-r+r*nl.SIN45,u=-r+r*nl.TAN22,c=nl.context;c.moveTo(a,o-r),c.quadraticCurveTo(a,o+u,a+l,o+_),c.quadraticCurveTo(a+h,o,a-s,o),c.lineTo(t+s,o),c.quadraticCurveTo(t-h,o,t-l,o+_),c.quadraticCurveTo(t,o+u,t,o-r),c.lineTo(t,e+r),c.quadraticCurveTo(t,e-u,t-l,e-_),c.quadraticCurveTo(t-h,e,t+s,e),c.lineTo(a-s,e),c.quadraticCurveTo(a+h,e,a+l,e-_),c.quadraticCurveTo(a,e-u,a,e+r),c.lineTo(a,o-r)},nl.beginRenderStep=function(){nl.context.beginPath(),nl.positionX=0,nl.positionY=0,nl.closeGap=!1,nl.startX=0,nl.startY=0,nl.hasFill=!1,nl.hasStroke=!1},nl.resetFillStyle=function(){nl.hasFill=!1,nl.hasStroke=!1},nl.endRenderStep=function(){var t=nl;if(t.hasStroke||t.hasFill){if(t.hasStroke){nl.context.save();var e=t.pendingMatrix;null!=e&&e.a*e.d-e.c*e.b!=0&&(nl.snapCoordinates&&nl.context.setTransform(nl.currentTransform.a,nl.currentTransform.b,nl.currentTransform.c,nl.currentTransform.d,nl.currentTransform.tx,nl.currentTransform.ty),nl.context.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),null!=e&&e.a==e.d&&(nl.context.lineWidth=nl.context.lineWidth/e.a),t.hitTesting||nl.context.stroke(),nl.context.restore(),nl.context.closePath()}if(t.hasFill&&nl.closeGap?nl.context.lineTo(nl.startX,nl.startY):nl.closeGap&&nl.positionX==nl.startX&&nl.positionY==nl.startY&&nl.context.closePath(),t.hasFill){nl.context.save();var i=t.pendingMatrix;null!=i&&i.a*i.d-i.c*i.b!=0&&(nl.snapCoordinates&&nl.context.setTransform(nl.currentTransform.a,nl.currentTransform.b,nl.currentTransform.c,nl.currentTransform.d,nl.currentTransform.tx,nl.currentTransform.ty),nl.context.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),t.hitTesting||nl.context.fill(t.canvasWindingRule),nl.context.restore(),nl.context.closePath()}t.pendingMatrix=null}},nl.hitTest=function(t,e,i){var n=t.__bounds,s=nl;if(null==t.__commands||0==t.__commands.get_length()||null==n||n.width<=0||n.height<=0)return!1;nl.hitTesting=!0,null==nl.__hitTestCanvas&&(nl.__hitTestCanvas=window.document.createElement("canvas"),nl.__hitTestCanvas.width=1024,nl.__hitTestCanvas.height=1024,nl.__hitTestContext=nl.__hitTestCanvas.getContext("2d")),nl.context=nl.__hitTestContext;var r=nl.__hitTestContext;r.setTransform(1,0,0,1,0,0),e*=1,i*=1,nl.beginRenderStep();var a=nl.drawCommandReaderPool.get();a.reset(t.__commands);for(var o=0,l=t.__commands.drawCommandTypes;o<l.length;){var h=l[o];switch(++o,h){case 0:case 1:case 2:if(nl.endRenderStep(),nl.hasFill&&r.isPointInPath(e,i,nl.canvasWindingRule))return nl.drawCommandReaderPool.put(a),!0;if(nl.hasStroke&&r.isPointInStroke(e,i))return nl.drawCommandReaderPool.put(a),!0;if(nl.beginRenderStep(),0==h){a.advance(),a.prev=0}else if(2==h){a.advance(),a.prev=2}else{a.advance(),a.prev=1}nl.hasFill=!0;break;case 3:a.advance(),a.prev=3;var _=a;nl.context.bezierCurveTo(_.buffer.twips[_.fPos]/20,_.buffer.twips[_.fPos+1]/20,_.buffer.twips[_.fPos+2]/20,_.buffer.twips[_.fPos+3]/20,_.buffer.twips[_.fPos+4]/20,_.buffer.twips[_.fPos+5]/20);break;case 4:a.advance(),a.prev=4;var u=a;nl.context.quadraticCurveTo(u.buffer.twips[u.fPos]/20,u.buffer.twips[u.fPos+1]/20,u.buffer.twips[u.fPos+2]/20,u.buffer.twips[u.fPos+3]/20);break;case 5:a.advance(),a.prev=5;var c=a;nl.context.moveTo(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20),nl.context.arc(c.buffer.twips[c.fPos]/20,c.buffer.twips[c.fPos+1]/20,c.buffer.twips[c.fPos+2]/20,0,2*Math.PI,!0);break;case 6:a.advance(),a.prev=6;var f=a;nl.context.moveTo(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20),nl.context.arc(f.buffer.twips[f.fPos]/20,f.buffer.twips[f.fPos+1]/20,f.buffer.twips[f.fPos+2]/20,f.buffer.twips[f.fPos+3]/20,f.buffer.twips[f.fPos+4]/20,!0);break;case 7:a.advance(),a.prev=7;var d=a,p=d.buffer.twips[d.fPos]/20,g=d.buffer.twips[d.fPos+1]/20,m=d.buffer.twips[d.fPos+2]/20,v=d.buffer.twips[d.fPos+3]/20,b=m/2*.5522848,y=v/2*.5522848,w=p+m,x=g+v,T=p+m/2,S=g+v/2;nl.context.moveTo(p,S),nl.context.bezierCurveTo(p,S-y,T-b,g,T,g),nl.context.bezierCurveTo(T+b,g,w,S-y,w,S),nl.context.bezierCurveTo(w,S+y,T+b,x,T,x),nl.context.bezierCurveTo(T-b,x,p,S+y,p,S);break;case 8:a.advance(),a.prev=8;var E=a;nl.context.save();var I=E.buffer.m,C=E.mPos,P=E.buffer.m,A=E.mPos,D=E.buffer.m,R=E.mPos,M=E.buffer.m,F=E.mPos,B=E.buffer.m,L=E.mPos,k=E.buffer.m,N=E.mPos;nl.context.transform((C>=I._length?null:I._items[C]).a,(A>=P._length?null:P._items[A]).b,(R>=D._length?null:D._items[R]).c,(F>=M._length?null:M._items[F]).d,(L>=B._length?null:B._items[L]).tx,(N>=k._length?null:k._items[N]).ty);var O=E.buffer.bd,U=E.bdPos;if(null!=(U>=O._length?null:O._items[U])&&!nl.hitTesting){var G=E.buffer.bd,X=E.bdPos,V=X>=G._length?null:G._items[X],z=V.get_uvData(),H=V.get_bd().get_image().get_src();if(null==z)nl.context.drawImage(H,0,0,1,1);else{var W=H.width,Y=H.height;nl.context.drawImage(H,z.x0*W,z.y0*Y,(z.x1-z.x0)*W,(z.y2-z.y0)*Y,0,0,1,1)}}else nl.context.rect(0,0,1,1);if(nl.context.restore(),r.isPointInPath(e,i,nl.canvasWindingRule))return nl.drawCommandReaderPool.put(a),!0;break;case 10:a.advance(),a.prev=10;var K=a;nl.context.rect(K.buffer.twips[K.fPos]/20,K.buffer.twips[K.fPos+1]/20,K.buffer.twips[K.fPos+2]/20,K.buffer.twips[K.fPos+3]/20);break;case 11:a.advance(),a.prev=11;var j=a;nl.drawRoundRect(j.buffer.twips[j.fPos]/20,j.buffer.twips[j.fPos+1]/20,j.buffer.twips[j.fPos+2]/20,j.buffer.twips[j.fPos+3]/20,j.buffer.twips[j.fPos+4]/20,j.buffer.twips[j.fPos+5]/20);break;case 14:a.advance(),a.prev=14;if(nl.endRenderStep(),s.hasFill&&r.isPointInPath(e,i,s.canvasWindingRule))return nl.drawCommandReaderPool.put(a),!0;if(s.hasStroke&&r.isPointInStroke(e,i))return nl.drawCommandReaderPool.put(a),!0;nl.beginRenderStep();break;case 15:a.advance(),a.prev=15;nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),nl.context.strokeStyle="white",nl.hasStroke=!0;break;case 16:a.advance(),a.prev=16;var q=a;nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),nl.context.strokeStyle="white";var J=q.buffer.m,Z=q.mPos;nl.pendingMatrix=Z>=J._length?null:J._items[Z],nl.hasStroke=!0;break;case 17:a.advance(),a.prev=17;var Q=a;if((nl.hasStroke||nl.hasFill)&&(nl.hitTesting?nl.context.closePath():(nl.hasStroke&&nl.context.stroke(),nl.context.closePath(),nl.hasFill&&nl.context.fill(nl.canvasWindingRule)),nl.context.beginPath()),nl.context.moveTo(nl.positionX,nl.positionY),Q.buffer.twips[Q.fPos]/20==null||Q.buffer.twips[Q.fPos]/20==-1)nl.hasStroke=!1;else{nl.context.lineWidth=0<Q.buffer.twips[Q.fPos]/20?Math.max(Q.buffer.twips[Q.fPos]/20,1):1;var $=Q.buffer.i,tt=Q.iPos+3;nl.context.lineJoin=nh.toString(tt>=$._length?null:$._items[tt]).toLowerCase();var et,it=Q.buffer.i,nt=Q.iPos+2;if(0==(nt>=it._length?null:it._items[nt]))et="butt";else{var st=Q.buffer.i,rt=Q.iPos+2;et=kl.toString(rt>=st._length?null:st._items[rt]).toLowerCase()}nl.context.lineCap=et,nl.context.miterLimit=Q.buffer.twips[Q.fPos+1]/20,nl.context.strokeStyle="white",nl.hasStroke=0<Q.buffer.clampedFloats[Q.cfPos]/255}break;case 18:a.advance(),a.prev=18;var at=a;nl.context.lineTo(at.buffer.twips[at.fPos]/20,at.buffer.twips[at.fPos+1]/20),nl.positionX=at.buffer.twips[at.fPos]/20,nl.positionY=at.buffer.twips[at.fPos+1]/20;break;case 19:a.advance(),a.prev=19;var ot=a;nl.context.moveTo(ot.buffer.twips[ot.fPos]/20,ot.buffer.twips[ot.fPos+1]/20),nl.positionX=ot.buffer.twips[ot.fPos]/20,nl.positionY=ot.buffer.twips[ot.fPos+1]/20,nl.closeGap=!0,nl.startX=ot.buffer.twips[ot.fPos]/20,nl.startY=ot.buffer.twips[ot.fPos+1]/20;break;default:a.advance(),a.prev=h}}return nl.endRenderStep(),nl.hasFill&&r.isPointInPath(e,i,s.canvasWindingRule)?(nl.drawCommandReaderPool.put(a),!0):nl.hasStroke&&r.isPointInStroke(e,i)?(nl.drawCommandReaderPool.put(a),!0):(nl.drawCommandReaderPool.put(a),!1)},nl.isCCW=function(t,e,i,n,s,r){return(i-t)*(r-e)-(n-e)*(s-t)<0},nl.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-1/0,n=-1/0,s=t.length,r=1,a=s+1;r<a;){var o=r++;e&&o%3==0||i<(n=t.data[o-1])&&(i=n)}var l=new lt,h=new Array(0);l.data=h,l.length=0,l.fixed=!1;for(var _=l,u=1,c=s+1;u<c;){var f=u++;if(!e||f%3!=0){var d=t.data[f-1]/i;if(!_.fixed){if(_.length++,_.data.length<_.length){var p=_.data.length+10,g=new Array(p);Hs.blit(_.data,0,g,0,_.data.length),_.data=g}_.data[_.length-1]=d}}}return{max:i,uvt:_}},nl.render=function(t,e,i,n,s){if(null==s&&(s=!1),null==n&&(n=!1),t.get_dirty()){if(0==nl.glMaxTextureSize){e.gl;nl.glMaxTextureSize=xa.context.getParameter(e.gl.MAX_TEXTURE_SIZE)-2*nl.padding-1}nl.hitTesting=!1;var r=t.__bounds;if(!n&&!t.__visible||0==t.__commands.get_length()||null==r||r.width<=0||r.height<=0)t.__canvas=null,t.__context=null,t.set___bitmap(null);else{var a=i;if(null!=t.__symbol&&dr.__instanceof(t.__symbol,Ps)){var o=null,l=dr.__cast(t.__symbol,Ps);l.registerGraphics(t);var h=l.renderScale,_=H_.pool.get();for(r.transform(_,a);_.width>nl.glMaxTextureSize||_.height>nl.glMaxTextureSize;)h*=.9,_.width*=.9,_.height*=.9;if(a.scale(h,h),H_.pool.put(_),!s&&null!=(o=l.getCachedBitmapData(a)))return t.set___bitmap(o),void t.set_dirty(!1)}else{var u=H_.pool.get(),c=1;for(r.transform(u,a);u.width>nl.glMaxTextureSize||u.height>nl.glMaxTextureSize;)c*=.9,u.width*=.9,u.height*=.9;a.scale(c,c),H_.pool.put(u)}null==t.__canvas&&(t.__canvas=nl.pool.get(),t.__context=t.__canvas.getContext("2d")),nl.context=t.__context;var f=nl.context,d=H_.pool.get();r.transform(d,a);var p=Math.floor(d.x),g=Math.floor(d.y),m=Math.ceil(d.width+d.x-p)+2*nl.padding,v=Math.ceil(d.height+d.y-g)+2*nl.padding;t.__canvas.width=m,t.__canvas.height=v,nl.snapCoordinates=null!=t.__symbol&&dr.__instanceof(t.__symbol,Ps)&&dr.__cast(t.__symbol,Ps).snapCoordinates;var b=Co.pool.get();b.copyFrom(a),b.translate(nl.padding-p,nl.padding-g),H_.pool.put(d),nl.snapCoordinates?nl.currentTransform.setTo(b.a,b.b,b.c,b.d,Math.round(b.tx),Math.round(b.ty)):f.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty),nl.beginRenderStep();var y=nl.drawCommandReaderPool.get();if(y.reset(t.__commands),nl.snapCoordinates)for(var w=0,x=t.__commands.drawCommandTypes;w<x.length;){var T=x[w];switch(++w,T){case 0:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=0;var S,E=y;if(n)S=!0;else{var I=E.buffer.bd,C=E.bdPos;S=null==(C>=I._length?null:I._items[C])}if(S)nl.context.fillStyle="white";else{var P=E.buffer.bd,A=E.bdPos,D=E.buffer.b,R=E.bPos;nl.context.fillStyle=nl.createBitmapFill(A>=P._length?null:P._items[A],R>=D._length?null:D._items[R]),nl.hasFill=!0;var M=E.buffer.m,F=E.mPos;if(null!=(F>=M._length?null:M._items[F])){var B=E.buffer.m,L=E.mPos;nl.pendingMatrix=L>=B._length?null:B._items[L],null==nl.inversePendingMatrix&&(nl.inversePendingMatrix=Co.pool.get());var k=E.buffer.m,N=E.mPos;nl.inversePendingMatrix.copyFrom(N>=k._length?null:k._items[N]),nl.inversePendingMatrix.invert()}else(nl.pendingMatrix=null)!=nl.inversePendingMatrix&&(Co.pool.put(nl.inversePendingMatrix),nl.inversePendingMatrix=null)}break;case 1:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=1;var O=y;if(O.buffer.clampedFloats[O.cfPos]/255<.005&&!n)nl.hasFill=!1;else{if(n)nl.context.fillStyle="white";else if(O.buffer.clampedFloats[O.cfPos]/255==1){var U=O.buffer.i,G=O.iPos,X=Cs.hex(G>=U._length?null:U._items[G],6);nl.context.fillStyle="#"+X}else{var V=O.buffer.i,z=O.iPos,H=(16711680&(z>=V._length?null:V._items[z]))>>>16,W=O.buffer.i,Y=O.iPos,K=(65280&(Y>=W._length?null:W._items[Y]))>>>8,j=O.buffer.i,q=O.iPos,J=255&(q>=j._length?null:j._items[q]);nl.context.fillStyle="rgba("+H+", "+K+", "+J+", "+O.buffer.clampedFloats[O.cfPos]/255+")"}nl.hasFill=!0}break;case 2:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=2;var Z=y;if(n)nl.context.fillStyle="white";else{var Q=Z.buffer.i,$=Z.iPos,tt=Z.buffer.ii,et=Z.iiPos,it=Z.buffer.ff,nt=Z.ffPos,st=Z.buffer.ii,rt=Z.iiPos+1,at=Z.buffer.m,ot=Z.mPos,lt=Z.buffer.i,ht=Z.iPos+1,_t=Z.buffer.i,ut=Z.iPos+2;nl.context.fillStyle=nl.createGradientPattern($>=Q._length?null:Q._items[$],et>=tt._length?null:tt._items[et],nt>=it._length?null:it._items[nt],rt>=st._length?null:st._items[rt],ot>=at._length?null:at._items[ot],ht>=lt._length?null:lt._items[ht],ut>=_t._length?null:_t._items[ut],Z.buffer.twips[Z.fPos]/20)}var ct=Z.buffer.m,ft=Z.mPos;nl.pendingMatrix=ft>=ct._length?null:ct._items[ft],nl.hasFill=!0;break;case 4:y.advance(),y.prev=4;var dt=y,pt=nl.currentTransform,gt=dt.buffer.twips[dt.fPos+2]/20*pt.a+dt.buffer.twips[dt.fPos+3]/20*pt.c+pt.tx,mt=nl.currentTransform,vt=dt.buffer.twips[dt.fPos+2]/20*mt.b+dt.buffer.twips[dt.fPos+3]/20*mt.d+mt.ty,bt=Math.round(gt),yt=Math.round(vt),wt=bt-gt,xt=yt-vt,Tt=nl.currentTransform,St=dt.buffer.twips[dt.fPos]/20*Tt.a+dt.buffer.twips[dt.fPos+1]/20*Tt.c+Tt.tx+wt,Et=nl.currentTransform,It=dt.buffer.twips[dt.fPos]/20*Et.b+dt.buffer.twips[dt.fPos+1]/20*Et.d+Et.ty+xt;nl.context.quadraticCurveTo(St,It,bt,yt);break;case 8:y.advance(),y.prev=8;var Ct=y;nl.context.save();var Pt=Co.pool.get(),At=Ct.buffer.m,Dt=Ct.mPos;if(Pt.copyFrom(Dt>=At._length?null:At._items[Dt]),Pt.concat(nl.currentTransform),0!=Pt.b||0!=Pt.c)throw Co.pool.put(Pt),new fr("can't use snapping on rotated images");if(nl.context.setTransform(Math.round(Pt.a),Math.round(Pt.b),Math.round(Pt.c),Math.round(Pt.d),Math.round(Pt.tx),Math.round(Pt.ty)),Co.pool.put(Pt),nl.hitTesting)nl.context.fillStyle="white",nl.context.fillRect(0,0,1,1);else{var Rt=Ct.buffer.bd,Mt=Ct.bdPos,Ft=Mt>=Rt._length?null:Rt._items[Mt],Bt=Ft.get_uvData(),Lt=Ft.get_bd().get_image().get_src();if(null==Bt)nl.context.drawImage(Lt,0,0,1,1);else{var kt=Lt.width,Nt=Lt.height;nl.context.drawImage(Lt,Bt.x0*kt,Bt.y0*Nt,(Bt.x1-Bt.x0)*kt,(Bt.y2-Bt.y0)*Nt,0,0,1,1)}}nl.context.restore();break;case 14:y.advance(),y.prev=14;nl.endRenderStep(),nl.beginRenderStep();break;case 17:y.advance(),y.prev=17;var Ot=y;if((nl.hasStroke||nl.hasFill)&&(nl.hitTesting?nl.context.closePath():(nl.hasStroke&&nl.context.stroke(),nl.context.closePath(),nl.hasFill&&nl.context.fill(nl.canvasWindingRule)),nl.context.beginPath()),nl.context.moveTo(nl.positionX,nl.positionY),Ot.buffer.twips[Ot.fPos]/20==null||Ot.buffer.twips[Ot.fPos]/20==-1)nl.hasStroke=!1;else{nl.context.lineWidth=0<Ot.buffer.twips[Ot.fPos]/20?Math.max(Ot.buffer.twips[Ot.fPos]/20,1):1;var Ut=Ot.buffer.i,Gt=Ot.iPos+3;nl.context.lineJoin=nh.toString(Gt>=Ut._length?null:Ut._items[Gt]).toLowerCase();var Xt,Vt=Ot.buffer.i,zt=Ot.iPos+2;if(0==(zt>=Vt._length?null:Vt._items[zt]))Xt="butt";else{var Ht=Ot.buffer.i,Wt=Ot.iPos+2;Xt=kl.toString(Wt>=Ht._length?null:Ht._items[Wt]).toLowerCase()}if(nl.context.lineCap=Xt,nl.context.miterLimit=Ot.buffer.twips[Ot.fPos+1]/20,n)nl.context.strokeStyle="white";else if(Ot.buffer.clampedFloats[Ot.cfPos]/255==1){var Yt=Ot.buffer.i,Kt=Ot.iPos,jt=Cs.hex(16777215&(Kt>=Yt._length?null:Yt._items[Kt]),6);nl.context.strokeStyle="#"+jt}else{var qt=Ot.buffer.i,Jt=Ot.iPos,Zt=(16711680&(Jt>=qt._length?null:qt._items[Jt]))>>>16,Qt=Ot.buffer.i,$t=Ot.iPos,te=(65280&($t>=Qt._length?null:Qt._items[$t]))>>>8,ee=Ot.buffer.i,ie=Ot.iPos,ne=255&(ie>=ee._length?null:ee._items[ie]);nl.context.strokeStyle="rgba("+Zt+", "+te+", "+ne+", "+Ot.buffer.clampedFloats[Ot.cfPos]/255+")"}nl.hasStroke=0<Ot.buffer.clampedFloats[Ot.cfPos]/255}break;case 18:y.advance(),y.prev=18;var se=y,re=nl.currentTransform,ae=Math.round(se.buffer.twips[se.fPos]/20*re.a+se.buffer.twips[se.fPos+1]/20*re.c+re.tx),oe=nl.currentTransform,le=Math.round(se.buffer.twips[se.fPos]/20*oe.b+se.buffer.twips[se.fPos+1]/20*oe.d+oe.ty);nl.context.lineTo(ae,le),nl.positionX=ae,nl.positionY=le;break;case 19:y.advance(),y.prev=19;var he=y,_e=nl.currentTransform,ue=Math.round(he.buffer.twips[he.fPos]/20*_e.a+he.buffer.twips[he.fPos+1]/20*_e.c+_e.tx),ce=nl.currentTransform,fe=Math.round(he.buffer.twips[he.fPos]/20*ce.b+he.buffer.twips[he.fPos+1]/20*ce.d+ce.ty);nl.context.moveTo(ue,fe),nl.positionX=ue,nl.positionY=fe,nl.closeGap=!0,nl.startX=ue,nl.startY=fe;break;default:throw new fr(":TODO:")}}else for(var de=0,pe=t.__commands.drawCommandTypes;de<pe.length;){var ge=pe[de];switch(++de,ge){case 0:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=0;var me,ve=y;if(n)me=!0;else{var be=ve.buffer.bd,ye=ve.bdPos;me=null==(ye>=be._length?null:be._items[ye])}if(me)nl.context.fillStyle="white";else{var we=ve.buffer.bd,xe=ve.bdPos,Te=ve.buffer.b,Se=ve.bPos;nl.context.fillStyle=nl.createBitmapFill(xe>=we._length?null:we._items[xe],Se>=Te._length?null:Te._items[Se]),nl.hasFill=!0;var Ee=ve.buffer.m,Ie=ve.mPos;if(null!=(Ie>=Ee._length?null:Ee._items[Ie])){var Ce=ve.buffer.m,Pe=ve.mPos;nl.pendingMatrix=Pe>=Ce._length?null:Ce._items[Pe],null==nl.inversePendingMatrix&&(nl.inversePendingMatrix=Co.pool.get());var Ae=ve.buffer.m,De=ve.mPos;nl.inversePendingMatrix.copyFrom(De>=Ae._length?null:Ae._items[De]),nl.inversePendingMatrix.invert()}else(nl.pendingMatrix=null)!=nl.inversePendingMatrix&&(Co.pool.put(nl.inversePendingMatrix),nl.inversePendingMatrix=null)}break;case 1:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=1;var Re=y;if(Re.buffer.clampedFloats[Re.cfPos]/255<.005&&!n)nl.hasFill=!1;else{if(n)nl.context.fillStyle="white";else if(Re.buffer.clampedFloats[Re.cfPos]/255==1){var Me=Re.buffer.i,Fe=Re.iPos,Be=Cs.hex(Fe>=Me._length?null:Me._items[Fe],6);nl.context.fillStyle="#"+Be}else{var Le=Re.buffer.i,ke=Re.iPos,Ne=(16711680&(ke>=Le._length?null:Le._items[ke]))>>>16,Oe=Re.buffer.i,Ue=Re.iPos,Ge=(65280&(Ue>=Oe._length?null:Oe._items[Ue]))>>>8,Xe=Re.buffer.i,Ve=Re.iPos,ze=255&(Ve>=Xe._length?null:Xe._items[Ve]);nl.context.fillStyle="rgba("+Ne+", "+Ge+", "+ze+", "+Re.buffer.clampedFloats[Re.cfPos]/255+")"}nl.hasFill=!0}break;case 2:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=2;var He=y;if(n)nl.context.fillStyle="white";else{var We=He.buffer.i,Ye=He.iPos,Ke=He.buffer.ii,je=He.iiPos,qe=He.buffer.ff,Je=He.ffPos,Ze=He.buffer.ii,Qe=He.iiPos+1,$e=He.buffer.m,ti=He.mPos,ei=He.buffer.i,ii=He.iPos+1,ni=He.buffer.i,si=He.iPos+2;nl.context.fillStyle=nl.createGradientPattern(Ye>=We._length?null:We._items[Ye],je>=Ke._length?null:Ke._items[je],Je>=qe._length?null:qe._items[Je],Qe>=Ze._length?null:Ze._items[Qe],ti>=$e._length?null:$e._items[ti],ii>=ei._length?null:ei._items[ii],si>=ni._length?null:ni._items[si],He.buffer.twips[He.fPos]/20)}var ri=He.buffer.m,ai=He.mPos;nl.pendingMatrix=ai>=ri._length?null:ri._items[ai],nl.hasFill=!0;break;case 3:y.advance(),y.prev=3;var oi=y;nl.context.bezierCurveTo(oi.buffer.twips[oi.fPos]/20,oi.buffer.twips[oi.fPos+1]/20,oi.buffer.twips[oi.fPos+2]/20,oi.buffer.twips[oi.fPos+3]/20,oi.buffer.twips[oi.fPos+4]/20,oi.buffer.twips[oi.fPos+5]/20);break;case 4:y.advance(),y.prev=4;var li=y;nl.context.quadraticCurveTo(li.buffer.twips[li.fPos]/20,li.buffer.twips[li.fPos+1]/20,li.buffer.twips[li.fPos+2]/20,li.buffer.twips[li.fPos+3]/20);break;case 5:y.advance(),y.prev=5;var hi=y;nl.context.moveTo(hi.buffer.twips[hi.fPos]/20,hi.buffer.twips[hi.fPos+1]/20),nl.context.arc(hi.buffer.twips[hi.fPos]/20,hi.buffer.twips[hi.fPos+1]/20,hi.buffer.twips[hi.fPos+2]/20,0,2*Math.PI,!0);break;case 6:y.advance(),y.prev=6;var _i=y;nl.context.moveTo(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20),nl.context.arc(_i.buffer.twips[_i.fPos]/20,_i.buffer.twips[_i.fPos+1]/20,_i.buffer.twips[_i.fPos+2]/20,_i.buffer.twips[_i.fPos+3]/20,_i.buffer.twips[_i.fPos+4]/20,!0);break;case 7:y.advance(),y.prev=7;var ui=y,ci=ui.buffer.twips[ui.fPos]/20,fi=ui.buffer.twips[ui.fPos+1]/20,di=ui.buffer.twips[ui.fPos+2]/20,pi=ui.buffer.twips[ui.fPos+3]/20,gi=di/2*.5522848,mi=pi/2*.5522848,vi=ci+di,bi=fi+pi,yi=ci+di/2,wi=fi+pi/2;nl.context.moveTo(ci,wi),nl.context.bezierCurveTo(ci,wi-mi,yi-gi,fi,yi,fi),nl.context.bezierCurveTo(yi+gi,fi,vi,wi-mi,vi,wi),nl.context.bezierCurveTo(vi,wi+mi,yi+gi,bi,yi,bi),nl.context.bezierCurveTo(yi-gi,bi,ci,wi+mi,ci,wi);break;case 8:y.advance(),y.prev=8;var xi=y;nl.context.save();var Ti=xi.buffer.m,Si=xi.mPos,Ei=xi.buffer.m,Ii=xi.mPos,Ci=xi.buffer.m,Pi=xi.mPos,Ai=xi.buffer.m,Di=xi.mPos,Ri=xi.buffer.m,Mi=xi.mPos,Fi=xi.buffer.m,Bi=xi.mPos;nl.context.transform((Si>=Ti._length?null:Ti._items[Si]).a,(Ii>=Ei._length?null:Ei._items[Ii]).b,(Pi>=Ci._length?null:Ci._items[Pi]).c,(Di>=Ai._length?null:Ai._items[Di]).d,(Mi>=Ri._length?null:Ri._items[Mi]).tx,(Bi>=Fi._length?null:Fi._items[Bi]).ty);var Li=xi.buffer.bd,ki=xi.bdPos;if(null!=(ki>=Li._length?null:Li._items[ki])&&!nl.hitTesting){var Ni=xi.buffer.bd,Oi=xi.bdPos,Ui=Oi>=Ni._length?null:Ni._items[Oi],Gi=Ui.get_uvData(),Xi=Ui.get_bd().get_image().get_src();if(null==Gi)nl.context.drawImage(Xi,0,0,1,1);else{var Vi=Xi.width,zi=Xi.height;nl.context.drawImage(Xi,Gi.x0*Vi,Gi.y0*zi,(Gi.x1-Gi.x0)*Vi,(Gi.y2-Gi.y0)*zi,0,0,1,1)}}else nl.context.rect(0,0,1,1);nl.context.restore();break;case 10:y.advance(),y.prev=10;var Hi=y;nl.context.rect(Hi.buffer.twips[Hi.fPos]/20,Hi.buffer.twips[Hi.fPos+1]/20,Hi.buffer.twips[Hi.fPos+2]/20,Hi.buffer.twips[Hi.fPos+3]/20);break;case 11:y.advance(),y.prev=11;var Wi=y;nl.drawRoundRect(Wi.buffer.twips[Wi.fPos]/20,Wi.buffer.twips[Wi.fPos+1]/20,Wi.buffer.twips[Wi.fPos+2]/20,Wi.buffer.twips[Wi.fPos+3]/20,Wi.buffer.twips[Wi.fPos+4]/20,Wi.buffer.twips[Wi.fPos+5]/20);break;case 13:nl.endRenderStep(),nl.beginRenderStep(),y.advance(),y.prev=13;for(var Yi,Ki,ji,qi,Ji,Zi,Qi,$i,tn,en,nn,sn,rn,an,on,ln,hn,_n,un,cn,fn,dn,pn,gn,mn,vn,bn,yn,wn=y,xn=wn.buffer.vf,Tn=wn.vfPos,Sn=Tn>=xn._length?null:xn._items[Tn],En=wn.buffer.vi,In=wn.viPos+1,Cn=In>=En._length?null:En._items[In],Pn=wn.buffer.vf,An=wn.vfPos+2,Dn=An>=Pn._length?null:Pn._items[An],Rn=0,Mn=Cn.length;Rn<Mn;){Ki=(Yi=Rn)+1,ji=Rn+2,qi=2*Cn.data[Yi],Ji=2*Cn.data[Yi]+1,Zi=2*Cn.data[Ki],Qi=2*Cn.data[Ki]+1,$i=2*Cn.data[ji],tn=2*Cn.data[ji]+1,en=Sn.data[qi],nn=Sn.data[Ji],sn=Sn.data[Zi],rn=Sn.data[Qi],an=Sn.data[$i],on=Sn.data[tn];var Fn=wn.buffer.i,Bn=wn.iPos+3;switch(Bn>=Fn._length?null:Fn._items[Bn]){case 0:if((sn-en)*(on-nn)-(rn-nn)*(an-en)<0){Rn+=3;continue}break;case 2:if((sn-en)*(on-nn)-(rn-nn)*(an-en)<0)break;Rn+=3;continue}var Ln=f;Ln.save(),Ln.beginPath(),Ln.moveTo(en,nn),Ln.lineTo(sn,rn),Ln.lineTo(an,on),Ln.closePath(),Ln.clip(),ln=Dn.data[qi]*null.width,_n=Dn.data[Zi]*null.width,cn=Dn.data[$i]*null.width,hn=Dn.data[Ji]*null.height,un=Dn.data[Qi]*null.height,0!=(dn=ln*((fn=Dn.data[tn]*null.height)-un)-_n*fn+cn*un+(_n-cn)*hn)?(pn=-(hn*(an-sn)-un*an+fn*sn+(un-fn)*en)/dn,gn=(un*on+hn*(rn-on)-fn*rn+(fn-un)*nn)/dn,mn=(ln*(an-sn)-_n*an+cn*sn+(_n-cn)*en)/dn,vn=-(_n*on+ln*(rn-on)-cn*rn+(cn-_n)*nn)/dn,bn=(ln*(fn*sn-un*an)+hn*(_n*an-cn*sn)+(cn*un-_n*fn)*en)/dn,yn=(ln*(fn*rn-un*on)+hn*(_n*on-cn*rn)+(cn*un-_n*fn)*nn)/dn,Ln.transform(pn,gn,mn,vn,bn,yn),Ln.drawImage(null,0,0),Ln.restore(),Rn+=3):Rn+=3}break;case 14:y.advance(),y.prev=14;nl.endRenderStep(),nl.beginRenderStep();break;case 15:y.advance(),y.prev=15;var kn=y;if(nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),n)nl.context.strokeStyle="white";else{var Nn=kn.buffer.bd,On=kn.bdPos,Un=kn.buffer.b,Gn=kn.bPos;nl.context.strokeStyle=nl.createBitmapFill(On>=Nn._length?null:Nn._items[On],Gn>=Un._length?null:Un._items[Gn])}nl.hasStroke=!0;break;case 16:y.advance(),y.prev=16;var Xn=y;if(nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),n)nl.context.strokeStyle="white";else{var Vn=Xn.buffer.i,zn=Xn.iPos,Hn=Xn.buffer.ii,Wn=Xn.iiPos,Yn=Xn.buffer.ff,Kn=Xn.ffPos,jn=Xn.buffer.ii,qn=Xn.iiPos+1,Jn=Xn.buffer.m,Zn=Xn.mPos,Qn=Xn.buffer.i,$n=Xn.iPos+1,ts=Xn.buffer.i,es=Xn.iPos+2;nl.context.strokeStyle=nl.createGradientPattern(zn>=Vn._length?null:Vn._items[zn],Wn>=Hn._length?null:Hn._items[Wn],Kn>=Yn._length?null:Yn._items[Kn],qn>=jn._length?null:jn._items[qn],Zn>=Jn._length?null:Jn._items[Zn],$n>=Qn._length?null:Qn._items[$n],es>=ts._length?null:ts._items[es],Xn.buffer.twips[Xn.fPos]/20)}var is=Xn.buffer.m,ns=Xn.mPos;nl.pendingMatrix=ns>=is._length?null:is._items[ns],nl.hasStroke=!0;break;case 17:y.advance(),y.prev=17;var ss=y;if((nl.hasStroke||nl.hasFill)&&(nl.hitTesting?nl.context.closePath():(nl.hasStroke&&nl.context.stroke(),nl.context.closePath(),nl.hasFill&&nl.context.fill(nl.canvasWindingRule)),nl.context.beginPath()),nl.context.moveTo(nl.positionX,nl.positionY),ss.buffer.twips[ss.fPos]/20==null||ss.buffer.twips[ss.fPos]/20==-1)nl.hasStroke=!1;else{nl.context.lineWidth=0<ss.buffer.twips[ss.fPos]/20?Math.max(ss.buffer.twips[ss.fPos]/20,1):1;var rs=ss.buffer.i,as=ss.iPos+3;nl.context.lineJoin=nh.toString(as>=rs._length?null:rs._items[as]).toLowerCase();var os,ls=ss.buffer.i,hs=ss.iPos+2;if(0==(hs>=ls._length?null:ls._items[hs]))os="butt";else{var _s=ss.buffer.i,us=ss.iPos+2;os=kl.toString(us>=_s._length?null:_s._items[us]).toLowerCase()}if(nl.context.lineCap=os,nl.context.miterLimit=ss.buffer.twips[ss.fPos+1]/20,n)nl.context.strokeStyle="white";else if(ss.buffer.clampedFloats[ss.cfPos]/255==1){var cs=ss.buffer.i,fs=ss.iPos,ds=Cs.hex(16777215&(fs>=cs._length?null:cs._items[fs]),6);nl.context.strokeStyle="#"+ds}else{var ps=ss.buffer.i,gs=ss.iPos,ms=(16711680&(gs>=ps._length?null:ps._items[gs]))>>>16,vs=ss.buffer.i,bs=ss.iPos,ys=(65280&(bs>=vs._length?null:vs._items[bs]))>>>8,ws=ss.buffer.i,xs=ss.iPos,Ts=255&(xs>=ws._length?null:ws._items[xs]);nl.context.strokeStyle="rgba("+ms+", "+ys+", "+Ts+", "+ss.buffer.clampedFloats[ss.cfPos]/255+")"}nl.hasStroke=0<ss.buffer.clampedFloats[ss.cfPos]/255}break;case 18:y.advance(),y.prev=18;var Ss=y;nl.context.lineTo(Ss.buffer.twips[Ss.fPos]/20,Ss.buffer.twips[Ss.fPos+1]/20),nl.positionX=Ss.buffer.twips[Ss.fPos]/20,nl.positionY=Ss.buffer.twips[Ss.fPos+1]/20;break;case 19:y.advance(),y.prev=19;var Es=y;nl.context.moveTo(Es.buffer.twips[Es.fPos]/20,Es.buffer.twips[Es.fPos+1]/20),nl.positionX=Es.buffer.twips[Es.fPos]/20,nl.positionY=Es.buffer.twips[Es.fPos+1]/20,nl.closeGap=!0,nl.startX=Es.buffer.twips[Es.fPos]/20,nl.startY=Es.buffer.twips[Es.fPos+1]/20;break;default:y.advance(),y.prev=ge}}nl.endRenderStep(),nl.drawCommandReaderPool.put(y);var Is=Co.pool.get();Is.copyFrom(b),Is.invert(),t.set___bitmap(Bl.fromGraphics(t,null,Is)),t.__canvas=null,Co.pool.put(Is),Co.pool.put(b),s||null==t.__symbol||dr.__instanceof(t.__symbol,Ps)&&dr.__cast(t.__symbol,Ps).setCachedBitmapData(t.__bitmap,a)}t.set_dirty(!1)}},nl.cubicCurveTo=function(t){t.advance(),t.prev=3;var e=t;nl.context.bezierCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},nl.curveTo=function(t){t.advance(),t.prev=4;var e=t;nl.context.quadraticCurveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)},nl.snappedCurveTo=function(t){t.advance(),t.prev=4;var e=t,i=nl.currentTransform,n=e.buffer.twips[e.fPos+2]/20*i.a+e.buffer.twips[e.fPos+3]/20*i.c+i.tx,s=nl.currentTransform,r=e.buffer.twips[e.fPos+2]/20*s.b+e.buffer.twips[e.fPos+3]/20*s.d+s.ty,a=Math.round(n),o=Math.round(r),l=a-n,h=o-r,_=nl.currentTransform,u=e.buffer.twips[e.fPos]/20*_.a+e.buffer.twips[e.fPos+1]/20*_.c+_.tx+l,c=nl.currentTransform,f=e.buffer.twips[e.fPos]/20*c.b+e.buffer.twips[e.fPos+1]/20*c.d+c.ty+h;nl.context.quadraticCurveTo(u,f,a,o)},nl.drawCircle=function(t){t.advance(),t.prev=5;var e=t;nl.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),nl.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,0,2*Math.PI,!0)},nl.drawArc=function(t){t.advance(),t.prev=6;var e=t;nl.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),nl.context.arc(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,!0)},nl.drawEllipse=function(t){t.advance(),t.prev=7;var e=t,i=e.buffer.twips[e.fPos]/20,n=e.buffer.twips[e.fPos+1]/20,s=e.buffer.twips[e.fPos+2]/20,r=e.buffer.twips[e.fPos+3]/20,a=s/2*.5522848,o=r/2*.5522848,l=i+s,h=n+r,_=i+s/2,u=n+r/2;nl.context.moveTo(i,u),nl.context.bezierCurveTo(i,u-o,_-a,n,_,n),nl.context.bezierCurveTo(_+a,n,l,u-o,l,u),nl.context.bezierCurveTo(l,u+o,_+a,h,_,h),nl.context.bezierCurveTo(_-a,h,i,u+o,i,u)},nl.drawImageFromBitmapData=function(t){var e=t.get_uvData(),i=t.get_bd().get_image().get_src();if(null==e)nl.context.drawImage(i,0,0,1,1);else{var n=i.width,s=i.height;nl.context.drawImage(i,e.x0*n,e.y0*s,(e.x1-e.x0)*n,(e.y2-e.y0)*s,0,0,1,1)}},nl.drawImage=function(t){t.advance(),t.prev=8;var e=t;nl.context.save();var i=e.buffer.m,n=e.mPos,s=e.buffer.m,r=e.mPos,a=e.buffer.m,o=e.mPos,l=e.buffer.m,h=e.mPos,_=e.buffer.m,u=e.mPos,c=e.buffer.m,f=e.mPos;nl.context.transform((n>=i._length?null:i._items[n]).a,(r>=s._length?null:s._items[r]).b,(o>=a._length?null:a._items[o]).c,(h>=l._length?null:l._items[h]).d,(u>=_._length?null:_._items[u]).tx,(f>=c._length?null:c._items[f]).ty);var d=e.buffer.bd,p=e.bdPos;if(null!=(p>=d._length?null:d._items[p])&&!nl.hitTesting){var g=e.buffer.bd,m=e.bdPos,v=m>=g._length?null:g._items[m],b=v.get_uvData(),y=v.get_bd().get_image().get_src();if(null==b)nl.context.drawImage(y,0,0,1,1);else{var w=y.width,x=y.height;nl.context.drawImage(y,b.x0*w,b.y0*x,(b.x1-b.x0)*w,(b.y2-b.y0)*x,0,0,1,1)}}else nl.context.rect(0,0,1,1);nl.context.restore()},nl.snappedDrawImage=function(t){t.advance(),t.prev=8;var e=t;nl.context.save();var i=Co.pool.get(),n=e.buffer.m,s=e.mPos;if(i.copyFrom(s>=n._length?null:n._items[s]),i.concat(nl.currentTransform),0!=i.b||0!=i.c)throw Co.pool.put(i),new fr("can't use snapping on rotated images");if(nl.context.setTransform(Math.round(i.a),Math.round(i.b),Math.round(i.c),Math.round(i.d),Math.round(i.tx),Math.round(i.ty)),Co.pool.put(i),nl.hitTesting)nl.context.fillStyle="white",nl.context.fillRect(0,0,1,1);else{var r=e.buffer.bd,a=e.bdPos,o=a>=r._length?null:r._items[a],l=o.get_uvData(),h=o.get_bd().get_image().get_src();if(null==l)nl.context.drawImage(h,0,0,1,1);else{var _=h.width,u=h.height;nl.context.drawImage(h,l.x0*_,l.y0*u,(l.x1-l.x0)*_,(l.y2-l.y0)*u,0,0,1,1)}}nl.context.restore()},nl.drawRoundRect2=function(t){t.advance(),t.prev=11;var e=t;nl.drawRoundRect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20,e.buffer.twips[e.fPos+4]/20,e.buffer.twips[e.fPos+5]/20)},nl.lineTo=function(t){t.advance(),t.prev=18;var e=t;nl.context.lineTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),nl.positionX=e.buffer.twips[e.fPos]/20,nl.positionY=e.buffer.twips[e.fPos+1]/20},nl.snappedLineTo=function(t){t.advance(),t.prev=18;var e=t,i=nl.currentTransform,n=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),s=nl.currentTransform,r=Math.round(e.buffer.twips[e.fPos]/20*s.b+e.buffer.twips[e.fPos+1]/20*s.d+s.ty);nl.context.lineTo(n,r),nl.positionX=n,nl.positionY=r},nl.moveTo=function(t){t.advance(),t.prev=19;var e=t;nl.context.moveTo(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20),nl.positionX=e.buffer.twips[e.fPos]/20,nl.positionY=e.buffer.twips[e.fPos+1]/20,nl.closeGap=!0,nl.startX=e.buffer.twips[e.fPos]/20,nl.startY=e.buffer.twips[e.fPos+1]/20},nl.snappedMoveTo=function(t){t.advance(),t.prev=19;var e=t,i=nl.currentTransform,n=Math.round(e.buffer.twips[e.fPos]/20*i.a+e.buffer.twips[e.fPos+1]/20*i.c+i.tx),s=nl.currentTransform,r=Math.round(e.buffer.twips[e.fPos]/20*s.b+e.buffer.twips[e.fPos+1]/20*s.d+s.ty);nl.context.moveTo(n,r),nl.positionX=n,nl.positionY=r,nl.closeGap=!0,nl.startX=n,nl.startY=r},nl.lineStyle=function(t,e){t.advance(),t.prev=17;var i=t;if((nl.hasStroke||nl.hasFill)&&(nl.hitTesting?nl.context.closePath():(nl.hasStroke&&nl.context.stroke(),nl.context.closePath(),nl.hasFill&&nl.context.fill(nl.canvasWindingRule)),nl.context.beginPath()),nl.context.moveTo(nl.positionX,nl.positionY),i.buffer.twips[i.fPos]/20==null||i.buffer.twips[i.fPos]/20==-1)nl.hasStroke=!1;else{nl.context.lineWidth=0<i.buffer.twips[i.fPos]/20?Math.max(i.buffer.twips[i.fPos]/20,1):1;var n=i.buffer.i,s=i.iPos+3;nl.context.lineJoin=nh.toString(s>=n._length?null:n._items[s]).toLowerCase();var r,a=i.buffer.i,o=i.iPos+2;if(0==(o>=a._length?null:a._items[o]))r="butt";else{var l=i.buffer.i,h=i.iPos+2;r=kl.toString(h>=l._length?null:l._items[h]).toLowerCase()}if(nl.context.lineCap=r,nl.context.miterLimit=i.buffer.twips[i.fPos+1]/20,e)nl.context.strokeStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var _=i.buffer.i,u=i.iPos,c=Cs.hex(16777215&(u>=_._length?null:_._items[u]),6);nl.context.strokeStyle="#"+c}else{var f=i.buffer.i,d=i.iPos,p=(16711680&(d>=f._length?null:f._items[d]))>>>16,g=i.buffer.i,m=i.iPos,v=(65280&(m>=g._length?null:g._items[m]))>>>8,b=i.buffer.i,y=i.iPos,w=255&(y>=b._length?null:b._items[y]);nl.context.strokeStyle="rgba("+p+", "+v+", "+w+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}nl.hasStroke=0<i.buffer.clampedFloats[i.cfPos]/255}},nl.lineGradientStyle=function(t,e){t.advance(),t.prev=16;var i=t;if(nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),e)nl.context.strokeStyle="white";else{var n=i.buffer.i,s=i.iPos,r=i.buffer.ii,a=i.iiPos,o=i.buffer.ff,l=i.ffPos,h=i.buffer.ii,_=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;nl.context.strokeStyle=nl.createGradientPattern(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a],l>=o._length?null:o._items[l],_>=h._length?null:h._items[_],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;nl.pendingMatrix=v>=m._length?null:m._items[v],nl.hasStroke=!0},nl.lineBitmapStyle=function(t,e){t.advance(),t.prev=15;var i=t;if(nl.hasStroke&&nl.closePath(),nl.context.moveTo(nl.positionX,nl.positionY),e)nl.context.strokeStyle="white";else{var n=i.buffer.bd,s=i.bdPos,r=i.buffer.b,a=i.bPos;nl.context.strokeStyle=nl.createBitmapFill(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a])}nl.hasStroke=!0},nl.beginBitmapFill=function(t,e){t.advance(),t.prev=0;var i,n=t;if(e)i=!0;else{var s=n.buffer.bd,r=n.bdPos;i=null==(r>=s._length?null:s._items[r])}if(i)nl.context.fillStyle="white";else{var a=n.buffer.bd,o=n.bdPos,l=n.buffer.b,h=n.bPos;nl.context.fillStyle=nl.createBitmapFill(o>=a._length?null:a._items[o],h>=l._length?null:l._items[h]),nl.hasFill=!0;var _=n.buffer.m,u=n.mPos;if(null!=(u>=_._length?null:_._items[u])){var c=n.buffer.m,f=n.mPos;nl.pendingMatrix=f>=c._length?null:c._items[f],null==nl.inversePendingMatrix&&(nl.inversePendingMatrix=Co.pool.get());var d=n.buffer.m,p=n.mPos;nl.inversePendingMatrix.copyFrom(p>=d._length?null:d._items[p]),nl.inversePendingMatrix.invert()}else(nl.pendingMatrix=null)!=nl.inversePendingMatrix&&(Co.pool.put(nl.inversePendingMatrix),nl.inversePendingMatrix=null)}},nl.beginFill=function(t,e){t.advance(),t.prev=1;var i=t;if(i.buffer.clampedFloats[i.cfPos]/255<.005&&!e)nl.hasFill=!1;else{if(e)nl.context.fillStyle="white";else if(i.buffer.clampedFloats[i.cfPos]/255==1){var n=i.buffer.i,s=i.iPos,r=Cs.hex(s>=n._length?null:n._items[s],6);nl.context.fillStyle="#"+r}else{var a=i.buffer.i,o=i.iPos,l=(16711680&(o>=a._length?null:a._items[o]))>>>16,h=i.buffer.i,_=i.iPos,u=(65280&(_>=h._length?null:h._items[_]))>>>8,c=i.buffer.i,f=i.iPos,d=255&(f>=c._length?null:c._items[f]);nl.context.fillStyle="rgba("+l+", "+u+", "+d+", "+i.buffer.clampedFloats[i.cfPos]/255+")"}nl.hasFill=!0}},nl.beginGradientFill=function(t,e){t.advance(),t.prev=2;var i=t;if(e)nl.context.fillStyle="white";else{var n=i.buffer.i,s=i.iPos,r=i.buffer.ii,a=i.iiPos,o=i.buffer.ff,l=i.ffPos,h=i.buffer.ii,_=i.iiPos+1,u=i.buffer.m,c=i.mPos,f=i.buffer.i,d=i.iPos+1,p=i.buffer.i,g=i.iPos+2;nl.context.fillStyle=nl.createGradientPattern(s>=n._length?null:n._items[s],a>=r._length?null:r._items[a],l>=o._length?null:o._items[l],_>=h._length?null:h._items[_],c>=u._length?null:u._items[c],d>=f._length?null:f._items[d],g>=p._length?null:p._items[g],i.buffer.twips[i.fPos]/20)}var m=i.buffer.m,v=i.mPos;nl.pendingMatrix=v>=m._length?null:m._items[v],nl.hasFill=!0},nl.drawRect=function(t){t.advance(),t.prev=10;var e=t;nl.context.rect(e.buffer.twips[e.fPos]/20,e.buffer.twips[e.fPos+1]/20,e.buffer.twips[e.fPos+2]/20,e.buffer.twips[e.fPos+3]/20)};var sl=function(t){Ro.call(this,t)};(i["openfl._internal.renderer.canvas.CanvasMaskManager"]=sl).__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"],sl.__super__=Ro,sl.prototype=n(Ro.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var i=t.__getWorldTransform();e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.context;i.save(),i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:sl});var rl=function(t,e,i){Mo.call(this,t,e),this.context=i,this.renderSession=new il,this.renderSession.context=i,(this.renderSession.renderer=this).renderSession.maskManager=new sl(this.renderSession)};(i["openfl._internal.renderer.canvas.CanvasRenderer"]=rl).__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"],rl.__super__=Mo,rl.prototype=n(Mo.prototype,{render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:rl});var al=function(){};(i["openfl._internal.renderer.canvas.CanvasTextField"]=al).__name__=["openfl","_internal","renderer","canvas","CanvasTextField"],al.disableInputMode=function(t){},al.enableInputMode=function(t){if(t.__cursorPosition=-1,null==t.__hiddenInput){t.__hiddenInput=window.document.createElement("input");var e=t.__hiddenInput;e.type="text",e.style.position="absolute",e.style.opacity="0",e.style.color="transparent",e.style.left="0px",e.style.top="50%",new G("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(e.style.fontSize="0px",e.style.width="0px",e.style.height="0px"):(e.style.width="1px",e.style.height="1px"),e.style.pointerEvents="none",e.style.zIndex="-10000000",0<t.maxChars&&(e.maxLength=t.maxChars),window.document.body.appendChild(e),e.value=t.text}},al.render=function(t,e){var i=t.__graphics;if(t.__dirty||null==i||i.get_dirty()||null==i.__bitmap){var n=t.__textEngine;if(t.__updateLayout(),(t.__showCursor||null!=n.text&&""!=n.text||n.background||n.border||n.__hasFocus)&&(!(n.width<=0||n.height<=0)||2==n.autoSize)){var s=H_.pool.get(),r=H_.pool.get(),a=t.__renderTransform;t.__getBounds(r),r.transform(s,a),null!=i&&null!=i.__canvas||(null==i&&(t.__graphics=new Xl(!1),i=t.__graphics),i.__canvas=nl.pool.get(),i.__context=i.__canvas.getContext("2d"),i.__bounds=new H_(0,0,r.width,r.height));var o=i.__context;i.__canvas.width=Math.ceil(s.width),i.__canvas.height=Math.ceil(s.height);var l=Co.pool.get();if(l.copyFrom(a),l.translate(-Math.floor(s.x),-Math.floor(s.y)),o.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),null!=n.text&&""!=n.text||n.__hasFocus){var h=n.text;if(n.displayAsPassword){var _=h.length;h=Ss.repeat(_,"*")}0!=n.antiAliasType||1!=n.gridFitType?(i.__context.mozImageSmoothingEnabled=!0,i.__context.msImageSmoothingEnabled=!0,i.__context.imageSmoothingEnabled=!0):(i.__context.mozImageSmoothingEnabled=!1,i.__context.msImageSmoothingEnabled=!1,i.__context.imageSmoothingEnabled=!1),(n.border||n.background)&&(o.rect(.5,.5,s.width-1,s.height-1),n.background&&(o.fillStyle="#"+Cs.hex(n.backgroundColor,6),o.fill()),n.border&&(o.lineWidth=1,o.strokeStyle="#"+Cs.hex(n.borderColor,6),o.stroke())),o.textBaseline="alphabetic",o.textAlign="start";for(var u,c=-t.get_scrollH(),f=0,d=0,p=t.get_scrollV()-1;d<p;){var g=d++;f-=n.lineHeights[g]}var m=0;if(t.__showCursor&&0==n.layoutGroups.length){var v=t.__textFormat,b=Pl.getFont(v);o.font=b.name,o.fillStyle="#"+Cs.hex(v.color,6);var y=n.calculateFontDimensions(t.__textFormat,b);o.fillRect(2,2,1,y.height)}for(var w=0,x=n.layoutGroups;w<x.length;){var T=x[w];if(++w,!(T.lineIndex<t.get_scrollV()-1)){if(T.lineIndex>t.get_scrollV()+n.bottomScrollV-2)break;var S=Pl.getFont(T.format);m=S.ascent*T.format.size,o.font=S.name,o.fillStyle="#"+Cs.hex(T.format.color,6);var E=h.substring(T.startIndex,T.endIndex),I=new RegExp("\n","g".split("u").join(""));if(E=E.replace(I,""),o.fillText(E,T.offsetX+c,T.offsetY+m+f),-1<t.__caretIndex&&n.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&T.startIndex<=t.__caretIndex&&(T.endIndex>t.__caretIndex||T.endIndex==n.text.length&&n.text.length==t.__caretIndex)){for(var C=u=0,P=t.__caretIndex-T.startIndex;C<P;){var A=C++;if(T.advances.length<=A)break;u+=T.advances[A]}o.fillRect(T.offsetX+u,T.offsetY,1,T.height)}}else if(!(T.endIndex<Math.min(t.__caretIndex,t.__selectionIndex)||T.startIndex>Math.max(t.__caretIndex,t.__selectionIndex))){var D,R,M=0|Math.min(t.__selectionIndex,t.__caretIndex),F=0|Math.max(t.__selectionIndex,t.__caretIndex);T.startIndex>M&&(M=T.startIndex),T.endIndex<F&&(F=T.endIndex),D=t.getCharBoundariesInGroup(M,T),F>=n.text.length?(R=t.getCharBoundariesInGroup(n.text.length-1,T)).x+=R.width+2:R=t.getCharBoundariesInGroup(F,T),null!=D&&null!=R&&(o.fillStyle="#000000",o.fillRect(D.x,D.y,R.x-D.x,T.height),o.fillStyle="#FFFFFF",o.fillText(h.substring(M,F),c+D.x,T.offsetY+m+f))}}}}else(n.border||n.background)&&(n.border?o.rect(.5,.5,s.width-1,s.height-1):o.rect(0,0,s.width,s.height),n.background&&(o.fillStyle="#"+Cs.hex(n.backgroundColor,6),o.fill()),n.border&&(o.lineWidth=1,o.lineCap="square",o.strokeStyle="#"+Cs.hex(n.borderColor,6),o.stroke()));var B=Co.pool.get();B.copyFrom(l),B.invert(),i.set___bitmap(Bl.fromGraphics(i,null,B)),i.__canvas=null,t.__graphicsSavedScale.x=t.renderScaleX,t.__graphicsSavedScale.y=t.renderScaleY,t.__dirty=!1,i.set_dirty(!1),Co.pool.put(l),Co.pool.put(B),H_.pool.put(s),H_.pool.put(r)}else i.__canvas=null,i.__context=null,i.set_dirty(!1),null!=i.__bitmap&&i.__bitmap.dispose(),t.__dirty=!1}};var ol=function(){};(i["openfl._internal.renderer.opengl.FrameBufferDataItem"]=ol).__name__=["openfl","_internal","renderer","opengl","FrameBufferDataItem"],ol.prototype={set:function(t,e,i){this.texture=t,this.viewPort=e,this.transparent=i},__class__:ol};var ll=function(){};(i["openfl._internal.renderer.opengl.GLBitmap"]=ll).__name__=["openfl","_internal","renderer","opengl","GLBitmap"],ll.render=function(t,e){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.bitmapData&&t.bitmapData.get_valid()){var i=Co.pool.get();i.copyFrom(t.__renderTransform);var n=t.bitmapData,s=t.smoothing,r=t.__renderColorTransform,a=t.__renderAlpha,o=t.__blendMode,l=t.__shader,h=t.pixelSnapping;null!=n&&e.spriteBatch.renderBitmapDataEx(n,n.physicalWidth,n.physicalHeight,n.get_uvData(),s,i,r,a,o,l,h),Co.pool.put(i)}},ll.pushFramebuffer=function(t,e,i,n,s,r,a){null==a&&(a=!0),null==r&&(r=!1),null==s&&(s=!0);var o=t.gl;if(null==o)return null;var l=t.renderer;t.spriteBatch!=l.mainSpriteBatch&&t.spriteBatch.stop();var h=t.renderer,_=0|i.x,u=0|i.y,c=0|i.width,f=0|i.height;if(ll.fbData.length<=0){var d=ll.fbDataPool.get();d.texture=null,d.viewPort=null,d.transparent=h.transparent,ll.fbData.push(d)}null==e&&(e=new yl(o,c,f,n,a)),e.resize(c,f),h.transparent=s,t.maskManager.saveState(),xa.context.bindFramebuffer(o.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),dr.__cast(h,hl).set_renderToTexture(!0),h.setViewport(_,u,c,f),xa.context.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(10),r&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null);var p=ll.fbDataPool.get();return p.texture=e,p.viewPort=i,p.transparent=s,ll.fbData.push(p),e},ll.drawBitmapDrawable=function(t,e,i,n,s,r,a){var o=ll.fbData[ll.fbData.length-1];if(null==o)throw new fr("No data to draw to");if(null!=t.gl){if(dr.__instanceof(i,Y)){var l=dr.__cast(i,Y);if(null==l.stage){if(null!=ll.dataToClean.h.__keys__[l.__id__])ll.dataToClean.h[l.__id__].stop();var h=ll.dataToClean,_=Fs.delay(function(){null==l.stage&&l.__releaseResources(),ll.dataToClean.remove(l)},1);h.set(l,_)}}var u=o.viewPort,c=t.spriteBatch,f=null!=e,d=H_.pool.get();if(null!=s?d.copyFrom(s):d.setTo(u.x,u.y,u.width,u.height),c.begin(t,f?null:d,r,a),f){e.__worldTransform.identity();var p=e.__worldTransform,g=u.height,m=p.tx,v=p.ty;if(p.tx=0,p.ty=0,p.scale(1,-1),p.translate(0,g),p.tx+=m,p.ty-=v,e.__renderGL(t),c.stop(),null!=e.__texture){var b=e.__texture;xa.textureStateCache.remove(b),xa.context.deleteTexture(b)}e.__texture=null,c.start(d,null,null)}var y=i.__resolvedCacheAsBitmap,w=i.__blendMode;t.pushRenderTargetBaseTransform(i,n),i.__resolvedCacheAsBitmap=!1,i.__blendMode=null,i.__renderGL(t),i.__blendMode=w,i.__resolvedCacheAsBitmap=y,t.popRenderTargetBaseTransform(),c.finish(),H_.pool.put(d)}},ll.popFramebuffer=function(t,e){var i=t.gl;if(null!=i){if(t.spriteBatch.finish(),null!=e){var n,s,r,a,o=ll.fbData[ll.fbData.length-1];a=null==o.viewPort?(n=s=0,r=t.renderer.width,t.renderer.height):(n=Math.floor(o.viewPort.x),s=Math.floor(o.viewPort.y),r=Math.ceil(o.viewPort.width),Math.ceil(o.viewPort.height)),e.width==r&&e.height==a||e.resize(r,a),xa.context.readPixels(n,s,r,a,i.RGBA,i.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0)}ll.fbDataPool.put(ll.fbData.pop());var l,h,_,u,c,f=ll.fbData[ll.fbData.length-1];if(null==f)throw new fr("oh");if(u=null==f.viewPort?(l=h=0,_=t.renderer.width,t.renderer.height):(l=Math.floor(f.viewPort.x),h=Math.floor(f.viewPort.y),_=Math.ceil(f.viewPort.width),Math.ceil(f.viewPort.height)),null==f.texture)c=t.defaultFramebuffer;else{var d=f.texture;c=(d.__swapped?d.__texture1:d.__texture0).frameBuffer}xa.context.bindFramebuffer(i.FRAMEBUFFER,c),dr.__cast(t.renderer,hl).set_renderToTexture(1<ll.fbData.length),t.renderer.setViewport(l,h,_,u),t.renderer.transparent=f.transparent,t.maskManager.restoreState()}},ll.flipMatrix=function(t,e){var i=t.tx,n=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=i,t.ty-=n};var hl=function(t,e,i,n,s,r){null==r&&(r=!1),null==s&&(s=!1),null==n&&(n=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,this.renderToTexture=!1,Mo.call(this,t,e),this.transparent=n,this.preserveDrawingBuffer=r,this.width=t,this.height=e,this.viewport=new H_,this.options={alpha:n,antialias:s,premultipliedAlpha:n,stencil:!0,preserveDrawingBuffer:r},this._glContextId=hl.glContextId++,this.gl=i,this.defaultFramebuffer=null,hl.glContexts[this._glContextId]=i,this.projectionMatrix=new Co,this.projection=new xe,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new xe(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new xl(i),this.mainSpriteBatch=new Sl(i),this.offscreenSpriteBatch=new Sl(i),this.filterManager=new vl(i,this.transparent),this.blendModeManager=new ml(i),this.renderSession=new il,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.mainSpriteBatch,(this.renderSession.renderer=this).renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new bl(this.renderSession),this.renderSession.maskManager=this.maskManager,w_.initialize(this.renderSession),this.shaderManager.setShader(this.shaderManager.defaultShader,!0),xa.context.disable(i.DEPTH_TEST),xa.context.disable(i.CULL_FACE),xa.context.enable(i.BLEND),xa.context.colorMask(!0,!0,!0,this.transparent)};(i["openfl._internal.renderer.opengl.GLRenderer"]=hl).__name__=["openfl","_internal","renderer","opengl","GLRenderer"],hl.renderBitmap=function(t,e,i){if(t.isRenderable()&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var n=Co.__temp,s=t.__graphics.__bitmap;n.copyFrom(t.__renderTransform);var r=t.__renderColorTransform,a=t.__renderAlpha,o=t.__blendMode;null!=s&&e.spriteBatch.renderBitmapDataEx(s,s.physicalWidth,s.physicalHeight,s.get_uvData(),i,n,r,a,o,null,null)}},hl.__super__=Mo,hl.prototype=n(Mo.prototype,{destroy:function(){hl.glContexts[this._glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.mainSpriteBatch.destroy(),this.offscreenSpriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.mainSpriteBatch=null,this.offscreenSpriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},setViewport:function(t,e,i,n,s){if(null==s&&(s=!1),s||this.vpX!=t||this.vpY!=e||this.vpWidth!=i||this.vpHeight!=n){this.vpX=t,this.vpY=e,this.vpWidth=i,this.vpHeight=n;this.gl;xa.context.viewport(t,e,i,n),this.setOrtho(t,e,i,n),this.viewport.setTo(t,e,i,n)}},setOrtho:function(t,e,i,n){var s=this.projectionMatrix;if(s.identity(),s.a=1/i*2,s.d=-1/n*2,s.tx=-1-t*s.a,s.ty=1-e*s.d,this.renderToTexture){var r=s.tx,a=s.ty;s.tx=0,s.ty=0,s.scale(1,-1),s.translate(0,0),s.tx+=r,s.ty-=a}},handleContextLost:function(t){t.preventDefault(),this.contextLost=!0},handleContextRestored:function(){var t=this.gl;hl.glContextId++,this.shaderManager.setContext(t),this.mainSpriteBatch.setContext(t),this.offscreenSpriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=t,this.defaultFramebuffer=null,xa.context.disable(t.DEPTH_TEST),xa.context.disable(t.CULL_FACE),xa.context.enable(t.BLEND),xa.context.colorMask(!0,!0,!0,this.transparent),this.setViewport(0,0,this.width,this.height),this.contextLost=!1},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),xa.context.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?xa.context.clearColor(0,0,0,0):xa.context.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),xa.context.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,i){this.renderSession.blendModeManager.setBlendMode(10),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.mainSpriteBatch.begin(this.renderSession),this.mainSpriteBatch.preventFlush=!0,this.filterManager.begin(this.renderSession,i),t.__renderGL(this.renderSession),this.mainSpriteBatch.preventFlush=!1,this.mainSpriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,Mo.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},set_renderToTexture:function(t){return this.renderToTexture!=t&&(this.renderToTexture=t,this.renderSession.spriteBatch=t?this.offscreenSpriteBatch:this.mainSpriteBatch,this.setOrtho(this.vpX,this.vpY,this.vpWidth,this.vpHeight)),t},__class__:hl,__properties__:{set_renderToTexture:"set_renderToTexture"}});var _l=function(t){this.uniformMatrix3fCache=new Xs,this.uniform4fCache=new Xs,this.uniform2fCache=new Xs,this.uniform1iCache=new Xs,this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new Mu,this.attributes=new Mu,this.ID=_l.UID++,this.gl=t,this.program=null};(i["openfl._internal.renderer.opengl.shaders2.Shader"]=_l).__name__=["openfl","_internal","renderer","opengl","shaders2","Shader"],_l.compileProgram=function(t,e,i){var n=xl.compiledShadersCache,s=Us.encode(e+i);if(null!=df[s]?n.existsReserved(s):n.h.hasOwnProperty(s))return null!=df[s]?n.getReserved(s):n.h[s];var r=_l.compileShader(t,e,t.VERTEX_SHADER),a=_l.compileShader(t,i,t.FRAGMENT_SHADER),o=xa.context.createProgram();return null!=r&&null!=a&&(xa.context.attachShader(o,r),xa.context.attachShader(o,a),xa.context.bindAttribLocation(o,0,"openfl_aPosition"),xa.context.bindAttribLocation(o,1,"openfl_aTexCoord0"),xa.context.bindAttribLocation(o,2,"openfl_aColor"),xa.context.linkProgram(o),xa.context.deleteShader(r),xa.context.deleteShader(a),0==xa.context.getProgramParameter(o,t.LINK_STATUS))?(Rs.trace("Could not compile the program:\n\t"+xa.context.getProgramInfoLog(o),{fileName:"Shader.hx",lineNumber:272,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),Rs.trace("VERTEX:\n"+e+"\nFRAGMENT:\n"+i,{fileName:"Shader.hx",lineNumber:273,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),null):(null!=df[s]?n.setReserved(s,o):n.h[s]=o,o)},_l.compileShader=function(t,e,i){var n=e,s=xa.context.createShader(i);return xa.context.shaderSource(s,n),xa.context.compileShader(s),0==xa.context.getShaderParameter(s,t.COMPILE_STATUS)?(Rs.trace("Could not compile the shader:\n\t"+xa.context.getShaderInfoLog(s),{fileName:"Shader.hx",lineNumber:290,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),Rs.trace(e,{fileName:"Shader.hx",lineNumber:291,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),null):s},_l.resetCache=function(){_l.currentVertexArray=null},_l.prototype={init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new fr("No vertex or fragment source provided");if(this.program=_l.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program){this.gl;var e=this.program;e!=xa.currentProgram&&(xa.context.useProgram(e),e=xa.currentProgram),this.uniform1i(this.getUniformLocation("openfl_uSampler0"),0),this.uniform1i(this.getUniformLocation("openfl_uSampler1"),1),this.compiled=!0}}},destroy:function(){if(null!=this.program){this.gl;xa.context.deleteProgram(this.program)}this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var i,n,s,r,a=0,o=t.keys.length;a<o;){var l=a++,h=t.keys[l];if(n=this.getUniformLocation(h),null!=(i=t.values[l]))if(s=i.value,r=i.bitmap,null!=s||null!=r)switch(i.internalType){case 1:switch(i.size){case 1:this.uniform1i(n,0|s[0]);break;case 2:this.gl;xa.context.uniform2i(n,0|s[0],0|s[1]);break;case 3:this.gl;xa.context.uniform3i(n,0|s[0],0|s[1],0|s[2]);break;case 4:this.gl;xa.context.uniform4i(n,0|s[0],0|s[1],0|s[2],0|s[3])}break;case 2:switch(i.size){case 1:this.gl;xa.context.uniform1f(n,s[0]);break;case 2:this.uniform2f(n,s[0],s[1]);break;case 3:this.gl;xa.context.uniform3f(n,s[0],s[1],s[2]);break;case 4:this.uniform4f(n,s[0],s[1],s[2],s[3])}break;case 3:switch(i.size){case 2:this.gl;xa.context.uniformMatrix2fv(n,i.transpose,i.value);break;case 3:this.gl;xa.context.uniformMatrix3fv(n,i.transpose,i.value);break;case 4:this.gl;xa.context.uniformMatrix4fv(n,i.transpose,i.value)}break;case 4:if(null==r||!r.__isValid)continue;this.gl;var _=this.gl.TEXTURE0+e.activeTextures;_!=xa.currentActiveTexture&&(xa.context.activeTexture(_),xa.currentActiveTexture=_);this.gl;var u=this.gl.TEXTURE_2D,c=r.getTexture(this.gl);xa.currentBoundTexture[xa.currentActiveTexture]!=c&&(xa.context.bindTexture(u,c),null==(xa.currentBoundTexture[xa.currentActiveTexture]=c)||xa.textureStateCache.exists(c)||xa.textureStateCache.set(c,new Gs)),this.uniform1i(n,e.activeTextures);this.gl;var f=this.gl.TEXTURE_2D,d=this.gl.TEXTURE_MAG_FILTER,p=i.smooth?this.gl.LINEAR:this.gl.NEAREST,g=xa.currentBoundTexture[xa.currentActiveTexture],m=xa.textureStateCache.get(g);m.h[d]!=p&&(xa.context.texParameteri(f,d,p),m.h[d]=p);this.gl;var v=this.gl.TEXTURE_2D,b=this.gl.TEXTURE_MIN_FILTER,y=i.smooth?this.gl.LINEAR:this.gl.NEAREST,w=xa.currentBoundTexture[xa.currentActiveTexture],x=xa.textureStateCache.get(w);x.h[b]!=y&&(xa.context.texParameteri(v,b,y),x.h[b]=y);this.gl;var T=this.gl.TEXTURE_2D,S=this.gl.TEXTURE_WRAP_S,E=i.repeatX,I=xa.currentBoundTexture[xa.currentActiveTexture],C=xa.textureStateCache.get(I);C.h[S]!=E&&(xa.context.texParameteri(T,S,E),C.h[S]=E);this.gl;var P=this.gl.TEXTURE_2D,A=this.gl.TEXTURE_WRAP_T,D=i.repeatY,R=xa.currentBoundTexture[xa.currentActiveTexture],M=xa.textureStateCache.get(R);M.h[A]!=D&&(xa.context.texParameteri(P,A,D),M.h[A]=D),e.activeTextures++}}},getAttribLocation:function(t){if(null==this.program)throw new fr("Shader isn't initialized");var e=this.attributes.h[t];if(null==e){this.gl;e=xa.context.getAttribLocation(this.program,t),this.attributes.h[t]=e}return e},getUniformLocation:function(t){if(null==this.program)throw new fr("Shader isn't initialized");var e=this.uniforms.h[t];if(null==e&&!this.uniforms.h.hasOwnProperty(t)){this.gl;e=xa.context.getUniformLocation(this.program,t),this.uniforms.h[t]=e}return e},enableVertexAttribute:function(t,e,i){var n=this.getAttribLocation(t.name);if(0<=n){this.gl;xa.context.enableVertexAttribArray(n);this.gl;xa.context.vertexAttribPointer(n,t.components,t.type,t.normalized,e,4*i)}},disableVertexAttribute:function(t,e){null==e&&(e=!0);var i=this.getAttribLocation(t.name);this.gl;if(xa.context.disableVertexAttribArray(i),e)switch(t.components){case 1:this.gl;var n=t.defaultValue.subarray(0,1);xa.context.vertexAttrib1fv(i,n);break;case 2:this.gl;var s=t.defaultValue.subarray(0,2);xa.context.vertexAttrib2fv(i,s);break;case 3:this.gl;var r=t.defaultValue.subarray(0,3);xa.context.vertexAttrib3fv(i,r);break;default:this.gl;var a=t.defaultValue.subarray(0,4);xa.context.vertexAttrib4fv(i,a)}},bindVertexArray:function(t){if(t!=_l.currentVertexArray){var e=0,i=t.get_stride();if(null!=_l.currentVertexArray&&t.attributes==_l.currentVertexArray.attributes)for(var n=0,s=t.attributes;n<s.length;){var r=s[n];if(++n,r.enabled){var a,o=this.getAttribLocation(r.name);if(0<=o){this.gl;xa.context.vertexAttribPointer(o,r.components,r.type,r.normalized,i,4*e)}switch(r.type){case 5120:case 5121:a=1;break;case 5122:case 5123:a=2;break;default:a=4}e+=Math.floor(r.components*a/4)}}else for(var l=0,h=t.attributes;l<h.length;){var _=h[l];if(++l,_.enabled){var u;switch(this.enableVertexAttribute(_,i,e),_.type){case 5120:case 5121:u=1;break;case 5122:case 5123:u=2;break;default:u=4}e+=Math.floor(_.components*u/4)}else this.disableVertexAttribute(_,!0)}_l.currentVertexArray=t}},unbindVertexArray:function(t){for(var e=0,i=t.attributes;e<i.length;){var n=i[e];++e,this.disableVertexAttribute(n,!1)}_l.currentVertexArray=null},uniform1i:function(t,e){if(null!=t&&this.uniform1iCache.h[t.__id__]!=e){this.gl;xa.context.uniform1i(t,e),this.uniform1iCache.set(t,e)}},uniform2f:function(t,e,i){if(null!=t){var n=this.uniform2fCache.h[t.__id__];if(null==n)n=new Da,this.uniform2fCache.set(t,n);else if(n.x==e&&n.y==i)return;this.gl;xa.context.uniform2f(t,e,i),n.x=e,n.y=i}},uniform4f:function(t,e,i,n,s){if(null!=t){var r=this.uniform4fCache.h[t.__id__];if(null==r)r=new Ra,this.uniform4fCache.set(t,r);else if(r.x==e&&r.y==i&&r.z==n&&r.w==s)return;this.gl;xa.context.uniform4f(t,e,i,n,s),r.x=e,r.y=i,r.z=n,r.w=s}},uniformMatrix3fv:function(t,e,i){if(null!=t){var n=this.uniformMatrix3fCache.h[t.__id__];if(null==n)n=new Co,this.uniformMatrix3fCache.set(t,n);else if(i.equals(n))return;this.gl;var s=i.toArray(!0);xa.context.uniformMatrix3fv(t,e,s),n.copyFrom(i)}},__class__:_l};var ul=function(t){_l.call(this,t),this.vertexSrc=ul.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform sampler2D openfl_uSampler1;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","uniform vec2 openfl_uUVScale;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   vec4 mask = texture2D(openfl_uSampler1, openfl_vMaskTexCoord * openfl_uUVScale);","   float inside = step( 0.0, openfl_vMaskTexCoord.x ) * step( -1.0, -openfl_vMaskTexCoord.x );","   inside *= step( 0.0, openfl_vMaskTexCoord.y ) * step( -1.0, -openfl_vMaskTexCoord.y );","\tfloat maskAlpha = inside * mask.a;","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset)* maskAlpha;","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultMaskedShader"]=ul).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultMaskedShader"],ul.__super__=_l,ul.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uMaskMatrix"),this.getUniformLocation("openfl_uUVScale"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uSampler1"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:ul});var cl=function(t){_l.call(this,t),this.vertexSrc=cl.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","\tvec4 result = unmultiply * tint * multiplier;","\tresult = result + offset;","\tresult = clamp(result, 0., 1.);","\tfloat finalMultiplier = 1. - step(0., -color.a);","\tresult.a *= finalMultiplier;","\tresult = vec4(result.rgb * result.a, result.a);","\treturn result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=cl).__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultShader"],cl.__super__=_l,cl.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:cl});var fl=function(t){_l.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=fl).__name__=["openfl","_internal","renderer","opengl","shaders2","DrawTrianglesShader"],fl.__super__=_l,fl.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:fl});var dl=function(t){_l.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.FillShader"]=dl).__name__=["openfl","_internal","renderer","opengl","shaders2","FillShader"],dl.__super__=_l,dl.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:dl});var pl=function(t){_l.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=pl).__name__=["openfl","_internal","renderer","opengl","shaders2","PatternFillShader"],pl.__super__=_l,pl.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:pl});var gl=function(t){_l.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};(i["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=gl).__name__=["openfl","_internal","renderer","opengl","shaders2","PrimitiveShader"],gl.__super__=_l,gl.prototype=n(_l.prototype,{init:function(t){null==t&&(t=!1),_l.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:gl});var ml=function(t){this.gl=t,this.currentBlendMode=null};(i["openfl._internal.renderer.opengl.utils.BlendModeManager"]=ml).__name__=["openfl","_internal","renderer","opengl","utils","BlendModeManager"],ml.prototype={destroy:function(){this.gl=null},setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=10,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t){case 0:this.gl;xa.context.blendEquation(32774);this.gl;xa.context.blendFunc(1,1);break;case 9:this.gl;xa.context.blendEquation(32774);this.gl;xa.context.blendFunc(774,771);break;case 12:this.gl;xa.context.blendEquation(32774);this.gl;xa.context.blendFunc(1,769);break;case 14:this.gl;xa.context.blendEquation(32779);this.gl;xa.context.blendFunc(1,1);break;default:this.gl;xa.context.blendEquation(32774);this.gl;xa.context.blendFunc(1,771)}return!0},__class__:ml};var vl=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.FilterManager"]=vl).__name__=["openfl","_internal","renderer","opengl","utils","FilterManager"],vl.prototype={applyFilterPass:function(t,e,i,n){},begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},destroy:function(){this.gl;this.filterStack=null,this.offsetX=0;for(var t=this.offsetY=0,e=this.texturePool;t<e.length;){var i=e[t];++t,i.destroy()}this.texturePool=null,xa.context.deleteBuffer(this.vertexBuffer),xa.context.deleteBuffer(this.uvBuffer),xa.context.deleteBuffer(this.colorBuffer),xa.context.deleteBuffer(this.indexBuffer)},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=xa.context.createBuffer(),this.uvBuffer=xa.context.createBuffer(),this.colorBuffer=xa.context.createBuffer(),this.indexBuffer=xa.context.createBuffer();var e,i=[0,0,1,0,0,1,1,1];e=null!=i?new mf(i):null,this.vertexArray=e,xa.context.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),xa.context.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var n,s=[0,0,1,0,0,1,1,1];n=null!=s?new mf(s):null,this.uvArray=n,xa.context.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),xa.context.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var r,a=[1,16777215,1,16777215,1,16777215,1,16777215];r=null!=a?new mf(a):null,this.colorArray=r,xa.context.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),xa.context.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),xa.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var o,l=t.ELEMENT_ARRAY_BUFFER,h=[0,1,2,1,3,2];o=null!=h?new Uint16Array(h):null,xa.context.bufferData(l,o,t.STATIC_DRAW)},popFilter:function(){},pushFilter:function(t){},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:vl};var bl=function(t){Ro.call(this,t),this.setContext(t.gl),this.clips=[];var e=new Gt;e._items=[],e._length=e._items.length,this.maskBitmapTable=e;var i=new Gt;i._items=[],i._length=i._items.length,this.maskMatrixTable=i,this.maskCount=0};(i["openfl._internal.renderer.opengl.utils.GLMaskManager"]=bl).__name__=["openfl","_internal","renderer","opengl","utils","GLMaskManager"],bl.__super__=Ro,bl.prototype=n(Ro.prototype,{destroy:function(){this.gl=null},pushRect:function(t,e){var i=e.clone(),n=this.renderSession.renderer.viewport.height,s=i.tx,r=i.ty;i.tx=0,i.ty=0,i.scale(1,-1),i.translate(0,n),i.tx+=s,i.ty-=r;var a=t.clone();a.transform(a,i),null!=this.currentClip&&(a=this.currentClip.intersection(a));var o=null==this.currentClip||a.isEmpty()||this.currentClip.containsRect(a);if(this.clips.push(a),this.currentClip=a,o){var l=this.maskBitmapTable,h=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,l._items[l._length-1],h._items[h._length-1])}},pushMask:function(t){var e=this.renderSession,i=e.renderer;e.spriteBatch!=i.mainSpriteBatch&&this.renderSession.spriteBatch.stop();var n=null,s=null;if(null!=t){if(null==t.__cachedBitmap||t.__updateCachedBitmap||0<this.maskCount){t.__visible=!0,t.__isMask=!1,Y.__isCachingAsMask=!0,t.__update(!0,!1);var r=this.maskBitmapTable,a=this.maskMatrixTable;t.__updateCachedBitmapFn(this.renderSession,r._items[r._length-1],a._items[a._length-1]),Y.__isCachingAsMask=!1,t.__isMask=!0,t.__visible=!1}n=t.__cachedBitmap}if(null!=n){var o=this.renderSession.getRenderTargetBaseTransform();s=Co.pool.get(),n.getLocalTransform(s),s.concat(t.__renderTransform),s.concat(o),s.invert(),s.scale(1/n.physicalWidth,1/n.physicalHeight),++this.maskCount}var l=this.maskBitmapTable;l._items[l._length++]=n;var h=this.maskMatrixTable;h._items[h._length++]=s,this.renderSession.spriteBatch.start(this.currentClip,n,s)},popMask:function(){var t=this.maskBitmapTable,e=t._items[--t._length];(t._items[t._length]=null)!=e&&--this.maskCount;var i=this.maskMatrixTable,n=i._items[--i._length];(i._items[i._length]=null)!=n&&Co.pool.put(n);var s=this.maskBitmapTable,r=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,s._items[s._length-1],r._items[r._length-1])},popRect:function(){this.clips.pop(),this.currentClip=this.clips[this.clips.length-1];var t=this.maskBitmapTable,e=this.maskMatrixTable;this.renderSession.spriteBatch.start(this.currentClip,t._items[t._length-1],e._items[e._length-1])},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:bl});var yl=function(t,e,i,n,s){null==s&&(s=!0),null==n&&(n=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=i,this.smoothing=n,this.powerOfTwo=s;var r=new wl(t,e,i,n,s);this.__swapped?this.__texture1=r:this.__texture0=r};(i["openfl._internal.renderer.opengl.utils.PingPongTexture"]=yl).__name__=["openfl","_internal","renderer","opengl","utils","PingPongTexture"],yl.prototype={swap:function(){if(this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)){var t=new wl(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo);this.__swapped?this.__texture1=t:this.__texture0=t}},clear:function(t,e,i,n,s){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),(this.__swapped?this.__texture1:this.__texture0).clear(t,e,i,n,s)},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},destroyOldRenderTexture:function(){this.__swapped?null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null):null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null),null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null),this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},get___otherTexture:function(){return this.__swapped?this.__texture0:this.__texture1},__class__:yl,__properties__:{get___otherTexture:"get___otherTexture",get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var wl=function(t,e,i,n,s){null==s&&(s=!0),null==n&&(n=!0),this.gl=t,this.powerOfTwo=s,this.frameBuffer=xa.context.createFramebuffer(),this.texture=xa.context.createTexture();var r=this.texture;xa.currentBoundTexture[xa.currentActiveTexture]!=r&&(xa.context.bindTexture(t.TEXTURE_2D,r),null==(xa.currentBoundTexture[xa.currentActiveTexture]=r)||xa.textureStateCache.exists(r)||xa.textureStateCache.set(r,new Gs));var a=t.TEXTURE_2D,o=t.TEXTURE_MAG_FILTER,l=n?t.LINEAR:t.NEAREST,h=xa.currentBoundTexture[xa.currentActiveTexture],_=xa.textureStateCache.get(h);_.h[o]!=l&&(xa.context.texParameteri(a,o,l),_.h[o]=l);var u=t.TEXTURE_2D,c=t.TEXTURE_MIN_FILTER,f=n?t.LINEAR:t.NEAREST,d=xa.currentBoundTexture[xa.currentActiveTexture],p=xa.textureStateCache.get(d);p.h[c]!=f&&(xa.context.texParameteri(u,c,f),p.h[c]=f);var g=t.TEXTURE_2D,m=t.TEXTURE_WRAP_S,v=t.CLAMP_TO_EDGE,b=xa.currentBoundTexture[xa.currentActiveTexture],y=xa.textureStateCache.get(b);y.h[m]!=v&&(xa.context.texParameteri(g,m,v),y.h[m]=v);var w=t.TEXTURE_2D,x=t.TEXTURE_WRAP_T,T=t.CLAMP_TO_EDGE,S=xa.currentBoundTexture[xa.currentActiveTexture],E=xa.textureStateCache.get(S);E.h[x]!=T&&(xa.context.texParameteri(w,x,T),E.h[x]=T),xa.context.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),xa.context.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.resize(e,i)};(i["openfl._internal.renderer.opengl.utils.RenderTexture"]=wl).__name__=["openfl","_internal","renderer","opengl","utils","RenderTexture"],wl.prototype={clear:function(t,e,i,n,s){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0);this.gl;xa.context.clearColor(t,e,i,n);this.gl;xa.context.clear(null==s?this.gl.COLOR_BUFFER_BIT:s)},destroy:function(){if(null!=this.frameBuffer){this.gl;xa.context.deleteFramebuffer(this.frameBuffer)}if(null!=this.texture){this.gl;var t=this.texture;xa.textureStateCache.remove(t),xa.context.deleteTexture(t)}this.frameBuffer=null,this.texture=null},resize:function(t,e){if(this.width!=t||this.height!=e){var i=this.width=t,n=this.height=e;if(this.powerOfTwo){for(var s=1;s<t;)s<<=1;i=s;for(var r=1;r<e;)r<<=1;n=r}var a=this.__width,o=this.__height;if(this.__width=i,this.__height=n,this.createUVs(),a!=i||o!=n){if(0==wl.glMaxTextureSize){this.gl;wl.glMaxTextureSize=xa.context.getParameter(this.gl.MAX_TEXTURE_SIZE)}this.__width>wl.glMaxTextureSize&&(this.__width=wl.glMaxTextureSize),this.__height>wl.glMaxTextureSize&&(this.__height=wl.glMaxTextureSize);this.gl;var l=this.texture;xa.currentBoundTexture[xa.currentActiveTexture]!=l&&(xa.context.bindTexture(this.gl.TEXTURE_2D,l),null==(xa.currentBoundTexture[xa.currentActiveTexture]=l)||xa.textureStateCache.exists(l)||xa.textureStateCache.set(l,new Gs));this.gl;xa.context.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null)}}},createUVs:function(){null==this.__uvData&&(this.__uvData=new Ql);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;e<t;)e<<=1;return e},__class__:wl};var xl=function(t){this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.ShaderManager"]=xl).__name__=["openfl","_internal","renderer","opengl","utils","ShaderManager"],xl.prototype={setContext:function(t){this.gl=t,this.defaultShader=new cl(t),this.defaultMaskedShader=new ul(t),this.fillShader=new dl(t),this.patternFillShader=new pl(t),this.drawTrianglesShader=new fl(t),this.primitiveShader=new gl(t),this.setShader(this.defaultShader,!0)},destroy:function(){this.defaultShader.destroy(),this.fillShader.destroy(),this.patternFillShader.destroy(),this.drawTrianglesShader.destroy(),this.primitiveShader.destroy(),this.gl=null},setShader:function(t,e){if(null==e&&(e=!1),null==t){this.currentShader=null;this.gl;var i=null;return i!=xa.currentProgram&&(xa.context.useProgram(i),i=xa.currentProgram),!0}if(null!=this.currentShader&&!e&&this.currentShader.ID==t.ID)return!1;this.currentShader=t;this.gl;var n=t.program;return n!=xa.currentProgram&&(xa.context.useProgram(n),n=xa.currentProgram),!0},__class__:xl};var Tl=function(){};(i["openfl._internal.renderer.opengl.utils.VertexBufferContext"]=Tl).__name__=["openfl","_internal","renderer","opengl","utils","VertexBufferContext"],Tl.prototype={__class__:Tl};var Sl=function(t,e,i){null==i&&(i=3),null==e&&(e=2e3),this.vertexBufferContextIndex=0,this.colorTransform=new Io,this.matrix=new Co,this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.preventFlush=!1,this.drawing=!1,this.states=[],this.maxSprites=e,this.attributes.push(new Cl(2,5126,!1,"openfl_aPosition")),this.attributes.push(new Cl(2,5126,!1,"openfl_aTexCoord0")),this.attributes.push(new Cl(4,5121,!0,"openfl_aColor"));var n,s=[1,1,1,1];n=null!=s?new mf(s):null,this.attributes[2].defaultValue=n;for(var r=this.maxElementsPerVertex=0,a=this.attributes;r<a.length;){var o=a[r];++r;var l,h=this.maxElementsPerVertex;switch(o.type){case 5120:case 5121:l=1;break;case 5122:case 5123:l=2;break;default:l=4}this.maxElementsPerVertex=h+Math.floor(o.components*l/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexBufferContexts=[];for(var _=0,u=i;_<u;){var c=_++;this.vertexBufferContexts.push(new Tl);var f=this.vertexBufferContexts[c];f.vertexArray=new Il(this.attributes,this.vertexArraySize,!1);var d,p=f.vertexArray.buffer;d=null!=p?new mf(p,0):null,f.positions=d;var g,m=f.vertexArray.buffer;g=null!=m?new Uint32Array(m,0):null,f.colors=g}this.vertexArray=this.vertexBufferContexts[0].vertexArray,this.positions=this.vertexBufferContexts[0].positions,this.colors=this.vertexBufferContexts[0].colors;var v,b=this.indexArraySize;v=null!=b?new Uint16Array(b):null,this.indices=v;for(var y=0,w=0;y<this.indexArraySize;)this.indices[y]=w,this.indices[y+1]=w+1,this.indices[y+2]=w+2,this.indices[y+3]=w,this.indices[y+4]=w+2,this.indices[y+5]=w+3,y+=6,w+=4;this.currentState=new El,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};(i["openfl._internal.renderer.opengl.utils.SpriteBatch"]=Sl).__name__=["openfl","_internal","renderer","opengl","utils","SpriteBatch"],Sl.prototype={destroy:function(){for(var t=0,e=this.vertexBufferContexts;t<e.length;){var i=e[t];++t,i.vertexArray.destroy(),i.vertexArray=null}this.indices=null;this.gl;xa.context.deleteBuffer(this.indexBuffer),this.currentState.destroy();for(var n=0,s=this.states;n<s.length;){var r=s[n];++n,r.destroy()}this.colorTransform=null,this.gl=null},begin:function(t,e,i,n){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.start(e,i,n)},finish:function(){this.stop(),this.clipRect=null},start:function(t,e,i){this.drawing=!0,this.maskBitmap=e,this.maskMatrix=i,this.clipRect=t},stop:function(){this.drawing=!1,this.flush()},renderBitmapData:function(t,e,i,n,s,r,a,o){null==s&&(s=1),null!=t&&this.renderBitmapDataEx(t,t.physicalWidth,t.physicalHeight,t.get_uvData(),e,i,n,s,r,a,o)},renderBitmapDataEx:function(t,e,i,n,s,r,a,o,l,h,_){if(0!=e&&0!=i){var u=t.getTexture(this.gl);if(this.batchedSprites>=this.maxSprites&&this.flush(),null!=n){if(null!=h){h.__init(this.gl),h.__shader.wrapS=h.repeatX,h.__shader.wrapT=h.repeatY,h.__shader.smooth=h.smooth,h.__shader.blendMode=h.blendMode;var c=h.data.get(uh.uObjectSize),f=h.data.get(uh.uTextureSize);if(null!=t)if(c.value[0]=t.width,c.value[1]=t.height,null!=t.get_bd().__pingPongTexture){var d=f.value,p=t.get_bd().__pingPongTexture;d[0]=(p.__swapped?p.__texture1:p.__texture0).__width;var g=f.value,m=t.get_bd().__pingPongTexture;g[1]=(m.__swapped?m.__texture1:m.__texture0).__height}else f.value[0]=t.width,f.value[1]=t.height;else c.value[0]=0,c.value[1]=0,f.value[0]=0,f.value[1]=0}var v=(255&(255*o|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var b=0,y=0,w=this.attributes;y<w.length;){var x=w[y];if(++y,x.enabled){var T;switch(x.type){case 5120:case 5121:T=1;break;case 5122:case 5123:T=2;break;default:T=4}b+=Math.floor(x.components*T/4)}}this.elementsPerVertex=b;var S=this.renderSession.getRenderTargetBaseTransform(),E=Co.pool.get();t.getLocalTransform(E),E.concat(r),E.concat(S),null==s&&(s=!(Math.abs(Math.abs(E.a)*e-t.physicalWidth)<.5&&Math.abs(Math.abs(E.d)*i-t.physicalHeight)<.5&&Math.abs(E.b)<.001&&Math.abs(E.c)<.001)),1==_&&(_=s&&0==r.b&&0==r.c&&Math.abs(1-r.a)<.001&&Math.abs(1-r.d)<.001?(r.a=1,r.d=1,0):2);var I=4*this.batchedSprites*this.elementsPerVertex,C=E.a,P=E.b,A=E.c,D=E.d,R=E.tx,M=E.ty;if(this.positions[I+16]=null==_||2==_?(this.positions[I]=R,this.positions[I+1]=M,this.positions[I+5]=C*e+R,this.positions[I+6]=P*e+M,this.positions[I+10]=C*e+A*i+R,this.positions[I+11]=D*i+P*e+M,this.positions[I+15]=A*i+R,D*i+M):(this.positions[I]=Math.round(R),this.positions[I+1]=Math.round(M),this.positions[I+5]=Math.round(R)+C*e,this.positions[I+6]=Math.round(M)+P*e,this.positions[I+10]=Math.round(R)+C*e+A*i,this.positions[I+11]=Math.round(M)+D*i+P*e,this.positions[I+15]=Math.round(R)+A*i,Math.round(M)+D*i),this.enableColor){var F=this.colors[I+19]=v,B=this.colors[I+14]=F,L=this.colors[I+9]=B;this.colors[I+4]=L}this.positions[I+2]=n.x0,this.positions[I+3]=n.y0,this.positions[I+7]=n.x1,this.positions[I+8]=n.y1,this.positions[I+12]=n.x2,this.positions[I+13]=n.y2,this.positions[I+17]=n.x3,this.positions[I+18]=n.y3,this.writtenVertexBytes=I+20;var k=this.batchedSprites,N=this.states[k];if(null==N&&(N=this.states[k]=new El),N.texture=u,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){N.maskTexture=this.maskBitmap.getTexture(this.gl);var O=this.maskBitmap.get_uvData(),U=N.maskTextureUVScale;U.x=O.x1,U.y=O.y2,N.maskMatrix.copyFrom(this.maskMatrix)}else N.maskTexture=null;N.textureSmooth=s,N.blendMode=null!=l?l:10,N.skipColorTransform=null!=a&&a.__isDefault(),N.skipColorTransform||(N.colorTransform.redMultiplier=a.redMultiplier,N.colorTransform.greenMultiplier=a.greenMultiplier,N.colorTransform.blueMultiplier=a.blueMultiplier,N.colorTransform.alphaMultiplier=a.alphaMultiplier,N.colorTransform.redOffset=a.redOffset,N.colorTransform.greenOffset=a.greenOffset,N.colorTransform.blueOffset=a.blueOffset,N.colorTransform.alphaOffset=a.alphaOffset),N.shaderData=null==h?N.shader=null:(N.shader=h.__shader,h.data),this.batchedSprites++,Co.pool.put(E)}}},fillVertices:function(t,e,i,n,s,r,a){null==r&&(r=-1);var o=n.a,l=n.b,h=n.c,_=n.d,u=n.tx,c=n.ty;if(this.positions[t+16]=null==a||2==a?(this.positions[t]=u,this.positions[t+1]=c,this.positions[t+5]=o*e+u,this.positions[t+6]=l*e+c,this.positions[t+10]=o*e+h*i+u,this.positions[t+11]=_*i+l*e+c,this.positions[t+15]=h*i+u,_*i+c):(this.positions[t]=Math.round(u),this.positions[t+1]=Math.round(c),this.positions[t+5]=Math.round(u)+o*e,this.positions[t+6]=Math.round(c)+l*e,this.positions[t+10]=Math.round(u)+o*e+h*i,this.positions[t+11]=Math.round(c)+_*i+l*e,this.positions[t+15]=Math.round(u)+h*i,Math.round(c)+_*i),this.enableColor){var f=this.colors[t+19]=r,d=this.colors[t+14]=f,p=this.colors[t+9]=d;this.colors[t+4]=p}this.positions[t+2]=s.x0,this.positions[t+3]=s.y0,this.positions[t+7]=s.x1,this.positions[t+8]=s.y1,this.positions[t+12]=s.x2,this.positions[t+13]=s.y2,this.positions[t+17]=s.x3,this.positions[t+18]=s.y3,this.writtenVertexBytes=t+20},enableAttributes:function(t){null==t&&(t=-1),this.enableColor=-1!=t,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor;for(var e=0,i=0,n=this.attributes;i<n.length;){var s=n[i];if(++i,s.enabled){var r;switch(s.type){case 5120:case 5121:r=1;break;case 5122:case 5123:r=2;break;default:r=4}e+=Math.floor(s.components*r/4)}}this.elementsPerVertex=e},flush:function(){if(this.preventFlush)throw new fr("SpriteBatch flush forbidden");if(0!=this.batchedSprites){if(null!=this.clipRect){this.gl;xa.context.enable(this.gl.SCISSOR_TEST);this.gl;xa.context.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))}this.renderSession.activeTextures=1;var t=this.vertexArray;t.gl;xa.context.bindBuffer(t.gl.ARRAY_BUFFER,t.glBuffer);this.gl;xa.context.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e,i=this.vertexArray,n=this.positions.subarray(0,this.writtenVertexBytes);i.gl;xa.context.bufferSubData(i.gl.ARRAY_BUFFER,0,n),this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors;var s=0,r=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.maskTexture=null,this.currentState.maskMatrix=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null;for(var a=0,o=this.batchedSprites;a<o;){var l=a++;e=this.states[l];var h=this.currentState;if(!(null==e.shader&&null==h.shader||null!=e.shader&&null!=h.shader&&e.shader.ID==h.shader.ID)||e.texture!=h.texture||e.maskTexture!=h.maskTexture||e.textureSmooth!=h.textureSmooth||e.blendMode!=h.blendMode||!(e.skipColorTransform&&h.skipColorTransform||!e.skipColorTransform&&!h.skipColorTransform&&e.colorTransform.__equals(h.colorTransform,!0))){this.renderBatch(this.currentState,s,r),r=l,s=0,this.currentState.shader=e.shader,this.currentState.shaderData=e.shaderData,this.currentState.texture=e.texture,this.currentState.maskTexture=e.maskTexture;var _=e.maskTextureUVScale,u=this.currentState.maskTextureUVScale;u.x=_.x,u.y=_.y,this.currentState.maskMatrix=e.maskMatrix,this.currentState.textureSmooth=e.textureSmooth,this.currentState.blendMode=e.blendMode,this.currentState.skipColorTransform=e.skipColorTransform,this.currentState.colorTransform=this.currentState.skipColorTransform?null:e.colorTransform}++s}if(this.renderBatch(this.currentState,s,r),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect){this.gl;xa.context.disable(this.gl.SCISSOR_TEST)}}},renderBatch:function(t,e,i){if(0!=e&&null!=t.texture){var n=null==t.shader?null!=t.maskTexture?this.renderSession.shaderManager.defaultMaskedShader:this.renderSession.shaderManager.defaultShader:t.shader;if(this.renderSession.shaderManager.setShader(n),n.bindVertexArray(this.vertexArray),!0,this.renderSession.blendModeManager.setBlendMode(null!=n.blendMode?n.blendMode:t.blendMode),n.uniformMatrix3fv(n.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix),null!=t.colorTransform){n.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),1);var s=t.colorTransform;n.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),s.redMultiplier,s.greenMultiplier,s.blueMultiplier,1),n.uniform4f(n.getUniformLocation("openfl_uColorOffset"),s.redOffset/255,s.greenOffset/255,s.blueOffset/255,s.alphaOffset/255)}else n.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),0),n.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),n.uniform4f(n.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl;var r=this.gl.TEXTURE0;r!=xa.currentActiveTexture&&(xa.context.activeTexture(r),xa.currentActiveTexture=r);this.gl;var a=t.texture;if(xa.currentBoundTexture[xa.currentActiveTexture]!=a&&(xa.context.bindTexture(this.gl.TEXTURE_2D,a),null==(xa.currentBoundTexture[xa.currentActiveTexture]=a)||xa.textureStateCache.exists(a)||xa.textureStateCache.set(a,new Gs)),null!=n.smooth&&n.smooth||t.textureSmooth){this.gl;var o=this.gl.TEXTURE_2D,l=this.gl.TEXTURE_MAG_FILTER,h=this.gl.LINEAR,_=xa.currentBoundTexture[xa.currentActiveTexture],u=xa.textureStateCache.get(_);u.h[l]!=h&&(xa.context.texParameteri(o,l,h),u.h[l]=h);this.gl;var c=this.gl.TEXTURE_2D,f=this.gl.TEXTURE_MIN_FILTER,d=this.gl.LINEAR,p=xa.currentBoundTexture[xa.currentActiveTexture],g=xa.textureStateCache.get(p);g.h[f]!=d&&(xa.context.texParameteri(c,f,d),g.h[f]=d)}else{this.gl;var m=this.gl.TEXTURE_2D,v=this.gl.TEXTURE_MAG_FILTER,b=this.gl.NEAREST,y=xa.currentBoundTexture[xa.currentActiveTexture],w=xa.textureStateCache.get(y);w.h[v]!=b&&(xa.context.texParameteri(m,v,b),w.h[v]=b);this.gl;var x=this.gl.TEXTURE_2D,T=this.gl.TEXTURE_MIN_FILTER,S=this.gl.NEAREST,E=xa.currentBoundTexture[xa.currentActiveTexture],I=xa.textureStateCache.get(E);I.h[T]!=S&&(xa.context.texParameteri(x,T,S),I.h[T]=S)}this.gl;var C=this.gl.TEXTURE_2D,P=this.gl.TEXTURE_WRAP_S,A=n.wrapS,D=xa.currentBoundTexture[xa.currentActiveTexture],R=xa.textureStateCache.get(D);R.h[P]!=A&&(xa.context.texParameteri(C,P,A),R.h[P]=A);this.gl;var M=this.gl.TEXTURE_2D,F=this.gl.TEXTURE_WRAP_T,B=n.wrapT,L=xa.currentBoundTexture[xa.currentActiveTexture],k=xa.textureStateCache.get(L);if(k.h[F]!=B&&(xa.context.texParameteri(M,F,B),k.h[F]=B),null!=t.maskTexture){this.gl;var N=this.gl.TEXTURE1;N!=xa.currentActiveTexture&&(xa.context.activeTexture(N),xa.currentActiveTexture=N);this.gl;var O=t.maskTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=O&&(xa.context.bindTexture(this.gl.TEXTURE_2D,O),null==(xa.currentBoundTexture[xa.currentActiveTexture]=O)||xa.textureStateCache.exists(O)||xa.textureStateCache.set(O,new Gs)),n.uniformMatrix3fv(n.getUniformLocation("openfl_uMaskMatrix"),!1,t.maskMatrix),n.uniform2f(n.getUniformLocation("openfl_uUVScale"),t.maskTextureUVScale.x,t.maskTextureUVScale.y)}n.applyData(t.shaderData,this.renderSession);this.gl;xa.context.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},setState:function(t,e,i,n,s,r){null==i&&(i=!1);var a=this.states[t];if(null==a&&(a=this.states[t]=new El),a.texture=e,null!=this.maskBitmap&&null!=this.maskBitmap.get_uvData()){a.maskTexture=this.maskBitmap.getTexture(this.gl);var o=this.maskBitmap.get_uvData(),l=a.maskTextureUVScale;l.x=o.x1,l.y=o.y2,a.maskMatrix.copyFrom(this.maskMatrix)}else a.maskTexture=null;a.textureSmooth=i,a.blendMode=null!=n?n:10,a.skipColorTransform=null!=s&&s.__isDefault(),a.skipColorTransform||(a.colorTransform.redMultiplier=s.redMultiplier,a.colorTransform.greenMultiplier=s.greenMultiplier,a.colorTransform.blueMultiplier=s.blueMultiplier,a.colorTransform.alphaMultiplier=s.alphaMultiplier,a.colorTransform.redOffset=s.redOffset,a.colorTransform.greenOffset=s.greenOffset,a.colorTransform.blueOffset=s.blueOffset,a.colorTransform.alphaOffset=s.alphaOffset),a.shaderData=null==r?a.shader=null:(a.shader=r.__shader,r.data)},setContext:function(t){this.gl=t;for(var e=0,i=this.vertexBufferContexts;e<i.length;){var n=i[e];++e,n.vertexArray.setContext(t,n.positions)}this.indexBuffer=xa.context.createBuffer(),xa.context.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),xa.context.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var i=t.data.get(uh.uObjectSize),n=t.data.get(uh.uTextureSize);if(null!=e)if(i.value[0]=e.width,i.value[1]=e.height,null!=e.get_bd().__pingPongTexture){var s=n.value,r=e.get_bd().__pingPongTexture;s[0]=(r.__swapped?r.__texture1:r.__texture0).__width;var a=n.value,o=e.get_bd().__pingPongTexture;a[1]=(o.__swapped?o.__texture1:o.__texture0).__height}else n.value[0]=e.width,n.value[1]=e.height;else i.value[0]=0,i.value[1]=0,n.value[0]=0,n.value[1]=0}},getElementsPerVertex:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];if(++e,n.enabled){var s;switch(n.type){case 5120:case 5121:s=1;break;case 5122:case 5123:s=2;break;default:s=4}t+=Math.floor(n.components*s/4)}}return t},setNextVertexBufferContext:function(){this.vertexBufferContextIndex=(this.vertexBufferContextIndex+1)%this.vertexBufferContexts.length,this.vertexArray=this.vertexBufferContexts[this.vertexBufferContextIndex].vertexArray,this.positions=this.vertexBufferContexts[this.vertexBufferContextIndex].positions,this.colors=this.vertexBufferContexts[this.vertexBufferContextIndex].colors},__class__:Sl};var El=function(){this.maskMatrix=new Co,this.maskTextureUVScale=new Da,this.skipColorTransform=!1,this.textureSmooth=!0,this.colorTransform=Io.pool.get(),this.colorTransform.reset()};(i["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=El).__name__=["openfl","_internal","renderer","opengl","utils","_SpriteBatch","State"],El.prototype={equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.maskTexture==t.maskTexture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(!(!this.skipColorTransform||!t.skipColorTransform)||!this.skipColorTransform&&!t.skipColorTransform&&this.colorTransform.__equals(t.colorTransform,!0))},destroy:function(){this.texture=null,this.colorTransform=null,this.maskTexture=null,Io.pool.put(this.colorTransform),null!=this.maskMatrix&&(this.maskMatrix=null)},__class__:El};var Il=function(t,e,i){null==i&&(i=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,0<e&&(this.buffer=new pf(e)),this.isStatic=i};(i["openfl._internal.renderer.opengl.utils.VertexArray"]=Il).__name__=["openfl","_internal","renderer","opengl","utils","VertexArray"],Il.prototype={bind:function(){this.gl;xa.context.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},unbind:function(){this.gl;xa.context.bindBuffer(this.gl.ARRAY_BUFFER,null)},upload:function(t){this.gl;xa.context.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},destroy:function(){if(null!=this.gl){this.gl;xa.context.deleteBuffer(this.glBuffer)}this.buffer=null},setContext:function(t,e){this.gl=t,this.glBuffer=xa.context.createBuffer(),xa.context.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),xa.context.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];if(++e,n.enabled){var s;switch(n.type){case 5120:case 5121:s=1;break;case 5122:case 5123:s=2;break;default:s=4}t+=4*Math.floor(n.components*s/4)}}return t},__class__:Il,__properties__:{get_stride:"get_stride"}};var Cl=function(t,e,i,n,s){var r;(null==i&&(i=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=i,this.name=n,null==s)?(r=null!=t?new mf(t):null,this.defaultValue=r):this.defaultValue=s};(i["openfl._internal.renderer.opengl.utils.VertexAttribute"]=Cl).__name__=["openfl","_internal","renderer","opengl","utils","VertexAttribute"],Cl.prototype={copy:function(){return new Cl(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){switch(this.type){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},get_elements:function(){var t;switch(this.type){case 5120:case 5121:t=1;break;case 5122:case 5123:t=2;break;default:t=4}return Math.floor(this.components*t/4)},__class__:Cl,__properties__:{get_elements:"get_elements"}};var Pl=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new H_(0,0,0,0),this.type=0,this.autoSize=2,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.computeAdvances=!1,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.lineLayoutGroups=[],this.textFormatRanges=[],Pl.__canvas=window.document.createElement("canvas"),Pl.__context=Pl.__canvas.getContext("2d")};(i["openfl._internal.text.TextEngine"]=Pl).__name__=["openfl","_internal","text","TextEngine"],Pl.__canvas=null,Pl.__context=null,Pl.getFont=function(t){var e=t.font,i=t.italic?"italic ":"normal ";switch(i+="normal ",i+=t.bold?"bold ":"normal ",i+=t.size+"px",i+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":i+="sans-serif";break;case"_serif":i+="serif";break;case"_typewriter":i+="monospace";break;default:i+="'"+e+"'"}var n=i,s=Dt.getProperty(Eo.getLibrary("default"),"fontData").get(e);if(null==s){Rs.trace("Warning: No font data found for font: "+e+". Falling back to "+t.font,{fileName:"TextEngine.hx",lineNumber:242,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),s=Dt.getProperty(Eo.getLibrary("default"),"fontData").get(t.font);var r=t.font,a="normal ";switch(a+="normal ",a+="normal ",a+=t.size+"px",a+="/"+(t.size+t.leading+6)+"px ",t.font){case"_sans":a+="sans-serif";break;case"_serif":a+="serif";break;case"_typewriter":a+="monospace";break;default:a+="'"+r+"'"}if(n=a,null==s)return Rs.trace("Fallback didn't contain font data. Falling back to defaults.",{fileName:"TextEngine.hx",lineNumber:248,className:"openfl._internal.text.TextEngine",methodName:"getFont"}),{name:n,ascent:.825,descent:.175}}return{name:n,ascent:s.ascent,descent:s.descent}},Pl.getFontInstance=function(t){return null},Pl.prototype={getBounds:function(){var t=this.border?1:0;this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLine:function(t){return t<0||t>this.lineBreaks.length+1?null:0==this.lineBreaks.length?this.text:this.text.substring(0<t?this.lineBreaks[t-1]:0,this.lineBreaks[t])},calculateFontDimensions:function(t,e){var i={};return i.ascent=t.size*e.ascent,i.descent=t.size*e.descent,i.leading=t.leading,i.height=i.ascent+i.descent+i.leading,i},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,i=null,n=0,s=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0;for(var r=this.maxScrollH=0,a=this.lineLayoutGroups;r<a.length;){var o=a[r];if(++r,0<o.length){for(var l=o[0];l.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(s),i=null,s=n=e=t=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,l.ascent),e=Math.max(e,l.descent),i=null==i?l.leading:0|Math.max(i,l.leading),n=Math.max(n,l.height),this.textHeight=l.offsetY-2+l.ascent+l.descent;for(var h=s=0;h<o.length;){var _=o[h];++h,(s+=_.width)>this.textWidth&&(this.textWidth=s)}}}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(s),1==this.numLines?(this.bottomScrollV=1,0<i&&(this.textHeight+=i)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length);var e,i=-1,n=null,s=this.textField.get_defaultTextFormat(),r=0,a=0,o=0,l=0,h=[],_=0,u=2,c=2,f=0,d=0,p=this.text.length;if(i<t.textFormatRanges.length-1){++i,n=t.textFormatRanges[i],s.__merge(n.format);var g=Pl.getFont(s);Pl.__context.font=g.name;var m=t.calculateFontDimensions(s,g);a=m.ascent,o=m.descent,r=m.leading,_=m.height}var v=n.format;e=new Dl(v,n.start,-1);var b=u,y=2==u;if(y&&0<v.leftMargin&&(b+=v.leftMargin),y&&v.bullet){b+=Pl.__context.measureText("●\t\t").width}for(e.offsetX=b,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0;f<p;){var w=p,x=t.text.indexOf(" ",f);0<=x&&x<w&&(w=x);var T=t.text.indexOf("-",f);0<=T&&T<w&&(w=T);var S=t.text.indexOf("\n",f);0<=S&&S<w&&(w=S);var E=this.text.charAt(w);n.end-1<w&&"\n"==E&&(w=n.end-1,E=this.text.charAt(w));var I=this.text,C=e.startIndex,P=null==C&&null==w?Pl.__context.measureText(I).width:Pl.__context.measureText(I.substring(C,w)).width;if(t.selectable||t.computeAdvances){for(var A=this.text,D=[],R=e.startIndex,M=w;R<M;){var F=R++,B=A.charAt(F),L=Ss.repeat(64,B),k=Pl.__context.measureText(L).width/64;D.push(k)}h=D}if(1<w-f&&this.wordWrap&&Math.floor(e.offsetX+P)>this.width-4){var N=this.text,O=null==f&&null==w?Pl.__context.measureText(N).width:Pl.__context.measureText(N.substring(f,w)).width;if(2==e.offsetX&&Math.floor(e.offsetX+O)>this.width-4){if(null==h||0==h.length){for(var U=this.text,G=[],X=e.startIndex,V=w;X<V;){var z=X++,H=U.charAt(z),W=Ss.repeat(64,H),Y=Pl.__context.measureText(W).width/64;G.push(Y)}h=G}for(var K=0,j=0;j<h.length;){if(K+=h[j],Math.floor(e.offsetX+K)>this.width-4){f=e.startIndex+j,h.splice(f-e.startIndex,w-f);break}++j}j==h.length&&(f=e.startIndex+j),l=this.width-4}var q=f;if(e.startIndex!=q){for(e.endIndex=q,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt(q);)++q;c+=_,u=2,++d;var J=n.format;e=new Dl(J,q,-1);var Z=u,Q=2==u;if(Q&&0<J.leftMargin&&(Z+=J.leftMargin),Q&&J.bullet){Z+=Pl.__context.measureText("●\t\t").width}e.offsetX=Z,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else{if(f=w+1,l=P,"\n"==E){var $=f;if(e.startIndex!=$){for(e.endIndex=$,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}for(;" "==t.text.charAt($);)++$;c+=_,u=2,++d;var tt=n.format;e=new Dl(tt,$,-1);var et=u,it=2==u;if(it&&0<tt.leftMargin&&(et+=tt.leftMargin),it&&tt.bullet){et+=Pl.__context.measureText("●\t\t").width}e.offsetX=et,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else{for(var nt=0;" "==E;)++nt,E=this.text.charAt(w+nt);0<nt&&(f+=nt-1)}if(f>=n.end){f=n.end;var st=this.text,rt=e.startIndex;if(l=null==rt&&null==f?Pl.__context.measureText(st).width:Pl.__context.measureText(st.substring(rt,f)).width,t.selectable||t.computeAdvances){for(var at=this.text,ot=[],lt=e.startIndex,ht=f;lt<ht;){var _t=lt++,ut=at.charAt(_t),ct=Ss.repeat(64,ut),ft=Pl.__context.measureText(ct).width/64;ot.push(ft)}h=ot}if(e.startIndex!=f){for(e.endIndex=f,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}if(u=e.offsetX+l,i<t.textFormatRanges.length-1){++i,n=t.textFormatRanges[i],s.__merge(n.format);var dt=Pl.getFont(s);Pl.__context.font=dt.name;var pt=t.calculateFontDimensions(s,dt);a=pt.ascent,o=pt.descent,r=pt.leading,_=pt.height}var gt=n.format;e=new Dl(gt,n.start,-1);var mt=u,vt=2==u;if(vt&&0<gt.leftMargin&&(mt+=gt.leftMargin),vt&&gt.bullet){mt+=Pl.__context.measureText("●\t\t").width}e.offsetX=mt,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}else if(2==n.format.align){var bt=w;if(e.startIndex!=bt){for(e.endIndex=bt,e.width=l,e.advances=h,h=null,t.layoutGroups.push(e);t.lineLayoutGroups.length<=d;)t.lineLayoutGroups.push([]);t.lineLayoutGroups[d].push(e)}u=e.offsetX+e.width;var yt=n.format;e=new Dl(yt,f,-1);var wt=u,xt=2==u;if(xt&&0<yt.leftMargin&&(wt+=yt.leftMargin),xt&&yt.bullet){wt+=Pl.__context.measureText("●\t\t").width}e.offsetX=wt,e.ascent=a,e.descent=o,e.leading=r,e.lineIndex=d,e.offsetY=c,e.height=_,l=0}}}if(i<this.textFormatRanges.length-1)throw new fr("not all text ranges were processed by the text engine.")},setTextAlignment:function(){var t,e,i=-1,n=0,s=this.width;if(2==this.autoSize||this.multiline||(s=this.textWidth),0<this.lineLayoutGroups.length)for(var r=0,a=this.lineLayoutGroups.length;r<a;){var o=r++;if(0<(e=this.lineLayoutGroups[o]).length)switch(i=(t=e[0]).lineIndex,t.format.align){case 0:n=this.lineWidths[i]<s-4?Math.round((s-4-this.lineWidths[i])/2):0;break;case 2:if(this.lineWidths[i]<s-4&&1<e.length){n=(t=e[e.length-1]).endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex)?(s-4-this.lineWidths[i])/(e.length-1):Pl.__context.measureText(" ").width;for(var l=0,h=e.length;l<h;){var _=l++;e[_].offsetX+=n*_}}n=0;break;case 4:n=this.lineWidths[i]<s-4?Math.round(s-4-this.lineWidths[i]):0;break;default:n=0}if(0<n)for(var u=0;u<e.length;){var c=e[u];++u,c.offsetX+=n}}},update:function(){null==this.text||""==Cs.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.lineLayoutGroups.splice(0,this.lineLayoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:Pl};var Al=function(t,e,i){this.format=t,this.start=e,this.end=i};(i["openfl._internal.text.TextFormatRange"]=Al).__name__=["openfl","_internal","text","TextFormatRange"],Al.prototype={__class__:Al};var Dl=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};(i["openfl._internal.text.TextLayoutGroup"]=Dl).__name__=["openfl","_internal","text","TextLayoutGroup"],Dl.prototype={__class__:Dl};var Rl=function(){Ar.call(this),null==Po.application&&(Po.application=this)};(i["openfl.display.Application"]=Rl).__name__=["openfl","display","Application"],Rl.__super__=Ar,Rl.prototype=n(Ar.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var s=new wh(n);this.createWindow(s);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},__class__:Rl});var Ml=function(t,e,i){null==i&&(i=!1),Y.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=i,this.__useSeparateRenderScaleTransform=!1,null==e&&(this.pixelSnapping=1)};(i["openfl.display.Bitmap"]=Ml).__name__=["openfl","display","Bitmap"],Ml.__super__=Y,Ml.prototype=n(Y.prototype,{__getBounds:function(t){null!=this.bitmapData?t.setTo(0,0,this.bitmapData.width,this.bitmapData.height):t.setEmpty()},__hitTest:function(t,e,i,n,s,r){if(!!(!!(!(0<this.__recursiveMouseListenerCount||null==this.__branchDepth||this.__branchDepth>Y.__lastMouseListenerBranchDepth)||!r.__visible)||this.__isMask)||null==this.bitmapData)return!1;if(null!=this.__mask&&!this.__mask.__hitTestMask(t,e))return!1;this.__getWorldTransform();var a=this.__worldTransform,o=a.a*a.d-a.b*a.c,l=0==o?-a.tx:1/o*(a.c*(a.ty-e)+a.d*(t-a.tx)),h=this.__worldTransform,_=h.a*h.d-h.b*h.c,u=0==_?-h.ty:1/_*(h.a*(e-h.ty)+h.b*(h.tx-t));return 0<l&&0<u&&l<=this.bitmapData.width&&u<=this.bitmapData.height&&(null==n||s||(n._items[n._length++]=r),!0)},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var i=this.__worldTransform,n=i.a*i.d-i.b*i.c,s=0==n?-i.tx:1/n*(i.c*(i.ty-e)+i.d*(t-i.tx)),r=this.__worldTransform,a=r.a*r.d-r.b*r.c,o=0==a?-r.ty:1/a*(r.a*(e-r.ty)+r.b*(r.tx-t));return 0<s&&0<o&&s<=this.bitmapData.width&&o<=this.bitmapData.height},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderGL:function(t){if(this.__resolvedCacheAsBitmap){if(this.__isCachingAsBitmap=!0,!this.__updateCachedBitmap&&!this.__updateFilters||this.forbidCachedBitmapUpdate&&null!=this.__cachedBitmap||this.__updateCachedBitmapFn(t),0<this.__cachedBitmap.width&&0<this.__cachedBitmap.height){this.__cacheGLMatrix.identity(),this.__cacheGLMatrix.copyFrom(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y);var e=this.__cachedBitmap,i=this.__cacheAsBitmapSmooth,n=this.__cacheGLMatrix,s=this.__worldColorTransform,r=this.__worldAlpha,a=this.blendMode,o=this.__shader;null!=e&&t.spriteBatch.renderBitmapDataEx(e,e.physicalWidth,e.physicalHeight,e.get_uvData(),i,n,s,r,a,o,2)}this.__isCachingAsBitmap=!1}else{if(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&(this.__mask.__maskCached||(null!=this.__mask.__cachedBitmap&&(this.__mask.__cachedBitmap.dispose(),this.__mask.__cachedBitmap=null),this.__mask.__isMask=!0,this.__mask.__update(!0,!0),this.__mask.__maskCached=!0),t.maskManager.pushMask(this.__mask)),this.isRenderable()&&!(this.__worldAlpha<=0)&&null!=this.bitmapData&&this.bitmapData.get_valid()){var l=Co.pool.get();l.copyFrom(this.__renderTransform);var h=this.bitmapData,_=this.smoothing,u=this.__renderColorTransform,c=this.__renderAlpha,f=this.__blendMode,d=this.__shader,p=this.pixelSnapping;null!=h&&t.spriteBatch.renderBitmapDataEx(h,h.physicalWidth,h.physicalHeight,h.get_uvData(),_,l,u,c,f,d,p),Co.pool.put(l)}null!=this.__mask&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(t){return null!=this.bitmapData?(t!=this.bitmapData.width&&this.set_scaleX(t/this.bitmapData.width),t):0},__class__:Ml});var Fl=function(){};(i["openfl.display.IBitmapData"]=Fl).__name__=["openfl","display","IBitmapData"],Fl.prototype={__class__:Fl,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_bd:"get_bd"}};var Bl=function(t,e,i,n,s){null==n&&(n=-1),null==i&&(i=!0),this.__imageShouldBeSynced=!1,this.__usingPingPongTexture=!1,this.__renderToLocalMatrix=new Co,this.__keepSource=!1,this.transparent=i,(null==t||t<0)&&(t=0),(null==e||e<0)&&(e=0),this.width=this.physicalWidth=t,this.height=this.physicalHeight=e,0<t&&0<e&&(i?0==(-16777216&n)&&(n=0):n=-16777216|16777215&n,n=n<<8|n>>>24&255,this.__image=new ua(null,0,0,t,e,n,s),this.__image.set_transparent(i),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new Co,this.__renderColorTransform=new Io};(i["openfl.display.BitmapData"]=Bl).__name__=["openfl","display","BitmapData"],Bl.__interfaces__=[Fl,r],Bl.spritesheet=null,Bl.fromBase64=function(t,e,i){var n=new Bl(0,0,!0),s=i,r=n;return ua.fromBase64(t,e,function(t){r.__fromImage(t,t.width,t.height),null!=s&&s(r)}),n},Bl.fromBytes=function(t,e,i){var n=new Bl(0,0,!0),s=e,r=i,a=n;return ua.fromBytes(Su.toBytes(t),function(t){if(a.__fromImage(t,t.width,t.height),null!=s){Ta.convertToCanvas(t),Ta.createImageData(t);for(var e=t.buffer.data,i=0,n=Su.get_length(s);i<n;){e[4*i+++3]=s.readUnsignedByte()}t.dirty=!0}null!=r&&r(a)}),n},Bl.fromCanvas=function(t,e,i,n,s){if(null==e&&(e=!0),null==t)return null;var r=new Bl(0,0,e);return r.__fromImage(ua.fromCanvas(t),i,n,s),r.__image.set_transparent(e),r},Bl.fromGraphics=function(t,e,i){null==e&&(e=!0);var n=t.__bounds;return Bl.fromCanvas(t.__canvas,null,n.width,n.height,i)},Bl.fromFile=function(t,e,i){var n=new Bl(0,0,!0);return n.__fromFile(t,e,i),n},Bl.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new Bl(0,0,e);return i.__fromImage(t,t.width,t.height),i.__image.set_transparent(e),i},Bl.__asRenderTexture=function(){return new Bl(0,0)},Bl.getFromSymbol=function(t){if(Eo.cache.hasBitmapData(t.path))return Eo.cache.getBitmapData(t.path);if(Bl.isSpritesheetImage(t.path))return Bl.getFromSpritesheet(t.id,t.path);var e=Tr.getImage(t.path,!1);if(null!=e&&null!=t.alpha&&""!=t.alpha){var i=Tr.getImage(t.alpha,!1);e.copyChannel(i,i.get_rect(),new Da,fa.RED,fa.ALPHA),e.buffer.premultiplied=!0,e.set_premultiplied(!1)}var n=Bl.fromImage(e);return Eo.cache.setBitmapData(t.path,n),n},Bl.isSpritesheetImage=function(t){return null!=Bl.spritesheet&&!Bl.spritesheet.isBitmapExcluded(t)},Bl.getFromSpritesheet=function(t,e){if(Eo.cache.hasBitmapData(e))return Eo.cache.getBitmapData(e);var i=Bl.spritesheet.getBitmapDataByFrameName(e);return Eo.cache.setBitmapData(e,i),i},Bl.prototype={applyFilter:function(t,e,i,n){this.__isValid&&null!=t&&t.__isValid&&(Ta.convertToCanvas(this.get_image()),Ta.createImageData(this.get_image()),Ta.convertToCanvas(t.get_image()),Ta.createImageData(t.get_image()),n.__applyFilter(this.get_image().buffer.__srcImageData,t.get_image().buffer.__srcImageData,e,i),this.get_image().dirty=!0)},clone:function(){return this.__isValid?Bl.fromImage(this.__image.clone(),this.transparent):new Bl(this.physicalWidth,this.physicalHeight,this.transparent)},get_bd:function(){return this},get_src:function(){return this.get_image().get_src()},get_uvData:function(){return this.__uvData},set_uvData:function(t){return this.__createUVs(t.x0,t.y0,t.x1,t.y1,t.x2,t.y2,t.x3,t.y3),t},get_valid:function(){return this.__isValid},colorTransform:function(t,e){this.__isValid&&(this.get_image().colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.__isValid||0==t.__isValid)return-2;if(this.physicalWidth!=t.physicalWidth)return-3;if(this.physicalHeight!=t.physicalHeight)return-4;if(null!=this.get_image()&&null!=t.get_image()&&this.get_image().get_format()==t.get_image().get_format()){for(var e=this.get_image().get_data(),i=t.get_image().get_data(),n=!0,s=0,r=e.length;s<r;){var a=s++;if(e[a]!=i[a]){n=!1;break}}if(n)return 0}for(var o,l,h,_,u,c,f,d,p=null,g=0,m=this.physicalHeight;g<m;)for(var v=g++,b=0,y=this.physicalWidth;b<y;){var w=b++;o=!1,_=0,(l=this.getPixel32(w,v))!=(h=t.getPixel32(w,v))&&((u=(l>>16&255)-(h>>16&255))<0&&(u*=-1),(c=(l>>8&255)-(h>>8&255))<0&&(c*=-1),(f=(255&l)-(255&h))<0&&(f*=-1),0==u&&0==c&&0==f?0!=(d=(l>>24&255)-(h>>24&255))&&(_=(255&d)<<24|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|16711680|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|65280|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255)>>16)<<16|(255&_>>8)<<8|255&_,o=!0):(_=-16777216|(255&(_=(255&(_=(255&(_=(255&_>>24)<<24|(255&u)<<16|(255&_>>8)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&c)<<8|255&_)>>24)<<24|(255&_>>16)<<16|(255&_>>8)<<8|255&f)>>16)<<16|(255&_>>8)<<8|255&_,o=!0)),o&&(null==p&&(p=new Bl(this.physicalWidth,this.physicalHeight,this.transparent||t.transparent,0)),p.setPixel32(w,v,_))}return null==p?0:p},copyChannel:function(t,e,i,n,s){if(this.__isValid){var r,a;switch(n){case 1:r=fa.RED;break;case 2:r=fa.GREEN;break;case 4:r=fa.BLUE;break;case 8:r=fa.ALPHA;break;default:return}switch(s){case 1:a=fa.RED;break;case 2:a=fa.GREEN;break;case 4:a=fa.BLUE;break;case 8:a=fa.ALPHA;break;default:return}this.get_image().copyChannel(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),r,a),this.__usingPingPongTexture=!1}},copyPixels:function(t,e,i,n,s,r){null==r&&(r=!1),this.__isValid&&null!=t&&(this.get_image().copyPixels(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),null!=n?n.get_image():null,null!=s?s.__toLimeVector2():null,r),this.__usingPingPongTexture=!1)},dispose:function(){this.__image=null,this.width=0,this.height=0,this.__isValid=!1;var t=Po.current.stage.__renderer;if(null!=t&&null!=t.renderSession.gl){if(null!=this.__texture){var e=this.__texture;xa.textureStateCache.remove(e),xa.context.deleteTexture(e),this.__texture=null}null!=this.__buffer&&(xa.context.deleteBuffer(this.__buffer),this.__buffer=null)}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null),null!=this.__uvData&&(Ql.pool.put(this.__uvData),this.__uvData=null)},disposeBackBuffer:function(){null!=this.__pingPongTexture&&this.__pingPongTexture.destroyOldRenderTexture()},draw:function(t,e,i,n,s,r,a){if(null==a&&(a=!1),null==r&&(r=!1),this.__isValid){if(null!=i&&!i.__isDefault()||null!=n)throw new fr(":TODO: Not supported");var o=Po.current.stage.__renderer.renderSession,l=!0;if(dr.__instanceof(t,Y)){var h=dr.__cast(t,Y);(l=!!h.__visible&&h.isRenderable())||(h.set_visible(!0),h.__update(!1,!0))}t.__updateTransforms(),t.__updateChildren(!0);var _=!this.__usingPingPongTexture;this.__pushFrameBuffer(o,r,!0,!0),ll.drawBitmapDrawable(o,_?this:null,t,e,s,null,null),ll.popFramebuffer(o,a?this.__image:null),a||(this.__imageShouldBeSynced=!0);var u=this.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,dr.__instanceof(t,Y)&&!l&&dr.__cast(t,Y).set_visible(l)}},encode:function(t,e,i){return this.__isValid&&null!=t?dr.__instanceof(e,lh)?Su.fromBytes(this.get_image().encode("png")):dr.__instanceof(e,ih)?Su.fromBytes(this.get_image().encode("jpg",dr.__cast(e,ih).quality)):null:null},fillRect:function(t,e){this.__isValid&&null!=t&&(this.transparent&&0==(-16777216&e)&&(e=0),this.get_image().fillRect(t.__toLimeRectangle(),e,1),this.__usingPingPongTexture=!1)},floodFill:function(t,e,i){this.__isValid&&(this.get_image().floodFill(t,e,i,1),this.__usingPingPongTexture=!1)},generateFilterRect:function(t,e){return t.clone()},getBuffer:function(t){if(null==this.__buffer){var e=[this.width,this.height,0,1,1,0,this.height,0,0,1,this.width,0,0,1,0,0,0,0,0,0];this.__buffer=xa.context.createBuffer(),xa.context.bindBuffer(t.ARRAY_BUFFER,this.__buffer);var i,n=t.ARRAY_BUFFER;i=null!=e?new mf(e):null,xa.context.bufferData(n,i,t.STATIC_DRAW),xa.context.bindBuffer(t.ARRAY_BUFFER,null)}return this.__buffer},getColorBoundsRect:function(t,e,i){if(null==i&&(i=!0),!this.__isValid)return new H_(0,0,this.width,this.height);if(!this.transparent||0<(t>>24&255)){0==(e>>24&255)&&0}var n=this.get_image().getColorBoundsRect(t,e,i,1);return new H_(n.x,n.y,n.width,n.height)},getPixel:function(t,e){return this.__isValid?this.get_image().getPixel(t,e,1):0},getPixel32:function(t,e){return this.__isValid?this.get_image().getPixel32(t,e,1):0},getPixels:function(t){return this.__isValid?(null==t&&(t=H_.__temp,this.getPhysicalRect(t)),Su.fromBytes(this.get_image().getPixels(t.__toLimeRectangle(),1))):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture){var e=this.__pingPongTexture;return e.useOldTexture?(e.__swapped?e.__texture0:e.__texture1).texture:(e.__swapped?e.__texture1:e.__texture0).texture}if(null==this.__texture){this.__texture=xa.context.createTexture();var i=this.__texture;xa.currentBoundTexture[xa.currentActiveTexture]!=i&&(xa.context.bindTexture(t.TEXTURE_2D,i),null==(xa.currentBoundTexture[xa.currentActiveTexture]=i)||xa.textureStateCache.exists(i)||xa.textureStateCache.set(i,new Gs));var n=t.TEXTURE_2D,s=t.TEXTURE_WRAP_S,r=t.CLAMP_TO_EDGE,a=xa.currentBoundTexture[xa.currentActiveTexture],o=xa.textureStateCache.get(a);o.h[s]!=r&&(xa.context.texParameteri(n,s,r),o.h[s]=r);var l=t.TEXTURE_2D,h=t.TEXTURE_WRAP_T,_=t.CLAMP_TO_EDGE,u=xa.currentBoundTexture[xa.currentActiveTexture],c=xa.textureStateCache.get(u);c.h[h]!=_&&(xa.context.texParameteri(l,h,_),c.h[h]=_);var f=t.TEXTURE_2D,d=t.TEXTURE_MAG_FILTER,p=t.LINEAR,g=xa.currentBoundTexture[xa.currentActiveTexture],m=xa.textureStateCache.get(g);m.h[d]!=p&&(xa.context.texParameteri(f,d,p),m.h[d]=p);var v=t.TEXTURE_2D,b=t.TEXTURE_MIN_FILTER,y=t.LINEAR,w=xa.currentBoundTexture[xa.currentActiveTexture],x=xa.textureStateCache.get(w);x.h[b]!=y&&(xa.context.texParameteri(v,b,y),x.h[b]=y),this.__image.dirty=!0}if(null!=this.__image&&this.__image.dirty){var T,S;S=1==this.__image.buffer.bitsPerPixel?(T=t.ALPHA,t.ALPHA):(T=t.RGBA,t.RGBA);var E=this.__texture;xa.currentBoundTexture[xa.currentActiveTexture]!=E&&(xa.context.bindTexture(t.TEXTURE_2D,E),null==(xa.currentBoundTexture[xa.currentActiveTexture]=E)||xa.textureStateCache.exists(E)||xa.textureStateCache.set(E,new Gs));var I=this.__image,C=t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P=!I.get_premultiplied()&&I.get_transparent()?1:0;xa.context.pixelStorei(C,P);var A=I.buffer.get_glCompatibleBuffer();if(null==A){var D=t.TEXTURE_2D,R=this.physicalWidth,M=this.physicalHeight,F=t.UNSIGNED_BYTE,B=I.get_data();xa.context.texImage2D(D,0,T,R,M,0,S,F,B)}else xa.context.texImage2D(t.TEXTURE_2D,0,T,S,t.UNSIGNED_BYTE,A);this.__image.dirty=!1,this.__keepSource||null==this.__image.buffer.__srcCanvas||(nl.pool.put(this.__image.buffer.__srcCanvas),this.__image.buffer.__srcCanvas=null,this.__image=null)}return this.__texture},getVector:function(t){var e=this.getPixels(t),i=Su.get_length(e)/4|0,n=new lt,s=new Array(i);n.data=s,n.length=i,n.fixed=!0;for(var r=n,a=0,o=i;a<o;){var l=a++,h=e.readUnsignedInt();if(!r.fixed&&(l>=r.length&&(r.length=l+1),r.data.length<r.length)){var _=r.data.length+10,u=new Array(_);Hs.blit(r.data,0,u,0,r.data.length),r.data=u}r.data[l]=h}return r},histogram:function(t){for(var e=null!=t?t:new H_(0,0,this.physicalWidth,this.physicalHeight),i=this.getPixels(e),n=[],s=0;s<4;){s++;for(var r=[],a=0;a<256;){a++;r.push(0)}n.push(r)}for(var o=n,l=0,h=Su.get_length(i);l<h;){++o[l++%4][i.readUnsignedByte()]}return o},hitTest:function(t,e,i,n,s){if(null==s&&(s=1),!this.__isValid)return!1;if(dr.__instanceof(i,Ml)&&(i=dr.__cast(i,Ml).bitmapData),dr.__instanceof(i,xe)){var r=i;r.x,t.x,r.y,t.y;throw new fr(":TODO: compute rect")}if(dr.__instanceof(i,Bl)){throw null==n?0:(n.x-t.x|0,n.y-t.y|0),new fr(":TODO: compute rect")}if(dr.__instanceof(i,H_)){var a=H_.__temp;if(a.copyFrom(i),a.offset(-t.x,-t.y),a.__contract(0,0,this.width,this.height),0<a.width&&0<a.height)for(var o=this.getPixels(a),l=0,h=Su.get_length(o)/4|0;l<h;){l++;if(e<=(o.readUnsignedInt()>>24&255))return!0}}return!1},lock:function(){},merge:function(t,e,i,n,s,r,a){this.__isValid&&null!=t&&t.__isValid&&null!=e&&null!=i&&(this.get_image().merge(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),n,s,r,a),this.__usingPingPongTexture=!1)},noise:function(t,e,i,n,s){if(null==s&&(s=!1),null==n&&(n=7),null==i&&(i=255),null==e&&(e=0),this.__isValid){var r=function(){return t=1103515245*t+12345,(0|Math.abs(t/65536))%32768};r();for(var a=i-e,o=1==(1&n),l=(2&n)>>1==1,h=(4&n)>>2==1,_=(8&n)>>3==1,u=0,c=this.physicalHeight;u<c;)for(var f=u++,d=0,p=this.physicalWidth;d<p;){var g=d++,m=0,v=0,b=0,y=255;s?(m=b=v=e+r()%a,y=255):(o&&(m=e+r()%a),l&&(b=e+r()%a),h&&(v=e+r()%a),_&&(y=e+r()%a));var w=y;w=((w=((w=(w<<8)+m)<<8)+b)<<8)+v,this.setPixel32(g,f,w)}}},paletteMap:function(t,e,i,n,s,r,a){for(var o,l,h,_,u,c,f,d,p,g,m=0|e.width,v=0|e.height,b=this.getPixels(e),y=b.position=0,w=v*m;y<w;){var x=y++;o=b.readUnsignedInt(),255<(u=((f=null==a?-16777216&o:a[o>>24&255])>>24&255)+((d=null==n?16711680&o:n[o>>16&255])>>24&255)+((p=null==s?65280&o:s[o>>8&255])>>24&255)+((g=null==r?255&o:r[255&o])>>24&255))&&(u=255),255<(l=(f>>16&255)+(d>>16&255)+(p>>16&255)+(g>>16&255))&&(l=255),255<(h=(f>>8&255)+(d>>8&255)+(p>>8&255)+(g>>8&255))&&(h=255),255<(_=(255&f)+(255&d)+(255&p)+(255&g))&&(_=255),c=u<<24|l<<16|h<<8|_,b.position=4*x,b.writeUnsignedInt(c)}b.position=0;var T=new H_(i.x,i.y,m,v);this.setPixels(T,b)},perlinNoise:function(t,e,i,n,s,r,a,o,l){null==o&&(o=!1),null==a&&(a=7),Po.notImplemented("BitmapData.perlinNoise")},scroll:function(t,e){this.__isValid&&(this.get_image().scroll(t,e),this.__usingPingPongTexture=!1)},setPixel:function(t,e,i){this.__isValid&&(this.get_image().setPixel(t,e,i,1),this.__usingPingPongTexture=!1)},setPixel32:function(t,e,i){this.__isValid&&(this.get_image().setPixel32(t,e,i,1),this.__usingPingPongTexture=!1)},setPixels:function(t,e){this.__isValid&&null!=t&&(this.get_image().setPixels(t.__toLimeRectangle(),Su.toBytes(e),1),this.__usingPingPongTexture=!1)},setVector:function(t,e){var i=new vs(0);Su.set_length(i,4*e.length);for(var n=0;n<e.length;){var s=e.data[n];++n,i.writeUnsignedInt(s)}i.position=0,this.setPixels(t,i)},threshold:function(t,e,i,n,s,r,a,o){return null==o&&(o=!1),null==a&&(a=-1),null==r&&(r=0),null==t||null==e||null==i||e.x>t.width||e.y>t.height||i.x>this.width||i.y>this.height?0:this.get_image().threshold(t.get_image(),e.__toLimeRectangle(),i.__toLimeVector2(),n,s,r,a,o,1)},unlock:function(t){},__createUVs:function(t,e,i,n,s,r,a,o){null==o&&(o=1),null==a&&(a=0),null==r&&(r=1),null==s&&(s=1),null==n&&(n=0),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=Ql.pool.get()),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=i,this.__uvData.y1=n,this.__uvData.x2=s,this.__uvData.y2=r,this.__uvData.x3=a,this.__uvData.y3=o},__pushFrameBuffer:function(t,e,i,n){null==n&&(n=!0),null==i&&(i=!1),null==e&&(e=!1);var s=H_.pool.get();this.getPhysicalRect(s),this.__pingPongTexture=ll.pushFramebuffer(t,this.__pingPongTexture,s,e,this.transparent,i,n),H_.pool.put(s)},__drawGL:function(t,e,i,n,s,r,a,o,l,h,_){null==l&&(l=!0),null==o&&(o=!1),null==a&&(a=!1),null==r&&(r=!1),null==s&&(s=!1),this.__pushFrameBuffer(t,s,a,l),ll.drawBitmapDrawable(t,r?this:null,e,i,n,h,_),ll.popFramebuffer(t,o?this.__image:null),o||(this.__imageShouldBeSynced=!0);var u=this.__pingPongTexture,c=(u.__swapped?u.__texture1:u.__texture0).__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__popFrameBuffer:function(t,e){null==e&&(e=!1),ll.popFramebuffer(t,e?this.__image:null),e||(this.__imageShouldBeSynced=!0);var i=this.__pingPongTexture,n=(i.__swapped?i.__texture1:i.__texture0).__uvData;this.__createUVs(n.x0,n.y0,n.x1,n.y1,n.x2,n.y2,n.x3,n.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBase64:function(t,e,i){var n=this;ua.fromBase64(t,e,function(t){n.__fromImage(t,t.width,t.height),null!=i&&i(n)})},__fromBytes:function(t,s,r){var a=this;ua.fromBytes(Su.toBytes(t),function(t){if(a.__fromImage(t,t.width,t.height),null!=s){Ta.convertToCanvas(t),Ta.createImageData(t);for(var e=t.buffer.data,i=0,n=Su.get_length(s);i<n;){e[4*i+++3]=s.readUnsignedByte()}t.dirty=!0}null!=r&&r(a)})},__fromFile:function(t,e,i){var n=this;ua.fromFile(t,function(t){n.__fromImage(t,t.width,t.height),null!=e&&e(n)},i)},__fromImage:function(t,e,i,n){null!=t&&null!=t.buffer&&(this.__image=t,this.width=e,this.height=i,this.physicalWidth=t.width,this.physicalHeight=t.height,this.__renderToLocalMatrix.copyFrom(null!=n?n:Co.__identity),this.__isValid=!0)},__renderGL:function(t){var e=this.__worldTransform,i=this.__renderColorTransform,n=this.__blendMode,s=this.__shader;t.spriteBatch.renderBitmapDataEx(this,this.physicalWidth,this.physicalHeight,this.get_uvData(),null,e,i,1,n,s,null)},__resize:function(t,e,i,n){this.width=t,this.height=e,this.physicalWidth=i,this.physicalHeight=n,this.__renderToLocalMatrix.identity(),null!=this.__image&&this.__image.resize(i,n)},__resizeTo:function(t){this.__resize(t.width,t.height,t.physicalWidth,t.physicalHeight)},__sync:function(){Ta.sync(this.get_image(),!1)},__updateChildren:function(t){},__updateMask:function(t){},__updateTransforms:function(){this.__worldTransform.identity()},get_image:function(){if(this.__imageShouldBeSynced){var t=Po.current.stage.__renderer.renderSession;this.__pushFrameBuffer(t),ll.popFramebuffer(t,this.__image);var e=this.__pingPongTexture,i=(e.__swapped?e.__texture1:e.__texture0).__uvData;this.__createUVs(i.x0,i.y0,i.x1,i.y1,i.x2,i.y2,i.x3,i.y3),this.__isValid=!0,this.__usingPingPongTexture=!0,this.__imageShouldBeSynced=!1}return this.__image},getLocalTransform:function(t){t.copyFrom(this.__renderToLocalMatrix)},getPhysicalRect:function(t){t.x=0,t.y=0,t.width=this.physicalWidth,t.height=this.physicalHeight},__class__:Bl,__properties__:{get_valid:"get_valid",set_uvData:"set_uvData",get_uvData:"get_uvData",get_src:"get_src",get_image:"get_image",get_bd:"get_bd"}};var Ll={};(i["openfl.display._BlendMode.BlendMode_Impl_"]=Ll).__name__=["openfl","display","_BlendMode","BlendMode_Impl_"],Ll.fromString=function(t){switch(t){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},Ll.toString=function(t){switch(t){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var kl={};(i["openfl.display._CapsStyle.CapsStyle_Impl_"]=kl).__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"],kl.fromString=function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},kl.toString=function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var Nl=function(t){null==t&&(t="DirectRenderer"),Y.call(this)};(i["openfl.display.DirectRenderer"]=Nl).__name__=["openfl","display","DirectRenderer"],Nl.__super__=Y,Nl.prototype=n(Y.prototype,{get_render:function(){return this.__render},set_render:function(t){return this.__render=t},set_width:function(t){return this.__width=0|t},get_width:function(){return this.__width},set_height:function(t){return this.__height=0|t},get_height:function(){return this.__height},__class__:Nl,__properties__:n(Y.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var Ol=function(t,e){v.call(this),this.__name=t,this.__frame=e};(i["openfl.display.FrameLabel"]=Ol).__name__=["openfl","display","FrameLabel"],Ol.__super__=v,Ol.prototype=n(v.prototype,{get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:Ol,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var Ul=function(){this.values=[],this.keys=[]};(i["openfl.display.GLShaderData"]=Ul).__name__=["openfl","display","GLShaderData"],Ul.prototype={set:function(t,e){for(var i=0,n=this.keys.length;i<n;){var s=i++;if(this.keys[s]==t)return void(this.values[s]=e)}this.keys.push(t),this.values.push(e)},get:function(t){for(var e=0,i=this.keys.length;e<i;){var n=e++;if(this.keys[n]==t)return this.values[n]}throw new fr("Unknown parameter "+t)},__class__:Ul};var Gl={};(i["openfl.display._GradientType.GradientType_Impl_"]=Gl).__name__=["openfl","display","_GradientType","GradientType_Impl_"],Gl.fromString=function(t){switch(t){case"linear":return 0;case"radial":return 1;default:return null}},Gl.toString=function(t){switch(t){case 0:return"linear";case 1:return"radial";default:return null}};var Xl=function(t){null==t&&(t=!0),this.__uid=X.SEQ<<24|++X.UID,this.keepBitmapData=!1,this.__dirty=!0,this.mustRefreshGraphicsCounter=-1,this.__commands=t?new Fo:null,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,null!=this.__commands&&this.moveTo(0,0)};(i["openfl.display.Graphics"]=Xl).__name__=["openfl","display","Graphics"],Xl.__interfaces__=[C],Xl.prototype={beginBitmapFill:function(t,e,i,n){if(null==n&&(n=!1),null==i&&(i=!0),this.readOnly)throw new fr("don't fill readonly!");this.__commands.beginBitmapFill(t,null!=e?e.clone():null,i,n),this.__visible=!0},beginBitmapFillWithId:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.beginBitmapFillWithId(t,e,i,n),this.__visible=!0},drawImageWithId:function(t,e,i){var n=xe.pool.get();this.__inflateBounds(e.tx,e.ty),n.x=0,n.y=1;var s=n.x,r=n.y;n.x=s*e.a+r*e.c+e.tx,n.y=s*e.b+r*e.d+e.ty,this.__inflateBounds(n.x,n.y),n.x=1,n.y=0;var a=n.x,o=n.y;n.x=a*e.a+o*e.c+e.tx,n.y=a*e.b+o*e.d+e.ty,this.__inflateBounds(n.x,n.y),n.x=1,n.y=1;var l=n.x,h=n.y;n.x=l*e.a+h*e.c+e.tx,n.y=l*e.b+h*e.d+e.ty,this.__inflateBounds(n.x,n.y),this.__commands.drawImageWithId(t,e,i),this.__visible=!0,xe.pool.put(n)},beginFill:function(t,e){if(null==e&&(e=1),null==t&&(t=0),this.readOnly)throw new fr("don't fill readonly!");this.__commands.beginFill(16777215&t,e),0<e&&(this.__visible=!0)},beginGradientFill:function(t,e,i,n,s,r,a,o){if(null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.readOnly)throw new fr("don't fill readonly!");this.__commands.beginGradientFill(t,e,i,n,s,r,a,o);for(var l=0;l<i.length;){var h=i[l];if(++l,0<h){this.__visible=!0;break}}},clear:function(){this.readOnly?(this.__commands=new Fo,this.readOnly=!1):this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set_dirty(!0),this.__bounds=null),this.__visible=!1,this.moveTo(0,0)},copyFrom:function(t,e){null==e&&(e=!1),this.__commands=e?(this.__bounds=t.__bounds,t.__commands):(this.__bounds=null!=t.__bounds?t.__bounds.clone():null,t.__commands.copy()),this.set_dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__visible=t.__visible,this.__symbol=t.__symbol},cubicCurveTo:function(t,e,i,n,s,r){var a,o,l,h;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),!(t<(l=a=s)&&t>this.__positionX||s<t&&t<this.__positionX)||!(i<s&&i>this.__positionX||s<i&&i<this.__positionX)){var _=2*this.__positionX-4*t+2*i,u=t-this.__positionX,c=-this.__positionX+3*t+s-3*i,f=(-_+Math.sqrt(_*_-4*u*c))/(2*c),d=(-_-Math.sqrt(_*_-4*u*c))/(2*c);0<f&&f<1&&(a=this.__calculateBezierCubicPoint(f,this.__positionX,t,i,s)),0<d&&d<1&&(l=this.__calculateBezierCubicPoint(d,this.__positionX,t,i,s))}if(!(e<(h=o=r)&&e>this.__positionX||r<e&&e<this.__positionX)||!(n<r&&n>this.__positionX||r<n&&n<this.__positionX)){var p=2*this.__positionX-4*e+2*n,g=e-this.__positionX,m=-this.__positionX+3*e+r-3*n,v=(-p+Math.sqrt(p*p-4*g*m))/(2*m),b=(-p-Math.sqrt(p*p-4*g*m))/(2*m);0<v&&v<1&&(o=this.__calculateBezierCubicPoint(v,this.__positionX,e,n,r)),0<b&&b<1&&(h=this.__calculateBezierCubicPoint(b,this.__positionX,e,n,r))}this.__inflateBounds(a-this.__strokePadding,o-this.__strokePadding),this.__inflateBounds(a+this.__strokePadding,o+this.__strokePadding),this.__inflateBounds(l-this.__strokePadding,h-this.__strokePadding),this.__inflateBounds(l+this.__strokePadding,h+this.__strokePadding),this.__positionX=s,this.__positionY=r,this.__commands.cubicCurveTo(t,e,i,n,s,r),this.set_dirty(!0)},curveTo:function(t,e,i,n){var s,r;if(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),t<i&&t>this.__positionX||i<t&&t<this.__positionX)s=i;else{var a=(this.__positionX-t)/(this.__positionX-2*t+i);s=this.__calculateBezierQuadPoint(a,this.__positionX,t,i)}if(e<n&&e>this.__positionY||n<e&&e<this.__positionY)r=n;else{var o=(this.__positionY-e)/(this.__positionY-2*e+n);r=this.__calculateBezierQuadPoint(o,this.__positionY,e,n)}this.__inflateBounds(s-this.__strokePadding,r-this.__strokePadding),this.__inflateBounds(s+this.__strokePadding,r+this.__strokePadding),this.__positionX=i,this.__positionY=n,this.__commands.curveTo(t,e,i,n),this.set_dirty(!0)},drawCircle:function(t,e,i){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawCircle(t,e,i),this.set_dirty(!0))},drawArc:function(t,e,i,n,s){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.moveTo(t,e),this.__commands.drawArc(t,e,i,n,s),this.set_dirty(!0))},drawEllipse:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawEllipse(t,e,i,n),this.set_dirty(!0))},drawGraphicsData:function(t){for(var e,i,n,s,r,a=0;a<t.length;){var o=t.data[a];++a,dr.__instanceof(o,ql)?(e=o,this.beginFill(e.color,e.alpha)):dr.__instanceof(o,Hl)?(i=o,this.beginBitmapFill(i.bitmapData,i.matrix,i.repeat,i.smooth)):dr.__instanceof(o,Yl)?(n=o,this.beginGradientFill(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)):dr.__instanceof(o,Zl)?(s=o,dr.__instanceof(s.fill,ql)?(e=s.fill,this.lineStyle(s.thickness,e.color,e.alpha,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit)):(this.lineStyle(s.thickness,0,1,s.pixelHinting,s.scaleMode,s.caps,s.joints,s.miterLimit),dr.__instanceof(s.fill,Hl)?(i=s.fill,this.lineBitmapStyle(i.bitmapData,i.matrix,i.repeat,i.smooth)):dr.__instanceof(s.fill,Yl)&&(n=s.fill,this.lineGradientStyle(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)))):dr.__instanceof(o,jl)?(r=o,this.drawPath(r.commands,r.data,r.winding)):dr.__instanceof(o,Wl)&&this.endFill()}},drawPath:function(t,e,i){null==i&&(i="evenOdd");var n=0,s=0;try{for(;s<t.length;){var r=t.data[s];if(++s,null!=r)switch(r){case 1:this.moveTo(e.data[n],e.data[n+1]),n+=2;break;case 2:this.lineTo(e.data[n],e.data[n+1]),n+=2;break;case 3:this.curveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),n+=4;break;case 4:throw this.moveTo(e.data[n+2],e.data[n+3]),"__break__";case 5:throw this.lineTo(e.data[n+2],e.data[n+3]),"__break__";case 6:this.cubicCurveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3],e.data[n+4],e.data[n+5]),n+=6}}}catch(t){if("__break__"!=t)throw t}},drawRect:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRect(t,e,i,n),this.set_dirty(!0))},drawRoundRect:function(t,e,i,n,s,r){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRoundRect(t,e,i,n,s,r),this.set_dirty(!0))},drawRoundRectComplex:function(t,e,i,n,s,r,a,o){Po.notImplemented("Graphics.drawRoundRectComplex")},drawTriangles:function(t,e,i,n){null==n&&(n=1);var s=t.length/2|0;if(null==n&&(n=1),null==e){if(s%3!=0)throw new fr(new zh("Not enough vertices to close a triangle."));var r=new lt,a=new Array(0);r.data=a,r.length=0,r.fixed=!1,e=r;for(var o=0,l=s;o<l;){var h=o++;if(!e.fixed){if(e.length++,e.data.length<e.length){var _=e.data.length+10,u=new Array(_);Hs.blit(e.data,0,u,0,e.data.length),e.data=u}e.data[e.length-1]=h}}}this.__inflateBounds(0,0);for(var c=-1/0,f=-1/0,d=-1/0,p=-1/0,g=0,m=s;g<m;){var v=g++;d<(c=t.data[2*v])&&(d=c),p<(f=t.data[2*v+1])&&(p=f)}this.__inflateBounds(d,p),this.__commands.drawTriangles(t,e,i,n),this.set_dirty(!0),this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,i,n)},lineBitmapStyleWithId:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.lineBitmapStyleWithId(t,null!=e?e.clone():null,i,n)},lineGradientStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==a&&(a=1),null==r&&(r=0),this.__commands.lineGradientStyle(t,e,i,n,s,r,a,o)},lineStyle:function(t,e,i,n,s,r,a,o){null==o&&(o=3),null==s&&(s=2),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null!=t&&(1==a?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,i,n,s,r,a,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.set_dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},createTextures:function(t){for(var e=this.__commands.bd,i=0;i<e._length;){var n=i>=e._length?null:e._items[i];++i,n.getTexture(t)}},__calculateBezierCubicPoint:function(t,e,i,n,s){var r=1-t;return e*(r*r*r)+3*i*t*(r*r)+3*n*r*(t*t)+s*(t*t*t)},__calculateBezierQuadPoint:function(t,e,i,n){var s=1-t;return s*s*e+2*s*t*i+t*t*n},__getBounds:function(t){null!=this.__bounds?t.copyFrom(this.__bounds):t.setEmpty()},__hitTest:function(t,e,i,n){if(null==this.__bounds)return!1;var s=n.a*n.d-n.b*n.c,r=0==s?-n.tx:1/s*(n.c*(n.ty-e)+n.d*(t-n.tx)),a=n.a*n.d-n.b*n.c,o=0==a?-n.ty:1/a*(n.a*(e-n.ty)+n.b*(n.tx-t));return!!this.__bounds.contains(r,o)&&(!i||nl.hitTest(this,r,o))},__inflateBounds:function(t,e){null!=this.__bounds?(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)):this.__bounds=new H_(t,e,0,0)},dispose:function(t){null==t&&(t=!0),this.set___bitmap(null),this.__dirty=!0,this.set_dirty(!0),t&&null!=this.__symbol&&dr.__instanceof(this.__symbol,Ps)&&this.__symbol.unregisterGraphics(this)},__disposeBitmap:function(){this.set___bitmap(null),this.__dirty=!0},set_dirty:function(t){if(t&&null!=this.__owner){var e=this.__owner;e.__updateCachedBitmap=!0,e.__updateFilters=null!=e.__filters&&0<e.__filters.length,e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,Y.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return this.__dirty=t},get_dirty:function(){return this.__dirty},set___bitmap:function(t){return null==this.__bitmap||this.keepBitmapData||null!=this.__symbol&&dr.__instanceof(this.__symbol,Ps)&&dr.__cast(this.__symbol,Ps).useBitmapCache||this.__bitmap.dispose(),this.__bitmap=t},clearGraphicsCounter:function(){this.mustRefreshGraphicsCounter=1},resetGraphicsCounter:function(){this.mustRefreshGraphicsCounter=Xl.__dirtyGraphicsDelay,this.set_dirty(!1)},__enterFrame:function(){0<this.mustRefreshGraphicsCounter&&0==--this.mustRefreshGraphicsCounter&&this.set_dirty(!0)},get_snapCoordinates:function(){return!(null==this.__symbol||!dr.__instanceof(this.__symbol,Ps))&&dr.__cast(this.__symbol,Ps).snapCoordinates},getCLID:function(){return Xl.__clid},serialize:function(t){t.addKnownRef(this.__bounds),t.addKnownRef(this.__commands),t.out.addInt32(js.floatToI32(this.__positionX)),t.out.addInt32(js.floatToI32(this.__positionY)),t.out.addInt32(js.floatToI32(this.__strokePadding)),t.out.b.push(this.__visible?1:0),t.addKnownRef(this.__symbol)},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("__bounds"),t.fieldsTypes.push(ar.PSerializable("openfl.geom.Rectangle")),t.fieldsNames.push("__commands"),t.fieldsTypes.push(ar.PSerializable("openfl._internal.renderer.DrawCommandBuffer")),t.fieldsNames.push("__positionX"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("__positionY"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("__strokePadding"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("__visible"),t.fieldsTypes.push(ar.PBool),t.fieldsNames.push("__symbol"),t.fieldsTypes.push(ar.PSerializable("format.swf.lite.symbols.SWFSymbol")),t.isFinal=X.isClassFinal(Xl.__clid),t},unserializeInit:function(){this.mustRefreshGraphicsCounter=-1,this.__dirty=!0,this.keepBitmapData=!1},unserialize:function(t){this.__bounds=t.getRef(H_,H_.__clid),this.__commands=t.getRef(Fo,Fo.__clid);var e=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionX=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.__positionY=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.__strokePadding=n,this.__visible=0!=t.input.b[t.inPos++],this.__symbol=t.getRef(ui,ui.__clid)},__class__:Xl,__properties__:{set___bitmap:"set___bitmap",set_dirty:"set_dirty",get_dirty:"get_dirty",get_snapCoordinates:"get_snapCoordinates"}};var Vl=function(){};(i["openfl.display.IGraphicsFill"]=Vl).__name__=["openfl","display","IGraphicsFill"],Vl.prototype={__class__:Vl};var zl=function(){};(i["openfl.display.IGraphicsData"]=zl).__name__=["openfl","display","IGraphicsData"],zl.prototype={__class__:zl};var Hl=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.bitmapData=t,this.matrix=e,this.repeat=i,this.smooth=n,this.__graphicsDataType=$l.BITMAP,this.__graphicsFillType=th.BITMAP_FILL};(i["openfl.display.GraphicsBitmapFill"]=Hl).__name__=["openfl","display","GraphicsBitmapFill"],Hl.__interfaces__=[Vl,zl],Hl.prototype={__class__:Hl};var Wl=function(){this.__graphicsDataType=$l.END,this.__graphicsFillType=th.END_FILL};(i["openfl.display.GraphicsEndFill"]=Wl).__name__=["openfl","display","GraphicsEndFill"],Wl.__interfaces__=[Vl,zl],Wl.prototype={__class__:Wl};var Yl=function(t,e,i,n,s,r,a,o){null==o&&(o=0),null==t&&(t=0),null==r&&(r=0),null==a&&(a=1),this.type=t,this.colors=e,this.alphas=i,this.ratios=n,this.matrix=s,this.spreadMethod=r,this.interpolationMethod=a,this.focalPointRatio=o,this.__graphicsDataType=$l.GRADIENT,this.__graphicsFillType=th.GRADIENT_FILL};(i["openfl.display.GraphicsGradientFill"]=Yl).__name__=["openfl","display","GraphicsGradientFill"],Yl.__interfaces__=[Vl,zl],Yl.prototype={__class__:Yl};var Kl=function(){};(i["openfl.display.IGraphicsPath"]=Kl).__name__=["openfl","display","IGraphicsPath"];var jl=function(t,e,i){null==i&&(i="evenOdd"),this.commands=t,this.data=e,this.winding=i,this.__graphicsDataType=$l.PATH};(i["openfl.display.GraphicsPath"]=jl).__name__=["openfl","display","GraphicsPath"],jl.__interfaces__=[Kl,zl],jl.prototype={curveTo:function(t,e,i,n){if(null!=this.commands&&null!=this.data){var s=this.commands;if(!s.fixed){if(s.length++,s.data.length<s.length){var r=s.data.length+10,a=new Array(r);Hs.blit(s.data,0,a,0,s.data.length),s.data=a}s.data[s.length-1]=3}var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var l=o.data.length+10,h=new Array(l);Hs.blit(o.data,0,h,0,o.data.length),o.data=h}o.data[o.length-1]=i}var _=this.data;if(!_.fixed){if(_.length++,_.data.length<_.length){var u=_.data.length+10,c=new Array(u);Hs.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[_.length-1]=n}var f=this.data;if(!f.fixed){if(f.length++,f.data.length<f.length){var d=f.data.length+10,p=new Array(d);Hs.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[f.length-1]=t}var g=this.data;if(!g.fixed){if(g.length++,g.data.length<g.length){var m=g.data.length+10,v=new Array(m);Hs.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[g.length-1]=e}}},lineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);Hs.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=2}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);Hs.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);Hs.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},moveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);Hs.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=1}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);Hs.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);Hs.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},wideLineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);Hs.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=2}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);Hs.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);Hs.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},wideMoveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n=i.data.length+10,s=new Array(n);Hs.blit(i.data,0,s,0,i.data.length),i.data=s}i.data[i.length-1]=1}var r=this.data;if(!r.fixed){if(r.length++,r.data.length<r.length){var a=r.data.length+10,o=new Array(a);Hs.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[r.length-1]=t}var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var h=l.data.length+10,_=new Array(h);Hs.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}}},__class__:jl};var ql=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=$l.SOLID,this.__graphicsFillType=th.SOLID_FILL};(i["openfl.display.GraphicsSolidFill"]=ql).__name__=["openfl","display","GraphicsSolidFill"],ql.__interfaces__=[Vl,zl],ql.prototype={__class__:ql};var Jl=function(){};(i["openfl.display.IGraphicsStroke"]=Jl).__name__=["openfl","display","IGraphicsStroke"];var Zl=function(t,e,i,n,s,r,a){null==r&&(r=3),null==e&&(e=!1),null==t&&(t=0),this.caps=null!=n?n:0,this.fill=a,this.joints=null!=s?s:2,this.miterLimit=r,this.pixelHinting=e,this.scaleMode=null!=i?i:2,this.thickness=t,this.__graphicsDataType=$l.STROKE};(i["openfl.display.GraphicsStroke"]=Zl).__name__=["openfl","display","GraphicsStroke"],Zl.__interfaces__=[Jl,zl],Zl.prototype={__class__:Zl};var Ql=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};(i["openfl.display.TextureUvs"]=Ql).__name__=["openfl","display","TextureUvs"],Ql.prototype={reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:Ql};var $l=i["openfl.display.GraphicsDataType"]={__ename__:["openfl","display","GraphicsDataType"],__constructs__:["STROKE","SOLID","GRADIENT","PATH","BITMAP","END"]};$l.STROKE=["STROKE",0],$l.STROKE.toString=f,($l.STROKE.__enum__=$l).SOLID=["SOLID",1],$l.SOLID.toString=f,($l.SOLID.__enum__=$l).GRADIENT=["GRADIENT",2],$l.GRADIENT.toString=f,($l.GRADIENT.__enum__=$l).PATH=["PATH",3],$l.PATH.toString=f,($l.PATH.__enum__=$l).BITMAP=["BITMAP",4],$l.BITMAP.toString=f,($l.BITMAP.__enum__=$l).END=["END",5],$l.END.toString=f,$l.END.__enum__=$l;var th=i["openfl.display.GraphicsFillType"]={__ename__:["openfl","display","GraphicsFillType"],__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};th.SOLID_FILL=["SOLID_FILL",0],th.SOLID_FILL.toString=f,(th.SOLID_FILL.__enum__=th).GRADIENT_FILL=["GRADIENT_FILL",1],th.GRADIENT_FILL.toString=f,(th.GRADIENT_FILL.__enum__=th).BITMAP_FILL=["BITMAP_FILL",2],th.BITMAP_FILL.toString=f,(th.BITMAP_FILL.__enum__=th).END_FILL=["END_FILL",3],th.END_FILL.toString=f,th.END_FILL.__enum__=th;var eh={};(i["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=eh).__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"],eh.fromString=function(t){switch(t){case"linearRGB":return 0;case"rgb":return 1;default:return null}},eh.toString=function(t){switch(t){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var ih=function(t){null==t&&(t=80),this.quality=t};(i["openfl.display.JPEGEncoderOptions"]=ih).__name__=["openfl","display","JPEGEncoderOptions"],ih.prototype={__class__:ih};var nh={};(i["openfl.display._JointStyle.JointStyle_Impl_"]=nh).__name__=["openfl","display","_JointStyle","JointStyle_Impl_"],nh.fromString=function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},nh.toString=function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var sh={};(i["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=sh).__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"],sh.fromString=function(t){switch(t){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},sh.toString=function(t){switch(t){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var rh=function(){K.call(this),this.contentLoaderInfo=ah.create(this)};(i["openfl.display.Loader"]=rh).__name__=["openfl","display","Loader"],rh.__super__=K,rh.prototype=n(K.prototype,{close:function(){Po.notImplemented("Loader.close")},load:function(i,t){var e="",n=i.url.split(".");if(0<n.length&&(e=n[n.length-1].toLowerCase()),-1!=e.indexOf("?")&&(e=e.split("?")[0]),this.contentLoaderInfo.url=i.url,null==i.contentType&&""!=i.contentType){var s;switch(e){case"gif":s="image/gif";break;case"jpeg":case"jpg":s="image/jpeg";break;case"png":s="image/png";break;case"swf":s="application/x-shockwave-flash";break;default:s="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=s}else this.contentLoaderInfo.contentType=i.contentType;var r=new Oa;r.doWork.add(function(t){var e=i.url;Bl.fromFile(e,function(t){r.sendComplete(t)},function(){r.sendError("ioError")})}),r.onError.add(of(this,this.BitmapData_onError)),r.onComplete.add(of(this,this.BitmapData_onLoad)),r.run()},loadBytes:function(e,t){var i=new Oa;i.doWork.add(function(t){Bl.fromBytes(e,null,function(t){i.sendComplete(t)})}),i.onComplete.add(of(this,this.BitmapData_onLoad)),i.run()},unload:function(){if(0<this.__children._length){for(;0<this.__children._length;)this.removeChildAt(0);this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0;var t=new Ge("unload");(t.currentTarget=this).__dispatchEvent(t)}},unloadAndStop:function(t){null==t&&(t=!0),Po.notImplemented("Loader.unloadAndStop")},BitmapData_onLoad:function(t){this.contentLoaderInfo.content=new Ml(t),this.content=this.contentLoaderInfo.content,this.addChildAt(this.contentLoaderInfo.content,this.__children._length);var e=new Ge("complete");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},BitmapData_onError:function(t){var e=new i_("ioError");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:rh});var ah=function(){v.call(this),this.applicationDomain=ou.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters=null==ah.__parameters?{}:ah.__parameters};(i["openfl.display.LoaderInfo"]=ah).__name__=["openfl","display","LoaderInfo"],ah.__parameters=null,ah.create=function(t){var e=new ah;return e.uncaughtErrorEvents=new h_,null!=t?e.loader=t:e.url=ah.__rootURL,e},ah.__super__=v,ah.prototype=n(v.prototype,{__class__:ah});var oh=function(){Nl.call(this,"OpenGLView")};(i["openfl.display.OpenGLView"]=oh).__name__=["openfl","display","OpenGLView"],oh.__properties__={get_isSupported:"get_isSupported"},oh.isSupported=null,oh.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=xa.context)return!0;var t=window.document.createElement("canvas"),e=t.getContext("webgl");return null==e&&(e=t.getContext("experimental-webgl")),null!=e},oh.__super__=Nl,oh.prototype=n(Nl.prototype,{__renderCanvas:function(t){},__renderGL:function(t){if(null!=this.stage&&this.isRenderable()){var e=H_.pool.get();null==this.__scrollRect?e.setTo(0,0,this.get_width(),this.get_height()):e.setTo(this.__transform.tx+this.__scrollRect.x,this.__transform.ty+this.__scrollRect.y,this.__scrollRect.width,this.__scrollRect.height),null!=this.__render&&this.__render(e),H_.pool.put(e),t.shaderManager.setShader(null),t.blendModeManager.setBlendMode(null),t.renderer.setViewport(0,0,0|this.get_width(),0|this.get_height(),!0),_l.resetCache()}},__class__:oh});var lh=function(t){null==t&&(t=!1),this.fastCompression=t};(i["openfl.display.PNGEncoderOptions"]=lh).__name__=["openfl","display","PNGEncoderOptions"],lh.prototype={__class__:lh};var hh={};(i["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=hh).__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"],hh.fromString=function(t){switch(t){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},hh.toString=function(t){switch(t){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var _h=function(t){if(qr.call(this),null!=t){this.display=t;var e=Po.current;e.addChildAt(t,e.__children._length),dr.__instanceof(t,W)&&dr.__cast(t,W).onInit()}};(i["openfl.display.Preloader"]=_h).__name__=["openfl","display","Preloader"],_h.__super__=qr,_h.prototype=n(qr.prototype,{load:function(t,e){for(var i=[],n=null,s=0,r=t.length;s<r;){var a=s++;switch(n=t[a],e[a]){case"MUSIC":case"SOUND":Js.withoutExtension(n);this.total++,i.push(n)}}for(var o=new Z_(0),l=0;l<i.length;){var h=i[l];++l;var _=h,u=Tr.getLogicalPath(_),c=Tr.getExtraSoundOptions(u),f=null;null!=c&&null!=c.preload&&(f=c.preload);var d=new j_;if(d.addEventListener("complete",of(this,this.sound_onComplete)),d.addEventListener("ioError",of(this,this.sound_onIOError)),d.load(new nu(_),null,f,!0),null!=f)for(var p=0,g=f;p<g;){p++;d.prePlayHTML5(null,null,o)}}qr.prototype.load.call(this,t,e)},start:function(){null!=this.display&&dr.__instanceof(this.display,W)?(this.display.addEventListener("complete",of(this,this.display_onComplete)),dr.__cast(this.display,W).onLoaded()):qr.prototype.start.call(this)},update:function(t,e,i){null!=this.display&&dr.__instanceof(this.display,W)&&dr.__cast(this.display,W).onUpdate(t,e,i)},display_onComplete:function(t){this.display.removeEventListener("complete",of(this,this.display_onComplete)),Po.current.removeChild(this.display),Po.current.stage.set_focus(null),this.display=null,qr.prototype.start.call(this)},sound_onComplete:function(){this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.onError.dispatch(t.target.soundName),this.loaded++,this.onProgress.dispatch(this.loaded,this.total,null),this.loaded==this.total&&this.start()},__class__:_h});var uh=function(t){null==t&&(t=1),this.__dirty=!0,this.repeatY=33071,this.repeatX=33071,this.precision=1,this.precision=t,this.data=new Ul,this.data.set(uh.uObjectSize,new ch("vec2")),this.data.set(uh.uTextureSize,new ch("vec2"))};(i["openfl.display.Shader"]=uh).__name__=["openfl","display","Shader"],uh.prototype={__init:function(t){var e=this.__dirty;if(e){null!=this.__shader&&this.__shader.destroy(),this.__shader=new _l(t);var i=null!=this.__vertexCode?this.__vertexCode:cl.VERTEX_SRC.join("\n");this.__shader.vertexString=i,this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1}this.__shader.init(e)},__buildFragmentCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(uh.fragmentHeader)).push(t),this.__fragmentCode=i.join("\n")},__buildVertexCode:function(t){var e,i=[];switch(i.push("#ifdef GL_ES"),this.precision){case 1:e="precision mediump float;";break;case 2:e="precision highp float;";break;default:e="precision lowp float;"}i.push(e),i.push("#endif"),(i=i.concat(uh.vertexHeader)).push(t),this.__vertexCode=i.join("\n")},__class__:uh};var ch=function(t,e){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!0,this.arraySize=0,this.size=0,this.type=t,this.arraySize=null==e?0:e,this.__init()};(i["openfl.display.GLShaderParameter"]=ch).__name__=["openfl","display","GLShaderParameter"],ch.prototype={__init:function(){var t=this.type;switch(t){case"bool":this.internalType=1,this.size=1;var e,i=[0];if(e=null!=i?new mf(i):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=e;break;case"float":this.internalType=2,this.size=1;var n,s=[0];if(n=null!=s?new mf(s):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=n;break;case"int":this.internalType=1,this.size=1;var r,a=[0];if(r=null!=a?new mf(a):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=r;break;case"sampler2D":case"samplerCube":if(-1<t.indexOf("vec")){Cs.startsWith(this.type,"b")||Cs.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var o=Q.parseInt(this.type.charAt(this.type.length-1));this.size=o;for(var l=[],h=0,_=this.size;h<_;){h++;l.push(0)}var u;if(u=null!=l?new mf(l):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=u}else{if(-1<t.indexOf("mat")){this.internalType=3;var c,f,d=Q.parseInt(this.type.charAt(this.type.length-1));switch(this.size=d,this.size){case 2:c=[1,0,1,0];break;case 3:c=[1,0,0,0,1,0,0,0,1];break;case 4:c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:c=[0]}if(f=null!=c?new mf(c):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=f}else this.internalType=4,this.size=0}break;default:if(-1<t.indexOf("vec")){Cs.startsWith(this.type,"b")||Cs.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var p=Q.parseInt(this.type.charAt(this.type.length-1));this.size=p;for(var g=[],m=0,v=this.size;m<v;){m++;g.push(0)}var b;if(b=null!=g?new mf(g):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=b}else{if(-1<t.indexOf("mat")){this.internalType=3;var y,w,x=Q.parseInt(this.type.charAt(this.type.length-1));switch(this.size=x,this.size){case 2:y=[1,0,1,0];break;case 3:y=[1,0,0,0,1,0,0,0,1];break;case 4:y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:y=[0]}if(w=null!=y?new mf(y):null,4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");this.value=w}else this.internalType=0,Rs.trace("Can't initialize value for type "+this.type,{fileName:"Shader.hx",lineNumber:308,className:"openfl.display.GLShaderParameter",methodName:"__init"})}}},set_value:function(t){if(4==this.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return this.value=t},set_bitmap:function(t){if(4!=this.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return this.bitmap=t},__class__:ch,__properties__:{set_bitmap:"set_bitmap",set_value:"set_value"}};var fh={};(i["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=fh).__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"],fh.fromString=function(t){switch(t){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},fh.toString=function(t){switch(t){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var dh=function(t,e){this.__mouseDownStates=new Gs;var i=new Gt;i._items=[],i._length=i._items.length,this.__inElements=i;var n=new Gt;n._items=[],n._length=n._items.length,this.__outElements=n,this.__scaleMode=3,this.__pingPongIndex=0;var s=new Gt;s._items=[],s._length=s._items.length;var r=new Gt;r._items=[],r._length=r._items.length,this.__pingPongChildrenStack=[s,r];var a=new Gt;a._items=[],a._length=a._items.length,this.__allChildrenTempStack=a,K.call(this),this.__worldTransform=new Co,this.__branchDepth=0,this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.get_originalWidth()*t.__scale|0,this.stageHeight=t.get_originalHeight()*t.__scale|0,(this.stage=this).align=6,this.allowsFullScreen=!0,this.allowsFullScreenInteractive=!0,this.quality=1,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0;var o=new Gt;o._items=[],o._length=o._items.length,this.__stack=o;var l=new Gt;l._items=[],l._length=l._items.length,this.__focusStack=l;var h=new Gt;h._items=[],h._length=h._items.length,this.__mouseOutStack=h;var _=new lt,u=new Array(0);_.data=u,_.length=0,_.fixed=!1,this.stage3Ds=_;var c=this.stage3Ds,f=new ph;if(!c.fixed){if(c.length++,c.data.length<c.length){var d=c.data.length+10,p=new Array(d);Hs.blit(c.data,0,p,0,c.data.length),c.data=p}c.data[c.length-1]=f}if(null==Po.current.stage){var g=this.stage;g.addChildAt(Po.current,g.__children._length)}this.__allChildrenStack=this.__pingPongChildrenStack[this.__pingPongIndex];var m=this.__allChildrenStack;m._items[m._length++]=this.stage};(i["openfl.display.Stage"]=dh).__name__=["openfl","display","Stage"],dh.__interfaces__=[ni],dh.fireEvent=function(t,e){var i=e._length;if(0==i)t.eventPhase=2,t.target.__broadcast(t,!1);else{t.eventPhase=1;var n=e._length-1;t.target=n>=e._length?null:e._items[n],t.acquire();for(var s=0,r=i-1;s<r;){var a=s++;if((a>=e._length?null:e._items[a]).__broadcast(t,!1),t.__isCanceled)return void t.release()}if(t.eventPhase=2,t.target.__broadcast(t,!1),t.__isCanceled)return void t.release();if(t.bubbles){t.eventPhase=3;for(var o=i-2;0<=o;){if((o>=e._length?null:e._items[o]).__broadcast(t,!1),t.__isCanceled)return void t.release();--o}}t.release()}},dh.__super__=K,dh.prototype=n(K.prototype,{invalidate:function(){this.__invalidated=!0},onGamepadAxisMove:function(t,e,i){bu.__onGamepadAxisMove(t,e,i)},onGamepadButtonDown:function(t,e){bu.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){bu.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){bu.__onGamepadConnect(t)},onGamepadDisconnect:function(t){bu.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,i)},onKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,i)},onModuleExit:function(t){null!=this.window&&this.__broadcastFromStage(Ge.__create("deactivate"),!0)},onMouseDown:function(t,e,i,n){if(null!=this.window&&this.window==t){var s;switch(n){case 1:s="middleMouseDown";break;case 2:s="rightMouseDown";break;default:s="mouseDown"}this.__onMouse(s,e*t.__scale|0,i*t.__scale|0,n)}},onMouseMove:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouse("mouseMove",e*t.__scale|0,i*t.__scale|0,0)},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){if(null!=this.window&&this.window==t){var s;switch(n){case 1:s="middleMouseUp";break;case 2:s="rightMouseUp";break;default:s="mouseUp"}this.__onMouse(s,e*t.__scale|0,i*t.__scale|0,n)}},onMouseWheel:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouseWheel(e*t.__scale|0,i*t.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(t,e,i){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){for(var i=this.__stack,n=0,s=i._length;n<s;){var r=n++;i._items[r]=null}i._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack);var a=new qh("textInput",!0,!1,e);if(0<this.__stack._length){for(var o=this.__stack,l=0,h=o._length-1;l<h;){var _=o._items[l];o._items[l]=o._items[h],o._items[h]=_,++l,--h}dh.fireEvent(a,this.__stack)}else this.__broadcastFromStage(a,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=Ge.__create("activate");this.__broadcastFromStage(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;if(0==e[1]){var i=e[2];this.__renderer=new hl(this.stageWidth,this.stageHeight,i)}t.__resizable&&mi.resizeStatic({width:t.__width,height:t.__height})}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=Ge.__create("deactivate");this.__broadcastFromStage(e,!0)}},onWindowEnter:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(Ge.__create("mouseEnter"))},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new Qh("focusIn",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new Qh("focusOut",!0,!1,null,!1,0);this.__broadcastFromStage(e,!0)}},onWindowFullscreen:function(t){null!=this.window&&this.window==t&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(t){if(null!=this.window&&this.window==t){this.__dispatchEvent(Ge.__create("mouseLeave"));for(var e=this.__mouseDownStates.keys();e.hasNext();){var i=e.next();this.__mouseDownStates.h[i]&&this.onMouseUp(t,this.__mouseX,this.__mouseY,i)}}},onWindowMinimize:function(t){},onWindowMove:function(t,e,i){},onWindowResize:function(t,e,i){if(null!=this.window&&this.window==t){2==this.__displayState||t.__fullscreen||(this.__displayState=2),e=e*t.__scale|0,i=i*t.__scale|0;var n=this.get_scaleX(),s=this.get_scaleY(),r=this.stageWidth/this.stageHeight,a=e/i;if(r==a&&2!=this.get_scaleMode())this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);else switch(this.get_scaleMode()){case 0:this.set_scaleX(e/this.stageWidth),this.set_scaleY(i/this.stageHeight);break;case 1:if(r<a){var o=e/this.stageWidth;this.set_scaleX(o),this.set_scaleY(o),i=Math.ceil(this.stageHeight*o)}else{var l=i/this.stageHeight;this.set_scaleX(l),this.set_scaleY(l),e=Math.ceil(this.stageWidth*l)}break;case 2:e=this.stageWidth,i=this.stageHeight;break;case 3:if(r<a){var h=i/this.stageHeight;this.set_scaleX(h),this.set_scaleY(h),e=Math.ceil(this.stageWidth*h)}else{var _=e/this.stageWidth;this.set_scaleX(_),this.set_scaleY(_),i=Math.ceil(this.stageHeight*_)}}if(this.__update(!1,!0),null!=this.__renderer&&(Rs.trace("Resizing renderer to "+e+", "+i,{fileName:"Stage.hx",lineNumber:665,className:"openfl.display.Stage",methodName:"onWindowResize"}),this.__renderer.resize(e,i),t.resizeViewport(e,i)),n!=this.get_scaleX()||s!=this.get_scaleY()){var u=Ge.__create("resize");this.__broadcastFromStage(u,!1)}}},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(t){return t!=this.__scaleMode&&this.onWindowResize(this.window,this.window.__width,this.window.__height),this.__scaleMode=t},onWindowRestore:function(t){},__concatDepthFirstChildren:function(t,e){var i=this.__allChildrenTempStack;for(i._items[i._length++]=0,null!=e&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);0<this.__allChildrenTempStack._length;){var n=this.__allChildrenTempStack,s=n._items[n._length-1];if(null==e.__children||0==e.__children._length||s>=e.__children._length){var r=this.__allChildrenTempStack;r._items[--r._length];if(r._items[r._length]=null,0<this.__allChildrenTempStack._length){var a=this.__allChildrenTempStack,o=this.__allChildrenTempStack,l=o._items[--o._length];o._items[o._length]=null,a._items[a._length++]=l+1}e=e.parent}else{var h=e.__children;null!=(e=s>=h._length?null:h._items[s])&&(e.__branchDirty=!1,e.__branchDepth=null!=e.parent?e.parent.__branchDepth+1:0,t._items[t._length++]=e);var _=this.__allChildrenTempStack;_._items[_._length++]=0}}},__updateAllChildrenStack:function(){if(0!=Y.__worldBranchDirty){Y.__worldBranchDirty=0;var t=this.__pingPongIndex;this.__pingPongIndex^=1;for(var e=this.__pingPongChildrenStack[t],i=this.__pingPongChildrenStack[this.__pingPongIndex],n=0;n<e._length;){var s=n>=e._length?null:e._items[n];if(s.__branchDirty){this.__concatDepthFirstChildren(i,s);for(var r=s.__branchDepth,a=n;++a<e._length;){if((a>=e._length?null:e._items[a]).__branchDepth<=r)break}n=a}else++n,i._items[i._length++]=s}for(var o=0,l=e._length;o<l;){var h=o++;e._items[h]=null}e._length=0,this.__allChildrenStack=i}},__enterFrame:function(t){for(var e,i=1;i<this.__allChildrenStack._length;){var n=this.__allChildrenStack;null!=(e=i>=n._length?null:n._items[i]).stage&&e.__enterFrame(t),++i}},__broadcastFromStage:function(t,e){var i;if(null==t.target&&(t.target=this),t.acquire(),null!=this.__eventMap&&this.hasEventListener(t.type)){var n;if(t.acquire(),null==this.__eventMap||null==t)t.release(),n=!1;else{var s,r=t.type;if(this.__dispatching.get(r)?(null==(s=this.__newEventMap.get(r))&&(s=this.__eventMap.get(r)),null!=s&&(s=s.slice())):null!=(s=this.__eventMap.get(r))&&this.__dispatching.set(r,!0),null!=s){var a=null;a=null==t.target?null!=this.__targetDispatcher?this.__targetDispatcher:this:t.target;for(var o,l=1==t.eventPhase,h=0;h<s.length&&(t.target=a,t.currentTarget=this,(o=s[h]).useCapture!=l||(o.callback.call(o,t),!t.__isCanceledNow));)o==s[h]&&++h;if(null!=this.__newEventMap&&this.__newEventMap.exists(r)){var _=this.__newEventMap.get(r);0<_.length?this.__eventMap.set(r,_):this.__eventMap.remove(r),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(r):(this.__eventMap=null,this.__newEventMap=null)}this.__dispatching.set(t.type,!1),t.release(),n=!0}else t.release(),n=!1}i=!!t.__isCanceled||n}else i=!1;if(!t.__isCanceled&&e)for(var u,c=1;c<this.__allChildrenStack._length;){var f=this.__allChildrenStack;if((u=c>=f._length?null:f._items[c]).stage==this&&null!=u.__eventMap&&u.hasEventListener(t.type)){if(t.acquire(),null==u.__eventMap||null==t)t.release(),!1;else{var d,p=t.type;if(u.__dispatching.get(p)?(null==(d=u.__newEventMap.get(p))&&(d=u.__eventMap.get(p)),null!=d&&(d=d.slice())):null!=(d=u.__eventMap.get(p))&&u.__dispatching.set(p,!0),null!=d){var g=null;g=null==t.target?null!=u.__targetDispatcher?u.__targetDispatcher:u:t.target;for(var m,v=1==t.eventPhase,b=0;b<d.length&&(t.target=g,t.currentTarget=u,(m=d[b]).useCapture!=v||(m.callback.call(m,t),!t.__isCanceledNow));)m==d[b]&&++b;if(null!=u.__newEventMap&&u.__newEventMap.exists(p)){var y=u.__newEventMap.get(p);0<y.length?u.__eventMap.set(p,y):u.__eventMap.remove(p),u.__eventMap.iterator().hasNext()?u.__newEventMap.remove(p):(u.__eventMap=null,u.__newEventMap=null)}u.__dispatching.set(t.type,!1),t.release(),!0}else t.release(),!1}t.__isCanceled}if(t.__isCanceled)return t.release(),!0;++c}return t.release(),i},render:function(t){null!=t.window&&t.window==this.window&&(null!=this.application&&0<this.application.windows.length&&(this.__transformDirty||(this.__transformDirty=!0,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0),Y.__worldTransformDirty++),this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.__filters&&0<this.__filters.length,this.__isMask&&(this.__maskCached=!1),this.__renderDirty||(this.__renderDirty=!0,Y.__worldRenderDirty++,null!=this.__cachedParent&&this.__cachedParent.__setRenderDirty()),this.__updateDirty||null==this.stage||this==this.stage||(this.__updateDirty=!0)),this.__rendering||(this.__rendering=!0,this.__broadcastFromStage(Ge.__create("enterFrame"),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcastFromStage(Ge.__create("render"),!0)),this.__updateAllChildrenStack(),this.__enterFrame(this.__deltaTime),this.__updateAllChildrenStack(),this.__deltaTime=0,this.__updateDirtyElements(!1,!0),null!=this.__renderer&&this.__renderer.render(this),this.__rendering=!1))},update:function(t){this.__deltaTime=t,dh.__calledOnMouseThisFrame||this.__onMouse(null,this.__mouseX,this.__mouseY,0),dh.__calledOnMouseThisFrame=!1,this.__updateAllChildrenStack()},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var i=t.x+this.__dragOffsetX,n=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),n<this.__dragBounds.y?n=this.__dragBounds.y:n>this.__dragBounds.get_bottom()&&(n=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(n)},__getInteractive:function(t){return null!=t&&(t._items[t._length++]=this),!0},__onKey:function(t,e,i){s_.__altKey=oo.get_altKey(i),s_.__commandKey=oo.get_metaKey(i),s_.__ctrlKey=oo.get_ctrlKey(i),s_.__shiftKey=oo.get_shiftKey(i);for(var n=this.__stack,s=0,r=n._length;s<r;){var a=s++;n._items[a]=null}if(n._length=0,null==this.__focus?this.__getInteractive(this.__stack):this.__focus.__getInteractive(this.__stack),0<this.__stack._length){var o,l;switch(e){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:o=3;break;case 1073742048:case 1073742049:case 1073742050:case 1073742051:o=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:o=2;break;default:o=0}switch(e){case 8:l=8;break;case 9:l=9;break;case 13:l=13;break;case 27:l=27;break;case 32:l=32;break;case 33:l=49;break;case 34:l=222;break;case 35:l=51;break;case 36:l=52;break;case 37:l=53;break;case 38:l=55;break;case 39:l=222;break;case 40:l=57;break;case 41:l=48;break;case 42:l=56;break;case 44:l=188;break;case 45:l=189;break;case 46:l=190;break;case 47:l=191;break;case 48:l=48;break;case 49:l=49;break;case 50:l=50;break;case 51:l=51;break;case 52:l=52;break;case 53:l=53;break;case 54:l=54;break;case 55:l=55;break;case 56:l=56;break;case 57:l=57;break;case 58:case 59:l=186;break;case 60:l=60;break;case 61:l=187;break;case 62:l=190;break;case 63:l=191;break;case 64:l=50;break;case 91:l=219;break;case 92:l=220;break;case 93:l=221;break;case 94:l=54;break;case 95:l=189;break;case 96:l=192;break;case 97:l=65;break;case 98:l=66;break;case 99:l=67;break;case 100:l=68;break;case 101:l=69;break;case 102:l=70;break;case 103:l=71;break;case 104:l=72;break;case 105:l=73;break;case 106:l=74;break;case 107:l=75;break;case 108:l=76;break;case 109:l=77;break;case 110:l=78;break;case 111:l=79;break;case 112:l=80;break;case 113:l=81;break;case 114:l=82;break;case 115:l=83;break;case 116:l=84;break;case 117:l=85;break;case 118:l=86;break;case 119:l=87;break;case 120:l=88;break;case 121:l=89;break;case 122:l=90;break;case 127:l=46;break;case 1073741881:l=20;break;case 1073741882:l=112;break;case 1073741883:l=113;break;case 1073741884:l=114;break;case 1073741885:l=115;break;case 1073741886:l=116;break;case 1073741887:l=117;break;case 1073741888:l=118;break;case 1073741889:l=119;break;case 1073741890:l=120;break;case 1073741891:l=121;break;case 1073741892:l=122;break;case 1073741893:l=123;break;case 1073741894:l=301;break;case 1073741895:l=145;break;case 1073741896:l=19;break;case 1073741897:l=45;break;case 1073741898:l=36;break;case 1073741899:l=33;break;case 1073741901:l=35;break;case 1073741902:l=34;break;case 1073741903:l=39;break;case 1073741904:l=37;break;case 1073741905:l=40;break;case 1073741906:l=38;break;case 1073741907:l=144;break;case 1073741908:l=111;break;case 1073741909:l=106;break;case 1073741910:l=109;break;case 1073741911:l=107;break;case 1073741912:l=108;break;case 1073741913:l=97;break;case 1073741914:l=98;break;case 1073741915:l=99;break;case 1073741916:l=100;break;case 1073741917:l=101;break;case 1073741918:l=102;break;case 1073741919:l=103;break;case 1073741920:l=104;break;case 1073741921:l=105;break;case 1073741922:l=96;break;case 1073741923:l=110;break;case 1073741925:l=302;break;case 1073741928:l=124;break;case 1073741929:l=125;break;case 1073741930:l=126;break;case 1073741982:l=13;break;case 1073742044:l=110;break;case 1073742048:l=17;break;case 1073742049:l=16;break;case 1073742050:l=18;break;case 1073742051:l=15;break;case 1073742052:l=17;break;case 1073742053:l=16;break;case 1073742054:l=18;break;case 1073742055:l=15;break;default:l=e}for(var h=xu.__getCharCode(l,oo.get_shiftKey(i)),_=new n_(t,!0,!1,h,l,o,this.__macKeyboard?oo.get_ctrlKey(i)||oo.get_metaKey(i):oo.get_ctrlKey(i),oo.get_altKey(i),oo.get_shiftKey(i),oo.get_ctrlKey(i),oo.get_metaKey(i)),u=this.__stack,c=0,f=u._length-1;c<f;){var d=u._items[c];u._items[c]=u._items[f],u._items[f]=d,++c,--f}dh.fireEvent(_,this.__stack),_.__isCanceled&&("keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(t,e,i,n){var s=this;if(!(2<n)){dh.__calledOnMouseThisFrame=!0,this.__mouseX=e,this.__mouseY=i;var r=e/this.get_scaleX(),a=i/this.get_scaleY(),o=null,l=xe.pool.get(),h=xe.pool.get();l.setTo(this.get_mouseX(),this.get_mouseY());for(var _=this.__stack,u=0,c=_._length;u<c;){var f=u++;_._items[f]=null}if(_._length=0,this.__hitTest(e,i,!0,this.__stack,!0,this)){var d=this.__stack,p=this.__stack._length-1;o=p>=d._length?null:d._items[p]}else{for(var g=(o=this).__stack,m=0,v=g._length;m<v;){var b=m++;g._items[b]=null}g._length=0;var y=this.__stack;y._items[y._length++]=this}if(null==o&&(o=this),h.copyFrom(l),null!=o.stage){var w=o.stage.__getWorldTransform(),x=h.x,T=h.y;h.x=x*w.a+T*w.c+w.tx,h.y=x*w.b+T*w.d+w.ty}var S=o.__getWorldTransform(),E=S.a*S.d-S.b*S.c;if(0==E)h.x=-S.tx,h.y=-S.ty;else{var I=1/E*(S.c*(S.ty-h.y)+S.d*(h.x-S.tx));h.y=1/E*(S.a*(h.y-S.ty)+S.b*(S.tx-h.x)),h.x=I}var C=null;switch(t){case"middleMouseDown":this.__mouseDownStates.set(n,!0),this.__mouseDownMiddle=o;break;case"middleMouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownMiddle==o&&(C="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":o.get_tabEnabled()?this.set_focus(o):this.set_focus(null),this.__mouseDownStates.set(n,!0),this.__mouseDownLeft=o;break;case"mouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownLeft==o&&(C="click"),this.__mouseDownLeft=null;break;case"rightMouseDown":this.__mouseDownStates.set(n,!0),this.__mouseDownRight=o;break;case"rightMouseUp":this.__mouseDownStates.set(n,!1),this.__mouseDownRight==o&&(C="rightClick"),this.__mouseDownRight=null}if(dh.fireEvent(s_.__create(t,r,a,o==this?l:h,o,this),this.__stack),null!=C&&(dh.fireEvent(s_.__create(C,r,a,o==this?l:h,o,this),this.__stack),"mouseUp"==t&&dr.__cast(o,we).doubleClickEnabled)){var P=Date.now();P-this.__lastClickTime<500?(dh.fireEvent(s_.__create("doubleClick",r,a,o==this?l:h,o,this),this.__stack),this.__lastClickTime=0):this.__lastClickTime=P}for(var A,D,R=null,M=0,F=this.__stack._length;M<F;){var B=M++,L=this.__stack;if(null!=(R=(B>=L._length?null:L._items[B]).__getCursor())){lo.set_cursor(R);break}}if(null==R&&lo.set_cursor(ho.ARROW),0<this.__stack._length)if(0!=this.__mouseOutStack._length)if(0<this.__mouseOutStack._length){var k=this.__mouseOutStack,N=this.__mouseOutStack._length-1,O=this.__stack,U=this.__stack._length-1;D=(N>=k._length?null:k._items[N])!=(U>=O._length?null:O._items[U])}else D=!1;else D=!0;else D=!1;if(D){for(var G=this.__outElements,X=0,V=G._length;X<V;){var z=X++;G._items[z]=null}G._length=0;for(var H=this.__inElements,W=0,Y=H._length;W<Y;){var K=W++;H._items[K]=null}if((H._length=0)==s.__mouseOutStack._length){var j=s.__inElements,q=s.__stack,J=j._length;j._length=q._length;for(var Z=0,Q=j._length;Z<Q;){var $=Z++,tt=$;j._items[$]=tt>=q._length?null:q._items[tt]}for(var et=j._length,it=J;et<it;){var nt=et++;j._items[nt]=null}}for(var st=0,rt=0|Math.max(s.__stack._length,s.__mouseOutStack._length);st<rt;){var at=st++,ot=s.__stack,lt=s.__mouseOutStack;if((at>=ot._length?null:ot._items[at])!=(at>=lt._length?null:lt._items[at])){var ht=s.__outElements,_t=s.__mouseOutStack,ut=ht._length;ht._length=_t._length-at;for(var ct=0,ft=ht._length;ct<ft;){var dt=ct++,pt=at+dt;ht._items[dt]=pt>=_t._length?null:_t._items[pt]}for(var gt=ht._length,mt=ut;gt<mt;){var vt=gt++;ht._items[vt]=null}var bt=s.__inElements,yt=s.__stack,wt=bt._length;bt._length=yt._length-at;for(var xt=0,Tt=bt._length;xt<Tt;){var St=xt++,Et=at+St;bt._items[St]=Et>=yt._length?null:yt._items[Et]}for(var It=bt._length,Ct=wt;It<Ct;){var Pt=It++;bt._items[Pt]=null}break}}if(0<this.__mouseOutStack._length){var At=this.__mouseOutStack,Dt=this.__mouseOutStack._length-1,Rt=Dt>=At._length?null:At._items[Dt];if(h.copyFrom(l),null!=Rt.stage){var Mt=Rt.stage.__getWorldTransform(),Ft=h.x,Bt=h.y;h.x=Ft*Mt.a+Bt*Mt.c+Mt.tx,h.y=Ft*Mt.b+Bt*Mt.d+Mt.ty}var Lt=Rt.__getWorldTransform(),kt=Lt.a*Lt.d-Lt.b*Lt.c;if(0==kt)h.x=-Lt.tx,h.y=-Lt.ty;else{var Nt=1/kt*(Lt.c*(Lt.ty-h.y)+Lt.d*(h.x-Lt.tx));h.y=1/kt*(Lt.a*(h.y-Lt.ty)+Lt.b*(Lt.tx-h.x)),h.x=Nt}(A=s_.__create("mouseOut",r,a,h,Rt,s)).bubbles=!0,Rt.__dispatchEvent(A)}for(var Ot=this.__outElements._length-1;0<=Ot;){var Ut=this.__outElements,Gt=Ot>=Ut._length?null:Ut._items[Ot];if(Gt.hasEventListener("rollOut")){if(h.copyFrom(l),null!=Gt.stage){var Xt=Gt.stage.__getWorldTransform(),Vt=h.x,zt=h.y;h.x=Vt*Xt.a+zt*Xt.c+Xt.tx,h.y=Vt*Xt.b+zt*Xt.d+Xt.ty}var Ht=Gt.__getWorldTransform(),Wt=Ht.a*Ht.d-Ht.b*Ht.c;if(0==Wt)h.x=-Ht.tx,h.y=-Ht.ty;else{var Yt=1/Wt*(Ht.c*(Ht.ty-h.y)+Ht.d*(h.x-Ht.tx));h.y=1/Wt*(Ht.a*(h.y-Ht.ty)+Ht.b*(Ht.tx-h.x)),h.x=Yt}(A=s_.__create("rollOut",r,a,h,Gt,s)).bubbles=!1,Gt.__dispatchEvent(A)}--Ot}for(var Kt=0,jt=this.__inElements;Kt<jt._length;){var qt=Kt>=jt._length?null:jt._items[Kt];if(++Kt,qt.hasEventListener("rollOver")){if(h.copyFrom(l),null!=qt.stage){var Jt=qt.stage.__getWorldTransform(),Zt=h.x,Qt=h.y;h.x=Zt*Jt.a+Qt*Jt.c+Jt.tx,h.y=Zt*Jt.b+Qt*Jt.d+Jt.ty}var $t=qt.__getWorldTransform(),te=$t.a*$t.d-$t.b*$t.c;if(0==te)h.x=-$t.tx,h.y=-$t.ty;else{var ee=1/te*($t.c*($t.ty-h.y)+$t.d*(h.x-$t.tx));h.y=1/te*($t.a*(h.y-$t.ty)+$t.b*($t.tx-h.x)),h.x=ee}(A=s_.__create("rollOver",r,a,h,qt,s)).bubbles=!1,qt.__dispatchEvent(A)}}var ie=this.__stack,ne=this.__stack._length-1,se=ne>=ie._length?null:ie._items[ne];if(h.copyFrom(l),null!=se.stage){var re=se.stage.__getWorldTransform(),ae=h.x,oe=h.y;h.x=ae*re.a+oe*re.c+re.tx,h.y=ae*re.b+oe*re.d+re.ty}var le=se.__getWorldTransform(),he=le.a*le.d-le.b*le.c;if(0==he)h.x=-le.tx,h.y=-le.ty;else{var _e=1/he*(le.c*(le.ty-h.y)+le.d*(h.x-le.tx));h.y=1/he*(le.a*(h.y-le.ty)+le.b*(le.tx-h.x)),h.x=_e}(A=s_.__create("mouseOver",r,a,h,se,s)).bubbles=!0,se.__dispatchEvent(A)}null!=this.__dragObject&&this.__drag(l);var ue=this.__mouseOutStack,ce=this.__stack,fe=ue._length;ue._length=ce._length;for(var de=0,pe=ue._length;de<pe;){var ge=de++,me=ge;ue._items[ge]=me>=ce._length?null:ce._items[me]}for(var ve=ue._length,be=fe;ve<be;){var ye=ve++;ue._items[ye]=null}xe.pool.put(l),xe.pool.put(h)}},__onMouseWheel:function(t,e){for(var i=this.__mouseX,n=this.__mouseY,s=this.__stack,r=0,a=s._length;r<a;){var o=r++;s._items[o]=null}if(s._length=0,!this.__hitTest(i,n,!1,this.__stack,!0,this)){for(var l=this.__stack,h=0,_=l._length;h<_;){var u=h++;l._items[u]=null}l._length=0;var c=this.__stack;c._items[c._length++]=this}var f=this.__stack,d=this.__stack._length-1,p=d>=f._length?null:f._items[d],g=xe.pool.get();g.setTo(i,n);var m=0|e;dh.fireEvent(s_.__create("mouseWheel",this.__mouseX,this.__mouseY,p==this?g:p.globalToLocal(g),p,this,m),this.__stack),xe.pool.put(g)},__onTouch:function(t,e){this.__mouseX=e.x*this.stageWidth,this.__mouseY=e.y*this.stageHeight;var i=this.__mouseX/this.get_scaleX(),n=this.__mouseY/this.get_scaleY(),s=null,r=xe.pool.get(),a=xe.pool.get();r.setTo(this.get_mouseX(),this.get_mouseY());for(var o=this.__stack,l=0,h=o._length;l<h;){var _=l++;o._items[_]=null}if(o._length=0,this.__hitTest(this.__mouseX,this.__mouseY,!0,this.__stack,!0,this)){var u=this.__stack,c=this.__stack._length-1;s=c>=u._length?null:u._items[c]}else{for(var f=(s=this).__stack,d=0,p=f._length;d<p;){var g=d++;f._items[g]=null}f._length=0;var m=this.__stack;m._items[m._length++]=this}if(null==s&&(s=this),a.copyFrom(r),null!=s.stage){var v=s.stage.__getWorldTransform(),b=a.x,y=a.y;a.x=b*v.a+y*v.c+v.tx,a.y=b*v.b+y*v.d+v.ty}var w=s.__getWorldTransform(),x=w.a*w.d-w.b*w.c;if(0==x)a.x=-w.tx,a.y=-w.ty;else{var T=1/x*(w.c*(w.ty-a.y)+w.d*(a.x-w.tx));a.y=1/x*(w.a*(a.y-w.ty)+w.b*(w.tx-a.x)),a.x=T}dh.fireEvent(l_.__create(t,null,i,n,s==this?r:a,s),this.__stack),xe.pool.put(r),xe.pool.put(a)},__hitTest:function(t,e,i,n,s,r){var a=K.prototype.__hitTest.call(this,t,e,i,n,s,r);if(!a){var o=H_.pool.get();o.x=this.__transform.tx,o.y=this.__transform.ty,o.width=this.get_scaleX()*this.stageWidth,o.height=this.get_scaleY()*this.stageHeight,a=o.contains(t,e),H_.pool.put(o),a&&null!=n&&(n._items[n._length++]=this)}return a},__resize:function(){},__startDrag:function(t,e,i){if(this.__dragBounds=null==i?null:i.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var n=xe.pool.get();n.setTo(this.get_mouseX(),this.get_mouseY());var s=this.__dragObject.parent;null!=s&&(n=s.globalToLocal(n)),this.__dragOffsetX=this.__dragObject.__transform.tx-n.x,this.__dragOffsetY=this.__dragObject.__transform.ty-n.y,xe.pool.put(n)}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__updateDirtyElements:function(t,e){if(0<Y.__worldTransformDirty&&(t||this.__dirty||0<Y.__worldRenderDirty)){this.__updateTransforms(),e&&this.__transformDirty&&(this.__transformDirty=!1,Y.__worldTransformDirty--),t||(this.__updateColor(),null!=this.parent&&(null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)),this.__renderDirty=this.__renderDirty&&!e,this.__updateDirty=!1);for(var i=0;i<this.__allChildrenStack._length;){var n=this.__allChildrenStack,s=i>=n._length?null:n._items[i];s.__updateDirty&&s.__update(t,e),++i}e&&(Y.__worldTransformDirty=0,t||(Y.__worldRenderDirty=0),this.__dirty=t)}},canvas_onContextLost:function(t){},canvas_onContextRestored:function(t){},get_color:function(){return this.__color},set_color:function(t){var e=(16711680&t)>>>16,i=(65280&t)>>>8,n=255&t;return this.__colorSplit=[e/255,i/255,n/255],this.__colorString="#"+Cs.hex(t,6),this.__color=t},get_displayState:function(){return this.__displayState},set_displayState:function(t){return null!=this.window&&(2==t?this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.dispatchEvent(new $h("fullScreen",!1,!1,!1,!0))):this.window.__fullscreen||(this.window.set_fullscreen(!0),this.dispatchEvent(new $h("fullScreen",!1,!1,!0,!0)))),this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){for(var i=new Qh("focusOut",!0,!1,this.__focus,!1,0),n=this.__focusStack,s=0,r=n._length;s<r;){var a=s++;n._items[a]=null}n._length=0,e.__getInteractive(this.__focusStack);for(var o=this.__focusStack,l=0,h=o._length-1;l<h;){var _=o._items[l];o._items[l]=o._items[h],o._items[h]=_,++l,--h}dh.fireEvent(i,this.__focusStack)}if(null!=this.__focus){for(var u=new Qh("focusIn",!0,!1,e,!1,0),c=this.__focusStack,f=0,d=c._length;f<d;){var p=f++;c._items[p]=null}c._length=0,t.__getInteractive(this.__focusStack);for(var g=this.__focusStack,m=0,v=g._length-1;m<v;){var b=g._items[m];g._items[m]=g._items[v],g._items[v]=b,++m,--v}dh.fireEvent(u,this.__focusStack)}}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(t){return this.frameTime=1e3/t|0,null!=this.application?this.application.backend.setFrameRate(t):t},get_fullScreenWidth:function(){return this.window.backend.getScreenWidth()},get_fullScreenHeight:function(){return this.window.backend.getScreenHeight()},__class__:dh,__properties__:n(K.prototype.__properties__,{get_fullScreenHeight:"get_fullScreenHeight",get_fullScreenWidth:"get_fullScreenWidth",set_scaleMode:"set_scaleMode",get_scaleMode:"get_scaleMode",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var ph=function(){v.call(this)};(i["openfl.display.Stage3D"]=ph).__name__=["openfl","display","Stage3D"],ph.__super__=v,ph.prototype=n(v.prototype,{requestContext3D:function(t){null==t&&(t="");var e=this;oh.get_isSupported()?Fs.delay(function(){e.context3D=new Th,e.dispatchEvent(new Ge("context3DCreate"))},1):Fs.delay(function(){e.dispatchEvent(new Jh("error"))},1)},__class__:ph});var gh={};(i["openfl.display._StageAlign.StageAlign_Impl_"]=gh).__name__=["openfl","display","_StageAlign","StageAlign_Impl_"],gh.fromString=function(t){switch(t){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},gh.toString=function(t){switch(t){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var mh={};(i["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=mh).__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"],mh.fromString=function(t){switch(t){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},mh.toString=function(t){switch(t){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var vh={};(i["openfl.display._StageQuality.StageQuality_Impl_"]=vh).__name__=["openfl","display","_StageQuality","StageQuality_Impl_"],vh.fromString=function(t){switch(t){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},vh.toString=function(t){switch(t){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var bh={};(i["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=bh).__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"],bh.fromString=function(t){switch(t){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},bh.toString=function(t){switch(t){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var yh={};(i["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=yh).__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"],yh.fromString=function(t){switch(t){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},yh.toString=function(t){switch(t){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var wh=function(t){uo.call(this,t)};(i["openfl.display.Window"]=wh).__name__=["openfl","display","Window"],wh.__super__=uo,wh.prototype=n(uo.prototype,{create:function(t){uo.prototype.create.call(this,t),this.stage=new dh(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:wh});var xh=function(){};(i["openfl.display.api.ISpritesheet"]=xh).__name__=["openfl","display","api","ISpritesheet"],xh.prototype={__class__:xh};var Th=function(){this.disposed=!1;this.stencilCompareMode=519,this.stencilRef=0,this.stencilReadMask=255,this._yFlip=1,this.vertexBuffersCreated=[],this.indexBuffersCreated=[],this.programsCreated=[],this.texturesCreated=[],this.samplerParameters=[];for(var t=0,e=Th.MAX_SAMPLERS;t<e;){var i=t++;this.samplerParameters[i]=new Sh,this.samplerParameters[i].wrap=Bh.CLAMP,this.samplerParameters[i].filter=Dh.LINEAR,this.samplerParameters[i].mipfilter=Ph.MIPNONE}var n=Po.current.stage;this.ogl=new oh,this.resize(),n.addChildAt(this.ogl,0),xa.context.pixelStorei(37440,1),xa.context.pixelStorei(37441,1),n.addEventListener("resize",of(this,this.resize))};(i["openfl.display3D.Context3D"]=Th).__name__=["openfl","display3D","Context3D"],Th.prototype={clear:function(t,e,i,n,s,r,a){null==a&&(a=17664),null==r&&(r=0),null==s&&(s=1),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.drawing||(this.__updateBlendStatus(),this.drawing=!0),null!=this.scissorRectangle&&xa.context.disable(3089),xa.context.clearColor(t,e,i,n),xa.context.clearDepth(s),xa.context.clearStencil(r),xa.context.clear(a),null!=this.scissorRectangle&&xa.context.enable(3089)},configureBackBuffer:function(t,e,i,n){null==n&&(n=!0),this.backBufferDepthAndStencil=n,this.updateDepthAndStencilState(),this.setBackBufferViewPort(null,null,t,e),this.updateScissorRectangle()},setBackBufferViewPort:function(t,e,i,n){null==t&&(t=0|this.scrollRect.x),null==e&&(e=0|this.scrollRect.y),null==i&&(i=0|this.scrollRect.width),null==n&&(n=0|this.scrollRect.height),this.scrollRect.x=t,this.scrollRect.y=e,this.scrollRect.width=i,this.scrollRect.height=n,this.ogl.set_width(t+i),this.ogl.set_height(e+n),this.updateBackBufferViewPort()},resize:function(t){var e=Po.current.stage,i=e.__renderer,n=null!=i?i.width:e.stageWidth*e.get_scaleX(),s=null!=i?i.height:e.stageHeight*e.get_scaleY();this.ogl.set_scrollRect(new H_(0,0,n,s)),this.scrollRect=this.ogl.get_scrollRect(),this.ogl.set_width(n),this.ogl.set_height(s)},updateBackBufferViewPort:function(){this.renderToTexture||xa.context.viewport(0|this.scrollRect.x,0|this.scrollRect.y,0|this.scrollRect.width,0|this.scrollRect.height)},updateDepthAndStencilState:function(){(this.renderToTexture?this.rttDepthAndStencil:this.backBufferDepthAndStencil)?(Ar.current.windows[0].config.depthBuffer&&xa.context.enable(2929),Ar.current.windows[0].config.stencilBuffer&&xa.context.enable(2960)):(xa.context.disable(2929),xa.context.disable(2960))},createCubeTexture:function(t,e,i,n){null==n&&(n=0);var s=new Uh(this,xa.context.createTexture(),t);return this.texturesCreated.push(s),s},createIndexBuffer:function(t,e){null==e&&(e=Eh.STATIC_DRAW);var i=new Lh(this,xa.context.createBuffer(),t,e==Eh.STATIC_DRAW?35044:35048);return this.indexBuffersCreated.push(i),i},createProgram:function(){var t=new kh(this,xa.context.createProgram());return this.programsCreated.push(t),t},createRectangleTexture:function(t,e,i,n){var s=new Gh(this,xa.context.createTexture(),n,t,e);return this.texturesCreated.push(s),s},createTexture:function(t,e,i,n,s){null==s&&(s=0);var r=new Xh(this,xa.context.createTexture(),n,t,e);return this.texturesCreated.push(r),r},createVertexBuffer:function(t,e,i){null==i&&(i=Eh.STATIC_DRAW);var n=new Nh(this,xa.context.createBuffer(),t,e,i==Eh.STATIC_DRAW?35044:35048);return this.vertexBuffersCreated.push(n),n},__deleteTexture:function(t){if(null!=t.glTexture){$.remove(this.texturesCreated,t);var e=t.glTexture;xa.textureStateCache.remove(e),xa.context.deleteTexture(e),t.glTexture=null}},__deleteVertexBuffer:function(t){null!=t.glBuffer&&($.remove(this.vertexBuffersCreated,t),xa.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteIndexBuffer:function(t){null!=t.glBuffer&&($.remove(this.indexBuffersCreated,t),xa.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteProgram:function(t){null!=t.glProgram&&($.remove(this.programsCreated,t),xa.context.deleteProgram(t.glProgram),t.glProgram=null)},dispose:function(){for(var t=0,e=this.vertexBuffersCreated;t<e.length;){var i=e[t];++t,i.dispose()}this.vertexBuffersCreated=null;for(var n=0,s=this.indexBuffersCreated;n<s.length;){var r=s[n];++n,r.dispose()}this.indexBuffersCreated=null;for(var a=0,o=this.programsCreated;a<o.length;){var l=o[a];++a,l.dispose()}this.programsCreated=null,this.samplerParameters=null;for(var h=0,_=this.texturesCreated;h<_.length;){var u=_[h];++h,u.dispose()}(this.texturesCreated=null)!=this.framebuffer&&(xa.context.deleteFramebuffer(this.framebuffer),this.framebuffer=null),null!=this.renderbuffer&&(xa.context.deleteRenderbuffer(this.renderbuffer),this.renderbuffer=null),this.disposed=!0},drawToBitmapData:function(t){},drawTriangles:function(t,e,i){null==i&&(i=-1),null==e&&(e=0);var n,s=xa.context.getUniformLocation(this.currentProgram.glProgram,"yflip");if(xa.context.uniform1f(s,this._yFlip),!this.drawing)throw new fr(new Vh("Need to clear before drawing if the buffer has not been cleared since the last present() call."));n=-1==i?t.numIndices:3*i;var r=2*e;xa.context.bindBuffer(34963,t.glBuffer),xa.context.drawElements(4,n,5123,r)},present:function(){this.drawing=!1;var t=null;t!=xa.currentProgram&&(xa.context.useProgram(t),t=xa.currentProgram),xa.context.bindBuffer(34962,null),xa.context.disable(2884),null!=this.framebuffer&&xa.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&xa.context.bindRenderbuffer(36161,null)},removeRenderMethod:function(t){this.ogl.set_render(null)},setBlendFactors:function(t,e){this.blendEnabled=!0,this.blendSourceFactor=t,this.blendDestinationFactor=e,this.__updateBlendStatus()},setColorMask:function(t,e,i,n){xa.context.colorMask(t,e,i,n)},setCulling:function(t){if(0==t)xa.context.disable(2884);else switch(xa.context.enable(2884),t){case 1028:xa.context.cullFace(1028);break;case 1029:xa.context.cullFace(1029);break;case 1032:xa.context.cullFace(1032);break;default:throw new fr("Unknown Context3DTriangleFace type.")}switch(t){case 0:case 1028:this._yFlip=1;break;case 1029:this._yFlip=-1;break;case 1032:this._yFlip=1;break;default:throw new fr("Unknown culling mode "+t+".")}},setDepthTest:function(t,e){xa.context.depthFunc(e),xa.context.depthMask(t)},setGLSLProgramConstantsFromByteArray:function(t,e,i){null==i&&(i=0);var n=xa.context.getUniformLocation(this.currentProgram.glProgram,t);e.position=i;var s=e.readFloat(),r=e.readFloat(),a=e.readFloat(),o=e.readFloat();xa.context.uniform4f(n,s,r,a,o)},setGLSLProgramConstantsFromMatrix:function(t,e,i){null==i&&(i=!1);for(var n=xa.context.getUniformLocation(this.currentProgram.glProgram,t),s=e.rawData,r=[],a=0,o=s.data.length;a<o;){var l=a++;r.push(s.data[l])}var h;h=null!=r?new mf(r):null,xa.context.uniformMatrix4fv(n,!i,h)},setGLSLProgramConstantsFromVector4:function(t,e,i){null==i&&(i=0);var n=xa.context.getUniformLocation(this.currentProgram.glProgram,t);xa.context.uniform4f(n,e[i],e[i+1],e[i+2],e[i+3])},setGLSLTextureAt:function(t,e,i){switch(i){case 0:33984!=xa.currentActiveTexture&&(xa.context.activeTexture(33984),xa.currentActiveTexture=33984);break;case 1:33985!=xa.currentActiveTexture&&(xa.context.activeTexture(33985),xa.currentActiveTexture=33985);break;case 2:33986!=xa.currentActiveTexture&&(xa.context.activeTexture(33986),xa.currentActiveTexture=33986);break;case 3:33987!=xa.currentActiveTexture&&(xa.context.activeTexture(33987),xa.currentActiveTexture=33987);break;case 4:33988!=xa.currentActiveTexture&&(xa.context.activeTexture(33988),xa.currentActiveTexture=33988);break;case 5:33989!=xa.currentActiveTexture&&(xa.context.activeTexture(33989),xa.currentActiveTexture=33989);break;case 6:33990!=xa.currentActiveTexture&&(xa.context.activeTexture(33990),xa.currentActiveTexture=33990);break;case 7:33991!=xa.currentActiveTexture&&(xa.context.activeTexture(33991),xa.currentActiveTexture=33991);break;default:throw new fr("Does not support texture8 or more")}if(null==e)return null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(3553,null),xa.currentBoundTexture[xa.currentActiveTexture]=null),void(null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(34067,null),xa.currentBoundTexture[xa.currentActiveTexture]=null));var n=xa.context.getUniformLocation(this.currentProgram.glProgram,t);if(dr.__instanceof(e,Xh)){var s=dr.__cast(e,Xh).glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=s&&(xa.context.bindTexture(3553,s),null==(xa.currentBoundTexture[xa.currentActiveTexture]=s)||xa.textureStateCache.exists(s)||xa.textureStateCache.set(s,new Gs)),xa.context.uniform1i(n,i)}else if(dr.__instanceof(e,Gh)){var r=dr.__cast(e,Gh).glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=r&&(xa.context.bindTexture(3553,r),null==(xa.currentBoundTexture[xa.currentActiveTexture]=r)||xa.textureStateCache.exists(r)||xa.textureStateCache.set(r,new Gs)),xa.context.uniform1i(n,i)}else{if(!dr.__instanceof(e,Uh))throw new fr("Texture of type "+Pi.getClassName(null==e?null:dr.getClass(e))+" not supported yet");var a=dr.__cast(e,Uh).glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=a&&(xa.context.bindTexture(34067,a),null==(xa.currentBoundTexture[xa.currentActiveTexture]=a)||xa.textureStateCache.exists(a)||xa.textureStateCache.set(a,new Gs)),xa.context.uniform1i(n,i)}var o=this.samplerParameters[i];null!=o?this.setTextureParameters(e,o.wrap,o.filter,o.mipfilter):this.setTextureParameters(e,Bh.CLAMP,Dh.NEAREST,Ph.MIPNONE)},setGLSLVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var s=null!=this.currentProgram&&null!=this.currentProgram.glProgram?xa.context.getAttribLocation(this.currentProgram.glProgram,t):-1;if(-1!=s)if(null!=e){xa.context.bindBuffer(34962,e.glBuffer);var r=4,a=5126,o=4;if(n==Fh.BYTES_4)a=5126,o=r=4;else if(n==Fh.FLOAT_1)r=1,a=5126,o=4;else if(n==Fh.FLOAT_2)r=2,a=5126,o=4;else if(n==Fh.FLOAT_3)r=3,a=5126,o=4;else{if(n!=Fh.FLOAT_4)throw new fr("Buffer format "+Q.string(n)+" is not supported");a=5126,o=r=4}xa.context.enableVertexAttribArray(s),xa.context.vertexAttribPointer(s,r,a,!1,e.data32PerVertex*o,i*o)}else-1<s&&xa.context.disableVertexAttribArray(s)},setProgram:function(t){var e=null;null!=t&&(e=t.glProgram);var i=e;i!=xa.currentProgram&&(xa.context.useProgram(i),i=xa.currentProgram),this.currentProgram=t},setProgramConstantsFromByteArray:function(t,e,i,n,s){n.position=s;for(var r=0,a=i;r<a;){var o=r++,l=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+o);this.setGLSLProgramConstantsFromByteArray(l,n)}},setProgramConstantsFromMatrix:function(t,e,i,n){null==n&&(n=!1);var s=i.rawData;n?(this.setProgramConstantsFromVector(t,e,[s.data[0],s.data[4],s.data[8],s.data[12]],1),this.setProgramConstantsFromVector(t,e+1,[s.data[1],s.data[5],s.data[9],s.data[13]],1),this.setProgramConstantsFromVector(t,e+2,[s.data[2],s.data[6],s.data[10],s.data[14]],1),this.setProgramConstantsFromVector(t,e+3,[s.data[3],s.data[7],s.data[11],s.data[15]],1)):(this.setProgramConstantsFromVector(t,e,[s.data[0],s.data[1],s.data[2],s.data[3]],1),this.setProgramConstantsFromVector(t,e+1,[s.data[4],s.data[5],s.data[6],s.data[7]],1),this.setProgramConstantsFromVector(t,e+2,[s.data[8],s.data[9],s.data[10],s.data[11]],1),this.setProgramConstantsFromVector(t,e+3,[s.data[12],s.data[13],s.data[14],s.data[15]],1))},setProgramConstantsFromVector:function(t,e,i,n){null==n&&(n=1);for(var s=0,r=n;s<r;){var a=s++,o=4*a,l=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+a);this.setGLSLProgramConstantsFromVector4(l,i,o)}},setRenderMethod:function(e){this.ogl.set_render(function(t){e(null)})},setRenderToBackBuffer:function(){xa.context.disable(2929),xa.context.disable(2960),xa.context.disable(3089),xa.context.bindFramebuffer(36160,null),null!=this.framebuffer&&xa.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&xa.context.bindRenderbuffer(36161,null),this.renderToTexture=!1,this.updateBackBufferViewPort(),this.updateScissorRectangle(),this.updateDepthAndStencilState()},setRenderToTexture:function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=!1),null==this.framebuffer&&(this.framebuffer=xa.context.createFramebuffer()),xa.context.bindFramebuffer(36160,this.framebuffer),null==this.renderbuffer&&(this.renderbuffer=xa.context.createRenderbuffer()),xa.context.bindRenderbuffer(36161,this.renderbuffer),e&&xa.context.renderbufferStorage(36161,34041,t.width,t.height),xa.context.framebufferTexture2D(36160,36064,3553,t.glTexture,0),xa.context.renderbufferStorage(36161,34041,t.width,t.height),xa.context.framebufferRenderbuffer(36160,33306,36161,this.renderbuffer),e&&(xa.context.enable(2929),xa.context.enable(2960));var s=t.glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=s&&(xa.context.bindTexture(3553,s),null==(xa.currentBoundTexture[xa.currentActiveTexture]=s)||xa.textureStateCache.exists(s)||xa.textureStateCache.set(s,new Gs)),xa.context.texImage2D(3553,0,6408,t.width,t.height,0,6408,5121,null);var r=xa.currentBoundTexture[xa.currentActiveTexture],a=xa.textureStateCache.get(r);9729!=a.h[10240]&&(xa.context.texParameteri(3553,10240,9729),a.h[10240]=9729);var o=xa.currentBoundTexture[xa.currentActiveTexture],l=xa.textureStateCache.get(o);9985!=l.h[10241]&&(xa.context.texParameteri(3553,10241,9985),l.h[10241]=9985),xa.context.viewport(0,0,t.width,t.height),this.renderToTexture=!0,this.rttDepthAndStencil=e,this.rttWidth=t.width,this.rttHeight=t.height},setSamplerStateAt:function(t,e,i,n){if(!(0<=t&&t<Th.MAX_SAMPLERS))throw new fr("Sampler is out of bounds.");this.samplerParameters[t].wrap=e,this.samplerParameters[t].filter=i,this.samplerParameters[t].mipfilter=n},setScissorRectangle:function(t){null!=(this.scissorRectangle=t)?(xa.context.enable(3089),this.updateScissorRectangle()):xa.context.disable(3089)},updateScissorRectangle:function(){if(null!=this.scissorRectangle){var t=this.renderToTexture?this.rttHeight:0|this.scrollRect.height;xa.context.scissor(0|this.scissorRectangle.x,t-(0|this.scissorRectangle.y)-(0|this.scissorRectangle.height)|0,0|this.scissorRectangle.width,0|this.scissorRectangle.height)}},setStencilActions:function(t,e,i,n,s){var r=e;this.stencilCompareMode=r,xa.context.stencilOp(i,n,s),xa.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask)},setStencilReferenceValue:function(t,e,i){null==i&&(i=255),null==e&&(e=255),this.stencilReadMask=e,this.stencilRef=t,xa.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask),xa.context.stencilMask(i)},setTextureAt:function(t,e){var i="fs"+t;this.setGLSLTextureAt(i,e,t)},setTextureParameters:function(t,e,i,n){if(!Th.anisotropySupportTested){var s=xa.context.getExtension("EXT_texture_filter_anisotropic");if(null!=s&&null!=Dt.field(s,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(s=xa.context.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=s&&null!=Dt.field(s,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(s=xa.context.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),Th.supportsAnisotropy=null!=s,Th.supportsAnisotropy){Th.maxSupportedAnisotropy=xa.context.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT);var r=Th.TEXTURE_MAX_ANISOTROPY_EXT,a=Th.maxSupportedAnisotropy,o=xa.currentBoundTexture[xa.currentActiveTexture],l=xa.textureStateCache.get(o);l.h[r]!=a&&(xa.context.texParameteri(3553,r,a),l.h[r]=a)}Th.anisotropySupportTested=!0}if(dr.__instanceof(t,Xh)){switch(e[1]){case 0:var h=xa.currentBoundTexture[xa.currentActiveTexture],_=xa.textureStateCache.get(h);33071!=_.h[10242]&&(xa.context.texParameteri(3553,10242,33071),_.h[10242]=33071);var u=xa.currentBoundTexture[xa.currentActiveTexture],c=xa.textureStateCache.get(u);33071!=c.h[10243]&&(xa.context.texParameteri(3553,10243,33071),c.h[10243]=33071);break;case 1:var f=xa.currentBoundTexture[xa.currentActiveTexture],d=xa.textureStateCache.get(f);10497!=d.h[10242]&&(xa.context.texParameteri(3553,10242,10497),d.h[10242]=10497);var p=xa.currentBoundTexture[xa.currentActiveTexture],g=xa.textureStateCache.get(p);10497!=g.h[10243]&&(xa.context.texParameteri(3553,10243,10497),g.h[10243]=10497)}switch(i[1]){case 0:if(Th.supportsAnisotropy){var m=Th.TEXTURE_MAX_ANISOTROPY_EXT,v=Rt.gt(2,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):2;xa.context.texParameterf(3553,m,v)}break;case 1:if(Th.supportsAnisotropy){var b=Th.TEXTURE_MAX_ANISOTROPY_EXT,y=Rt.gt(4,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):4;xa.context.texParameterf(3553,b,y)}break;case 2:if(Th.supportsAnisotropy){var w=Th.TEXTURE_MAX_ANISOTROPY_EXT,x=Rt.gt(8,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):8;xa.context.texParameterf(3553,w,x)}break;case 3:if(Th.supportsAnisotropy){var T=Th.TEXTURE_MAX_ANISOTROPY_EXT,S=Rt.gt(16,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):16;xa.context.texParameterf(3553,T,S)}break;case 4:var E=xa.currentBoundTexture[xa.currentActiveTexture],I=xa.textureStateCache.get(E);9729!=I.h[10240]&&(xa.context.texParameteri(3553,10240,9729),I.h[10240]=9729),Th.supportsAnisotropy&&xa.context.texParameterf(3553,Th.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var C=xa.currentBoundTexture[xa.currentActiveTexture],P=xa.textureStateCache.get(C);9728!=P.h[10240]&&(xa.context.texParameteri(3553,10240,9728),P.h[10240]=9728),Th.supportsAnisotropy&&xa.context.texParameterf(3553,Th.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(n[1]){case 0:var A=xa.currentBoundTexture[xa.currentActiveTexture],D=xa.textureStateCache.get(A);9987!=D.h[10241]&&(xa.context.texParameteri(3553,10241,9987),D.h[10241]=9987);break;case 1:var R=xa.currentBoundTexture[xa.currentActiveTexture],M=xa.textureStateCache.get(R);9984!=M.h[10241]&&(xa.context.texParameteri(3553,10241,9984),M.h[10241]=9984);break;case 2:var F=i==Dh.NEAREST?9728:9729,B=xa.currentBoundTexture[xa.currentActiveTexture],L=xa.textureStateCache.get(B);L.h[10241]!=F&&(xa.context.texParameteri(3553,10241,F),L.h[10241]=F)}var k=t;n==Ph.MIPNONE||k.mipmapsGenerated||(xa.context.generateMipmap(3553),k.mipmapsGenerated=!0)}else if(dr.__instanceof(t,Gh)){var N=xa.currentBoundTexture[xa.currentActiveTexture],O=xa.textureStateCache.get(N);33071!=O.h[10242]&&(xa.context.texParameteri(3553,10242,33071),O.h[10242]=33071);var U=xa.currentBoundTexture[xa.currentActiveTexture],G=xa.textureStateCache.get(U);switch(33071!=G.h[10243]&&(xa.context.texParameteri(3553,10243,33071),G.h[10243]=33071),i[1]){case 0:if(Th.supportsAnisotropy){var X=Th.TEXTURE_MAX_ANISOTROPY_EXT,V=Rt.gt(2,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):2;xa.context.texParameterf(3553,X,V)}break;case 1:if(Th.supportsAnisotropy){var z=Th.TEXTURE_MAX_ANISOTROPY_EXT,H=Rt.gt(4,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):4;xa.context.texParameterf(3553,z,H)}break;case 2:if(Th.supportsAnisotropy){var W=Th.TEXTURE_MAX_ANISOTROPY_EXT,Y=Rt.gt(8,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):8;xa.context.texParameterf(3553,W,Y)}break;case 3:if(Th.supportsAnisotropy){var K=Th.TEXTURE_MAX_ANISOTROPY_EXT,j=Rt.gt(16,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):16;xa.context.texParameterf(3553,K,j)}break;case 4:var q=xa.currentBoundTexture[xa.currentActiveTexture],J=xa.textureStateCache.get(q);9729!=J.h[10240]&&(xa.context.texParameteri(3553,10240,9729),J.h[10240]=9729),Th.supportsAnisotropy&&xa.context.texParameterf(3553,Th.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var Z=xa.currentBoundTexture[xa.currentActiveTexture],Q=xa.textureStateCache.get(Z);9728!=Q.h[10240]&&(xa.context.texParameteri(3553,10240,9728),Q.h[10240]=9728),Th.supportsAnisotropy&&xa.context.texParameterf(3553,Th.TEXTURE_MAX_ANISOTROPY_EXT,1)}var $=i==Dh.NEAREST?9728:9729,tt=xa.currentBoundTexture[xa.currentActiveTexture],et=xa.textureStateCache.get(tt);et.h[10241]!=$&&(xa.context.texParameteri(3553,10241,$),et.h[10241]=$)}else{if(!dr.__instanceof(t,Uh))throw new fr("Texture of type "+Pi.getClassName(null==t?null:dr.getClass(t))+" not supported yet");switch(e[1]){case 0:var it=xa.currentBoundTexture[xa.currentActiveTexture],nt=xa.textureStateCache.get(it);33071!=nt.h[10242]&&(xa.context.texParameteri(34067,10242,33071),nt.h[10242]=33071);var st=xa.currentBoundTexture[xa.currentActiveTexture],rt=xa.textureStateCache.get(st);33071!=rt.h[10243]&&(xa.context.texParameteri(34067,10243,33071),rt.h[10243]=33071);break;case 1:var at=xa.currentBoundTexture[xa.currentActiveTexture],ot=xa.textureStateCache.get(at);10497!=ot.h[10242]&&(xa.context.texParameteri(34067,10242,10497),ot.h[10242]=10497);var lt=xa.currentBoundTexture[xa.currentActiveTexture],ht=xa.textureStateCache.get(lt);10497!=ht.h[10243]&&(xa.context.texParameteri(34067,10243,10497),ht.h[10243]=10497)}switch(i[1]){case 0:if(Th.supportsAnisotropy){var _t=Th.TEXTURE_MAX_ANISOTROPY_EXT,ut=Rt.gt(2,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):2;xa.context.texParameterf(34067,_t,ut)}break;case 1:if(Th.supportsAnisotropy){var ct=Th.TEXTURE_MAX_ANISOTROPY_EXT,ft=Rt.gt(4,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):4;xa.context.texParameterf(34067,ct,ft)}break;case 2:if(Th.supportsAnisotropy){var dt=Th.TEXTURE_MAX_ANISOTROPY_EXT,pt=Rt.gt(8,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):8;xa.context.texParameterf(34067,dt,pt)}break;case 3:if(Th.supportsAnisotropy){var gt=Th.TEXTURE_MAX_ANISOTROPY_EXT,mt=Rt.gt(16,Th.maxSupportedAnisotropy)?Rt.toFloat(Th.maxSupportedAnisotropy):16;xa.context.texParameterf(34067,gt,mt)}break;case 4:var vt=xa.currentBoundTexture[xa.currentActiveTexture],bt=xa.textureStateCache.get(vt);9729!=bt.h[10240]&&(xa.context.texParameteri(34067,10240,9729),bt.h[10240]=9729),Th.supportsAnisotropy&&xa.context.texParameterf(34067,Th.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:var yt=xa.currentBoundTexture[xa.currentActiveTexture],wt=xa.textureStateCache.get(yt);9728!=wt.h[10240]&&(xa.context.texParameteri(34067,10240,9728),wt.h[10240]=9728),Th.supportsAnisotropy&&xa.context.texParameterf(34067,Th.TEXTURE_MAX_ANISOTROPY_EXT,1)}switch(n[1]){case 0:var xt=xa.currentBoundTexture[xa.currentActiveTexture],Tt=xa.textureStateCache.get(xt);9987!=Tt.h[10241]&&(xa.context.texParameteri(34067,10241,9987),Tt.h[10241]=9987);break;case 1:var St=xa.currentBoundTexture[xa.currentActiveTexture],Et=xa.textureStateCache.get(St);9984!=Et.h[10241]&&(xa.context.texParameteri(34067,10241,9984),Et.h[10241]=9984);break;case 2:var It=i==Dh.NEAREST?9728:9729,Ct=xa.currentBoundTexture[xa.currentActiveTexture],Pt=xa.textureStateCache.get(Ct);Pt.h[10241]!=It&&(xa.context.texParameteri(34067,10241,It),Pt.h[10241]=It)}var At=t;n==Ph.MIPNONE||At.mipmapsGenerated||(xa.context.generateMipmap(34067),At.mipmapsGenerated=!0)}},setVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var s="va"+t;this.setGLSLVertexBufferAt(s,e,i,n)},__getUniformLocationNameFromAgalRegisterIndex:function(t,e){if(t==Ah.VERTEX)return"vc"+e;if(t==Ah.FRAGMENT)return"fc"+e;throw new fr("Program Type "+Q.string(t)+" not supported")},__updateBlendStatus:function(){this.blendEnabled?(xa.context.enable(3042),xa.context.blendEquation(32774),xa.context.blendFunc(this.blendSourceFactor,this.blendDestinationFactor)):xa.context.disable(3042)},__class__:Th};var Sh=function(){};(i["openfl.display3D._Context3D.SamplerState"]=Sh).__name__=["openfl","display3D","_Context3D","SamplerState"],Sh.prototype={__class__:Sh};var Eh=i["openfl.display3D.Context3DBufferUsage"]={__ename__:["openfl","display3D","Context3DBufferUsage"],__constructs__:["STATIC_DRAW","DYNAMIC_DRAW"]};Eh.STATIC_DRAW=["STATIC_DRAW",0],Eh.STATIC_DRAW.toString=f,(Eh.STATIC_DRAW.__enum__=Eh).DYNAMIC_DRAW=["DYNAMIC_DRAW",1],Eh.DYNAMIC_DRAW.toString=f,Eh.DYNAMIC_DRAW.__enum__=Eh;var Ih=function(){};(i["openfl.display3D.Context3DClearMask"]=Ih).__name__=["openfl","display3D","Context3DClearMask"];var Ch={};(i["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=Ch).__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"],Ch._new=function(t){return t},Ch.fromInt=function(t){return t},Ch.toInt=function(t){return t};var Ph=i["openfl.display3D.Context3DMipFilter"]={__ename__:["openfl","display3D","Context3DMipFilter"],__constructs__:["MIPLINEAR","MIPNEAREST","MIPNONE"]};Ph.MIPLINEAR=["MIPLINEAR",0],Ph.MIPLINEAR.toString=f,(Ph.MIPLINEAR.__enum__=Ph).MIPNEAREST=["MIPNEAREST",1],Ph.MIPNEAREST.toString=f,(Ph.MIPNEAREST.__enum__=Ph).MIPNONE=["MIPNONE",2],Ph.MIPNONE.toString=f,Ph.MIPNONE.__enum__=Ph;var Ah=i["openfl.display3D.Context3DProgramType"]={__ename__:["openfl","display3D","Context3DProgramType"],__constructs__:["VERTEX","FRAGMENT"]};Ah.VERTEX=["VERTEX",0],Ah.VERTEX.toString=f,(Ah.VERTEX.__enum__=Ah).FRAGMENT=["FRAGMENT",1],Ah.FRAGMENT.toString=f,Ah.FRAGMENT.__enum__=Ah;var Dh=i["openfl.display3D.Context3DTextureFilter"]={__ename__:["openfl","display3D","Context3DTextureFilter"],__constructs__:["ANISOTROPIC2X","ANISOTROPIC4X","ANISOTROPIC8X","ANISOTROPIC16X","LINEAR","NEAREST"]};Dh.ANISOTROPIC2X=["ANISOTROPIC2X",0],Dh.ANISOTROPIC2X.toString=f,(Dh.ANISOTROPIC2X.__enum__=Dh).ANISOTROPIC4X=["ANISOTROPIC4X",1],Dh.ANISOTROPIC4X.toString=f,(Dh.ANISOTROPIC4X.__enum__=Dh).ANISOTROPIC8X=["ANISOTROPIC8X",2],Dh.ANISOTROPIC8X.toString=f,(Dh.ANISOTROPIC8X.__enum__=Dh).ANISOTROPIC16X=["ANISOTROPIC16X",3],Dh.ANISOTROPIC16X.toString=f,(Dh.ANISOTROPIC16X.__enum__=Dh).LINEAR=["LINEAR",4],Dh.LINEAR.toString=f,(Dh.LINEAR.__enum__=Dh).NEAREST=["NEAREST",5],Dh.NEAREST.toString=f,Dh.NEAREST.__enum__=Dh;var Rh=i["openfl.display3D.Context3DTextureFormat"]={__ename__:["openfl","display3D","Context3DTextureFormat"],__constructs__:["BGRA","COMPRESSED","COMPRESSED_ALPHA"]};Rh.BGRA=["BGRA",0],Rh.BGRA.toString=f,(Rh.BGRA.__enum__=Rh).COMPRESSED=["COMPRESSED",1],Rh.COMPRESSED.toString=f,(Rh.COMPRESSED.__enum__=Rh).COMPRESSED_ALPHA=["COMPRESSED_ALPHA",2],Rh.COMPRESSED_ALPHA.toString=f,Rh.COMPRESSED_ALPHA.__enum__=Rh;var Mh={};(i["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=Mh).__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"],Mh._new=function(t){return t},Mh.fromInt=function(t){return t},Mh.toInt=function(t){return t};var Fh=i["openfl.display3D.Context3DVertexBufferFormat"]={__ename__:["openfl","display3D","Context3DVertexBufferFormat"],__constructs__:["BYTES_4","FLOAT_1","FLOAT_2","FLOAT_3","FLOAT_4"]};Fh.BYTES_4=["BYTES_4",0],Fh.BYTES_4.toString=f,(Fh.BYTES_4.__enum__=Fh).FLOAT_1=["FLOAT_1",1],Fh.FLOAT_1.toString=f,(Fh.FLOAT_1.__enum__=Fh).FLOAT_2=["FLOAT_2",2],Fh.FLOAT_2.toString=f,(Fh.FLOAT_2.__enum__=Fh).FLOAT_3=["FLOAT_3",3],Fh.FLOAT_3.toString=f,(Fh.FLOAT_3.__enum__=Fh).FLOAT_4=["FLOAT_4",4],Fh.FLOAT_4.toString=f,Fh.FLOAT_4.__enum__=Fh;var Bh=i["openfl.display3D.Context3DWrapMode"]={__ename__:["openfl","display3D","Context3DWrapMode"],__constructs__:["CLAMP","REPEAT"]};Bh.CLAMP=["CLAMP",0],Bh.CLAMP.toString=f,(Bh.CLAMP.__enum__=Bh).REPEAT=["REPEAT",1],Bh.REPEAT.toString=f,Bh.REPEAT.__enum__=Bh;var Lh=function(t,e,i,n){this.context=t,this.glBuffer=e,this.numIndices=i,this.bufferUsage=n};(i["openfl.display3D.IndexBuffer3D"]=Lh).__name__=["openfl","display3D","IndexBuffer3D"],Lh.prototype={dispose:function(){this.context.__deleteIndexBuffer(this)},uploadFromByteArray:function(t,e,i,n){xa.context.bindBuffer(34963,this.glBuffer);var s,r=2*n,a=e+2*i;s=null!=r?new Int16Array(r):null,t.position=a;for(var o=0;t.position<r+a;)s[o]=t.readUnsignedByte(),++o;xa.context.bufferData(34963,s,this.bufferUsage)},uploadFromVector:function(t,e,i){var n;xa.context.bindBuffer(34963,this.glBuffer),n=null!=i?new Int16Array(i):null;for(var s=e,r=e+i;s<r;){var a=s++;n[a]=t.data[a]}xa.context.bufferData(34963,n,this.bufferUsage)},uploadFromInt16Array:function(t){xa.context.bindBuffer(34963,this.glBuffer),xa.context.bufferData(34963,t,this.bufferUsage)},__class__:Lh};var kh=function(t,e){this.context=t,this.glProgram=e,this.glFCLocationMap=[],this.glVCLocationMap=[],this.glFSLocationMap=[],this.glVALocationMap=[]};(i["openfl.display3D.Program3D"]=kh).__name__=["openfl","display3D","Program3D"],kh.prototype={dispose:function(){this.context.__deleteProgram(this)},upload:function(t,e){if(xa.context.attachShader(this.glProgram,t),xa.context.attachShader(this.glProgram,e),xa.context.linkProgram(this.glProgram),0==xa.context.getProgramParameter(this.glProgram,35714)){var i=xa.context.getProgramInfoLog(this.glProgram);if(""!=i)throw new fr(i)}for(var n=0,s=xa.context.getProgramParameter(this.glProgram,35718);n<s;){var r=n++,a=xa.context.getActiveUniform(this.glProgram,r),o=xa.context.getUniformLocation(this.glProgram,a.name);if(null==this.yFlip&&"yflip"==a.name)this.yFlip=o;else{var l=$.substr(a.name,0,2),h=Q.parseInt($.substr(a.name,2,null));switch(l){case"fc":this.glFCLocationMap[h]=o;break;case"fs":this.glFSLocationMap[h]=o;break;case"vc":this.glVCLocationMap[h]=o}}}for(var _=0,u=xa.context.getProgramParameter(this.glProgram,35721);_<u;){var c=_++,f=xa.context.getActiveAttrib(this.glProgram,c),d=$.substr(f.name,0,2),p=Q.parseInt($.substr(f.name,2,null));"va"==d&&(this.glVALocationMap[p]=c)}},yFlipLoc:function(){return this.yFlip},fsUniformLocationFromAgal:function(t){return this.glFCLocationMap[t]},vsUniformLocationFromAgal:function(t){return this.glVCLocationMap[t]},fsampUniformLocationFromAgal:function(t){return this.glFSLocationMap[t]},vaUniformLocationFromAgal:function(t){return this.glVALocationMap[t]},constUniformLocationFromAgal:function(t,e){return t==Ah.VERTEX?this.glVCLocationMap[e]:this.glFCLocationMap[e]},__class__:kh};var Nh=function(t,e,i,n,s){this.context=t,this.glBuffer=e,this.numVertices=i,this.data32PerVertex=n,this.bufferUsage=s};(i["openfl.display3D.VertexBuffer3D"]=Nh).__name__=["openfl","display3D","VertexBuffer3D"],Nh.prototype={dispose:function(){this.context.__deleteVertexBuffer(this)},uploadFromByteArray:function(t,e,i,n){var s=4*this.data32PerVertex;xa.context.bindBuffer(34962,this.glBuffer);var r,a=n*s,o=e+i*s;r=null!=a?new mf(a):null,t.position=o;for(var l=0;t.position<a+o;)r[l]=t.readUnsignedByte(),++l;xa.context.bufferData(34962,r,this.bufferUsage)},uploadFromFloat32Array:function(t,e,i){xa.context.bindBuffer(34962,this.glBuffer),xa.context.bufferData(34962,t,this.bufferUsage)},uploadFromVector:function(t,e,i){xa.context.bindBuffer(34962,this.glBuffer);var n,s=i*this.data32PerVertex;if(0==e&&s==t.length)n=new mf(t.data);else{n=null!=s?new mf(s):null;for(var r=e,a=e+s;r<a;){var o=r++;n[o]=t.data[o]}}xa.context.bufferData(34962,n,this.bufferUsage),n=null},__class__:Nh};var Oh=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),v.call(this),this.context=t,this.width=i,this.height=n,this.glTexture=e};(i["openfl.display3D.textures.TextureBase"]=Oh).__name__=["openfl","display3D","textures","TextureBase"],Oh.__super__=v,Oh.prototype=n(v.prototype,{dispose:function(){this.context.__deleteTexture(this)},__class__:Oh});var Uh=function(t,e,i){Oh.call(this,t,e,i,i),this.size=i,this.mipmapsGenerated=!1,this._textures=[];for(var n=0;n<6;){var s=n++;this._textures[s]=xa.context.createTexture()}};(i["openfl.display3D.textures.CubeTexture"]=Uh).__name__=["openfl","display3D","textures","CubeTexture"],Uh.__super__=Oh,Uh.prototype=n(Oh.prototype,{glTextureAt:function(t){return this._textures[t]},uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e,i){null==i&&(i=0);var n=t.get_image().get_data(),s=this.glTexture;switch(xa.currentBoundTexture[xa.currentActiveTexture]!=s&&(xa.context.bindTexture(34067,s),null==(xa.currentBoundTexture[xa.currentActiveTexture]=s)||xa.textureStateCache.exists(s)||xa.textureStateCache.set(s,new Gs)),e){case 0:xa.context.texImage2D(34069,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 1:xa.context.texImage2D(34070,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 2:xa.context.texImage2D(34071,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 3:xa.context.texImage2D(34072,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 4:xa.context.texImage2D(34073,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;case 5:xa.context.texImage2D(34074,i,6408,t.physicalWidth,t.physicalHeight,0,6408,5121,n);break;default:throw new fr("unknown side type")}null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(34067,null),xa.currentBoundTexture[xa.currentActiveTexture]=null)},uploadFromByteArray:function(t,e,i,n){null==n&&(n=0)},__class__:Uh});var Gh=function(t,e,i,n,s){this.optimizeForRenderToTexture=i,null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),Oh.call(this,t,e,n,s)};(i["openfl.display3D.textures.RectangleTexture"]=Gh).__name__=["openfl","display3D","textures","RectangleTexture"],Gh.__super__=Oh,Gh.prototype=n(Oh.prototype,{uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=Su.fromArrayBuffer(t.get_image().get_data().buffer);this.width=t.physicalWidth,this.height=t.physicalHeight,this.uploadFromByteArray(i,0)},uploadFromByteArray:function(t,e){var i=this.glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=i&&(xa.context.bindTexture(3553,i),null==(xa.currentBoundTexture[xa.currentActiveTexture]=i)||xa.textureStateCache.exists(i)||xa.textureStateCache.set(i,new Gs)),this.optimizeForRenderToTexture&&xa.context.pixelStorei(37440,1);var n=xa.currentBoundTexture[xa.currentActiveTexture],s=xa.textureStateCache.get(n);9728!=s.h[10240]&&(xa.context.texParameteri(3553,10240,9728),s.h[10240]=9728);var r=xa.currentBoundTexture[xa.currentActiveTexture],a=xa.textureStateCache.get(r);9728!=a.h[10241]&&(xa.context.texParameteri(3553,10241,9728),a.h[10241]=9728);var o=xa.currentBoundTexture[xa.currentActiveTexture],l=xa.textureStateCache.get(o);33071!=l.h[10242]&&(xa.context.texParameteri(3553,10242,33071),l.h[10242]=33071);var h=xa.currentBoundTexture[xa.currentActiveTexture],_=xa.textureStateCache.get(h);33071!=_.h[10243]&&(xa.context.texParameteri(3553,10243,33071),_.h[10243]=33071);var u=Su.get_length(t),c=null!=u?new vf(u):null;t.position=e;for(var f=0;t.position<Su.get_length(t);)c[f]=t.readUnsignedByte(),++f;xa.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,c),null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(3553,null),xa.currentBoundTexture[xa.currentActiveTexture]=null)},__class__:Gh});var Xh=function(t,e,i,n,s){this.optimizeForRenderToTexture=i,this.mipmapsGenerated=!1,-1==Xh.internalFormat&&(Xh.internalFormat=6408),null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),Oh.call(this,t,e,n,s)};(i["openfl.display3D.textures.Texture"]=Xh).__name__=["openfl","display3D","textures","Texture"],Xh.__super__=Oh,Xh.prototype=n(Oh.prototype,{uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=t.get_image();this.width=i.width,this.height=i.height;var n=this.glTexture;xa.currentBoundTexture[xa.currentActiveTexture]!=n&&(xa.context.bindTexture(3553,n),null==(xa.currentBoundTexture[xa.currentActiveTexture]=n)||xa.textureStateCache.exists(n)||xa.textureStateCache.set(n,new Gs)),xa.context.pixelStorei(37440,1);var s=i,r=!s.get_premultiplied()&&s.get_transparent()?1:0;xa.context.pixelStorei(37441,r);var a=s.buffer.get_glCompatibleBuffer();if(null==a){var o=Xh.internalFormat,l=this.width,h=this.height,_=Xh.internalFormat,u=s.get_data();xa.context.texImage2D(3553,0,o,l,h,0,_,5121,u)}else xa.context.texImage2D(3553,0,Xh.internalFormat,Xh.internalFormat,5121,a);null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(3553,null),xa.currentBoundTexture[xa.currentActiveTexture]=null),xa.context.pixelStorei(37440,0),i.dirty=!1},uploadFromByteArray:function(t,e,i){null==i&&(i=0);var n=Su.get_length(t),s=null!=n?new vf(n):null;t.position=e;for(var r=0;t.position<Su.get_length(t);)s[r]=t.readUnsignedByte(),++r;this.uploadFromUInt8Array(s,i)},uploadFromUInt8Array:function(t,e){null==e&&(e=0);var i=this.glTexture;if(xa.currentBoundTexture[xa.currentActiveTexture]!=i&&(xa.context.bindTexture(3553,i),null==(xa.currentBoundTexture[xa.currentActiveTexture]=i)||xa.textureStateCache.exists(i)||xa.textureStateCache.set(i,new Gs)),xa.context.pixelStorei(37440,1),this.optimizeForRenderToTexture){var n=xa.currentBoundTexture[xa.currentActiveTexture],s=xa.textureStateCache.get(n);9728!=s.h[10240]&&(xa.context.texParameteri(3553,10240,9728),s.h[10240]=9728);var r=xa.currentBoundTexture[xa.currentActiveTexture],a=xa.textureStateCache.get(r);9728!=a.h[10241]&&(xa.context.texParameteri(3553,10241,9728),a.h[10241]=9728);var o=xa.currentBoundTexture[xa.currentActiveTexture],l=xa.textureStateCache.get(o);33071!=l.h[10242]&&(xa.context.texParameteri(3553,10242,33071),l.h[10242]=33071);var h=xa.currentBoundTexture[xa.currentActiveTexture],_=xa.textureStateCache.get(h);33071!=_.h[10243]&&(xa.context.texParameteri(3553,10243,33071),_.h[10243]=33071)}xa.context.texImage2D(3553,e,Xh.internalFormat,this.width,this.height,0,Xh.internalFormat,5121,t),null!=xa.currentBoundTexture[xa.currentActiveTexture]&&(xa.context.bindTexture(3553,null),xa.currentBoundTexture[xa.currentActiveTexture]=null),xa.context.pixelStorei(37440,0)},__class__:Xh});var Vh=function(t,e){null==e&&(e=0),null==t&&(t=""),this.message=t,this.errorID=e,this.name="Error"};(i["openfl.errors.Error"]=Vh).__name__=["openfl","errors","Error"],Vh.prototype={getStackTrace:function(){return Is.toString(Is.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:Vh};var zh=function(t){null==t&&(t=""),Vh.call(this,t),this.name="ArgumentError"};(i["openfl.errors.ArgumentError"]=zh).__name__=["openfl","errors","ArgumentError"],zh.__super__=Vh,zh.prototype=n(Vh.prototype,{__class__:zh});var Hh=function(t){null==t&&(t=""),Vh.call(this,t),this.name="IOError"};(i["openfl.errors.IOError"]=Hh).__name__=["openfl","errors","IOError"],Hh.__super__=Vh,Hh.prototype=n(Vh.prototype,{__class__:Hh});var Wh=function(){Hh.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};(i["openfl.errors.EOFError"]=Wh).__name__=["openfl","errors","EOFError"],Wh.__super__=Hh,Wh.prototype=n(Hh.prototype,{__class__:Wh});var Yh=function(t){null==t&&(t=""),Vh.call(this,t,0),this.name="RangeError"};(i["openfl.errors.RangeError"]=Yh).__name__=["openfl","errors","RangeError"],Yh.__super__=Vh,Yh.prototype=n(Vh.prototype,{__class__:Yh});var Kh=function(t){null==t&&(t=""),Vh.call(this,t,0),this.name="TypeError"};(i["openfl.errors.TypeError"]=Kh).__name__=["openfl","errors","TypeError"],Kh.__super__=Vh,Kh.prototype=n(Vh.prototype,{__class__:Kh});var jh=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Ge.call(this,t,e,i),this.activating=n};(i["openfl.events.ActivityEvent"]=jh).__name__=["openfl","events","ActivityEvent"],jh.__super__=Ge,jh.prototype=n(Ge.prototype,{clone:function(){var t=new jh(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:jh});var qh=function(t,e,i,n){null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Ge.call(this,t,e,i),this.text=n};(i["openfl.events.TextEvent"]=qh).__name__=["openfl","events","TextEvent"],qh.__super__=Ge,qh.prototype=n(Ge.prototype,{clone:function(){var t=new qh(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:qh});var Jh=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),qh.call(this,t,e,i,n),this.errorID=s};(i["openfl.events.ErrorEvent"]=Jh).__name__=["openfl","events","ErrorEvent"],Jh.__super__=qh,Jh.prototype=n(qh.prototype,{clone:function(){var t=new Jh(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Jh});var Zh=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};(i["openfl.events._EventDispatcher.Listener"]=Zh).__name__=["openfl","events","_EventDispatcher","Listener"],Zh.prototype={match:function(t,e){return!!Dt.compareMethods(this.callback,t)&&this.useCapture==e},callCallback:function(t){this.callback.apply(this,[t])},__class__:Zh};var Qh=function(t,e,i,n,s,r){null==r&&(r=0),null==s&&(s=!1),null==i&&(i=!1),null==e&&(e=!1),Ge.call(this,t,e,i),this.keyCode=r,this.shiftKey=s,this.relatedObject=n};(i["openfl.events.FocusEvent"]=Qh).__name__=["openfl","events","FocusEvent"],Qh.__super__=Ge,Qh.prototype=n(Ge.prototype,{clone:function(){var t=new Qh(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__class__:Qh});var $h=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),jh.call(this,t,e,i),this.fullScreen=n,this.interactive=s};(i["openfl.events.FullScreenEvent"]=$h).__name__=["openfl","events","FullScreenEvent"],$h.__super__=jh,$h.prototype=n(jh.prototype,{clone:function(){var t=new $h(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:$h});var t_=function(t,e,i,n){null==i&&(i=!1),null==e&&(e=!0),Ge.call(this,t,e,i),this.device=n};(i["openfl.events.GameInputEvent"]=t_).__name__=["openfl","events","GameInputEvent"],t_.__super__=Ge,t_.prototype=n(Ge.prototype,{clone:function(){var t=new t_(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:t_});var e_=function(t,e,i,n,s){null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),this.status=n,this.redirected=s,Ge.call(this,t,e,i)};(i["openfl.events.HTTPStatusEvent"]=e_).__name__=["openfl","events","HTTPStatusEvent"],e_.__super__=Ge,e_.prototype=n(Ge.prototype,{clone:function(){var t=new e_(this.type,this.bubbles,null,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:e_});var i_=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!0),Jh.call(this,t,e,i,n,s)};(i["openfl.events.IOErrorEvent"]=i_).__name__=["openfl","events","IOErrorEvent"],i_.__super__=Jh,i_.prototype=n(Jh.prototype,{clone:function(){var t=new i_(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:i_});var n_=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=!1),null==a&&(a=!1),null==s&&(s=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ge.call(this,t,e,i),this.charCode=n,this.keyCode=s,this.keyLocation=null!=r?r:0,this.ctrlKey=a,this.altKey=o,this.shiftKey=l,this.controlKey=h,this.commandKey=_};(i["openfl.events.KeyboardEvent"]=n_).__name__=["openfl","events","KeyboardEvent"],n_.__super__=Ge,n_.prototype=n(Ge.prototype,{clone:function(){var t=new n_(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__class__:n_});var s_=function(t,e,i){null==i&&(i=!1),null==e&&(e=!0),null==t&&(t="unset"),Ge.call(this,t,e,i)};(i["openfl.events.MouseEvent"]=s_).__name__=["openfl","events","MouseEvent"],s_.__altKey=null,s_.__buttonDown=null,s_.__commandKey=null,s_.__ctrlKey=null,s_.__shiftKey=null,s_.__create=function(t,e,i,n,s,r,a){switch(null==a&&(a=0),null==i&&(i=0),null==e&&(e=0),t){case"mouseDown":s_.__buttonDown=!0;break;case"mouseUp":s_.__buttonDown=!1}var o=s_.pool.get();return o.target=null,o.currentTarget=null,o.__isCanceled=!1,o.__isCanceledNow=!1,o.__preventDefault=!1,o.__fromPool=!0,o.__refcount=0,o.eventPhase=2,o.type=t,o.bubbles=!0,o.cancelable=!1,o.altKey=s_.__altKey,o.ctrlKey=s_.__ctrlKey,o.shiftKey=s_.__shiftKey,o.relatedObject=null,o.delta=a,o.localY=null==n?o.localX=0:(o.localX=n.x,n.y),o.buttonDown=s_.__buttonDown,o.commandKey=s_.__commandKey,o.clickCount=0,o.stageX=e,o.stageY=i,null!=r&&(o.scaledStageX=e*r.get_scaleX(),o.scaledStageY=i*r.get_scaleY()),o.target=s,o},s_.isMouseEvent=function(t){return"click"==t||"doubleClick"==t||"middleClick"==t||"middleMouseDown"==t||"middleMouseUp"==t||"mouseDown"==t||"mouseMove"==t||"mouseOut"==t||"mouseOver"==t||"mouseUp"==t||"mouseWheel"==t||"rightClick"==t||"rightMouseDown"==t||"rightMouseUp"==t||"rollOut"==t||"rollOver"==t||"touchBegin"==t||"touchMove"==t||"touchEnd"==t},s_.__super__=Ge,s_.prototype=n(Ge.prototype,{toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},release:function(){0==--this.__refcount&&this.__fromPool&&(this.__refcount=-1,this.__fromPool=!1,s_.pool.put(this))},__class__:s_});var r_=function(t,e,i,n){null==i&&(i=!1),null==e&&(e=!1),this.info=n,Ge.call(this,t,e,i)};(i["openfl.events.NetStatusEvent"]=r_).__name__=["openfl","events","NetStatusEvent"],r_.__super__=Ge,r_.prototype=n(Ge.prototype,{clone:function(){var t=new r_(this.type,this.bubbles,this.cancelable,this.info);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__class__:r_});var a_=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ge.call(this,t,e,i),this.bytesLoaded=n,this.bytesTotal=s};(i["openfl.events.ProgressEvent"]=a_).__name__=["openfl","events","ProgressEvent"],a_.__super__=Ge,a_.prototype=n(Ge.prototype,{clone:function(){var t=new a_(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:a_});var o_=function(t,e,i,n,s){null==s&&(s=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Jh.call(this,t,e,i,n,s)};(i["openfl.events.SecurityErrorEvent"]=o_).__name__=["openfl","events","SecurityErrorEvent"],o_.__super__=Jh,o_.prototype=n(Jh.prototype,{clone:function(){var t=new o_(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:o_});var l_=function(t,e,i,n,s,r,a,o,l,h,_,u,c,f,d,p,g,m,v,b){null==b&&(b=!1),null==g&&(g=0),null==p&&(p=!1),null==d&&(d=!1),null==f&&(f=!1),null==c&&(c=!1),null==u&&(u=!1),null==h&&(h=0),null==l&&(l=0),null==o&&(o=0),null==a&&(a=0),null==r&&(r=0),null==s&&(s=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!0),Ge.call(this,t,e,i),this.touchPointID=n,this.isPrimaryTouchPoint=s,this.localX=r,this.localY=a,this.sizeX=o,this.sizeY=l,this.pressure=h,this.relatedObject=_,this.ctrlKey=u,this.altKey=c,this.shiftKey=f,this.commandKey=d,this.controlKey=p};(i["openfl.events.TouchEvent"]=l_).__name__=["openfl","events","TouchEvent"],l_.__create=function(t,e,i,n,s,r){var a=new l_(t,!0,!1,0,!0,s.x,s.y,1,1,1);return a.stageX=i,a.stageY=n,a.target=r,a},l_.__super__=Ge,l_.prototype=n(Ge.prototype,{clone:function(){var t=new l_(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__class__:l_});var h_=function(){v.call(this)};(i["openfl.events.UncaughtErrorEvents"]=h_).__name__=["openfl","events","UncaughtErrorEvents"],h_.__super__=v,h_.prototype=n(v.prototype,{__class__:h_});var __=function(){};(i["openfl.filters.BitmapFilter"]=__).__name__=["openfl","filters","BitmapFilter"],__.__applyFilters=function(t,e,i){if(!i.__usingPingPongTexture)throw new fr(":TODO: unsupported mode");for(var n=0;n<t.length;){var s=t[n];++n;for(var r=s.__getCommands(i),a=0;a<r.length;){var o=r[a];switch(++a,o[1]){case 0:var l=o[9],h=o[8],_=o[7],u=o[6],c=o[5],f=o[4],d=o[3],p=o[2],g=xe.pool.get();g.x=h*Math.cos(l*Math.PI/180),g.y=h*Math.sin(l*Math.PI/180),x_.apply(e,p,d,f,c,u,_,g),xe.pool.put(g);break;case 1:var m=o[6],v=o[5],b=o[4],y=o[3],w=o[2],x=xe.pool.get();x.x=v*Math.cos(m*Math.PI/180),x.y=v*Math.sin(m*Math.PI/180),U_.apply(e,w,y,b,x),xe.pool.put(x);break;case 2:var T=o[5],S=o[4],E=o[3],I=o[2];P_.apply(e,I,E,S,T);break;case 3:var C=o[4],P=o[3],A=o[2];S_.apply(e,A,P,C);break;case 4:var D=o[5],R=o[4],M=o[3],F=o[2];I_.apply(e,F,M,R,D);break;case 5:var B=o[4],L=o[3],k=o[2];M_.apply(e,k,L,B);break;case 6:var N=o[4],O=o[3],U=o[2];D_.apply(e,U,O,N);break;case 7:var G=o[4],X=o[3],V=o[2];N_.apply(e,V,X,G);break;case 8:var z=o[4],H=o[3],W=o[2];X_.apply(e,W,H,z);break;case 9:var Y=o[5],K=o[4],j=o[3],q=o[2];X_.apply(e,q,j,K,Y);break;case 10:var J=o[5],Z=o[4],Q=o[3],$=o[2];L_.apply(e,$,Q,Z,J)}}s.dispose()}i.disposeBackBuffer()},__.__expandBounds=function(t,e){for(var i=0;i<t.length;){var n=t[i];++i,n.__growBounds(e)}},__.__getOffset=function(t,e,i){t.x=e*Math.cos(i*Math.PI/180),t.y=e*Math.sin(i*Math.PI/180)},__.prototype={clone:function(){return new __},dispose:function(){},__applyFilter:function(t,e,i,n){throw new fr(":TODO: Unsupported path. Patch code.")},equals:function(t){return!1},__growBounds:function(t){},__getCommands:function(t){return[]},__class__:__};var u_=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),this.__lookupTextureIsDirty=!0,__.call(this),this.distance=t,this.angle=e,this.colors=i,this.alphas=n,this.ratios=s,this.blurX=r,this.blurY=a,this.strength=o,this.quality=l,this.type=h,this.knockout=_};(i["openfl.filters.GradientFilter"]=u_).__name__=["openfl","filters","GradientFilter"],u_.__super__=__,u_.prototype=n(__.prototype,{dispose:function(){},equals:function(t){if(dr.__instanceof(t,u_)){var e=t;if(this.colors.length!=e.colors.length)return!1;for(var i=0,n=this.colors.length;i<n;){var s=i++;if(this.colors[s]!=e.colors[s]||this.alphas[s]!=e.alphas[s]||this.ratios[s]!=e.ratios[s])return!1}return this.distance==e.distance&&this.angle==e.angle&&this.blurX==e.blurX&&this.blurY==e.blurY&&this.strength==e.strength&&this.quality==e.quality&&this.type==e.type&&this.knockout==e.knockout}return!1},updateLookupTexture:function(){var t=this.getHash();if(this.__lookupTexture=u_.__textureCacheMap.h[t],null==this.__lookupTexture){this.__lookupTexture=new Bl(256,1),u_.__textureCacheMap.h[t]=this.__lookupTexture;for(var e=0,i=0,n=Math.max(Math.min(this.ratios[0]/255,1),0),s=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],r=(255&Math.round(255*this.alphas[0]))<<24|(255&(16777215&this.colors[0])>>>16)<<16|(255&(16777215&this.colors[0])>>>8)<<8|255&this.colors[0],a=this.__lookupTexture.physicalWidth,o=0,l=a;o<l;){var h=o++,_=(h+.5)/a;if(n<_){for(;n<_;)n=e<this.ratios.length-1?(++e,Math.max(Math.min(this.ratios[e]/255,1),0)):1;var u=0==e?0:e-1;r=(255&Math.round(255*this.alphas[e]))<<24|(255&(16777215&this.colors[e])>>>16)<<16|(255&(16777215&this.colors[e])>>>8)<<8|255&this.colors[e],s=(255&Math.round(255*this.alphas[u]))<<24|(255&(16777215&this.colors[u])>>>16)<<16|(255&(16777215&this.colors[u])>>>8)<<8|255&this.colors[u],i=Math.max(Math.min(this.ratios[u]/255,1),0)}for(var c=(_-i)/(n-i),f=Rt.toFloat((16777215&s)>>>16&255)/Rt.toFloat(255),d=Rt.toFloat((16777215&s)>>>8&255)/Rt.toFloat(255),p=Rt.toFloat(255&s)/Rt.toFloat(255),g=Rt.toFloat(s>>>24)/Rt.toFloat(255),m=255*(f+(Rt.toFloat((16777215&r)>>>16&255)/Rt.toFloat(255)-f)*c)|0,v=255*(d+(Rt.toFloat((16777215&r)>>>8&255)/Rt.toFloat(255)-d)*c)|0,b=255*(p+(Rt.toFloat(255&r)/Rt.toFloat(255)-p)*c)|0|v<<8|m<<16|(255*(g+(Rt.toFloat(r>>>24)/Rt.toFloat(255)-g)*c)|0)<<24,y=0,w=this.__lookupTexture.physicalHeight;y<w;){var x=y++;this.__lookupTexture.setPixel32(h,x,b)}}}else this.__lookupTextureIsDirty=!1},getHash:function(){for(var t=new mf(this.colors.length+this.alphas.length+this.ratios.length),e=0,i=0,n=this.colors.length;i<n;){var s=i++;t[s]=this.colors[s]}e+=this.colors.length;for(var r=0,a=this.alphas.length;r<a;){var o=r++;t[e+o]=this.alphas[o]}e+=this.alphas.length;for(var l=0,h=this.ratios.length;l<h;){var _=l++;t[e+_]=this.ratios[_]}return Os.make(ps.ofData(t.buffer))},__class__:u_});var c_=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),u_.call(this,t,e,i,n,s,r,a,o,l,h,_)};(i["openfl.filters.GradientBevelFilter"]=c_).__name__=["openfl","filters","GradientBevelFilter"],c_.__super__=u_,c_.prototype=n(u_.prototype,{clone:function(){return new c_(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__highlightBitmapData&&(this.__highlightBitmapData.dispose(),this.__highlightBitmapData=null),null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},__growBounds:function(t){var e=xe.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),xe.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__highlightBitmapData&&(this.__highlightBitmapData=Bl.__asRenderTexture()),null==this.__shadowBitmapData&&(this.__shadowBitmapData=Bl.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__highlightBitmapData.__resizeTo(t),this.__shadowBitmapData.__resizeTo(t),1<this.blurX||1<this.blurY?(e.push(F_.Blur1D(this.__highlightBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle+180)),e.push(F_.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(F_.Blur1D(this.__highlightBitmapData,this.__highlightBitmapData,this.blurY,this.quality,!1,1,0,0)),e.push(F_.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,1,0,0))):(e.push(F_.Offset(this.__highlightBitmapData,i,1,this.distance,this.angle+180)),e.push(F_.Offset(this.__shadowBitmapData,i,1,this.distance,this.angle))),e.push(F_.DestOut(this.__highlightBitmapData,this.__highlightBitmapData,this.__shadowBitmapData,this.strength)),this.knockout&&0==this.type)return e.push(F_.ColorLookup(t,this.__highlightBitmapData,this.__lookupTexture)),e;switch(e.push(F_.ColorLookup(this.__highlightBitmapData,this.__highlightBitmapData,this.__lookupTexture)),this.type){case 0:if(this.knockout)throw new fr("knockout && full combination should already have been handled");e.push(F_.Combine(t,t,this.__highlightBitmapData));break;case 1:this.knockout?e.push(F_.InnerKnockout(t,t,this.__highlightBitmapData)):e.push(F_.CombineInner(t,t,this.__highlightBitmapData));break;case 2:this.knockout?e.push(F_.OuterKnockoutTransparency(t,t,this.__highlightBitmapData,!0)):e.push(F_.Combine(t,this.__highlightBitmapData,t))}return e},__class__:c_});var f_=function(t,e,i,n,s,r,a,o,l,h,_,u){null==u&&(u=!1),null==_&&(_=1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=4),null==a&&(a=4),null==r&&(r=1),null==s&&(s=0),null==n&&(n=1),null==i&&(i=16777215),null==e&&(e=45),null==t&&(t=4),this.highlightColor=i,this.highlightAlpha=n;var c=[this.shadowColor=s,s,i,i],f=[this.shadowAlpha=r,0,0,n];c_.call(this,t,e,c,f,[0,127,128,255],a,o,l,h,_,u)};(i["openfl.filters.BevelFilter"]=f_).__name__=["openfl","filters","BevelFilter"],f_.__super__=c_,f_.prototype=n(c_.prototype,{clone:function(){return new f_(this.distance,this.angle,this.highlightColor,this.highlightAlpha,this.shadowColor,this.shadowAlpha,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},__class__:f_});var d_={};(i["openfl.filters._BitmapFilterType.BitmapFilterType_Impl_"]=d_).__name__=["openfl","filters","_BitmapFilterType","BitmapFilterType_Impl_"],d_.fromString=function(t){switch(t){case"full":return 0;case"inner":return 1;case"outer":return 2;default:return null}},d_.toString=function(t){switch(t){case 0:return"full";case 1:return"inner";case 2:return"outer";default:return null}};var p_=function(t,e,i){null==i&&(i=1),null==e&&(e=4),null==t&&(t=4),__.call(this),this.blurX=t,this.blurY=e,this.set_quality(i)};(i["openfl.filters.BlurFilter"]=p_).__name__=["openfl","filters","BlurFilter"],p_.__super__=__,p_.prototype=n(__.prototype,{clone:function(){return new p_(this.blurX,this.blurY,this.quality)},equals:function(t){if(dr.__instanceof(t,p_)){var e=t;return this.blurX==e.blurX&&this.blurY==e.blurY&&this.quality==e.quality}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){var e=[];return 0<this.blurX&&e.push(F_.Blur1D(t,t,this.blurX,this.quality,!0,1,0,0)),0<this.blurY&&e.push(F_.Blur1D(t,t,this.blurY,this.quality,!1,1,0,0)),e},set_quality:function(t){return this.quality=t},__class__:p_,__properties__:{set_quality:"set_quality"}});var g_=function(t,e){if(__.call(this),null!=t&&16!=t.length)throw new fr("Invalid length for color matrix filter multipliers");if(null!=e&&4!=e.length)throw new fr("Invalid length for color matrix filter offsets");this.multipliers=t,this.offsets=e};(i["openfl.filters.ColorMatrixFilter"]=g_).__name__=["openfl","filters","ColorMatrixFilter"],g_.__super__=__,g_.prototype=n(__.prototype,{clone:function(){return new g_(this.multipliers,this.offsets)},equals:function(t){if(dr.__instanceof(t,g_)){for(var e=t,i=0,n=this.multipliers.length;i<n;){var s=i++;if(this.multipliers[s]!=e.multipliers[s])return!1}for(var r=0,a=this.offsets.length;r<a;){var o=r++;if(this.offsets[o]!=e.offsets[o])return!1}return!0}return!1},__getCommands:function(t){return[F_.ColorTransform(t,t,this.multipliers,this.offsets)]},__class__:g_});var m_=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=!1),null==l&&(l=!1),null==o&&(o=1),null==a&&(a=1),null==r&&(r=4),null==s&&(s=4),null==n&&(n=1),null==i&&(i=0),null==e&&(e=45),null==t&&(t=4),__.call(this),this.distance=t,this.angle=e,this.color=i,this.alpha=n,this.blurX=s,this.blurY=r,this.strength=a,this.set_quality(o),this.inner=l,this.set_knockout(h),this.set_hideObject(_)};(i["openfl.filters.DropShadowFilter"]=m_).__name__=["openfl","filters","DropShadowFilter"],m_.__super__=__,m_.prototype=n(__.prototype,{clone:function(){return new m_(this.distance,this.angle,this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout,this.hideObject)},dispose:function(){null!=this.__shadowBitmapData&&(this.__shadowBitmapData.dispose(),this.__shadowBitmapData=null)},equals:function(t){if(dr.__instanceof(t,m_)){var e=t;return!(this.distance!=e.distance||this.angle!=e.angle||this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout||!e.knockout)&&this.hideObject==e.hideObject}return!1},__growBounds:function(t){var e=xe.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),xe.pool.put(e)},__getCommands:function(t){var e=[],i=t;if(null==this.__shadowBitmapData&&(this.__shadowBitmapData=Bl.__asRenderTexture()),this.__shadowBitmapData.__resizeTo(t),this.inner&&(e.push(F_.ColorTransform(this.__shadowBitmapData,t,__.__inverseAlphaMultipliers,__.__inverseAlphaOffsets)),i=this.__shadowBitmapData),1<this.blurX||1<this.blurY?(e.push(F_.Blur1D(this.__shadowBitmapData,i,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(F_.Blur1D(this.__shadowBitmapData,this.__shadowBitmapData,this.blurY,this.quality,!1,this.strength,0,0))):e.push(F_.Offset(this.__shadowBitmapData,i,this.strength,this.distance,this.angle)),this.hideObject&&!this.knockout&&!this.inner)return e.push(F_.Colorize(t,this.__shadowBitmapData,this.color,this.alpha)),e;if(e.push(F_.Colorize(this.__shadowBitmapData,this.__shadowBitmapData,this.color,this.alpha)),this.inner)this.knockout||this.hideObject?e.push(F_.InnerKnockout(t,t,this.__shadowBitmapData)):e.push(F_.CombineInner(t,t,this.__shadowBitmapData));else if(this.knockout)e.push(F_.OuterKnockout(t,t,this.__shadowBitmapData));else{if(this.hideObject)throw new fr("hideObject && !knockout && !inner combination should already have been handled");e.push(F_.Combine(t,this.__shadowBitmapData,t))}return e},set_knockout:function(t){return this.knockout=t},set_hideObject:function(t){return this.hideObject=t},set_quality:function(t){return this.quality=t},__class__:m_,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout",set_hideObject:"set_hideObject"}});var v_=function(t,e,i,n,s,r,a,o){null==o&&(o=!1),null==a&&(a=!1),null==r&&(r=1),null==s&&(s=2),null==n&&(n=6),null==i&&(i=6),null==e&&(e=1),null==t&&(t=16711680),__.call(this),0==i&&(i=1),0==n&&(n=1),this.color=t,this.alpha=e,this.blurX=i,this.blurY=n,this.strength=s,this.set_quality(r),this.inner=a,this.set_knockout(o)};(i["openfl.filters.GlowFilter"]=v_).__name__=["openfl","filters","GlowFilter"],v_.__super__=__,v_.prototype=n(__.prototype,{clone:function(){return new v_(this.color,this.alpha,this.blurX,this.blurY,this.strength,this.quality,this.inner,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},equals:function(t){if(dr.__instanceof(t,v_)){var e=t;return!(this.color!=e.color||this.alpha!=e.alpha||this.blurX!=e.blurX||this.blurY!=e.blurY||this.strength!=e.strength||this.quality!=e.quality||this.inner!=e.inner||!this.knockout)&&e.knockout}return!1},__growBounds:function(t){var e=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),i=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x+=-e,t.y+=-i,t.width+=2*e,t.height+=2*i},__getCommands:function(t){null==this.__glowBitmapData&&(this.__glowBitmapData=Bl.__asRenderTexture());var e=[],i=t;return this.__glowBitmapData.__resizeTo(t),this.inner&&(e.push(F_.ColorTransform(this.__glowBitmapData,t,__.__inverseAlphaMultipliers,__.__inverseAlphaOffsets)),i=this.__glowBitmapData),e.push(F_.Blur1D(this.__glowBitmapData,i,this.blurX,this.quality,!0,1,0,0)),e.push(F_.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(F_.Colorize(this.__glowBitmapData,this.__glowBitmapData,this.color,this.alpha)),this.knockout?this.inner?e.push(F_.InnerKnockout(t,t,this.__glowBitmapData)):e.push(F_.OuterKnockout(t,t,this.__glowBitmapData)):this.inner?e.push(F_.CombineInner(t,t,this.__glowBitmapData)):e.push(F_.Combine(t,this.__glowBitmapData,t)),e},set_knockout:function(t){return this.knockout=t},set_quality:function(t){return this.quality=t},__class__:v_,__properties__:{set_quality:"set_quality",set_knockout:"set_knockout"}});var b_=function(t,e,i,n,s,r,a,o,l,h,_){null==_&&(_=!1),null==h&&(h=1),null==l&&(l=1),null==o&&(o=1),null==a&&(a=4),null==r&&(r=4),null==e&&(e=45),null==t&&(t=4),u_.call(this,t,e,i,n,s,r,a,o,l,h,_)};(i["openfl.filters.GradientGlowFilter"]=b_).__name__=["openfl","filters","GradientGlowFilter"],b_.__super__=u_,b_.prototype=n(u_.prototype,{clone:function(){return new b_(this.distance,this.angle,this.colors,this.alphas,this.ratios,this.blurX,this.blurY,this.strength,this.quality,this.type,this.knockout)},dispose:function(){null!=this.__glowBitmapData&&(this.__glowBitmapData.dispose(),this.__glowBitmapData=null)},__growBounds:function(t){var e=xe.pool.get(),i=this.distance,n=this.angle;e.x=i*Math.cos(n*Math.PI/180),e.y=i*Math.sin(n*Math.PI/180);var s=Math.ceil((Math.ceil(this.blurX)-1)/2*this.quality),r=Math.ceil((Math.ceil(this.blurY)-1)/2*this.quality);t.x-=Math.abs(e.x)+s,t.y-=Math.abs(e.y)+r,t.width+=2*(Math.abs(e.x)+s),t.height+=2*(Math.abs(e.y)+r),xe.pool.put(e)},__getCommands:function(t){var e=[];switch(null==this.__glowBitmapData&&(this.__glowBitmapData=Bl.__asRenderTexture()),this.__lookupTextureIsDirty&&(this.updateLookupTexture(),this.__lookupTextureIsDirty=!1),this.__glowBitmapData.__resizeTo(t),e.push(F_.Blur1D(this.__glowBitmapData,t,this.blurX,this.quality,!0,1,this.distance,this.angle)),e.push(F_.Blur1D(this.__glowBitmapData,this.__glowBitmapData,this.blurY,this.quality,!1,this.strength,0,0)),e.push(F_.ColorLookup(this.__glowBitmapData,this.__glowBitmapData,this.__lookupTexture)),this.type){case 0:e.push(F_.Combine(t,t,this.__glowBitmapData));break;case 1:e.push(F_.CombineInner(t,t,this.__glowBitmapData));break;case 2:e.push(F_.Combine(t,this.__glowBitmapData,t))}return e},__class__:b_});var y_=function(){this.__uFetchCount=new ch("float",0),this.__uTexCoordDelta=new ch("vec2",0),this.__uTexCoordOffset=new ch("vec2",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform vec2 uTexCoordDelta;","uniform float uFetchCount;","uniform float uWeightTable[32];","void main(void)","{","vec2 texcoord_delta = uTexCoordDelta / "+uh.uTextureSize+";","int fetch_count = int(uFetchCount);","vec4 result = vec4(0.0);","for(int i = 0; i < 32; ++i){","    if (i >= fetch_count) break;","    result += texture2D("+uh.uSampler+", "+uh.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];","}","\tgl_FragColor = clamp(result, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+uh.uTextureSize+";",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+" - texcoord_offset;",uh.vColor+" = "+uh.aColor+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uTexCoordDelta",this.__uTexCoordDelta),this.data.set("uFetchCount",this.__uFetchCount),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+uh.uTextureSize+";\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+" - texcoord_offset;\n"+uh.vColor+" = "+uh.aColor+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec2 uTexCoordDelta;\nuniform float uFetchCount;\nuniform float uWeightTable[32];\nvoid main(void)\n{\nvec2 texcoord_delta = uTexCoordDelta / "+uh.uTextureSize+";\nint fetch_count = int(uFetchCount);\nvec4 result = vec4(0.0);\nfor(int i = 0; i < 32; ++i){\n    if (i >= fetch_count) break;\n    result += texture2D("+uh.uSampler+", "+uh.vTexCoord+" + texcoord_delta * float(i)) * uWeightTable[i];\n}\n\tgl_FragColor = clamp(result, 0.0, 1.0);\n}")};(i["openfl.filters.commands._Blur1DCommand.BlurShader"]=y_).__name__=["openfl","filters","commands","_Blur1DCommand","BlurShader"],y_.__super__=uh,y_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordDelta:function(){return this.__uTexCoordDelta.value},set_uTexCoordDelta:function(t){var e=this.__uTexCoordDelta;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uFetchCount:function(){return this.__uFetchCount.value[0]},set_uFetchCount:function(t){return this.__uFetchCount.value[0]=t},__class__:y_,__properties__:{set_uFetchCount:"set_uFetchCount",get_uFetchCount:"get_uFetchCount",set_uTexCoordDelta:"set_uTexCoordDelta",get_uTexCoordDelta:"get_uTexCoordDelta",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var w_=function(){};(i["openfl.filters.commands.CommandHelper"]=w_).__name__=["openfl","filters","commands","CommandHelper"],w_.vertexArray=null,w_.shaderTable=null,w_.addShader=function(t){null==w_.shaderTable&&(w_.shaderTable=[]),w_.shaderTable.push(t)},w_.initialize=function(t){var e=[];e.push(new Cl(2,5126,!1,"openfl_aPosition")),e.push(new Cl(2,5126,!1,"openfl_aTexCoord0")),w_.vertexArray=new Il(e,64,!0);var i=w_.vertexArray.buffer,n=null!=i?new mf(i,0):null;if(n[0]=0,n[1]=0,n[4]=1,n[5]=0,n[8]=0,n[9]=1,n[12]=1,n[13]=1,n[2]=0,n[3]=0,n[6]=1,n[7]=0,n[10]=0,n[11]=1,n[14]=1,n[15]=1,w_.vertexArray.setContext(t.gl,n),null!=w_.shaderTable)for(var s=0,r=w_.shaderTable;s<r.length;){var a=r[s];++s,a.__init(t.gl)}},w_.apply=function(t,e,i,n,s,r){e.__usingPingPongTexture&&e.__pingPongTexture.swap(),s&&(e.__pingPongTexture.useOldTexture=!0),e.__pushFrameBuffer(t,!0,!0,!0);var a=t.gl;if(null!=n){n.__init(a),n.__shader.wrapS=n.repeatX,n.__shader.wrapT=n.repeatY,n.__shader.smooth=n.smooth,n.__shader.blendMode=n.blendMode;var o=n.data.get(uh.uObjectSize),l=n.data.get(uh.uTextureSize),h=n.data.get("openfl_uScaleVector");if(null!=i)if(o.value[0]=i.width,o.value[1]=i.height,null!=i.__pingPongTexture){var _=i.__pingPongTexture,u=_.__swapped?_.__texture1:_.__texture0;l.value[0]=u.__width,l.value[1]=u.__height,h.value[0]=u.__uvData.x1,h.value[1]=u.__uvData.y2}else l.value[0]=i.width,l.value[1]=i.height,h.value[0]=i.__uvData.x1,h.value[1]=i.__uvData.y2;else o.value[0]=0,o.value[1]=0,l.value[0]=0,l.value[1]=0,h.value[0]=0,h.value[1]=0}var c=n.__shader;t.shaderManager.setShader(c);var f=w_.vertexArray;f.gl;xa.context.bindBuffer(f.gl.ARRAY_BUFFER,f.glBuffer),c.bindVertexArray(w_.vertexArray);var d=c.blendMode;null==d&&(d=10),t.blendModeManager.setBlendMode(d);var p=a.TEXTURE0;p!=xa.currentActiveTexture&&(xa.context.activeTexture(p),xa.currentActiveTexture=p);var g=a.TEXTURE_2D,m=i.getTexture(a);xa.currentBoundTexture[xa.currentActiveTexture]!=m&&(xa.context.bindTexture(g,m),null==(xa.currentBoundTexture[xa.currentActiveTexture]=m)||xa.textureStateCache.exists(m)||xa.textureStateCache.set(m,new Gs));var v=a.TEXTURE_2D,b=a.TEXTURE_MAG_FILTER,y=a.LINEAR,w=xa.currentBoundTexture[xa.currentActiveTexture],x=xa.textureStateCache.get(w);x.h[b]!=y&&(xa.context.texParameteri(v,b,y),x.h[b]=y);var T=a.TEXTURE_2D,S=a.TEXTURE_MIN_FILTER,E=a.LINEAR,I=xa.currentBoundTexture[xa.currentActiveTexture],C=xa.textureStateCache.get(I);C.h[S]!=E&&(xa.context.texParameteri(T,S,E),C.h[S]=E);var P=a.TEXTURE_2D,A=a.TEXTURE_WRAP_S,D=c.wrapS,R=xa.currentBoundTexture[xa.currentActiveTexture],M=xa.textureStateCache.get(R);M.h[A]!=D&&(xa.context.texParameteri(P,A,D),M.h[A]=D);var F=a.TEXTURE_2D,B=a.TEXTURE_WRAP_T,L=c.wrapT,k=xa.currentBoundTexture[xa.currentActiveTexture],N=xa.textureStateCache.get(k);N.h[B]!=L&&(xa.context.texParameteri(F,B,L),N.h[B]=L),t.activeTextures=1,c.applyData(n.data,t),null!=r&&r(t),xa.context.drawArrays(a.TRIANGLE_STRIP,0,4),ll.popFramebuffer(t,null),e.__imageShouldBeSynced=!0;var O=e.__pingPongTexture,U=(O.__swapped?O.__texture1:O.__texture0).__uvData;e.__createUVs(U.x0,U.y0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3),e.__isValid=!0,e.__usingPingPongTexture=!0,s&&(e.__pingPongTexture.useOldTexture=!1)},w_.prepareShader=function(t,e,i){if(null!=e){e.__init(t),e.__shader.wrapS=e.repeatX,e.__shader.wrapT=e.repeatY,e.__shader.smooth=e.smooth,e.__shader.blendMode=e.blendMode;var n=e.data.get(uh.uObjectSize),s=e.data.get(uh.uTextureSize),r=e.data.get("openfl_uScaleVector");if(null!=i)if(n.value[0]=i.width,n.value[1]=i.height,null!=i.__pingPongTexture){var a=i.__pingPongTexture,o=a.__swapped?a.__texture1:a.__texture0;s.value[0]=o.__width,s.value[1]=o.__height,r.value[0]=o.__uvData.x1,r.value[1]=o.__uvData.y2}else s.value[0]=i.width,s.value[1]=i.height,r.value[0]=i.__uvData.x1,r.value[1]=i.__uvData.y2;else n.value[0]=0,n.value[1]=0,s.value[0]=0,s.value[1]=0,r.value[0]=0,r.value[1]=0}};var x_=function(){};(i["openfl.filters.commands.Blur1DCommand"]=x_).__name__=["openfl","filters","commands","Blur1DCommand"],x_.apply=function(t,e,i,n,s,r,a,o){var l,h,_,u=Math.ceil(n),c=(u-1)/2;h=r?(l=n*s-1,0):(l=0,n*s-1);for(var f=u+0*(u-1),d=null!=f?new mf(f):null,p=1/u,g=0,m=u;g<m;){d[g++]=p}for(var v=1,b=s;v<b;){var y=v++,w=d,x=d.length;d=null!=(f=u+y*(u-1))?new mf(f):null;for(var T=2*c|0,S=0,E=f;S<E;)for(var I=S++,C=d[I]=0,P=u;C<P;){var A=I-T+C++;if(0<=A&&A<x)d[I]+=p*w[A]}}var D=(_=d).length,R=D;if(32<D){for(var M=D-32+1>>1,F=0,B=0,L=(_=_.subarray(M,D-M)).length;B<L;){var k=B++;F+=_[k]}for(var N=a/F,O=0,U=_.length;O<U;){var G=O++;_[G]*=N}D=_.length}else for(var X=0,V=_.length;X<V;){var z=X++;_[z]*=a}x_.__shader.__uFetchCount.value[0]=D,x_.__shader.__uTexCoordDelta.value[1]=1<D?(x_.__shader.__uTexCoordDelta.value[0]=l/(R-1),h/(R-1)):x_.__shader.__uTexCoordDelta.value[0]=0,x_.__shader.__uTexCoordOffset.value[0]=.5*D/R*l+o.x,x_.__shader.__uTexCoordOffset.value[1]=.5*D/R*h+o.y,w_.apply(t,e,i,x_.__shader,i==e,function(t){x_.preDrawCallback(t,_)})},x_.preDrawCallback=function(t,e){t.gl;var i=x_.__shader.__shader.getUniformLocation("uWeightTable");xa.context.uniform1fv(i,e)};var T_=function(){this.__uColorLookupSampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uColorLookupSampler;","void main(void)","{","float a = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;","gl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColorLookupSampler",this.__uColorLookupSampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uColorLookupSampler;\nvoid main(void)\n{\nfloat a = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;\ngl_FragColor = texture2D(uColorLookupSampler, vec2(a, 0.5));\n}")};(i["openfl.filters.commands._ColorLookupCommand.ColorLookupShader"]=T_).__name__=["openfl","filters","commands","_ColorLookupCommand","ColorLookupShader"],T_.__super__=uh,T_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColorLookupSampler:function(){return this.__uColorLookupSampler.bitmap},set_uColorLookupSampler:function(t){var e=this.__uColorLookupSampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:T_,__properties__:{set_uColorLookupSampler:"set_uColorLookupSampler",get_uColorLookupSampler:"get_uColorLookupSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var S_=function(){};(i["openfl.filters.commands.ColorLookupCommand"]=S_).__name__=["openfl","filters","commands","ColorLookupCommand"],S_.apply=function(t,e,i,n){var s=S_.__shader.__uColorLookupSampler;if(4!=s.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");s.bitmap=n,w_.apply(t,e,i,S_.__shader,i==e)};var E_=function(){this.__uOffsets=new ch("vec4",0),this.__uMultipliers=new ch("mat4",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform mat4 uMultipliers;","uniform vec4 uOffsets;","void main(void) {","\tvec4 color = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);","\tcolor = uOffsets + color * uMultipliers;","\tcolor = vec4(color.rgb * color.a, color.a);","\tgl_FragColor = color;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uMultipliers",this.__uMultipliers),this.data.set("uOffsets",this.__uOffsets),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform mat4 uMultipliers;\nuniform vec4 uOffsets;\nvoid main(void) {\n\tvec4 color = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\n\tcolor = vec4(color.rgb / (color.a + 0.000001), color.a);\n\tcolor = uOffsets + color * uMultipliers;\n\tcolor = vec4(color.rgb * color.a, color.a);\n\tgl_FragColor = color;\n}")};(i["openfl.filters.commands._ColorTransformCommand.ColorTransformShader"]=E_).__name__=["openfl","filters","commands","_ColorTransformCommand","ColorTransformShader"],E_.__super__=uh,E_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uMultipliers:function(){return this.__uMultipliers.value},set_uMultipliers:function(t){var e=this.__uMultipliers;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uOffsets:function(){return this.__uOffsets.value},set_uOffsets:function(t){var e=this.__uOffsets;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:E_,__properties__:{set_uOffsets:"set_uOffsets",get_uOffsets:"get_uOffsets",set_uMultipliers:"set_uMultipliers",get_uMultipliers:"get_uMultipliers",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var I_=function(){};(i["openfl.filters.commands.ColorTransformCommand"]=I_).__name__=["openfl","filters","commands","ColorTransformCommand"],I_.apply=function(t,e,i,n,s){var r=I_.__shader.__uMultipliers;if(4==r.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");r.value=n;var a=I_.__shader.__uOffsets;if(4==a.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");a.value=s,w_.apply(t,e,i,I_.__shader,i==e)};var C_=function(){this.__uColor=new ch("vec4",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform vec4 uColor;","void main(void)","{","float a = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;","a = clamp(a * uColor.a, 0.0, 1.0);","gl_FragColor = vec4(uColor.rgb * a, a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uColor",this.__uColor),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform vec4 uColor;\nvoid main(void)\n{\nfloat a = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;\na = clamp(a * uColor.a, 0.0, 1.0);\ngl_FragColor = vec4(uColor.rgb * a, a);\n}")};(i["openfl.filters.commands._ColorizeCommand.ColorizeShader"]=C_).__name__=["openfl","filters","commands","_ColorizeCommand","ColorizeShader"],C_.__super__=uh,C_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uColor:function(){return this.__uColor.value},set_uColor:function(t){var e=this.__uColor;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},__class__:C_,__properties__:{set_uColor:"set_uColor",get_uColor:"get_uColor",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var P_=function(){};(i["openfl.filters.commands.ColorizeCommand"]=P_).__name__=["openfl","filters","commands","ColorizeCommand"],P_.apply=function(t,e,i,n,s){P_.__shader.__uColor.value[0]=(n>>16&255)/255,P_.__shader.__uColor.value[1]=(n>>8&255)/255,P_.__shader.__uColor.value[2]=(255&n)/255,P_.__shader.__uColor.value[3]=s,w_.apply(t,e,i,P_.__shader,i==e)};var A_=function(){this.__uSource1Sampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");","gl_FragColor = src2 + src1 * (1.0 - src2.a);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");\ngl_FragColor = src2 + src1 * (1.0 - src2.a);\n}")};(i["openfl.filters.commands._CombineCommand.CombineShader"]=A_).__name__=["openfl","filters","commands","_CombineCommand","CombineShader"],A_.__super__=uh,A_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:A_,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var D_=function(){};(i["openfl.filters.commands.CombineCommand"]=D_).__name__=["openfl","filters","commands","CombineCommand"],D_.apply=function(t,e,i,n){var s=D_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,w_.apply(t,e,n,D_.__shader,i==e||n==e)};var R_=function(){this.__uSource1Sampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","void main(void)","{","vec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");","gl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nvoid main(void)\n{\nvec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");\ngl_FragColor = clamp(src1 * (1.0 - src2.a) + src1.a * src2, 0.0, 1.0);\n}")};(i["openfl.filters.commands._CombineInnerCommand.CombineInnerShader"]=R_).__name__=["openfl","filters","commands","_CombineInnerCommand","CombineInnerShader"],R_.__super__=uh,R_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},__class__:R_,__properties__:{set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var M_=function(){};(i["openfl.filters.commands.CombineInnerCommand"]=M_).__name__=["openfl","filters","commands","CombineInnerCommand"],M_.apply=function(t,e,i,n){var s=M_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,w_.apply(t,e,n,M_.__shader,i==e||n==e)};var F_=i["openfl.filters.commands.CommandType"]={__ename__:["openfl","filters","commands","CommandType"],__constructs__:["Blur1D","Offset","Colorize","ColorLookup","ColorTransform","CombineInner","Combine","InnerKnockout","OuterKnockout","OuterKnockoutTransparency","DestOut"]};F_.Blur1D=function(t,e,i,n,s,r,a,o){var l=["Blur1D",0,t,e,i,n,s,r,a,o];return l.__enum__=F_,l.toString=f,l},F_.Offset=function(t,e,i,n,s){var r=["Offset",1,t,e,i,n,s];return r.__enum__=F_,r.toString=f,r},F_.Colorize=function(t,e,i,n){var s=["Colorize",2,t,e,i,n];return s.__enum__=F_,s.toString=f,s},F_.ColorLookup=function(t,e,i){var n=["ColorLookup",3,t,e,i];return n.__enum__=F_,n.toString=f,n},F_.ColorTransform=function(t,e,i,n){var s=["ColorTransform",4,t,e,i,n];return s.__enum__=F_,s.toString=f,s},F_.CombineInner=function(t,e,i){var n=["CombineInner",5,t,e,i];return n.__enum__=F_,n.toString=f,n},F_.Combine=function(t,e,i){var n=["Combine",6,t,e,i];return n.__enum__=F_,n.toString=f,n},F_.InnerKnockout=function(t,e,i){var n=["InnerKnockout",7,t,e,i];return n.__enum__=F_,n.toString=f,n},F_.OuterKnockout=function(t,e,i){var n=["OuterKnockout",8,t,e,i];return n.__enum__=F_,n.toString=f,n},F_.OuterKnockoutTransparency=function(t,e,i,n){var s=["OuterKnockoutTransparency",9,t,e,i,n];return s.__enum__=F_,s.toString=f,s},F_.DestOut=function(t,e,i,n){var s=["DestOut",10,t,e,i,n];return s.__enum__=F_,s.toString=f,s};var B_=function(){this.__uStrength=new ch("float",0),this.__uShadowSourceSampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uShadowSourceSampler;","uniform float uStrength;","void main(void)","{","float highlight = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;","float shadow = texture2D(uShadowSourceSampler, "+uh.vTexCoord+").a;","float high = clamp((highlight - shadow) * uStrength, 0., 1.);","float low = clamp((shadow - highlight) * uStrength, 0., 1.);","gl_FragColor = vec4(0.5 * ( 1. + high - low ));","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uShadowSourceSampler",this.__uShadowSourceSampler),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uShadowSourceSampler;\nuniform float uStrength;\nvoid main(void)\n{\nfloat highlight = texture2D("+uh.uSampler+", "+uh.vTexCoord+").a;\nfloat shadow = texture2D(uShadowSourceSampler, "+uh.vTexCoord+").a;\nfloat high = clamp((highlight - shadow) * uStrength, 0., 1.);\nfloat low = clamp((shadow - highlight) * uStrength, 0., 1.);\ngl_FragColor = vec4(0.5 * ( 1. + high - low ));\n}")};(i["openfl.filters.commands._DestOutCommand.DestOutShader"]=B_).__name__=["openfl","filters","commands","_DestOutCommand","DestOutShader"],B_.__super__=uh,B_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uShadowSourceSampler:function(){return this.__uShadowSourceSampler.bitmap},set_uShadowSourceSampler:function(t){var e=this.__uShadowSourceSampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:B_,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uShadowSourceSampler:"set_uShadowSourceSampler",get_uShadowSourceSampler:"get_uShadowSourceSampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var L_=function(){};(i["openfl.filters.commands.DestOutCommand"]=L_).__name__=["openfl","filters","commands","DestOutCommand"],L_.apply=function(t,e,i,n,s){var r=L_.__shader.__uShadowSourceSampler;if(4!=r.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");r.bitmap=n,L_.__shader.__uStrength.value[0]=s,w_.apply(t,e,i,L_.__shader,i==e||n==e)};var k_=function(){this.__outer=new ch("float",0),this.__uSource1Sampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float outer;","void main(void)","{","vec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");","src2 *= src1.a;","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("outer",this.__outer),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float outer;\nvoid main(void)\n{\nvec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");\nsrc2 *= src1.a;\ngl_FragColor = src2;\n}")};(i["openfl.filters.commands._InnerKnockoutCommand.InnerKnockoutShader"]=k_).__name__=["openfl","filters","commands","_InnerKnockoutCommand","InnerKnockoutShader"],k_.__super__=uh,k_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_outer:function(){return this.__outer.value[0]},set_outer:function(t){return this.__outer.value[0]=t},__class__:k_,__properties__:{set_outer:"set_outer",get_outer:"get_outer",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var N_=function(){};(i["openfl.filters.commands.InnerKnockoutCommand"]=N_).__name__=["openfl","filters","commands","InnerKnockoutCommand"],N_.apply=function(t,e,i,n){var s=N_.__shader.__uSource1Sampler;if(4!=s.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");s.bitmap=i,w_.apply(t,e,n,N_.__shader,i==e||n==e)};var O_=function(){this.__uStrength=new ch("float",0),this.__uTexCoordOffset=new ch("vec2",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform float uStrength;","void main(void)","{","vec4 result = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","gl_FragColor = clamp(result * uStrength, 0.0, 1.0);","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","uniform vec2 uTexCoordOffset;","void main(void)","{","vec2 texcoord_offset = uTexCoordOffset / "+uh.uTextureSize+";",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+" - texcoord_offset;",uh.vColor+" = "+uh.aColor+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uTexCoordOffset",this.__uTexCoordOffset),this.data.set("uStrength",this.__uStrength),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nuniform vec2 uTexCoordOffset;\nvoid main(void)\n{\nvec2 texcoord_offset = uTexCoordOffset / "+uh.uTextureSize+";\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+" - texcoord_offset;\n"+uh.vColor+" = "+uh.aColor+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform float uStrength;\nvoid main(void)\n{\nvec4 result = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\ngl_FragColor = clamp(result * uStrength, 0.0, 1.0);\n}")};(i["openfl.filters.commands._OffsetCommand.OffsetShader"]=O_).__name__=["openfl","filters","commands","_OffsetCommand","OffsetShader"],O_.__super__=uh,O_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uTexCoordOffset:function(){return this.__uTexCoordOffset.value},set_uTexCoordOffset:function(t){var e=this.__uTexCoordOffset;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uStrength:function(){return this.__uStrength.value[0]},set_uStrength:function(t){return this.__uStrength.value[0]=t},__class__:O_,__properties__:{set_uStrength:"set_uStrength",get_uStrength:"get_uStrength",set_uTexCoordOffset:"set_uTexCoordOffset",get_uTexCoordOffset:"get_uTexCoordOffset",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var U_=function(){};(i["openfl.filters.commands.OffsetCommand"]=U_).__name__=["openfl","filters","commands","OffsetCommand"],U_.apply=function(t,e,i,n,s){U_.__shader.__uTexCoordOffset.value[0]=s.x,U_.__shader.__uTexCoordOffset.value[1]=s.y,U_.__shader.__uStrength.value[0]=n,w_.apply(t,e,i,U_.__shader,i==e)};var G_=function(){this.__allow_transparency=new ch("float",0),this.__uSource1Sampler=new ch("sampler2D",0),this.__openfl_uScaleVector=new ch("vec2",0),this.fragment=["uniform sampler2D uSource1Sampler;","uniform float allow_transparency;","void main(void)","{","vec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");","vec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");","src2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );","gl_FragColor = src2;","}"],this.vertex=["uniform vec2 openfl_uScaleVector;","void main(void)","{",uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";","gl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);","}"],uh.call(this),w_.addShader(this),this.data.set("openfl_uScaleVector",this.__openfl_uScaleVector),this.data.set("uSource1Sampler",this.__uSource1Sampler),this.data.set("allow_transparency",this.__allow_transparency),this.__buildVertexCode("uniform vec2 openfl_uScaleVector;\nvoid main(void)\n{\n"+uh.vTexCoord+" = openfl_uScaleVector * "+uh.aTexCoord+";\ngl_Position = vec4("+uh.aPosition+" * 2.0 - 1.0, 0.0, 1.0);\n}"),this.__buildFragmentCode("uniform sampler2D uSource1Sampler;\nuniform float allow_transparency;\nvoid main(void)\n{\nvec4 src2 = texture2D("+uh.uSampler+", "+uh.vTexCoord+");\nvec4 src1 = texture2D(uSource1Sampler, "+uh.vTexCoord+");\nsrc2 *=  1. - ( allow_transparency * src1.a + ( 1. - allow_transparency ) * step(0.0001, src1.a) );\ngl_FragColor = src2;\n}")};(i["openfl.filters.commands._OuterKnockoutCommand.OuterKnockoutShader"]=G_).__name__=["openfl","filters","commands","_OuterKnockoutCommand","OuterKnockoutShader"],G_.__super__=uh,G_.prototype=n(uh.prototype,{get_openfl_uScaleVector:function(){return this.__openfl_uScaleVector.value},set_openfl_uScaleVector:function(t){var e=this.__openfl_uScaleVector;if(4==e.internalType)throw new fr("This parameter doesn't accept a value, use bitmap instead");return e.value=t},get_uSource1Sampler:function(){return this.__uSource1Sampler.bitmap},set_uSource1Sampler:function(t){var e=this.__uSource1Sampler;if(4!=e.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");return e.bitmap=t},get_allow_transparency:function(){return this.__allow_transparency.value[0]},set_allow_transparency:function(t){return this.__allow_transparency.value[0]=t},__class__:G_,__properties__:{set_allow_transparency:"set_allow_transparency",get_allow_transparency:"get_allow_transparency",set_uSource1Sampler:"set_uSource1Sampler",get_uSource1Sampler:"get_uSource1Sampler",set_openfl_uScaleVector:"set_openfl_uScaleVector",get_openfl_uScaleVector:"get_openfl_uScaleVector"}});var X_=function(){};(i["openfl.filters.commands.OuterKnockoutCommand"]=X_).__name__=["openfl","filters","commands","OuterKnockoutCommand"],X_.apply=function(t,e,i,n,s){null==s&&(s=!0);var r=X_.__shader.__uSource1Sampler;if(4!=r.internalType)throw new fr("This parameter doesn't accept a bitmap, use value instead");r.bitmap=i,X_.__shader.__allow_transparency.value[0]=s?1:0,w_.apply(t,e,n,X_.__shader,i==e||n==e)};var V_=function(t){if(null!=t&&16==t.length)this.rawData=t;else{var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=new lt;i.length=e.length,i.fixed=!0,i.data=e.slice(0),this.rawData=i}};(i["openfl.geom.Matrix3D"]=V_).__name__=["openfl","geom","Matrix3D"],V_.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var s=n*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=[r*i,-a*i,0,0,a*i,r*i,0,0,0,0,1,0,t,e,0,1],l=new lt;return l.length=o.length,l.fixed=!0,l.data=o.slice(0),new V_(l)},V_.createABCD=function(t,e,i,n,s,r){var a=[t,e,0,0,i,n,0,0,0,0,1,0,s,r,0,1],o=new lt;return o.length=a.length,o.fixed=!0,o.data=a.slice(0),new V_(o)},V_.createOrtho=function(t,e,i,n,s,r){var a=1/(e-t),o=1/(n-i),l=1/(r-s),h=[2*a,0,0,0,0,2*o,0,0,0,0,-2*l,0,-(t+e)*a,-(i+n)*o,-(s+r)*l,1],_=new lt;return _.length=h.length,_.fixed=!0,_.data=h.slice(0),new V_(_)},V_.interpolate=function(t,e,i){for(var n=new V_,s=0;s<16;){var r=s++,a=n.rawData,o=t.rawData.data[r]+(e.rawData.data[r]-t.rawData.data[r])*i;if(!a.fixed&&(r>=a.length&&(a.length=r+1),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);Hs.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[r]=o}return n},V_.__getAxisRotation=function(t,e,i,n){var s=new V_,r=new Y_(t,e,i),a=-n*(Math.PI/180),o=Math.cos(a),l=Math.sin(a),h=1-o,_=s.rawData,u=o+r.x*r.x*h;if(!_.fixed&&(_.length<=0&&(_.length=1),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);Hs.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[0]=u;var d=s.rawData,p=o+r.y*r.y*h;if(!d.fixed&&(d.length<=5&&(d.length=6),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Hs.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[5]=p;var v=s.rawData,b=o+r.z*r.z*h;if(!v.fixed&&(v.length<=10&&(v.length=11),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Hs.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[10]=b;var x=r.x*r.y*h,T=r.z*l,S=s.rawData;if(!S.fixed&&(S.length<=4&&(S.length=5),S.data.length<S.length)){var E=S.data.length+10,I=new Array(E);Hs.blit(S.data,0,I,0,S.data.length),S.data=I}S.data[4]=x+T;var C=s.rawData;if(!C.fixed&&(C.length<=1&&(C.length=2),C.data.length<C.length)){var P=C.data.length+10,A=new Array(P);Hs.blit(C.data,0,A,0,C.data.length),C.data=A}C.data[1]=x-T,x=r.x*r.z*h,T=r.y*l;var D=s.rawData;if(!D.fixed&&(D.length<=8&&(D.length=9),D.data.length<D.length)){var R=D.data.length+10,M=new Array(R);Hs.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[8]=x-T;var F=s.rawData;if(!F.fixed&&(F.length<=2&&(F.length=3),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Hs.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[2]=x+T,x=r.y*r.z*h,T=r.x*l;var k=s.rawData;if(!k.fixed&&(k.length<=9&&(k.length=10),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);Hs.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[9]=x+T;var U=s.rawData;if(!U.fixed&&(U.length<=6&&(U.length=7),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);Hs.blit(U.data,0,X,0,U.data.length),U.data=X}return U.data[6]=x-T,s},V_.prototype={append:function(t){var e=this.rawData.data[0],i=this.rawData.data[4],n=this.rawData.data[8],s=this.rawData.data[12],r=this.rawData.data[1],a=this.rawData.data[5],o=this.rawData.data[9],l=this.rawData.data[13],h=this.rawData.data[2],_=this.rawData.data[6],u=this.rawData.data[10],c=this.rawData.data[14],f=this.rawData.data[3],d=this.rawData.data[7],p=this.rawData.data[11],g=this.rawData.data[15],m=t.rawData.data[0],v=t.rawData.data[4],b=t.rawData.data[8],y=t.rawData.data[12],w=t.rawData.data[1],x=t.rawData.data[5],T=t.rawData.data[9],S=t.rawData.data[13],E=t.rawData.data[2],I=t.rawData.data[6],C=t.rawData.data[10],P=t.rawData.data[14],A=t.rawData.data[3],D=t.rawData.data[7],R=t.rawData.data[11],M=t.rawData.data[15],F=this.rawData;if(!F.fixed&&(F.length<=0&&(F.length=1),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Hs.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[0]=e*m+r*v+h*b+f*y;var k=this.rawData;if(!k.fixed&&(k.length<=1&&(k.length=2),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);Hs.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[1]=e*w+r*x+h*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);Hs.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*E+r*I+h*C+f*P;var V=this.rawData;if(!V.fixed&&(V.length<=3&&(V.length=4),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);Hs.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[3]=e*A+r*D+h*R+f*M;var W=this.rawData;if(!W.fixed&&(W.length<=4&&(W.length=5),W.data.length<W.length)){var Y=W.data.length+10,K=new Array(Y);Hs.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[4]=i*m+a*v+_*b+d*y;var j=this.rawData;if(!j.fixed&&(j.length<=5&&(j.length=6),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);Hs.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[5]=i*w+a*x+_*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Hs.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*E+a*I+_*C+d*P;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Hs.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*A+a*D+_*R+d*M;var nt=this.rawData;if(!nt.fixed&&(nt.length<=8&&(nt.length=9),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);Hs.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[8]=n*m+o*v+u*b+p*y;var at=this.rawData;if(!at.fixed&&(at.length<=9&&(at.length=10),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);Hs.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[9]=n*w+o*x+u*T+p*S;var ht=this.rawData;if(!ht.fixed&&(ht.length<=10&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);Hs.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=n*E+o*I+u*C+p*P;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);Hs.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=n*A+o*D+u*R+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);Hs.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=s*m+l*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);Hs.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=s*w+l*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);Hs.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=s*E+l*I+c*C+g*P;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Et=St.data.length+10,It=new Array(Et);Hs.blit(St.data,0,It,0,St.data.length),St.data=It}St.data[15]=s*A+l*D+c*R+g*M},appendRotation:function(t,e,i){var n=V_.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var s=i;n.appendTranslation(s.x,s.y,s.z)}this.append(n)},appendScale:function(t,e,i){var n=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],s=new lt;s.length=n.length,s.fixed=!0,s.data=n.slice(0),this.append(new V_(s))},appendTranslation:function(t,e,i){var n=this.rawData,s=n.data[12]+t;if(!n.fixed&&(n.length<=12&&(n.length=13),n.data.length<n.length)){var r=n.data.length+10,a=new Array(r);Hs.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[12]=s;var o=this.rawData,l=o.data[13]+e;if(!o.fixed&&(o.length<=13&&(o.length=14),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);Hs.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[13]=l;var u=this.rawData,c=u.data[14]+i;if(!u.fixed&&(u.length<=14&&(u.length=15),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);Hs.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[14]=c},clone:function(){var t=this.rawData,e=new lt;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);return e.data=n,Hs.blit(t.data,0,e.data,0,t.length),new V_(e)},copyColumnFrom:function(t,e){switch(t){case 0:var i=this.rawData,n=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var s=i.data.length+10,r=new Array(s);Hs.blit(i.data,0,r,0,i.data.length),i.data=r}i.data[0]=n;var a=this.rawData,o=e.y;if(!a.fixed&&(a.length<=1&&(a.length=2),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);Hs.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[1]=o;var _=this.rawData,u=e.z;if(!_.fixed&&(_.length<=2&&(_.length=3),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);Hs.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[2]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=3&&(d.length=4),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Hs.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[3]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=4&&(v.length=5),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Hs.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[4]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);Hs.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[5]=T;var I=this.rawData,C=e.z;if(!I.fixed&&(I.length<=6&&(I.length=7),I.data.length<I.length)){var P=I.data.length+10,A=new Array(P);Hs.blit(I.data,0,A,0,I.data.length),I.data=A}I.data[6]=C;var D=this.rawData,R=e.w;if(!D.fixed&&(D.length<=7&&(D.length=8),D.data.length<D.length)){var M=D.data.length+10,F=new Array(M);Hs.blit(D.data,0,F,0,D.data.length),D.data=F}D.data[7]=R;break;case 2:var B=this.rawData,L=e.x;if(!B.fixed&&(B.length<=8&&(B.length=9),B.data.length<B.length)){var k=B.data.length+10,N=new Array(k);Hs.blit(B.data,0,N,0,B.data.length),B.data=N}B.data[8]=L;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=9&&(O.length=10),O.data.length<O.length)){var G=O.data.length+10,X=new Array(G);Hs.blit(O.data,0,X,0,O.data.length),O.data=X}O.data[9]=U;var V=this.rawData,z=e.z;if(!V.fixed&&(V.length<=10&&(V.length=11),V.data.length<V.length)){var H=V.data.length+10,W=new Array(H);Hs.blit(V.data,0,W,0,V.data.length),V.data=W}V.data[10]=z;var Y=this.rawData,K=e.w;if(!Y.fixed&&(Y.length<=11&&(Y.length=12),Y.data.length<Y.length)){var j=Y.data.length+10,q=new Array(j);Hs.blit(Y.data,0,q,0,Y.data.length),Y.data=q}Y.data[11]=K;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=12&&(J.length=13),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);Hs.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[12]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=13&&(tt.length=14),tt.data.length<tt.length)){var it=tt.data.length+10,nt=new Array(it);Hs.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[13]=et;var st=this.rawData,rt=e.z;if(!st.fixed&&(st.length<=14&&(st.length=15),st.data.length<st.length)){var at=st.data.length+10,ot=new Array(at);Hs.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[14]=rt;var lt=this.rawData,ht=e.w;if(!lt.fixed&&(lt.length<=15&&(lt.length=16),lt.data.length<lt.length)){var _t=lt.data.length+10,ut=new Array(_t);Hs.blit(lt.data,0,ut,0,lt.data.length),lt.data=ut}lt.data[15]=ht}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[1],e.z=this.rawData.data[2],e.w=this.rawData.data[3];break;case 1:e.x=this.rawData.data[4],e.y=this.rawData.data[5],e.z=this.rawData.data[6],e.w=this.rawData.data[7];break;case 2:e.x=this.rawData.data[8],e.y=this.rawData.data[9],e.z=this.rawData.data[10],e.w=this.rawData.data[11];break;case 3:e.x=this.rawData.data[12],e.y=this.rawData.data[13],e.z=this.rawData.data[14],e.w=this.rawData.data[15]}},copyFrom:function(t){var e=t.rawData,i=new lt;i.length=e.length,i.fixed=e.fixed;var n=e.length,s=new Array(n);i.data=s,Hs.blit(e.data,0,i.data,0,e.length),this.rawData=i},copyRawDataFrom:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=0,s=t.length-e;n<s;){var r=n++,a=this.rawData,o=t.data[r+e];if(!a.fixed&&(r>=a.length&&(a.length=r+1),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);Hs.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[r]=o}i&&this.transpose()},copyRawDataTo:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=0,s=this.rawData.length;n<s;){var r=n++,a=r+e,o=this.rawData.data[r];if(!t.fixed&&(a>=t.length&&(t.length=a+1),t.data.length<t.length)){var l=t.data.length+10,h=new Array(l);Hs.blit(t.data,0,h,0,t.data.length),t.data=h}t.data[a]=o}i&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:var i=this.rawData,n=e.x;if(!i.fixed&&(i.length<=0&&(i.length=1),i.data.length<i.length)){var s=i.data.length+10,r=new Array(s);Hs.blit(i.data,0,r,0,i.data.length),i.data=r}i.data[0]=n;var a=this.rawData,o=e.y;if(!a.fixed&&(a.length<=4&&(a.length=5),a.data.length<a.length)){var l=a.data.length+10,h=new Array(l);Hs.blit(a.data,0,h,0,a.data.length),a.data=h}a.data[4]=o;var _=this.rawData,u=e.z;if(!_.fixed&&(_.length<=8&&(_.length=9),_.data.length<_.length)){var c=_.data.length+10,f=new Array(c);Hs.blit(_.data,0,f,0,_.data.length),_.data=f}_.data[8]=u;var d=this.rawData,p=e.w;if(!d.fixed&&(d.length<=12&&(d.length=13),d.data.length<d.length)){var g=d.data.length+10,m=new Array(g);Hs.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[12]=p;break;case 1:var v=this.rawData,b=e.x;if(!v.fixed&&(v.length<=1&&(v.length=2),v.data.length<v.length)){var y=v.data.length+10,w=new Array(y);Hs.blit(v.data,0,w,0,v.data.length),v.data=w}v.data[1]=b;var x=this.rawData,T=e.y;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);Hs.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[5]=T;var I=this.rawData,C=e.z;if(!I.fixed&&(I.length<=9&&(I.length=10),I.data.length<I.length)){var P=I.data.length+10,A=new Array(P);Hs.blit(I.data,0,A,0,I.data.length),I.data=A}I.data[9]=C;var D=this.rawData,R=e.w;if(!D.fixed&&(D.length<=13&&(D.length=14),D.data.length<D.length)){var M=D.data.length+10,F=new Array(M);Hs.blit(D.data,0,F,0,D.data.length),D.data=F}D.data[13]=R;break;case 2:var B=this.rawData,L=e.x;if(!B.fixed&&(B.length<=2&&(B.length=3),B.data.length<B.length)){var k=B.data.length+10,N=new Array(k);Hs.blit(B.data,0,N,0,B.data.length),B.data=N}B.data[2]=L;var O=this.rawData,U=e.y;if(!O.fixed&&(O.length<=6&&(O.length=7),O.data.length<O.length)){var G=O.data.length+10,X=new Array(G);Hs.blit(O.data,0,X,0,O.data.length),O.data=X}O.data[6]=U;var V=this.rawData,z=e.z;if(!V.fixed&&(V.length<=10&&(V.length=11),V.data.length<V.length)){var H=V.data.length+10,W=new Array(H);Hs.blit(V.data,0,W,0,V.data.length),V.data=W}V.data[10]=z;var Y=this.rawData,K=e.w;if(!Y.fixed&&(Y.length<=14&&(Y.length=15),Y.data.length<Y.length)){var j=Y.data.length+10,q=new Array(j);Hs.blit(Y.data,0,q,0,Y.data.length),Y.data=q}Y.data[14]=K;break;case 3:var J=this.rawData,Z=e.x;if(!J.fixed&&(J.length<=3&&(J.length=4),J.data.length<J.length)){var Q=J.data.length+10,$=new Array(Q);Hs.blit(J.data,0,$,0,J.data.length),J.data=$}J.data[3]=Z;var tt=this.rawData,et=e.y;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var it=tt.data.length+10,nt=new Array(it);Hs.blit(tt.data,0,nt,0,tt.data.length),tt.data=nt}tt.data[7]=et;var st=this.rawData,rt=e.z;if(!st.fixed&&(st.length<=11&&(st.length=12),st.data.length<st.length)){var at=st.data.length+10,ot=new Array(at);Hs.blit(st.data,0,ot,0,st.data.length),st.data=ot}st.data[11]=rt;var lt=this.rawData,ht=e.w;if(!lt.fixed&&(lt.length<=15&&(lt.length=16),lt.data.length<lt.length)){var _t=lt.data.length+10,ut=new Array(_t);Hs.blit(lt.data,0,ut,0,lt.data.length),lt.data=ut}lt.data[15]=ht}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[4],e.z=this.rawData.data[8],e.w=this.rawData.data[12];break;case 1:e.x=this.rawData.data[1],e.y=this.rawData.data[5],e.z=this.rawData.data[9],e.w=this.rawData.data[13];break;case 2:e.x=this.rawData.data[2],e.y=this.rawData.data[6],e.z=this.rawData.data[10],e.w=this.rawData.data[14];break;case 3:e.x=this.rawData.data[3],e.y=this.rawData.data[7],e.z=this.rawData.data[11],e.w=this.rawData.data[15]}},copyToMatrix3D:function(t){var e=this.rawData,i=new lt;i.length=e.length,i.fixed=e.fixed;var n=e.length,s=new Array(n);i.data=s,Hs.blit(e.data,0,i.data,0,e.length),t.rawData=i},decompose:function(t){null==t&&(t=1);var e=new lt,i=new Array(0);e.data=i,e.length=0,e.fixed=!1;var n=e,s=this.clone().rawData,r=new lt;r.length=s.length,r.fixed=s.fixed;var a=s.length,o=new Array(a);r.data=o,Hs.blit(s.data,0,r.data,0,s.length);var l=r,h=new Y_(l.data[12],l.data[13],l.data[14]);if(!l.fixed&&(l.length<=12&&(l.length=13),l.data.length<l.length)){var _=l.data.length+10,u=new Array(_);Hs.blit(l.data,0,u,0,l.data.length),l.data=u}if(l.data[12]=0,!l.fixed&&(l.length<=13&&(l.length=14),l.data.length<l.length)){var c=l.data.length+10,f=new Array(c);Hs.blit(l.data,0,f,0,l.data.length),l.data=f}if(l.data[13]=0,!l.fixed&&(l.length<=14&&(l.length=15),l.data.length<l.length)){var d=l.data.length+10,p=new Array(d);Hs.blit(l.data,0,p,0,l.data.length),l.data=p}l.data[14]=0;var g=new Y_;g.x=Math.sqrt(l.data[0]*l.data[0]+l.data[1]*l.data[1]+l.data[2]*l.data[2]),g.y=Math.sqrt(l.data[4]*l.data[4]+l.data[5]*l.data[5]+l.data[6]*l.data[6]),g.z=Math.sqrt(l.data[8]*l.data[8]+l.data[9]*l.data[9]+l.data[10]*l.data[10]),l.data[0]*(l.data[5]*l.data[10]-l.data[6]*l.data[9])-l.data[1]*(l.data[4]*l.data[10]-l.data[6]*l.data[8])+l.data[2]*(l.data[4]*l.data[9]-l.data[5]*l.data[8])<0&&(g.z=-g.z);var m=l,v=m.data[0]/g.x;if(!m.fixed&&(m.length<=0&&(m.length=1),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);Hs.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[0]=v;var w=l,x=w.data[1]/g.x;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);Hs.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[1]=x;var E=l,I=E.data[2]/g.x;if(!E.fixed&&(E.length<=2&&(E.length=3),E.data.length<E.length)){var C=E.data.length+10,P=new Array(C);Hs.blit(E.data,0,P,0,E.data.length),E.data=P}E.data[2]=I;var A=l,D=A.data[4]/g.y;if(!A.fixed&&(A.length<=4&&(A.length=5),A.data.length<A.length)){var R=A.data.length+10,M=new Array(R);Hs.blit(A.data,0,M,0,A.data.length),A.data=M}A.data[4]=D;var F=l,B=F.data[5]/g.y;if(!F.fixed&&(F.length<=5&&(F.length=6),F.data.length<F.length)){var L=F.data.length+10,k=new Array(L);Hs.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[5]=B;var N=l,O=N.data[6]/g.y;if(!N.fixed&&(N.length<=6&&(N.length=7),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);Hs.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[6]=O;var X=l,V=X.data[8]/g.z;if(!X.fixed&&(X.length<=8&&(X.length=9),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);Hs.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[8]=V;var W=l,Y=W.data[9]/g.z;if(!W.fixed&&(W.length<=9&&(W.length=10),W.data.length<W.length)){var K=W.data.length+10,j=new Array(K);Hs.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[9]=Y;var q=l,J=q.data[10]/g.z;if(!q.fixed&&(q.length<=10&&(q.length=11),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);Hs.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[10]=J;var $=new Y_;switch(t){case 0:$.w=Math.acos((l.data[0]+l.data[5]+l.data[10]-1)/2);var tt=Math.sqrt((l.data[6]-l.data[9])*(l.data[6]-l.data[9])+(l.data[8]-l.data[2])*(l.data[8]-l.data[2])+(l.data[1]-l.data[4])*(l.data[1]-l.data[4]));0!=tt?($.x=(l.data[6]-l.data[9])/tt,$.y=(l.data[8]-l.data[2])/tt,$.z=(l.data[1]-l.data[4])/tt):$.x=$.y=$.z=0;break;case 1:$.y=Math.asin(-l.data[2]),1!=l.data[2]&&-1!=l.data[2]?($.x=Math.atan2(l.data[6],l.data[10]),$.z=Math.atan2(l.data[1],l.data[0])):($.z=0,$.x=Math.atan2(l.data[4],l.data[5]));break;case 2:var et=l.data[0]+l.data[5]+l.data[10];0<et?($.w=Math.sqrt(1+et)/2,$.x=(l.data[6]-l.data[9])/(4*$.w),$.y=(l.data[8]-l.data[2])/(4*$.w),$.z=(l.data[1]-l.data[4])/(4*$.w)):l.data[0]>l.data[5]&&l.data[0]>l.data[10]?($.x=Math.sqrt(1+l.data[0]-l.data[5]-l.data[10])/2,$.w=(l.data[6]-l.data[9])/(4*$.x),$.y=(l.data[1]+l.data[4])/(4*$.x),$.z=(l.data[8]+l.data[2])/(4*$.x)):l.data[5]>l.data[10]?($.y=Math.sqrt(1+l.data[5]-l.data[0]-l.data[10])/2,$.x=(l.data[1]+l.data[4])/(4*$.y),$.w=(l.data[8]-l.data[2])/(4*$.y),$.z=(l.data[6]+l.data[9])/(4*$.y)):($.z=Math.sqrt(1+l.data[10]-l.data[0]-l.data[5])/2,$.x=(l.data[8]+l.data[2])/(4*$.z),$.y=(l.data[6]+l.data[9])/(4*$.z),$.w=(l.data[1]-l.data[4])/(4*$.z))}if(!n.fixed){if(n.length++,n.data.length<n.length){var it=n.data.length+10,nt=new Array(it);Hs.blit(n.data,0,nt,0,n.data.length),n.data=nt}n.data[n.length-1]=h}if(!n.fixed){if(n.length++,n.data.length<n.length){var st=n.data.length+10,rt=new Array(st);Hs.blit(n.data,0,rt,0,n.data.length),n.data=rt}n.data[n.length-1]=$}if(!n.fixed){if(n.length++,n.data.length<n.length){var at=n.data.length+10,ot=new Array(at);Hs.blit(n.data,0,ot,0,n.data.length),n.data=ot}n.data[n.length-1]=g}return n},deltaTransformVector:function(t){var e=t.x,i=t.y,n=t.z;return new Y_(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[3],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[7],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[11],0)},identity:function(){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e=new lt;e.length=t.length,e.fixed=!0,e.data=t.slice(0),this.rawData=e},interpolateTo:function(t,e){for(var i=0;i<16;){var n=i++,s=this.rawData,r=this.rawData.data[n]+(t.rawData.data[n]-this.rawData.data[n])*e;if(!s.fixed&&(n>=s.length&&(s.length=n+1),s.data.length<s.length)){var a=s.data.length+10,o=new Array(a);Hs.blit(s.data,0,o,0,s.data.length),s.data=o}s.data[n]=r}},invert:function(){var t=this.get_determinant(),e=1e-11<Math.abs(t);if(e){t=1/t;var i=this.rawData.data[0],n=this.rawData.data[4],s=this.rawData.data[8],r=this.rawData.data[12],a=this.rawData.data[1],o=this.rawData.data[5],l=this.rawData.data[9],h=this.rawData.data[13],_=this.rawData.data[2],u=this.rawData.data[6],c=this.rawData.data[10],f=this.rawData.data[14],d=this.rawData.data[3],p=this.rawData.data[7],g=this.rawData.data[11],m=this.rawData.data[15],v=this.rawData;if(!v.fixed&&(v.length<=0&&(v.length=1),v.data.length<v.length)){var b=v.data.length+10,y=new Array(b);Hs.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[0]=t*(o*(c*m-f*g)-l*(u*m-f*p)+h*(u*g-c*p));var w=this.rawData;if(!w.fixed&&(w.length<=1&&(w.length=2),w.data.length<w.length)){var x=w.data.length+10,T=new Array(x);Hs.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[1]=-t*(a*(c*m-f*g)-l*(_*m-f*d)+h*(_*g-c*d));var S=this.rawData;if(!S.fixed&&(S.length<=2&&(S.length=3),S.data.length<S.length)){var E=S.data.length+10,I=new Array(E);Hs.blit(S.data,0,I,0,S.data.length),S.data=I}S.data[2]=t*(a*(u*m-f*p)-o*(_*m-f*d)+h*(_*p-u*d));var C=this.rawData;if(!C.fixed&&(C.length<=3&&(C.length=4),C.data.length<C.length)){var P=C.data.length+10,A=new Array(P);Hs.blit(C.data,0,A,0,C.data.length),C.data=A}C.data[3]=-t*(a*(u*g-c*p)-o*(_*g-c*d)+l*(_*p-u*d));var D=this.rawData;if(!D.fixed&&(D.length<=4&&(D.length=5),D.data.length<D.length)){var R=D.data.length+10,M=new Array(R);Hs.blit(D.data,0,M,0,D.data.length),D.data=M}D.data[4]=-t*(n*(c*m-f*g)-s*(u*m-f*p)+r*(u*g-c*p));var F=this.rawData;if(!F.fixed&&(F.length<=5&&(F.length=6),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Hs.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[5]=t*(i*(c*m-f*g)-s*(_*m-f*d)+r*(_*g-c*d));var k=this.rawData;if(!k.fixed&&(k.length<=6&&(k.length=7),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);Hs.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[6]=-t*(i*(u*m-f*p)-n*(_*m-f*d)+r*(_*p-u*d));var U=this.rawData;if(!U.fixed&&(U.length<=7&&(U.length=8),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);Hs.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[7]=t*(i*(u*g-c*p)-n*(_*g-c*d)+s*(_*p-u*d));var V=this.rawData;if(!V.fixed&&(V.length<=8&&(V.length=9),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);Hs.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[8]=t*(n*(l*m-h*g)-s*(o*m-h*p)+r*(o*g-l*p));var W=this.rawData;if(!W.fixed&&(W.length<=9&&(W.length=10),W.data.length<W.length)){var Y=W.data.length+10,K=new Array(Y);Hs.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[9]=-t*(i*(l*m-h*g)-s*(a*m-h*d)+r*(a*g-l*d));var j=this.rawData;if(!j.fixed&&(j.length<=10&&(j.length=11),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);Hs.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[10]=t*(i*(o*m-h*p)-n*(a*m-h*d)+r*(a*p-o*d));var Z=this.rawData;if(!Z.fixed&&(Z.length<=11&&(Z.length=12),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Hs.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[11]=-t*(i*(o*g-l*p)-n*(a*g-l*d)+s*(a*p-o*d));var tt=this.rawData;if(!tt.fixed&&(tt.length<=12&&(tt.length=13),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Hs.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[12]=-t*(n*(l*f-h*c)-s*(o*f-h*u)+r*(o*c-l*u));var nt=this.rawData;if(!nt.fixed&&(nt.length<=13&&(nt.length=14),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);Hs.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[13]=t*(i*(l*f-h*c)-s*(a*f-h*_)+r*(a*c-l*_));var at=this.rawData;if(!at.fixed&&(at.length<=14&&(at.length=15),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);Hs.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[14]=-t*(i*(o*f-h*u)-n*(a*f-h*_)+r*(a*u-o*_));var ht=this.rawData;if(!ht.fixed&&(ht.length<=15&&(ht.length=16),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);Hs.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[15]=t*(i*(o*c-l*u)-n*(a*c-l*_)+s*(a*u-o*_))}return e},pointAt:function(t,e,i){null==e&&(e=new Y_(0,0,-1)),null==i&&(i=new Y_(0,-1,0));var n,s=e.subtract(t),r=i.clone();s.normalize(),r.normalize();var a=s.clone();a.scaleBy(r.dotProduct(s)),0<(r=r.subtract(a)).get_length()?r.normalize():r=0!=s.x?new Y_(-s.y,s.x,0):new Y_(1,0,0),(n=r.crossProduct(s)).normalize();var o=this.rawData,l=n.x;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var h=o.data.length+10,_=new Array(h);Hs.blit(o.data,0,_,0,o.data.length),o.data=_}o.data[0]=l;var u=this.rawData,c=n.y;if(!u.fixed&&(u.length<=4&&(u.length=5),u.data.length<u.length)){var f=u.data.length+10,d=new Array(f);Hs.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[4]=c;var p=this.rawData,g=n.z;if(!p.fixed&&(p.length<=8&&(p.length=9),p.data.length<p.length)){var m=p.data.length+10,v=new Array(m);Hs.blit(p.data,0,v,0,p.data.length),p.data=v}p.data[8]=g;var b=this.rawData;if(!b.fixed&&(b.length<=12&&(b.length=13),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);Hs.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[12]=0;var x=this.rawData,T=r.x;if(!x.fixed&&(x.length<=1&&(x.length=2),x.data.length<x.length)){var S=x.data.length+10,E=new Array(S);Hs.blit(x.data,0,E,0,x.data.length),x.data=E}x.data[1]=T;var I=this.rawData,C=r.y;if(!I.fixed&&(I.length<=5&&(I.length=6),I.data.length<I.length)){var P=I.data.length+10,A=new Array(P);Hs.blit(I.data,0,A,0,I.data.length),I.data=A}I.data[5]=C;var D=this.rawData,R=r.z;if(!D.fixed&&(D.length<=9&&(D.length=10),D.data.length<D.length)){var M=D.data.length+10,F=new Array(M);Hs.blit(D.data,0,F,0,D.data.length),D.data=F}D.data[9]=R;var B=this.rawData;if(!B.fixed&&(B.length<=13&&(B.length=14),B.data.length<B.length)){var L=B.data.length+10,k=new Array(L);Hs.blit(B.data,0,k,0,B.data.length),B.data=k}B.data[13]=0;var N=this.rawData,O=s.x;if(!N.fixed&&(N.length<=2&&(N.length=3),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);Hs.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[2]=O;var X=this.rawData,V=s.y;if(!X.fixed&&(X.length<=6&&(X.length=7),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);Hs.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[6]=V;var W=this.rawData,Y=s.z;if(!W.fixed&&(W.length<=10&&(W.length=11),W.data.length<W.length)){var K=W.data.length+10,j=new Array(K);Hs.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[10]=Y;var q=this.rawData;if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var J=q.data.length+10,Z=new Array(J);Hs.blit(q.data,0,Z,0,q.data.length),q.data=Z}q.data[14]=0;var Q=this.rawData,$=t.x;if(!Q.fixed&&(Q.length<=3&&(Q.length=4),Q.data.length<Q.length)){var tt=Q.data.length+10,et=new Array(tt);Hs.blit(Q.data,0,et,0,Q.data.length),Q.data=et}Q.data[3]=$;var it=this.rawData,nt=t.y;if(!it.fixed&&(it.length<=7&&(it.length=8),it.data.length<it.length)){var st=it.data.length+10,rt=new Array(st);Hs.blit(it.data,0,rt,0,it.data.length),it.data=rt}it.data[7]=nt;var at=this.rawData,ot=t.z;if(!at.fixed&&(at.length<=11&&(at.length=12),at.data.length<at.length)){var lt=at.data.length+10,ht=new Array(lt);Hs.blit(at.data,0,ht,0,at.data.length),at.data=ht}at.data[11]=ot;var _t=this.rawData;if(!_t.fixed&&(_t.length<=15&&(_t.length=16),_t.data.length<_t.length)){var ut=_t.data.length+10,ct=new Array(ut);Hs.blit(_t.data,0,ct,0,_t.data.length),_t.data=ct}_t.data[15]=1},prepend:function(t){var e=t.rawData.data[0],i=t.rawData.data[4],n=t.rawData.data[8],s=t.rawData.data[12],r=t.rawData.data[1],a=t.rawData.data[5],o=t.rawData.data[9],l=t.rawData.data[13],h=t.rawData.data[2],_=t.rawData.data[6],u=t.rawData.data[10],c=t.rawData.data[14],f=t.rawData.data[3],d=t.rawData.data[7],p=t.rawData.data[11],g=t.rawData.data[15],m=this.rawData.data[0],v=this.rawData.data[4],b=this.rawData.data[8],y=this.rawData.data[12],w=this.rawData.data[1],x=this.rawData.data[5],T=this.rawData.data[9],S=this.rawData.data[13],E=this.rawData.data[2],I=this.rawData.data[6],C=this.rawData.data[10],P=this.rawData.data[14],A=this.rawData.data[3],D=this.rawData.data[7],R=this.rawData.data[11],M=this.rawData.data[15],F=this.rawData;if(!F.fixed&&(F.length<=0&&(F.length=1),F.data.length<F.length)){var B=F.data.length+10,L=new Array(B);Hs.blit(F.data,0,L,0,F.data.length),F.data=L}F.data[0]=e*m+r*v+h*b+f*y;var k=this.rawData;if(!k.fixed&&(k.length<=1&&(k.length=2),k.data.length<k.length)){var N=k.data.length+10,O=new Array(N);Hs.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[1]=e*w+r*x+h*T+f*S;var U=this.rawData;if(!U.fixed&&(U.length<=2&&(U.length=3),U.data.length<U.length)){var G=U.data.length+10,X=new Array(G);Hs.blit(U.data,0,X,0,U.data.length),U.data=X}U.data[2]=e*E+r*I+h*C+f*P;var V=this.rawData;if(!V.fixed&&(V.length<=3&&(V.length=4),V.data.length<V.length)){var z=V.data.length+10,H=new Array(z);Hs.blit(V.data,0,H,0,V.data.length),V.data=H}V.data[3]=e*A+r*D+h*R+f*M;var W=this.rawData;if(!W.fixed&&(W.length<=4&&(W.length=5),W.data.length<W.length)){var Y=W.data.length+10,K=new Array(Y);Hs.blit(W.data,0,K,0,W.data.length),W.data=K}W.data[4]=i*m+a*v+_*b+d*y;var j=this.rawData;if(!j.fixed&&(j.length<=5&&(j.length=6),j.data.length<j.length)){var q=j.data.length+10,J=new Array(q);Hs.blit(j.data,0,J,0,j.data.length),j.data=J}j.data[5]=i*w+a*x+_*T+d*S;var Z=this.rawData;if(!Z.fixed&&(Z.length<=6&&(Z.length=7),Z.data.length<Z.length)){var Q=Z.data.length+10,$=new Array(Q);Hs.blit(Z.data,0,$,0,Z.data.length),Z.data=$}Z.data[6]=i*E+a*I+_*C+d*P;var tt=this.rawData;if(!tt.fixed&&(tt.length<=7&&(tt.length=8),tt.data.length<tt.length)){var et=tt.data.length+10,it=new Array(et);Hs.blit(tt.data,0,it,0,tt.data.length),tt.data=it}tt.data[7]=i*A+a*D+_*R+d*M;var nt=this.rawData;if(!nt.fixed&&(nt.length<=8&&(nt.length=9),nt.data.length<nt.length)){var st=nt.data.length+10,rt=new Array(st);Hs.blit(nt.data,0,rt,0,nt.data.length),nt.data=rt}nt.data[8]=n*m+o*v+u*b+p*y;var at=this.rawData;if(!at.fixed&&(at.length<=9&&(at.length=10),at.data.length<at.length)){var ot=at.data.length+10,lt=new Array(ot);Hs.blit(at.data,0,lt,0,at.data.length),at.data=lt}at.data[9]=n*w+o*x+u*T+p*S;var ht=this.rawData;if(!ht.fixed&&(ht.length<=10&&(ht.length=11),ht.data.length<ht.length)){var _t=ht.data.length+10,ut=new Array(_t);Hs.blit(ht.data,0,ut,0,ht.data.length),ht.data=ut}ht.data[10]=n*E+o*I+u*C+p*P;var ct=this.rawData;if(!ct.fixed&&(ct.length<=11&&(ct.length=12),ct.data.length<ct.length)){var ft=ct.data.length+10,dt=new Array(ft);Hs.blit(ct.data,0,dt,0,ct.data.length),ct.data=dt}ct.data[11]=n*A+o*D+u*R+p*M;var pt=this.rawData;if(!pt.fixed&&(pt.length<=12&&(pt.length=13),pt.data.length<pt.length)){var gt=pt.data.length+10,mt=new Array(gt);Hs.blit(pt.data,0,mt,0,pt.data.length),pt.data=mt}pt.data[12]=s*m+l*v+c*b+g*y;var vt=this.rawData;if(!vt.fixed&&(vt.length<=13&&(vt.length=14),vt.data.length<vt.length)){var bt=vt.data.length+10,yt=new Array(bt);Hs.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=s*w+l*x+c*T+g*S;var wt=this.rawData;if(!wt.fixed&&(wt.length<=14&&(wt.length=15),wt.data.length<wt.length)){var xt=wt.data.length+10,Tt=new Array(xt);Hs.blit(wt.data,0,Tt,0,wt.data.length),wt.data=Tt}wt.data[14]=s*E+l*I+c*C+g*P;var St=this.rawData;if(!St.fixed&&(St.length<=15&&(St.length=16),St.data.length<St.length)){var Et=St.data.length+10,It=new Array(Et);Hs.blit(St.data,0,It,0,St.data.length),St.data=It}St.data[15]=s*A+l*D+c*R+g*M},prependRotation:function(t,e,i){var n=V_.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var s=i;n.appendTranslation(s.x,s.y,s.z)}this.prepend(n)},prependScale:function(t,e,i){var n=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],s=new lt;s.length=n.length,s.fixed=!0,s.data=n.slice(0),this.prepend(new V_(s))},prependTranslation:function(t,e,i){var n=new V_;n.set_position(new Y_(t,e,i)),this.prepend(n)},recompose:function(t,e){if(t.length<3||0==t.data[2].x||0==t.data[2].y||0==t.data[2].z)return!1;null==e&&(e=1),this.identity();var i=[];if(i[0]=i[1]=i[2]=t.data[2].x,i[4]=i[5]=i[6]=t.data[2].y,i[8]=i[9]=i[10]=t.data[2].z,null==e){var n=t.data[1].x,s=t.data[1].y,r=t.data[1].z,a=t.data[1].w;Pi.enumEq(e,0)&&(n*=Math.sin(a/2),s*=Math.sin(a/2),r*=Math.sin(a/2),a=Math.cos(a/2));var o=this.rawData;if(!o.fixed&&(o.length<=0&&(o.length=1),o.data.length<o.length)){var l=o.data.length+10,h=new Array(l);Hs.blit(o.data,0,h,0,o.data.length),o.data=h}o.data[0]=(1-2*s*s-2*r*r)*i[0];var _=this.rawData;if(!_.fixed&&(_.length<=1&&(_.length=2),_.data.length<_.length)){var u=_.data.length+10,c=new Array(u);Hs.blit(_.data,0,c,0,_.data.length),_.data=c}_.data[1]=(2*n*s+2*a*r)*i[1];var f=this.rawData;if(!f.fixed&&(f.length<=2&&(f.length=3),f.data.length<f.length)){var d=f.data.length+10,p=new Array(d);Hs.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[2]=(2*n*r-2*a*s)*i[2];var g=this.rawData;if(!g.fixed&&(g.length<=3&&(g.length=4),g.data.length<g.length)){var m=g.data.length+10,v=new Array(m);Hs.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[3]=0;var b=this.rawData;if(!b.fixed&&(b.length<=4&&(b.length=5),b.data.length<b.length)){var y=b.data.length+10,w=new Array(y);Hs.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[4]=(2*n*s-2*a*r)*i[4];var x=this.rawData;if(!x.fixed&&(x.length<=5&&(x.length=6),x.data.length<x.length)){var T=x.data.length+10,S=new Array(T);Hs.blit(x.data,0,S,0,x.data.length),x.data=S}x.data[5]=(1-2*n*n-2*r*r)*i[5];var E=this.rawData;if(!E.fixed&&(E.length<=6&&(E.length=7),E.data.length<E.length)){var I=E.data.length+10,C=new Array(I);Hs.blit(E.data,0,C,0,E.data.length),E.data=C}E.data[6]=(2*s*r+2*a*n)*i[6];var P=this.rawData;if(!P.fixed&&(P.length<=7&&(P.length=8),P.data.length<P.length)){var A=P.data.length+10,D=new Array(A);Hs.blit(P.data,0,D,0,P.data.length),P.data=D}P.data[7]=0;var R=this.rawData;if(!R.fixed&&(R.length<=8&&(R.length=9),R.data.length<R.length)){var M=R.data.length+10,F=new Array(M);Hs.blit(R.data,0,F,0,R.data.length),R.data=F}R.data[8]=(2*n*r+2*a*s)*i[8];var B=this.rawData;if(!B.fixed&&(B.length<=9&&(B.length=10),B.data.length<B.length)){var L=B.data.length+10,k=new Array(L);Hs.blit(B.data,0,k,0,B.data.length),B.data=k}B.data[9]=(2*s*r-2*a*n)*i[9];var N=this.rawData;if(!N.fixed&&(N.length<=10&&(N.length=11),N.data.length<N.length)){var O=N.data.length+10,U=new Array(O);Hs.blit(N.data,0,U,0,N.data.length),N.data=U}N.data[10]=(1-2*n*n-2*s*s)*i[10];var G=this.rawData;if(!G.fixed&&(G.length<=11&&(G.length=12),G.data.length<G.length)){var X=G.data.length+10,V=new Array(X);Hs.blit(G.data,0,V,0,G.data.length),G.data=V}G.data[11]=0;var z=this.rawData,H=t.data[0].x;if(!z.fixed&&(z.length<=12&&(z.length=13),z.data.length<z.length)){var W=z.data.length+10,Y=new Array(W);Hs.blit(z.data,0,Y,0,z.data.length),z.data=Y}z.data[12]=H;var K=this.rawData,j=t.data[0].y;if(!K.fixed&&(K.length<=13&&(K.length=14),K.data.length<K.length)){var q=K.data.length+10,J=new Array(q);Hs.blit(K.data,0,J,0,K.data.length),K.data=J}K.data[13]=j;var Z=this.rawData,Q=t.data[0].z;if(!Z.fixed&&(Z.length<=14&&(Z.length=15),Z.data.length<Z.length)){var $=Z.data.length+10,tt=new Array($);Hs.blit(Z.data,0,tt,0,Z.data.length),Z.data=tt}Z.data[14]=Q;var et=this.rawData;if(!et.fixed&&(et.length<=15&&(et.length=16),et.data.length<et.length)){var it=et.data.length+10,nt=new Array(it);Hs.blit(et.data,0,nt,0,et.data.length),et.data=nt}et.data[15]=1}else if(1==e){var st=Math.cos(t.data[1].x),rt=Math.cos(t.data[1].y),at=Math.cos(t.data[1].z),ot=Math.sin(t.data[1].x),lt=Math.sin(t.data[1].y),ht=Math.sin(t.data[1].z),_t=this.rawData;if(!_t.fixed&&(_t.length<=0&&(_t.length=1),_t.data.length<_t.length)){var ut=_t.data.length+10,ct=new Array(ut);Hs.blit(_t.data,0,ct,0,_t.data.length),_t.data=ct}_t.data[0]=rt*at*i[0];var ft=this.rawData;if(!ft.fixed&&(ft.length<=1&&(ft.length=2),ft.data.length<ft.length)){var dt=ft.data.length+10,pt=new Array(dt);Hs.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[1]=rt*ht*i[1];var gt=this.rawData;if(!gt.fixed&&(gt.length<=2&&(gt.length=3),gt.data.length<gt.length)){var mt=gt.data.length+10,vt=new Array(mt);Hs.blit(gt.data,0,vt,0,gt.data.length),gt.data=vt}gt.data[2]=-lt*i[2];var bt=this.rawData;if(!bt.fixed&&(bt.length<=3&&(bt.length=4),bt.data.length<bt.length)){var yt=bt.data.length+10,wt=new Array(yt);Hs.blit(bt.data,0,wt,0,bt.data.length),bt.data=wt}bt.data[3]=0;var xt=this.rawData;if(!xt.fixed&&(xt.length<=4&&(xt.length=5),xt.data.length<xt.length)){var Tt=xt.data.length+10,St=new Array(Tt);Hs.blit(xt.data,0,St,0,xt.data.length),xt.data=St}xt.data[4]=(ot*lt*at-st*ht)*i[4];var Et=this.rawData;if(!Et.fixed&&(Et.length<=5&&(Et.length=6),Et.data.length<Et.length)){var It=Et.data.length+10,Ct=new Array(It);Hs.blit(Et.data,0,Ct,0,Et.data.length),Et.data=Ct}Et.data[5]=(ot*lt*ht+st*at)*i[5];var Pt=this.rawData;if(!Pt.fixed&&(Pt.length<=6&&(Pt.length=7),Pt.data.length<Pt.length)){var At=Pt.data.length+10,Dt=new Array(At);Hs.blit(Pt.data,0,Dt,0,Pt.data.length),Pt.data=Dt}Pt.data[6]=ot*rt*i[6];var Rt=this.rawData;if(!Rt.fixed&&(Rt.length<=7&&(Rt.length=8),Rt.data.length<Rt.length)){var Mt=Rt.data.length+10,Ft=new Array(Mt);Hs.blit(Rt.data,0,Ft,0,Rt.data.length),Rt.data=Ft}Rt.data[7]=0;var Bt=this.rawData;if(!Bt.fixed&&(Bt.length<=8&&(Bt.length=9),Bt.data.length<Bt.length)){var Lt=Bt.data.length+10,kt=new Array(Lt);Hs.blit(Bt.data,0,kt,0,Bt.data.length),Bt.data=kt}Bt.data[8]=(st*lt*at+ot*ht)*i[8];var Nt=this.rawData;if(!Nt.fixed&&(Nt.length<=9&&(Nt.length=10),Nt.data.length<Nt.length)){var Ot=Nt.data.length+10,Ut=new Array(Ot);Hs.blit(Nt.data,0,Ut,0,Nt.data.length),Nt.data=Ut}Nt.data[9]=(st*lt*ht-ot*at)*i[9];var Gt=this.rawData;if(!Gt.fixed&&(Gt.length<=10&&(Gt.length=11),Gt.data.length<Gt.length)){var Xt=Gt.data.length+10,Vt=new Array(Xt);Hs.blit(Gt.data,0,Vt,0,Gt.data.length),Gt.data=Vt}Gt.data[10]=st*rt*i[10];var zt=this.rawData;if(!zt.fixed&&(zt.length<=11&&(zt.length=12),zt.data.length<zt.length)){var Ht=zt.data.length+10,Wt=new Array(Ht);Hs.blit(zt.data,0,Wt,0,zt.data.length),zt.data=Wt}zt.data[11]=0;var Yt=this.rawData,Kt=t.data[0].x;if(!Yt.fixed&&(Yt.length<=12&&(Yt.length=13),Yt.data.length<Yt.length)){var jt=Yt.data.length+10,qt=new Array(jt);Hs.blit(Yt.data,0,qt,0,Yt.data.length),Yt.data=qt}Yt.data[12]=Kt;var Jt=this.rawData,Zt=t.data[0].y;if(!Jt.fixed&&(Jt.length<=13&&(Jt.length=14),Jt.data.length<Jt.length)){var Qt=Jt.data.length+10,$t=new Array(Qt);Hs.blit(Jt.data,0,$t,0,Jt.data.length),Jt.data=$t}Jt.data[13]=Zt;var te=this.rawData,ee=t.data[0].z;if(!te.fixed&&(te.length<=14&&(te.length=15),te.data.length<te.length)){var ie=te.data.length+10,ne=new Array(ie);Hs.blit(te.data,0,ne,0,te.data.length),te.data=ne}te.data[14]=ee;var se=this.rawData;if(!se.fixed&&(se.length<=15&&(se.length=16),se.data.length<se.length)){var re=se.data.length+10,ae=new Array(re);Hs.blit(se.data,0,ae,0,se.data.length),se.data=ae}se.data[15]=1}else{var oe=t.data[1].x,le=t.data[1].y,he=t.data[1].z,_e=t.data[1].w;Pi.enumEq(e,0)&&(oe*=Math.sin(_e/2),le*=Math.sin(_e/2),he*=Math.sin(_e/2),_e=Math.cos(_e/2));var ue=this.rawData;if(!ue.fixed&&(ue.length<=0&&(ue.length=1),ue.data.length<ue.length)){var ce=ue.data.length+10,fe=new Array(ce);Hs.blit(ue.data,0,fe,0,ue.data.length),ue.data=fe}ue.data[0]=(1-2*le*le-2*he*he)*i[0];var de=this.rawData;if(!de.fixed&&(de.length<=1&&(de.length=2),de.data.length<de.length)){var pe=de.data.length+10,ge=new Array(pe);Hs.blit(de.data,0,ge,0,de.data.length),de.data=ge}de.data[1]=(2*oe*le+2*_e*he)*i[1];var me=this.rawData;if(!me.fixed&&(me.length<=2&&(me.length=3),me.data.length<me.length)){var ve=me.data.length+10,be=new Array(ve);Hs.blit(me.data,0,be,0,me.data.length),me.data=be}me.data[2]=(2*oe*he-2*_e*le)*i[2];var ye=this.rawData;if(!ye.fixed&&(ye.length<=3&&(ye.length=4),ye.data.length<ye.length)){var we=ye.data.length+10,xe=new Array(we);Hs.blit(ye.data,0,xe,0,ye.data.length),ye.data=xe}ye.data[3]=0;var Te=this.rawData;if(!Te.fixed&&(Te.length<=4&&(Te.length=5),Te.data.length<Te.length)){var Se=Te.data.length+10,Ee=new Array(Se);Hs.blit(Te.data,0,Ee,0,Te.data.length),Te.data=Ee}Te.data[4]=(2*oe*le-2*_e*he)*i[4];var Ie=this.rawData;if(!Ie.fixed&&(Ie.length<=5&&(Ie.length=6),Ie.data.length<Ie.length)){var Ce=Ie.data.length+10,Pe=new Array(Ce);Hs.blit(Ie.data,0,Pe,0,Ie.data.length),Ie.data=Pe}Ie.data[5]=(1-2*oe*oe-2*he*he)*i[5];var Ae=this.rawData;if(!Ae.fixed&&(Ae.length<=6&&(Ae.length=7),Ae.data.length<Ae.length)){var De=Ae.data.length+10,Re=new Array(De);Hs.blit(Ae.data,0,Re,0,Ae.data.length),Ae.data=Re}Ae.data[6]=(2*le*he+2*_e*oe)*i[6];var Me=this.rawData;if(!Me.fixed&&(Me.length<=7&&(Me.length=8),Me.data.length<Me.length)){var Fe=Me.data.length+10,Be=new Array(Fe);Hs.blit(Me.data,0,Be,0,Me.data.length),Me.data=Be}Me.data[7]=0;var Le=this.rawData;if(!Le.fixed&&(Le.length<=8&&(Le.length=9),Le.data.length<Le.length)){var ke=Le.data.length+10,Ne=new Array(ke);Hs.blit(Le.data,0,Ne,0,Le.data.length),Le.data=Ne}Le.data[8]=(2*oe*he+2*_e*le)*i[8];var Oe=this.rawData;if(!Oe.fixed&&(Oe.length<=9&&(Oe.length=10),Oe.data.length<Oe.length)){var Ue=Oe.data.length+10,Ge=new Array(Ue);Hs.blit(Oe.data,0,Ge,0,Oe.data.length),Oe.data=Ge}Oe.data[9]=(2*le*he-2*_e*oe)*i[9];var Xe=this.rawData;if(!Xe.fixed&&(Xe.length<=10&&(Xe.length=11),Xe.data.length<Xe.length)){var Ve=Xe.data.length+10,ze=new Array(Ve);Hs.blit(Xe.data,0,ze,0,Xe.data.length),Xe.data=ze}Xe.data[10]=(1-2*oe*oe-2*le*le)*i[10];var He=this.rawData;if(!He.fixed&&(He.length<=11&&(He.length=12),He.data.length<He.length)){var We=He.data.length+10,Ye=new Array(We);Hs.blit(He.data,0,Ye,0,He.data.length),He.data=Ye}He.data[11]=0;var Ke=this.rawData,je=t.data[0].x;if(!Ke.fixed&&(Ke.length<=12&&(Ke.length=13),Ke.data.length<Ke.length)){var qe=Ke.data.length+10,Je=new Array(qe);Hs.blit(Ke.data,0,Je,0,Ke.data.length),Ke.data=Je}Ke.data[12]=je;var Ze=this.rawData,Qe=t.data[0].y;if(!Ze.fixed&&(Ze.length<=13&&(Ze.length=14),Ze.data.length<Ze.length)){var $e=Ze.data.length+10,ti=new Array($e);Hs.blit(Ze.data,0,ti,0,Ze.data.length),Ze.data=ti}Ze.data[13]=Qe;var ei=this.rawData,ii=t.data[0].z;if(!ei.fixed&&(ei.length<=14&&(ei.length=15),ei.data.length<ei.length)){var ni=ei.data.length+10,si=new Array(ni);Hs.blit(ei.data,0,si,0,ei.data.length),ei.data=si}ei.data[14]=ii;var ri=this.rawData;if(!ri.fixed&&(ri.length<=15&&(ri.length=16),ri.data.length<ri.length)){var ai=ri.data.length+10,oi=new Array(ai);Hs.blit(ri.data,0,oi,0,ri.data.length),ri.data=oi}ri.data[15]=1}if(0==t.data[2].x){var li=this.rawData;if(!li.fixed&&(li.length<=0&&(li.length=1),li.data.length<li.length)){var hi=li.data.length+10,_i=new Array(hi);Hs.blit(li.data,0,_i,0,li.data.length),li.data=_i}li.data[0]=1e-15}if(0==t.data[2].y){var ui=this.rawData;if(!ui.fixed&&(ui.length<=5&&(ui.length=6),ui.data.length<ui.length)){var ci=ui.data.length+10,fi=new Array(ci);Hs.blit(ui.data,0,fi,0,ui.data.length),ui.data=fi}ui.data[5]=1e-15}if(0==t.data[2].z){var di=this.rawData;if(!di.fixed&&(di.length<=10&&(di.length=11),di.data.length<di.length)){var pi=di.data.length+10,gi=new Array(pi);Hs.blit(di.data,0,gi,0,di.data.length),di.data=gi}di.data[10]=1e-15}return!(0==t.data[2].x||0==t.data[2].y||0==t.data[2].y)},transformVector:function(t){var e=t.x,i=t.y,n=t.z;return new Y_(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[12],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[13],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[14],e*this.rawData.data[3]+i*this.rawData.data[7]+n*this.rawData.data[11]+this.rawData.data[15])},transformVectors:function(t,e){for(var i,n,s,r=0;r+3<=t.length;){i=t.data[r],n=t.data[r+1],s=t.data[r+2];var a=i*this.rawData.data[0]+n*this.rawData.data[4]+s*this.rawData.data[8]+this.rawData.data[12];if(!e.fixed&&(r>=e.length&&(e.length=r+1),e.data.length<e.length)){var o=e.data.length+10,l=new Array(o);Hs.blit(e.data,0,l,0,e.data.length),e.data=l}e.data[r]=a;var h=r+1,_=i*this.rawData.data[1]+n*this.rawData.data[5]+s*this.rawData.data[9]+this.rawData.data[13];if(!e.fixed&&(h>=e.length&&(e.length=h+1),e.data.length<e.length)){var u=e.data.length+10,c=new Array(u);Hs.blit(e.data,0,c,0,e.data.length),e.data=c}e.data[h]=_;var f=r+2,d=i*this.rawData.data[2]+n*this.rawData.data[6]+s*this.rawData.data[10]+this.rawData.data[14];if(!e.fixed&&(f>=e.length&&(e.length=f+1),e.data.length<e.length)){var p=e.data.length+10,g=new Array(p);Hs.blit(e.data,0,g,0,e.data.length),e.data=g}e.data[f]=d,r+=3}},transpose:function(){var t=this.rawData,e=new lt;e.length=t.length,e.fixed=t.fixed;var i=t.length,n=new Array(i);e.data=n,Hs.blit(t.data,0,e.data,0,t.length);var s=e,r=this.rawData,a=s.data[4];if(!r.fixed&&(r.length<=1&&(r.length=2),r.data.length<r.length)){var o=r.data.length+10,l=new Array(o);Hs.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[1]=a;var h=this.rawData,_=s.data[8];if(!h.fixed&&(h.length<=2&&(h.length=3),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);Hs.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[2]=_;var f=this.rawData,d=s.data[12];if(!f.fixed&&(f.length<=3&&(f.length=4),f.data.length<f.length)){var p=f.data.length+10,g=new Array(p);Hs.blit(f.data,0,g,0,f.data.length),f.data=g}f.data[3]=d;var m=this.rawData,v=s.data[1];if(!m.fixed&&(m.length<=4&&(m.length=5),m.data.length<m.length)){var b=m.data.length+10,y=new Array(b);Hs.blit(m.data,0,y,0,m.data.length),m.data=y}m.data[4]=v;var w=this.rawData,x=s.data[9];if(!w.fixed&&(w.length<=6&&(w.length=7),w.data.length<w.length)){var T=w.data.length+10,S=new Array(T);Hs.blit(w.data,0,S,0,w.data.length),w.data=S}w.data[6]=x;var E=this.rawData,I=s.data[13];if(!E.fixed&&(E.length<=7&&(E.length=8),E.data.length<E.length)){var C=E.data.length+10,P=new Array(C);Hs.blit(E.data,0,P,0,E.data.length),E.data=P}E.data[7]=I;var A=this.rawData,D=s.data[2];if(!A.fixed&&(A.length<=8&&(A.length=9),A.data.length<A.length)){var R=A.data.length+10,M=new Array(R);Hs.blit(A.data,0,M,0,A.data.length),A.data=M}A.data[8]=D;var F=this.rawData,B=s.data[6];if(!F.fixed&&(F.length<=9&&(F.length=10),F.data.length<F.length)){var L=F.data.length+10,k=new Array(L);Hs.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[9]=B;var N=this.rawData,O=s.data[14];if(!N.fixed&&(N.length<=11&&(N.length=12),N.data.length<N.length)){var U=N.data.length+10,G=new Array(U);Hs.blit(N.data,0,G,0,N.data.length),N.data=G}N.data[11]=O;var X=this.rawData,V=s.data[3];if(!X.fixed&&(X.length<=12&&(X.length=13),X.data.length<X.length)){var z=X.data.length+10,H=new Array(z);Hs.blit(X.data,0,H,0,X.data.length),X.data=H}X.data[12]=V;var W=this.rawData,Y=s.data[7];if(!W.fixed&&(W.length<=13&&(W.length=14),W.data.length<W.length)){var K=W.data.length+10,j=new Array(K);Hs.blit(W.data,0,j,0,W.data.length),W.data=j}W.data[13]=Y;var q=this.rawData,J=s.data[11];if(!q.fixed&&(q.length<=14&&(q.length=15),q.data.length<q.length)){var Z=q.data.length+10,Q=new Array(Z);Hs.blit(q.data,0,Q,0,q.data.length),q.data=Q}q.data[14]=J},get_determinant:function(){return(this.rawData.data[0]*this.rawData.data[5]-this.rawData.data[4]*this.rawData.data[1])*(this.rawData.data[10]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[11])-(this.rawData.data[0]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[7])+(this.rawData.data[0]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[7])+(this.rawData.data[4]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[3])-(this.rawData.data[4]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[3])+(this.rawData.data[8]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[9])*(this.rawData.data[2]*this.rawData.data[7]-this.rawData.data[6]*this.rawData.data[3])},get_position:function(){return new Y_(this.rawData.data[12],this.rawData.data[13],this.rawData.data[14])},set_position:function(t){var e=this.rawData,i=t.x;if(!e.fixed&&(e.length<=12&&(e.length=13),e.data.length<e.length)){var n=e.data.length+10,s=new Array(n);Hs.blit(e.data,0,s,0,e.data.length),e.data=s}e.data[12]=i;var r=this.rawData,a=t.y;if(!r.fixed&&(r.length<=13&&(r.length=14),r.data.length<r.length)){var o=r.data.length+10,l=new Array(o);Hs.blit(r.data,0,l,0,r.data.length),r.data=l}r.data[13]=a;var h=this.rawData,_=t.z;if(!h.fixed&&(h.length<=14&&(h.length=15),h.data.length<h.length)){var u=h.data.length+10,c=new Array(u);Hs.blit(h.data,0,c,0,h.data.length),h.data=c}return h.data[14]=_,t},__class__:V_,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var z_={};(i["openfl.geom._Orientation3D.Orientation3D_Impl_"]=z_).__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"],z_.fromString=function(t){switch(t){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},z_.toString=function(t){switch(t){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var H_=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.__uid=X.SEQ<<24|++X.UID,this.x=t,this.y=e,this.width=i,this.height=n};(i["openfl.geom.Rectangle"]=H_).__name__=["openfl","geom","Rectangle"],H_.__interfaces__=[C],H_.prototype={clone:function(){return new H_(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e=this.x<t.x?t.x:this.x,i=this.get_right()>t.get_right()?t.get_right():this.get_right();if(i<=e)return new H_;var n=this.y<t.y?t.y:this.y,s=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom();return s<=n?new H_:new H_(e,n,i-e,s-n)},intersects:function(t){var e=this.x<t.x?t.x:this.x;return!((this.get_right()>t.get_right()?t.get_right():this.get_right())<=e)&&(this.y<t.y?t.y:this.y)<(this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom())},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e=this.x>t.x?t.x:this.x,i=this.get_right()<t.get_right()?t.get_right():this.get_right(),n=this.y>t.y?t.y:this.y,s=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom();return new H_(e,n,i-e,s-n)},__contract:function(t,e,i,n){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y))},__expand:function(t,e,i,n){if(0!=i||0!=n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var s=this.get_right(),r=this.get_bottom();this.x>t&&(this.x=t,this.width=s-t),this.y>e&&(this.y=e,this.height=r-e),s<t+i&&(this.width=t+i-this.x),r<e+n&&(this.height=e+n-this.y)}},__toLimeRectangle:function(){return new Aa(this.x,this.y,this.width,this.height)},transform:function(t,e){var i=e.a*this.x+e.c*this.y,n=i,s=e.b*this.x+e.d*this.y,r=s,a=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;a<i&&(i=a),o<s&&(s=o),n<a&&(n=a),r<o&&(r=o),(a=e.a*(this.x+this.width)+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*(this.x+this.width)+e.d*(this.y+this.height))<s&&(s=o),n<a&&(n=a),r<o&&(r=o),(a=e.a*this.x+e.c*(this.y+this.height))<i&&(i=a),(o=e.b*this.x+e.d*(this.y+this.height))<s&&(s=o),n<a&&(n=a),r<o&&(r=o),t.setTo(i+e.tx,s+e.ty,n-i,r-s)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new xe(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new xe(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_topLeft:function(){return new xe(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},getCLID:function(){return H_.__clid},serialize:function(t){t.out.addInt32(js.floatToI32(this.height)),t.out.addInt32(js.floatToI32(this.width)),t.out.addInt32(js.floatToI32(this.x)),t.out.addInt32(js.floatToI32(this.y))},getSerializeSchema:function(){var t=new lr;return t.fieldsNames.push("height"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("width"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("x"),t.fieldsTypes.push(ar.PFloat),t.fieldsNames.push("y"),t.fieldsTypes.push(ar.PFloat),t.isFinal=X.isClassFinal(H_.__clid),t},unserializeInit:function(){},unserialize:function(t){var e=t.input.getFloat(t.inPos);t.inPos+=4,this.height=e;var i=t.input.getFloat(t.inPos);t.inPos+=4,this.width=i;var n=t.input.getFloat(t.inPos);t.inPos+=4,this.x=n;var s=t.input.getFloat(t.inPos);t.inPos+=4,this.y=s},__class__:H_,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var W_=function(t){this.concatenatedColorTransform=new Io,this.pixelBounds=new H_,this.__displayObject=t,this.__hasMatrix=!0};(i["openfl.geom.Transform"]=W_).__name__=["openfl","geom","Transform"],W_.prototype={reset:function(t){this.concatenatedColorTransform.reset(),this.pixelBounds.setEmpty(),this.__displayObject=t,this.__hasMatrix=!0},get_colorTransform:function(){return this.__displayObject.__colorTransform},set_colorTransform:function(t){if(!this.__displayObject.__colorTransform.__equals(t)){this.__displayObject.__colorTransform.copyFrom(t);var e=this.__displayObject;e.__isMask&&(e.__maskCached=!1),e.__renderDirty||(e.__renderDirty=!0,Y.__worldRenderDirty++,null!=e.__cachedParent&&e.__cachedParent.__setRenderDirty()),e.__updateDirty||null==e.stage||e==e.stage||(e.__updateDirty=!0)}return t},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},getMatrixNoClone:function(){return this.__hasMatrix?this.__displayObject.__transform:null},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},set_matrix:function(t){if(null==t)return this.__hasMatrix=!1,null;if(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.d,t.c)-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.copyFrom(t);var n=this.__displayObject;n.__transformDirty||(n.__transformDirty=!0,n.__isMask&&(n.__maskCached=!1),n.__renderDirty||(n.__renderDirty=!0,Y.__worldRenderDirty++,null!=n.__cachedParent&&n.__cachedParent.__setRenderDirty()),n.__updateDirty||null==n.stage||n==n.stage||(n.__updateDirty=!0),Y.__worldTransformDirty++)}return t},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform,e=[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1],i=new lt;return i.length=e.length,i.fixed=!0,i.data=e.slice(0),new V_(i)}return null},set_matrix3D:function(t){if(null==t)return this.__hasMatrix3D=!1,null;if(this.__hasMatrix=!1,this.__hasMatrix3D=!0,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.rawData.data[5],t.rawData.data[4])-90;if(e!=this.__displayObject.__rotation){var i=(this.__displayObject.__rotation=e)*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.a=t.rawData.data[0],this.__displayObject.__transform.b=t.rawData.data[1],this.__displayObject.__transform.c=t.rawData.data[5],this.__displayObject.__transform.d=t.rawData.data[6],this.__displayObject.__transform.tx=t.rawData.data[12],this.__displayObject.__transform.ty=t.rawData.data[13];var n=this.__displayObject;n.__transformDirty||(n.__transformDirty=!0,n.__isMask&&(n.__maskCached=!1),n.__renderDirty||(n.__renderDirty=!0,Y.__worldRenderDirty++,null!=n.__cachedParent&&n.__cachedParent.__setRenderDirty()),n.__updateDirty||null==n.stage||n==n.stage||(n.__updateDirty=!0),Y.__worldTransformDirty++)}return t},__class__:W_,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var Y_=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};(i["openfl.geom.Vector3D"]=Y_).__name__=["openfl","geom","Vector3D"],Y_.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Y_.X_AXIS=null,Y_.Y_AXIS=null,Y_.Z_AXIS=null,Y_.angleBetween=function(t,e){var i=t.get_length(),n=e.get_length(),s=t.dotProduct(e);return 0!=i&&(s/=i),0!=n&&(s/=n),Math.acos(s)},Y_.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,s=e.z-t.z;return Math.sqrt(i*i+n*n+s*s)},Y_.get_X_AXIS=function(){return new Y_(1,0,0)},Y_.get_Y_AXIS=function(){return new Y_(0,1,0)},Y_.get_Z_AXIS=function(){return new Y_(0,0,1)},Y_.prototype={add:function(t){return new Y_(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new Y_(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new Y_(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new Y_(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Y_,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var K_=function(){};(i["openfl.media.ID3Info"]=K_).__name__=["openfl","media","ID3Info"],K_.prototype={__class__:K_};var j_=function(t,e){this.itHasSoundSprite=!1,v.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,(this.url=null)!=t&&this.load(t,e)};(i["openfl.media.Sound"]=j_).__name__=["openfl","media","Sound"],j_.fromAudioBuffer=function(t){var e=new j_;return e.__buffer=t,e},j_.fromFile=function(t){return j_.fromAudioBuffer($r.fromFile(t))},j_.__super__=v,j_.prototype=n(v.prototype,{close:function(){null!=this.__sound&&this.__sound.unload()},load:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=5),this.soundName=t.url;var s=this.soundName,r=j_.__registeredSounds;if(null!=df[s]?r.existsReserved(s):r.h.hasOwnProperty(s)){var a=this.soundName,o=j_.__registeredSounds;this.__sound=null!=df[a]?o.getReserved(a):o.h[a]}else if(!n)throw new fr("All sounds should have been registered in preloader!");var l=Tr.getLogicalPath(this.soundName),h=Tr.getExtraSoundOptions(l),_=null;if(null!=h&&null!=h.start&&null!=h.duration&&(this.itHasSoundSprite=!0),null==this.__sound){_=this.itHasSoundSprite?{src:this.soundName,sprite:{clip:[h.start,h.duration]},onload:of(this,this.howler_onFileLoad),onloaderror:of(this,this.howler_onFileError),pool:i}:{src:this.soundName,onload:of(this,this.howler_onFileLoad),onloaderror:of(this,this.howler_onFileError),pool:i},this.__sound=new Howl(_),this.__sound.volume(0);var u=this.soundName,c=this.__sound,f=j_.__registeredSounds;null!=df[u]?f.setReserved(u,c):f.h[u]=c}},loadCompressedDataFromByteArray:function(t,e,i){null==i&&(i=!1),Po.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(t,e,i,n,s){null==s&&(s=44100),null==n&&(n=!0),Po.notImplemented("Sound.loadPCMFromByteArray")},play:function(t,e,i){if(null==e&&(e=0),null==t&&(t=0),null==i&&(i=new Z_(1,0)),0!=i.pan)throw new fr(":TODO: use spatial plugin");var n=-1;return n=this.itHasSoundSprite?this.__sound.play("clip"):this.__sound.play(),this.__sound.volume(i.volume,n),this.__sound.loop(1<e,n),0!=t&&this.__sound.seek(t/1e3,n),q_.__create(this,n,e)},prePlayHTML5:function(t,e,i){return null==e&&(e=0),null==t&&(t=0),this.__sound._webAudio?null:this.play(t,e,i)},stop:function(t){this.__sound.stop(t)},dispose:function(t){this.__sound.off("end",null,t),this.__sound.off("stop",null,t)},get_id3:function(){return new K_},get_length:function(){return null!=this.__sound?this.__sound.duration():0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new i_("ioError")):(this.__buffer=t,this.dispatchEvent(Ge.__create("complete")))},howler_onFileLoad:function(){this.dispatchEvent(Ge.__create("complete"))},howler_onFileError:function(){this.dispatchEvent(new i_("ioError"))},__class__:j_,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var q_=function(){v.call(this,this),this.leftPeak=1,this.rightPeak=1};(i["openfl.media.SoundChannel"]=q_).__name__=["openfl","media","SoundChannel"],q_.__create=function(t,e,i){var n=q_.pool.get();return null!=t&&(n.__soundId=e,n.__numberOfLoopsRemaining=i,n.__looping=1<i,n.__sound=t,n.__sound.__sound.on("stop",of(n,n.soundInstance_onComplete),n.__soundId),n.__sound.__sound.on("end",of(n,n.soundInstance_onEnd),n.__soundId),n.__isValid=!0),n},q_.__super__=v,q_.prototype=n(v.prototype,{stop:function(){this.__isValid&&this.__sound.stop(this.__soundId)},__dispose:function(){this.__isValid&&(this.__sound.dispose(this.__soundId),q_.pool.put(this),this.__isValid=!1)},get_position:function(){return this.__isValid?this.__sound.__sound.seek():0},set_position:function(t){return this.__isValid?(this.__sound.__sound.seek(0|t),this.__sound.__sound.seek()):0},get_soundTransform:function(){return this.__isValid?new Z_(this.__sound.__sound.volume(),0):new Z_},set_soundTransform:function(t){return this.__isValid&&this.__sound.__sound.volume(t.volume),t},soundInstance_onComplete:function(){this.__dispose(),this.dispatchEvent(Ge.__create("soundComplete"))},soundInstance_onEnd:function(){this.__numberOfLoopsRemaining--,this.__numberOfLoopsRemaining<=0&&this.__looping&&this.__sound.stop(this.__soundId)},__class__:q_,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var J_=function(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e};(i["openfl.media.SoundLoaderContext"]=J_).__name__=["openfl","media","SoundLoaderContext"],J_.prototype={__class__:J_};var Z_=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};(i["openfl.media.SoundTransform"]=Z_).__name__=["openfl","media","SoundTransform"],Z_.prototype={clone:function(){return new Z_(this.volume,this.pan)},__class__:Z_};var Q_=function(){v.call(this)};(i["openfl.net.NetConnection"]=Q_).__name__=["openfl","net","NetConnection"],Q_.__super__=v,Q_.prototype=n(v.prototype,{connect:function(t,e,i,n,s,r){if(null!=t)throw new fr('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new r_("netStatus",!1,!0,{code:"connectSuccess"}))},__class__:Q_});var $_=function(){v.call(this),(this.client=this).objectEncoding=3};(i["openfl.net.SharedObject"]=$_).__name__=["openfl","net","SharedObject"],$_.__sharedObjects=null,$_.getLocal=function(t,e,i){null==i&&(i=!1),null==e&&(e=window.location.href),null==$_.__sharedObjects&&($_.__sharedObjects=new zs,Po.application.onExit.add($_.application_onExit));var n=e+"/"+t,s=$_.__sharedObjects;if(!(null!=df[n]?s.existsReserved(n):s.h.hasOwnProperty(n))){var r=new $_;r.data={},r.__localPath=e,r.__name=t;var a=null;try{var o=pr.getLocalStorage();null!=o&&(a=o.getItem(e+":"+t))}catch(t){Is.lastException=t}if(null!=a&&""!=a)try{var l=new Ls(a);l.setResolver({resolveEnum:Pi.resolveEnum,resolveClass:$_.__resolveClass}),r.data=l.unserialize()}catch(t){Is.lastException=t}var h=$_.__sharedObjects;null!=df[n]?h.setReserved(n,r):h.h[n]=r}var _=$_.__sharedObjects;return null!=df[n]?_.getReserved(n):_.h[n]},$_.getRemote=function(t,e,i,n){return null==n&&(n=!1),null==i&&(i=!1),Po.notImplemented("SharedObject.getRemote"),null},$_.__mkdir=function(t){},$_.__resolveClass=function(t){return null!=t?(Cs.startsWith(t,"neash.")&&(t=Cs.replace(t,"neash.","openfl.")),Cs.startsWith(t,"native.")&&(t=Cs.replace(t,"native.","openfl.")),Cs.startsWith(t,"flash.")&&(t=Cs.replace(t,"flash.","openfl.")),Cs.startsWith(t,"openfl._v2.")&&(t=Cs.replace(t,"openfl._v2.","openfl.")),Cs.startsWith(t,"openfl._legacy.")&&(t=Cs.replace(t,"openfl._legacy.","openfl.")),Pi.resolveClass(t)):null},$_.application_onExit=function(t){for(var e=$_.__sharedObjects,i=new Vs(e,e.arrayKeys());i.hasNext();){i.next().flush()}},$_.__super__=v,$_.prototype=n(v.prototype,{clear:function(){this.data={};try{var t=pr.getLocalStorage();null!=t&&t.removeItem(this.__localPath+":"+this.__name)}catch(t){Is.lastException=t}},close:function(){},connect:function(t,e){Po.notImplemented("SharedObject.connect")},flush:function(t){if(null==t&&(t=0),0==Dt.fields(this.data).length)return 0;var e=Ms.run(this.data);try{var i=pr.getLocalStorage();null!=i&&(i.removeItem(this.__localPath+":"+this.__name),i.setItem(this.__localPath+":"+this.__name,e))}catch(t){return Is.lastException=t,1}return 0},send:function(t){Po.notImplemented("SharedObject.send")},setDirty:function(t){},setProperty:function(t,e){null!=this.data&&(this.data[t]=e)},get_size:function(){try{var t=Ms.run(this.data);return ps.ofString(t).length}catch(t){return Is.lastException=t,0}},__class__:$_,__properties__:{get_size:"get_size"}});var tu={};(i["openfl.net._SharedObjectFlushStatus.SharedObjectFlushStatus_Impl_"]=tu).__name__=["openfl","net","_SharedObjectFlushStatus","SharedObjectFlushStatus_Impl_"],tu.fromString=function(t){switch(t){case"flushed":return 0;case"pending":return 1;default:return null}},tu.toString=function(t){switch(t){case 0:return"flushed";case 1:return"pending";default:return null}};var eu=function(t){v.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(1),null!=t&&this.load(t)};(i["openfl.net.URLLoader"]=eu).__name__=["openfl","net","URLLoader"],eu.__super__=v,eu.prototype=n(v.prototype,{close:function(){},getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var i=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",of(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var e;try{e=t.status}catch(t){Is.lastException=t,e=null}null==e&&(e=null),null!=e&&i.onStatus(e),null!=e&&200<=e&&e<400?i.onData(t.response):null==e?i.onError("Failed to connect or resolve host"):12029==e?i.onError("Failed to connect to host"):12007==e?i.onError("Unknown host"):0==e?(i.onError("Unable to make request (may be blocked due to cross-domain permissions)"),i.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):i.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,i,n){var s=new XMLHttpRequest;this.registerEvents(s);var r="";if(dr.__instanceof(i,vs)){var a=i;r=0==this.dataFormat?dr.__cast(a,pf):a.readUTFBytes(a.length)}else if(dr.__instanceof(i,au))for(var o=i,l=0,h=Dt.fields(o);l<h.length;){var _=h[l];++l,0!=r.length&&(r+="&");var u=encodeURIComponent(_)+"=",c=Dt.field(o,_);r+=u+encodeURIComponent(c)}else null!=i&&(r=i.toString());try{if("GET"==e&&null!=r&&""!=r){var f=t.split("?").length<=1;s.open(e,t+(f?"?":"&")+Q.string(r),!0),r=""}else s.open(e,t,!0)}catch(t){return(Is.lastException=t)instanceof fr&&(t=t.val),void this.onError(t.toString())}0==this.dataFormat&&(s.responseType="arraybuffer");for(var d=0;d<n.length;){var p=n[d];++d,s.setRequestHeader(p.name,p.value)}s.send(r),this.onOpen(),this.getData=function(){return null!=s.response?s.response:s.responseText}},onData:function(t){var e=this.getData(),i=this.dataFormat;this.data=0==i?Su.fromArrayBuffer(e):Q.string(e);var n=new Ge("complete");(n.currentTarget=this).dispatchEvent(n)},onError:function(t){var e=new i_("ioError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onOpen:function(){var t=new Ge("open");(t.currentTarget=this).dispatchEvent(t)},onProgress:function(t){var e=new a_("progress");e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new o_("securityError");e.text=t,(e.currentTarget=this).dispatchEvent(e)},onStatus:function(t){var e=new e_("httpStatus",!1,!1,t);(e.currentTarget=this).dispatchEvent(e)},set_dataFormat:function(t){return 0!=t||Object.prototype.hasOwnProperty.call(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=1,this.dataFormat},__class__:eu,__properties__:{set_dataFormat:"set_dataFormat"}});var iu={};(i["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=iu).__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"],iu.fromString=function(t){switch(t){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},iu.toString=function(t){switch(t){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var nu=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method=ru.toString(1),this.contentType=null};(i["openfl.net.URLRequest"]=nu).__name__=["openfl","net","URLRequest"],nu.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),1==ru.fromString(this.method)||null==this.data||("string"==typeof this.data||dr.__instanceof(this.data,vs))&&(t=t.slice()).push(new su("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded")),t},__class__:nu};var su=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};(i["openfl.net.URLRequestHeader"]=su).__name__=["openfl","net","URLRequestHeader"],su.prototype={__class__:su};var ru={};(i["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=ru).__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"],ru.fromString=function(t){switch(t){case"DELETE":return 0;case"GET":return 1;case"HEAD":return 2;case"OPTIONS":return 3;case"POST":return 4;case"PUT":return 5;default:return null}},ru.toString=function(t){switch(t){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var au=function(t){null!=t&&this.decode(t)};(i["openfl.net.URLVariables"]=au).__name__=["openfl","net","URLVariables"],au.prototype={decode:function(t){for(var e=Dt.fields(this),i=0;i<e.length;){var n=e[i];++i,Dt.deleteField(this,n)}for(var s=t.split(";").join("&").split("&"),r=0;r<s.length;){var a=s[r];++r;var o=a.indexOf("=");if(0<o){var l=$.substr(a,0,o),h=decodeURIComponent(l.split("+").join(" ")),_=$.substr(a,o+1,null);this[h]=decodeURIComponent(_.split("+").join(" "))}else 0!=o&&(this[decodeURIComponent(a.split("+").join(" "))]="")}},toString:function(){for(var t=[],e=Dt.fields(this),i=0;i<e.length;){var n=e[i];++i;var s=encodeURIComponent(n)+"=",r=Dt.field(this,n);t.push(s+encodeURIComponent(r))}return t.join("&")},__class__:au};var ou=function(t){this.parentDomain=null!=t?t:ou.currentDomain};(i["openfl.system.ApplicationDomain"]=ou).__name__=["openfl","system","ApplicationDomain"],ou.prototype={getDefinition:function(t){return Pi.resolveClass(t)},hasDefinition:function(t){return null!=Pi.resolveClass(t)},__class__:ou};var lu=function(t,e,i){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=i,this.applicationDomain=e,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0};(i["openfl.system.LoaderContext"]=lu).__name__=["openfl","system","LoaderContext"],lu.prototype={__class__:lu};var hu=function(){};(i["openfl.system.SecurityDomain"]=hu).__name__=["openfl","system","SecurityDomain"],hu.prototype={__class__:hu};var _u={};(i["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=_u).__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"],_u.fromString=function(t){switch(t){case"advanced":return 0;case"normal":return 1;default:return null}},_u.toString=function(t){switch(t){case 0:return"advanced";case 1:return"normal";default:return null}};var uu={};(i["openfl.text._FontStyle.FontStyle_Impl_"]=uu).__name__=["openfl","text","_FontStyle","FontStyle_Impl_"],uu.fromString=function(t){switch(t){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},uu.toString=function(t){switch(t){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var cu={};(i["openfl.text._FontType.FontType_Impl_"]=cu).__name__=["openfl","text","_FontType","FontType_Impl_"],cu.fromString=function(t){switch(t){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},cu.toString=function(t){switch(t){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var fu={};(i["openfl.text._GridFitType.GridFitType_Impl_"]=fu).__name__=["openfl","text","_GridFitType","GridFitType_Impl_"],fu.fromString=function(t){switch(t){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},fu.toString=function(t){switch(t){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var du={};(i["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=du).__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"],du.fromString=function(t){switch(t){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},du.toString=function(t){switch(t){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var pu={};(i["openfl.text._TextFieldType.TextFieldType_Impl_"]=pu).__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"],pu.fromString=function(t){switch(t){case"dynamic":return 0;case"input":return 1;default:return null}},pu.toString=function(t){switch(t){case 0:return"dynamic";case 1:return"input";default:return null}};var gu=function(t,e,i,n,s,r,a,o,l,h,_,u,c){this.font=t,this.size=e,this.color=i,this.bold=n,this.italic=s,this.underline=r,this.url=a,this.target=o,this.align=l,this.leftMargin=h,this.rightMargin=_,this.indent=u,this.leading=c};(i["openfl.text.TextFormat"]=gu).__name__=["openfl","text","TextFormat"],gu.getBulletText=function(){return"●\t\t"},gu.getBulletIndentLeftMargin=function(){return 20},gu.prototype={clone:function(){var t=new gu(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:gu};var mu={};(i["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=mu).__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"],mu.fromString=function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},mu.toString=function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var vu=function(t,e,i,n,s,r){this.x=t,this.width=e,this.height=i,this.ascent=n,this.descent=s,this.leading=r};(i["openfl.text.TextLineMetrics"]=vu).__name__=["openfl","text","TextLineMetrics"],vu.prototype={__class__:vu};var bu=function(){v.call(this),bu.__instances.push(this)};(i["openfl.ui.GameInput"]=bu).__name__=["openfl","ui","GameInput"],bu.getDeviceAt=function(t){return 0<=t&&t<bu.__deviceList.length?bu.__deviceList[t]:null},bu.__getDevice=function(t){if(null==t)return null;if(null==bu.__devices.h.__keys__[t.__id__]){var e=so.__getDeviceData()[t.id].id,i=so.__getDeviceData(),n=new wu(e,i[t.id].id);bu.__deviceList.push(n),bu.__devices.set(t,n),bu.numDevices=bu.__deviceList.length}return bu.__devices.h[t.__id__]},bu.__onGamepadAxisMove=function(t,e,i){var n=bu.__getDevice(t);if(null!=n&&n.enabled){if(!n.__axis.h.hasOwnProperty(e)){var s;switch(e){case 0:s="LEFT_X";break;case 1:s="LEFT_Y";break;case 2:s="RIGHT_X";break;case 3:s="RIGHT_Y";break;case 4:s="TRIGGER_LEFT";break;case 5:s="TRIGGER_RIGHT";break;default:s="UNKNOWN ("+e+")"}var r=new yu(n,"AXIS_"+s,-1,1);n.__axis.h[e]=r,n.__controls.push(r)}var a=n.__axis.h[e];a.value=i,a.dispatchEvent(new Ge("change"))}},bu.__onGamepadButtonDown=function(t,e){var i=bu.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n;switch(e){case 0:n="A";break;case 1:n="B";break;case 2:n="X";break;case 3:n="Y";break;case 4:n="BACK";break;case 5:n="GUIDE";break;case 6:n="START";break;case 7:n="LEFT_STICK";break;case 8:n="RIGHT_STICK";break;case 9:n="LEFT_SHOULDER";break;case 10:n="RIGHT_SHOULDER";break;case 11:n="DPAD_UP";break;case 12:n="DPAD_DOWN";break;case 13:n="DPAD_LEFT";break;case 14:n="DPAD_RIGHT";break;default:n="UNKNOWN ("+e+")"}var s=new yu(i,"BUTTON_"+n,0,1);i.__button.h[e]=s,i.__controls.push(s)}var r=i.__button.h[e];r.value=1,r.dispatchEvent(new Ge("change"))}},bu.__onGamepadButtonUp=function(t,e){var i=bu.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n;switch(e){case 0:n="A";break;case 1:n="B";break;case 2:n="X";break;case 3:n="Y";break;case 4:n="BACK";break;case 5:n="GUIDE";break;case 6:n="START";break;case 7:n="LEFT_STICK";break;case 8:n="RIGHT_STICK";break;case 9:n="LEFT_SHOULDER";break;case 10:n="RIGHT_SHOULDER";break;case 11:n="DPAD_UP";break;case 12:n="DPAD_DOWN";break;case 13:n="DPAD_LEFT";break;case 14:n="DPAD_RIGHT";break;default:n="UNKNOWN ("+e+")"}var s=new yu(i,"BUTTON_"+n,0,1);i.__button.h[e]=s,i.__controls.push(s)}var r=i.__button.h[e];r.value=0,r.dispatchEvent(new Ge("change"))}},bu.__onGamepadConnect=function(t){var e=bu.__getDevice(t);if(null!=e)for(var i=0,n=bu.__instances;i<n.length;){var s=n[i];++i,s.dispatchEvent(new t_("deviceAdded",null,null,e))}},bu.__onGamepadDisconnect=function(t){var e=bu.__devices.h[t.__id__];if(null!=e){null!=bu.__devices.h.__keys__[t.__id__]&&($.remove(bu.__deviceList,bu.__devices.h[t.__id__]),bu.__devices.remove(t)),bu.numDevices=bu.__deviceList.length;for(var i=0,n=bu.__instances;i<n.length;){var s=n[i];++i,s.dispatchEvent(new t_("deviceRemoved",null,null,e))}}},bu.__super__=v,bu.prototype=n(v.prototype,{__class__:bu});var yu=function(t,e,i,n,s){null==s&&(s=0),v.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=n,this.value=s};(i["openfl.ui.GameInputControl"]=yu).__name__=["openfl","ui","GameInputControl"],yu.__super__=v,yu.prototype=n(v.prototype,{__class__:yu});var wu=function(t,e){var i;this.__controls=[],this.__button=new Gs,this.__axis=new Gs,this.id=t,this.name=e;for(var n=0;n<6;){var s=n++;i=new yu(this,"AXIS_"+s,-1,1),this.__axis.h[s]=i,this.__controls.push(i)}for(var r=0;r<15;){var a=r++;i=new yu(this,"BUTTON_"+a,0,1),this.__button.h[a]=i,this.__controls.push(i)}};(i["openfl.ui.GameInputDevice"]=wu).__name__=["openfl","ui","GameInputDevice"],wu.prototype={getCachedSamples:function(t,e){return null==e&&(e=!1),0},getControlAt:function(t){return 0<=t&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:wu,__properties__:{get_numControls:"get_numControls"}};var xu=function(){};(i["openfl.ui.Keyboard"]=xu).__name__=["openfl","ui","Keyboard"],xu.capsLock=null,xu.numLock=null,xu.isAccessible=function(){return!1},xu.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return t}},xu.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(65<=t&&t<=90)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(48<=t&&t<=57)return t-48+48;if(65<=t&&t<=90)return t-65+97}if(96<=t&&t<=105)return t-96+48;switch(t){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},xu.__getKeyLocation=function(t){switch(t){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 108:case 110:case 111:case 1073741910:case 1073741911:case 1073741923:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}};var Tu=function(){};(i["openfl.ui.Mouse"]=Tu).__name__=["openfl","ui","Mouse"],Tu.hide=function(){lo.hide()},Tu.show=function(){lo.show()};var Su={};(i["openfl.utils._ByteArray.ByteArray_Impl_"]=Su).__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"],Su.__properties__={set_length:"set_length",get_length:"get_length"},Su.defaultObjectEncoding=null,Su._new=function(t){return null==t&&(t=0),new vs(t)},Su.get=function(t,e){return t.b[e]},Su.set=function(t,e,i){return t.b[e]=255&i,i},Su.fromArrayBuffer=function(t){return vs.fromBytes(ps.ofData(t))},Su.fromBytes=function(t){return dr.__instanceof(t,vs)?t:vs.fromBytes(t)},Su.fromBytesData=function(t){return vs.fromBytes(ps.ofData(t))},Su.toArrayBuffer=function(t){return t.b.bufferValue},Su.toBytes=function(t){return t},Su.toBytesData=function(t){return t.b.bufferValue},Su.toLimeBytes=function(t){return new fo(Su.get_length(t),t.b.bufferValue)},Su.get_length=function(t){return t.__length},Su.set_length=function(t,e){return 0<e&&t.__resize(e),t.__length=e};var Eu={};(i["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=Eu).__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"],Eu.fromString=function(t){switch(t){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},Eu.toString=function(t){switch(t){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var Iu={};(i["openfl.utils._Endian.Endian_Impl_"]=Iu).__name__=["openfl","utils","_Endian","Endian_Impl_"],Iu.fromString=function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},Iu.toString=function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var Cu=function(t){this.__uid=X.SEQ<<24|++X.UID,this.value=t};(i["openfl.utils.Float32ArrayContainer"]=Cu).__name__=["openfl","utils","Float32ArrayContainer"],Cu.__interfaces__=[C],Cu.prototype={customSerialize:function(t){var e=po.toBytes(this.value);if(null==e)t.out.b.push(0);else{var i=e.length+1;0<=i&&i<128?t.out.b.push(i):(t.out.b.push(128),t.out.addInt32(i));for(var n=t.out,s=(n.b,e.b),r=0,a=e.length;r<a;){var o=r++;n.b.push(s[o])}}},customUnserialize:function(t){var e=t.input.b[t.inPos++];128==e&&(e=t.input.getInt32(t.inPos),t.inPos+=4);var i,n=e;if(0==n)i=null;else{--n;var s=t.input.sub(t.inPos,n);t.inPos+=n,i=s}var r,a=i.b.bufferValue;r=null!=a?new mf(a):null,this.value=r},getCLID:function(){return Cu.__clid},serialize:function(t){this.customSerialize(t)},getSerializeSchema:function(){var t=new lr;return t.isFinal=X.isClassFinal(Cu.__clid),t},unserializeInit:function(){},unserialize:function(t){this.customUnserialize(t)},__class__:Cu};var Pu={};(i["openfl.utils._Object.Object_Impl_"]=Pu).__name__=["openfl","utils","_Object","Object_Impl_"],Pu._new=function(){return{}},Pu.hasOwnProperty=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},Pu.isPrototypeOf=function(t,e){for(var i=t,n=null==i?null:dr.getClass(i);null!=n;){if(n==e)return!0;n=Pi.getSuperClass(n)}return!1},Pu.iterator=function(t){var e=Dt.fields(t);return null==e&&(e=[]),$.iter(e)},Pu.propertyIsEnumerable=function(t,e){return!(null==t||!Object.prototype.hasOwnProperty.call(t,e))&&dr.__instanceof(Dt.field(t,e),Du)},Pu.toLocaleString=function(t){return Q.string(t)},Pu.toString=function(t){return Q.string(t)},Pu.valueOf=function(t){return t},Pu.__get=function(t,e){return Dt.field(t,e)},Pu.__set=function(t,e,i){return t[e]=i};var Au=function(){};(i["haxe.lang.Iterator"]=Au).__name__=["haxe","lang","Iterator"],Au.prototype={__class__:Au};var Du=function(){};(i["haxe.lang.Iterable"]=Du).__name__=["haxe","lang","Iterable"],Du.prototype={__class__:Du};var Ru=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};(i["openfl.utils._UnsafeStringMap.UnsafeStringMapIterator"]=Ru).__name__=["openfl","utils","_UnsafeStringMap","UnsafeStringMapIterator"],Ru.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.h[this.keys[this.index++]]},__class__:Ru};var Mu=function(){this.h={}};(i["openfl.utils.UnsafeStringMap"]=Mu).__name__=["openfl","utils","UnsafeStringMap"],Mu.__interfaces__=[As],Mu.prototype={set:function(t,e){this.h[t]=e},get:function(t){return this.h[t]},exists:function(t){return this.h.hasOwnProperty(t)},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){return $.iter(this.arrayKeys())},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);return t},iterator:function(){return new Ru(this,this.arrayKeys())},toString:function(){var t="";t+="{";for(var e=this.arrayKeys(),i=0,n=e.length;i<n;){var s=i++,r=e[s];t+=null==r?"null":""+r,t+=" => ",t+=Q.string(Q.string(this.h[r])),s<e.length-1&&(t+=", ")}return t+="}"},__class__:Mu};var Fu={};(i["openfl.utils._UnshrinkableArray.UnshrinkableArray_Impl_"]=Fu).__name__=["openfl","utils","_UnshrinkableArray","UnshrinkableArray_Impl_"],Fu.__properties__={get_length:"get_length"},Fu._new=function(t,e){null==t&&(t=64);var i=new Gt;return i._items=null!=e?e:[],i._length=i._items.length,i},Fu.getInternalArray=function(t){return t._items},Fu.push=function(t,e){t._items[t._length++]=e},Fu.pop=function(t){var e=t._items[--t._length];return t._items[t._length]=null,e},Fu.insert=function(t,e,i){for(var n=t._length-1;e<=n;)t._items[n+1]=t._items[n],--n;t._items[e]=i,t._length=e>t._length?e:t._length,++t._length},Fu.concat=function(t,e){for(var i=t._items.length-t._length,n=0,s=i;n<s;){var r=n++;t._items[t._length+r]=r>=e._length?null:e._items[r]}return t._items=t._items.concat(e._items.slice(i)),t._length+=e._length,t},Fu.clear=function(t){for(var e=0,i=t._length;e<i;){var n=e++;t._items[n]=null}t._length=0},Fu.filter=function(t,e){var i=new Gt;i._items=[],i._length=i._items.length;for(var n=i,s=0,r=t._length;s<r;){var a=s++,o=t._items[a];e(o)&&(n._items[n._length++]=o)}return n},Fu.remove=function(t,e){var i=t._items.indexOf(e,null),n=i>=t._length?-1:i;if(0<=n){for(var s=n,r=t._length-1;s<r;){var a=s++;t._items[a]=t._items[a+1]}--t._length,t._items[t._length]=null}return 0<=n},Fu.splice=function(t,e,i){if(e=Math.max(e,0),0<(i=Math.min(i,t._length-e))){for(var n=e,s=t._length-i;n<s;){var r=n++;t._items[r]=t._items[r+i]}for(var a=t._length-i,o=t._length;a<o;){var l=a++;t._items[l]=null}t._length-=i}},Fu.slice=function(t,e,i){i=null==i?t._length:Math.min(t._length,i);var n=t._items.slice(e,i),s=new Gt;return s._items=null!=n?n:[],s._length=s._items.length,s},Fu.sliceArray=function(t,e,i){return i=null==i?t._length:Math.min(t._length,i),t._items.slice(e,i)},Fu.reverse=function(t){for(var e=0,i=t._length-1;e<i;){var n=t._items[e];t._items[e]=t._items[i],t._items[i]=n,++e,--i}},Fu.copyFrom=function(t,e,i){null==i&&(i=0);var n=t._length;t._length=e._length-i;for(var s=0,r=t._length;s<r;){var a=s++,o=i+a;t._items[a]=o>=e._length?null:e._items[o]}for(var l=t._length,h=n;l<h;){var _=l++;t._items[_]=null}},Fu.pushFromArray=function(t,e){for(var i=t._length,n=0,s=e._length;n<s;){var r=n++;t._items[i+r]=r>=e._length?null:e._items[r]}t._length+=e._length},Fu.indexOf=function(t,e,i){var n=t._items.indexOf(e,i);return n>=t._length?-1:n},Fu.last=function(t){return t._items[t._length-1]},Fu.get=function(t,e){return e>=t._length?null:t._items[e]},Fu.set=function(t,e,i){return e>=t._length&&(t._length=e+1),t._items[e]=i},Fu.get_length=function(t){return t._length};var Bu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_165"]=Bu).__name__=["scripts","Button2_165"],Bu.__super__=m,Bu.prototype=n(m.prototype,{release:function(){this.parent.gotoAndStop("main")},__class__:Bu});var Lu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_180"]=Lu).__name__=["scripts","Button2_180"],Lu.__super__=m,Lu.prototype=n(m.prototype,{release:function(){},__class__:Lu});var ku=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_189"]=ku).__name__=["scripts","Button2_189"],ku.__super__=m,ku.prototype=n(m.prototype,{release:function(){this.gotoAndStop(2),g.instance.highQuality=!1},__class__:ku});var Nu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_191"]=Nu).__name__=["scripts","Button2_191"],Nu.__super__=m,Nu.prototype=n(m.prototype,{release:function(){this.gotoAndStop(1)},__class__:Nu});var Ou=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_195"]=Ou).__name__=["scripts","Button2_195"],Ou.__super__=m,Ou.prototype=n(m.prototype,{release:function(){g.instance.gameStart()},__class__:Ou});var Uu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_198"]=Uu).__name__=["scripts","Button2_198"],Uu.__super__=m,Uu.prototype=n(m.prototype,{release:function(){this.gotoAndStop("rules")},__class__:Uu});var Gu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_201"]=Gu).__name__=["scripts","Button2_201"],Gu.__super__=m,Gu.prototype=n(m.prototype,{release:function(){this.gotoAndStop("about")},__class__:Gu});var Xu=function(t,e){m.call(this,t,e),this.addEventListener("click",of(this,this.press))};(i["scripts.Button2_215"]=Xu).__name__=["scripts","Button2_215"],Xu.__super__=m,Xu.prototype=n(m.prototype,{press:function(){g.instance.soundOff(),this.gotoAndStop(2)},__class__:Xu});var Vu=function(t,e){m.call(this,t,e),this.addEventListener("click",of(this,this.press))};(i["scripts.Button2_218"]=Vu).__name__=["scripts","Button2_218"],Vu.__super__=m,Vu.prototype=n(m.prototype,{press:function(){g.instance.soundOn(),this.gotoAndStop(1)},__class__:Vu});var zu=function(t,e){m.call(this,t,e),this.addEventListener("click",of(this,this.press))};(i["scripts.Button2_226"]=zu).__name__=["scripts","Button2_226"],zu.__super__=m,zu.prototype=n(m.prototype,{press:function(){this.getUrl("https://www.addictinggames.com/","_blank")},__class__:zu});var Hu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_231"]=Hu).__name__=["scripts","Button2_231"],Hu.__super__=m,Hu.prototype=n(m.prototype,{release:function(){this.gotoAndStop("main")},__class__:Hu});var Wu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_451"]=Wu).__name__=["scripts","Button2_451"],Wu.__super__=m,Wu.prototype=n(m.prototype,{release:function(){g.instance.newGame()},__class__:Wu});var Yu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_453"]=Yu).__name__=["scripts","Button2_453"],Yu.__super__=m,Yu.prototype=n(m.prototype,{release:function(){g.instance.nextLevel()},__class__:Yu});var Ku=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_455"]=Ku).__name__=["scripts","Button2_455"],Ku.__super__=m,Ku.prototype=n(m.prototype,{release:function(){var t=g.instance.scores;sf.client.postScore("score",0|t)},__class__:Ku});var ju=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_459"]=ju).__name__=["scripts","Button2_459"],ju.__super__=m,ju.prototype=n(m.prototype,{release:function(){g.instance.chooseBikeWhenComplete()},__class__:ju});var qu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_467"]=qu).__name__=["scripts","Button2_467"],qu.__super__=m,qu.prototype=n(m.prototype,{release:function(){g.instance.replay()},__class__:qu});var Ju=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_469"]=Ju).__name__=["scripts","Button2_469"],Ju.__super__=m,Ju.prototype=n(m.prototype,{release:function(){g.instance.chooseBike()},__class__:Ju});var Zu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_481"]=Zu).__name__=["scripts","Button2_481"],Zu.__super__=m,Zu.prototype=n(m.prototype,{release:function(){g.instance.replay()},__class__:Zu});var Qu=function(t,e){m.call(this,t,e),this.addEventListener("mouseUp",of(this,this.release))};(i["scripts.Button2_483"]=Qu).__name__=["scripts","Button2_483"],Qu.__super__=m,Qu.prototype=n(m.prototype,{release:function(){g.instance.resume()},__class__:Qu});var $u=function(t,e){m.call(this,t,e),this.addEventListener("click",of(this,this.press))};(i["scripts.Button2_487"]=$u).__name__=["scripts","Button2_487"],$u.__super__=m,$u.prototype=n(m.prototype,{press:function(){g.instance.pauseGame()},__class__:$u});var tc=function(t,e){m.call(this,t,e),this.addEventListener("click",of(this,this.press))};(i["scripts.Button2_490"]=tc).__name__=["scripts","Button2_490"],tc.__super__=m,tc.prototype=n(m.prototype,{press:function(){g.instance.resume()},__class__:tc});var ec=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Lib_bike_body1"]=ec).__name__=["scripts","Lib_bike_body1"],ec.__super__=h,ec.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:ec});var ic=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Lib_bike_body2"]=ic).__name__=["scripts","Lib_bike_body2"],ic.__super__=h,ic.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:ic});var nc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Lib_bike_body3"]=nc).__name__=["scripts","Lib_bike_body3"],nc.__super__=h,nc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:nc});var sc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Lib_bike_body4"]=sc).__name__=["scripts","Lib_bike_body4"],sc.__super__=h,sc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:sc});var rc=function(t,e){this.addFrameScript(26,of(this,this.frame27)),h.call(this,t,e)};(i["scripts.Lib_smoke"]=rc).__name__=["scripts","Lib_smoke"],rc.__super__=h,rc.prototype=n(h.prototype,{frame27:function(){if(null!=this.parent){var t=this.parent;this.parent.removeChild(this),""!=this.__name&&Dt.deleteField(t,this.__name)}},__class__:rc});var ac=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel1"]=ac).__name__=["scripts","Lib_wheel1"],ac.__super__=N,ac.prototype=n(N.prototype,{__class__:ac});var oc=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel2"]=oc).__name__=["scripts","Lib_wheel2"],oc.__super__=N,oc.prototype=n(N.prototype,{__class__:oc});var lc=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel3"]=lc).__name__=["scripts","Lib_wheel3"],lc.__super__=N,lc.prototype=n(N.prototype,{__class__:lc});var hc=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel4"]=hc).__name__=["scripts","Lib_wheel4"],hc.__super__=N,hc.prototype=n(N.prototype,{__class__:hc});var _c=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel_forward1"]=_c).__name__=["scripts","Lib_wheel_forward1"],_c.__super__=N,_c.prototype=n(N.prototype,{__class__:_c});var uc=function(t,e){N.call(this,t,e)};(i["scripts.Lib_wheel_forward3"]=uc).__name__=["scripts","Lib_wheel_forward3"],uc.__super__=N,uc.prototype=n(N.prototype,{__class__:uc});var cc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),R.call(this,t,e)};(i["scripts.Moto1_man"]=cc).__name__=["scripts","Moto1_man"],cc.__super__=R,cc.prototype=n(R.prototype,{frame1:function(){this.stop()},__class__:cc});var fc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),R.call(this,t,e)};(i["scripts.Moto3_man"]=fc).__name__=["scripts","Moto3_man"],fc.__super__=R,fc.prototype=n(R.prototype,{frame1:function(){this.stop()},__class__:fc});var dc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),R.call(this,t,e)};(i["scripts.Quad2_man"]=dc).__name__=["scripts","Quad2_man"],dc.__super__=R,dc.prototype=n(R.prototype,{frame1:function(){this.stop()},__class__:dc});var pc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),R.call(this,t,e)};(i["scripts.Quad4_man"]=pc).__name__=["scripts","Quad4_man"],pc.__super__=R,pc.prototype=n(R.prototype,{frame1:function(){this.stop()},__class__:pc});var gc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_1"]=gc).__name__=["scripts","Sprite_1"],gc.__super__=h,gc.prototype=n(h.prototype,{frame1:function(){},__class__:gc});var mc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_114"]=mc).__name__=["scripts","Sprite_114"],mc.__super__=h,mc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:mc});var vc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_116"]=vc).__name__=["scripts","Sprite_116"],vc.__super__=h,vc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:vc});var bc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_117"]=bc).__name__=["scripts","Sprite_117"],bc.__super__=h,bc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:bc});var yc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_119"]=yc).__name__=["scripts","Sprite_119"],yc.__super__=h,yc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:yc});var wc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_121"]=wc).__name__=["scripts","Sprite_121"],wc.__super__=h,wc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:wc});var xc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_138"]=xc).__name__=["scripts","Sprite_138"],xc.__super__=h,xc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:xc});var Tc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_140"]=Tc).__name__=["scripts","Sprite_140"],Tc.__super__=h,Tc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Tc});var Sc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_141"]=Sc).__name__=["scripts","Sprite_141"],Sc.__super__=h,Sc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Sc});var Ec=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_143"]=Ec).__name__=["scripts","Sprite_143"],Ec.__super__=h,Ec.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Ec});var Ic=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_145"]=Ic).__name__=["scripts","Sprite_145"],Ic.__super__=h,Ic.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Ic});var Cc=function(t,e){this.time=0;var i=this;h.call(this,t,e);var n=of(this,this.keyDown);ot.addKeyDownListener(n),this.addEventListener("removedFromStage",function(){ot.removeKeyDownListener(n)}),this.addEventListener("addedToStage",function(){i.load()})};(i["scripts.Sprite_17"]=Cc).__name__=["scripts","Sprite_17"],Cc.__super__=h,Cc.prototype=n(h.prototype,{__enterFrame:function(t){if(h.prototype.__enterFrame.call(this,t),this.parent==g.instance)for(this.time+=t;41<=this.time;)g.instance.processGame(),this.time-=41},keyDown:function(){g.instance.keyPressed()},load:function(){var t=this;this.parent==g.instance&&Fs.delay(function(){null!=t.stage&&"mc_control"==t.__name&&g.instance.initLevel()},0)},__class__:Cc});var Pc=function(t,e){this.addFrameScript(1,of(this,this.frame49)),h.call(this,t,e)};(i["scripts.Sprite_181"]=Pc).__name__=["scripts","Sprite_181"],Pc.__super__=h,Pc.prototype=n(h.prototype,{frame49:function(){this.parent.gotoAndStop("main")},__class__:Pc});var Ac=function(t,e){var i=this;this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_192"]=Ac).__name__=["scripts","Sprite_192"],Ac.__super__=h,Ac.prototype=n(h.prototype,{load:function(){g.instance.highQuality||this.gotoAndStop(2)},frame1:function(){this.stop()},__class__:Ac});var Dc=function(t,e){var i=this;this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_203"]=Dc).__name__=["scripts","Sprite_203"],Dc.__super__=h,Dc.prototype=n(h.prototype,{load:function(){new _t},frame1:function(){this.stop()},__class__:Dc});var Rc=function(t,e){var i=this;this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_205"]=Rc).__name__=["scripts","Sprite_205"],Rc.__super__=h,Rc.prototype=n(h.prototype,{load:function(){null!=g.instance&&g.instance.stopSoundFlag||!g.instance.zastSoundFlag?this.gotoAndStop(3):this.gotoAndStop(2)},frame1:function(){this.stop()},__class__:Rc});var Mc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_207"]=Mc).__name__=["scripts","Sprite_207"],Mc.__super__=h,Mc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:Mc});var Fc=function(t,e){var i=this;this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_219"]=Fc).__name__=["scripts","Sprite_219"],Fc.__super__=h,Fc.prototype=n(h.prototype,{load:function(){g.instance.stopSoundFlag&&this.gotoAndStop(2)},frame1:function(){this.stop()},__class__:Fc});var Bc=function(t,e){h.call(this,t,e)};(i["scripts.Sprite_248"]=Bc).__name__=["scripts","Sprite_248"],Bc.__super__=h,Bc.prototype=n(h.prototype,{__class__:Bc});var Lc=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_251"]=Lc).__name__=["scripts","Sprite_251"],Lc.__super__=h,Lc.prototype=n(h.prototype,{load:function(){this.set_visible(!1)},__class__:Lc});var kc=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_253"]=kc).__name__=["scripts","Sprite_253"],kc.__super__=h,kc.prototype=n(h.prototype,{load:function(){this.set_visible(!1)},__class__:kc});var Nc=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_255"]=Nc).__name__=["scripts","Sprite_255"],Nc.__super__=h,Nc.prototype=n(h.prototype,{load:function(){this.set_visible(!1)},__class__:Nc});var Oc=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_257"]=Oc).__name__=["scripts","Sprite_257"],Oc.__super__=h,Oc.prototype=n(h.prototype,{load:function(){this.set_visible(!1)},__class__:Oc});var Uc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_26"]=Uc).__name__=["scripts","Sprite_26"],Uc.__super__=h,Uc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Uc});var Gc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_28"]=Gc).__name__=["scripts","Sprite_28"],Gc.__super__=h,Gc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Gc});var Xc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_29"]=Xc).__name__=["scripts","Sprite_29"],Xc.__super__=h,Xc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Xc});var Vc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_31"]=Vc).__name__=["scripts","Sprite_31"],Vc.__super__=h,Vc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Vc});var zc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_33"]=zc).__name__=["scripts","Sprite_33"],zc.__super__=h,zc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:zc});var Hc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),this.addFrameScript(1,of(this,this.frame2)),this.addFrameScript(2,of(this,this.frame3)),this.addFrameScript(3,of(this,this.frame4)),this.addFrameScript(4,of(this,this.frame5)),this.addFrameScript(5,of(this,this.frame6)),this.addFrameScript(6,of(this,this.frame7)),this.addFrameScript(7,of(this,this.frame8)),this.addFrameScript(8,of(this,this.frame9)),this.addFrameScript(9,of(this,this.frame10)),this.addFrameScript(10,of(this,this.frame11)),this.addFrameScript(11,of(this,this.frame12)),this.addFrameScript(12,of(this,this.frame13)),this.addFrameScript(13,of(this,this.frame14)),this.addFrameScript(14,of(this,this.frame15)),h.call(this,t,e)};(i["scripts.Sprite_437"]=Hc).__name__=["scripts","Sprite_437"],Hc.__super__=h,Hc.prototype=n(h.prototype,{frame1:function(){g.instance.kvEvent(242)},frame2:function(){g.instance.kvEvent(243)},frame3:function(){g.instance.kvEvent(244)},frame4:function(){g.instance.kvEvent(245)},frame5:function(){g.instance.kvEvent(246)},frame6:function(){g.instance.kvEvent(247)},frame7:function(){g.instance.kvEvent(248)},frame8:function(){g.instance.kvEvent(249)},frame9:function(){g.instance.kvEvent(250)},frame10:function(){g.instance.kvEvent(251)},frame11:function(){g.instance.kvEvent(252)},frame12:function(){g.instance.kvEvent(253)},frame13:function(){g.instance.kvEvent(254)},frame14:function(){g.instance.kvEvent(255)},frame15:function(){g.instance.kvEvent(256)},__class__:Hc});var Wc=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()})};(i["scripts.Sprite_45"]=Wc).__name__=["scripts","Sprite_45"],Wc.__super__=h,Wc.prototype=n(h.prototype,{load:function(){this.set_visible(!1)},__class__:Wc});var Yc=function(t,e){this.trycount=0;var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()}),this.addEventListener("enterFrame",of(this,this.enterFrame))};(i["scripts.Sprite_456"]=Yc).__name__=["scripts","Sprite_456"],Yc.__super__=h,Yc.prototype=n(h.prototype,{load:function(){this.docount=!1},enterFrame:function(){if(this.docount)throw this.trycount++,new fr("")},__class__:Yc});var Kc=function(t,e){this.addFrameScript(146,of(this,this.frame147)),h.call(this,t,e)};(i["scripts.Sprite_464"]=Kc).__name__=["scripts","Sprite_464"],Kc.__super__=h,Kc.prototype=n(h.prototype,{frame147:function(){this.gotoAndPlay(1)},__class__:Kc});var jc=function(t,e){h.call(this,t,e),this.addFrameScript(1,of(this,this.frame2)),this.addFrameScript(2,of(this,this.frame2)),this.addFrameScript(3,of(this,this.frame2))};(i["scripts.Sprite_484"]=jc).__name__=["scripts","Sprite_484"],jc.__super__=h,jc.prototype=n(h.prototype,{frame2:function(){this.getChildWithId(456).swapDepths(100033)},__class__:jc});var qc=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_491"]=qc).__name__=["scripts","Sprite_491"],qc.__super__=h,qc.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:qc});var Jc=function(t,e){this.addFrameScript(63,of(this,this.frame64)),h.call(this,t,e)};(i["scripts.Sprite_496"]=Jc).__name__=["scripts","Sprite_496"],Jc.__super__=h,Jc.prototype=n(h.prototype,{frame64:function(){this.stop()},__class__:Jc});var Zc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_79"]=Zc).__name__=["scripts","Sprite_79"],Zc.__super__=h,Zc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Zc});var Qc=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_81"]=Qc).__name__=["scripts","Sprite_81"],Qc.__super__=h,Qc.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:Qc});var $c=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_82"]=$c).__name__=["scripts","Sprite_82"],$c.__super__=h,$c.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:$c});var tf=function(t,e){this.addFrameScript(6,of(this,this.frame7)),h.call(this,t,e)};(i["scripts.Sprite_84"]=tf).__name__=["scripts","Sprite_84"],tf.__super__=h,tf.prototype=n(h.prototype,{frame7:function(){dr.__cast(this.parent,R).endMove()},__class__:tf});var ef=function(t,e){this.addFrameScript(0,of(this,this.frame1)),h.call(this,t,e)};(i["scripts.Sprite_86"]=ef).__name__=["scripts","Sprite_86"],ef.__super__=h,ef.prototype=n(h.prototype,{frame1:function(){this.stop()},__class__:ef});var nf=function(t,e){var i=this;h.call(this,t,e),this.addEventListener("addedToStage",function(t){t.target==i&&i.load()}),this.addEventListener("enterFrame",of(this,this.enterFrame))};(i["scripts.Sprite_9"]=nf).__name__=["scripts","Sprite_9"],nf.__super__=h,nf.prototype=n(h.prototype,{load:function(){},enterFrame:function(){this.parent.gotoAndStop("intro")},__class__:nf});var sf=function(){};(i["swagapi.Lib"]=sf).__name__=["swagapi","Lib"],sf.client=null,sf.initialize=function(){try{var t="5cf583a0c79e903a0e65d08b";sf.client=SWAGAPI.getInstance({wrapper:window.document.querySelector("#root"),api_key:t,theme:"shockwave",debug:!0}),sf.client.startSession().then(function(t){Rs.trace("SWAG API session started.",{fileName:"Lib.hx",lineNumber:19,className:"swagapi.Lib",methodName:"initialize"})}),sf.client.on("DIALOG_CLOSED",function(){sf.dialogIsShown=!1})}catch(t){Is.lastException=t,Rs.trace("SWAG API not started.",{fileName:"Lib.hx",lineNumber:26,className:"swagapi.Lib",methodName:"initialize"})}},sf.showDialog=function(t){null==t&&(t="scores");try{sf.client.showDialog(t),sf.dialogIsShown=!0}catch(t){Is.lastException=t,Rs.trace("SWAG API error while showDialog.",{fileName:"Lib.hx",lineNumber:35,className:"swagapi.Lib",methodName:"showDialog"})}},sf.isDialogShown=function(){return sf.dialogIsShown};var rf,af=0;function of(t,e){return null==e?null:(null==e.__id__&&(e.__id__=af++),null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&((i=function(){return i.method.apply(i.scope,arguments)}).scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i);var i}Object.defineProperty(Y.prototype,"x",{get:function(){return this.get_x()},set:function(t){this.set_x(t)}}),Object.defineProperty(Y.prototype,"y",{get:function(){return this.get_y()},set:function(t){this.set_y(t)}}),Object.defineProperty(Y.prototype,"name",{get:function(){return this.get_name()},set:function(t){this.set_name(t)}}),Object.defineProperty(Y.prototype,"visible",{get:function(){return this.get_visible()},set:function(t){this.set_visible(t)}}),Object.defineProperty(Y.prototype,"scaleX",{get:function(){return this.get_scaleX()},set:function(t){this.set_scaleX(t)}}),Object.defineProperty(Y.prototype,"scaleY",{get:function(){return this.get_scaleY()},set:function(t){this.set_scaleY(t)}}),Object.defineProperty(Y.prototype,"rotation",{get:function(){return this.get_rotation()},set:function(t){this.set_rotation(t)}}),Object.defineProperty(Y.prototype,"mask",{get:function(){return this.get_mask()},set:function(t){this.set_mask(t)}}),i.Math=Math,String.prototype.__class__=i.String=String,String.__name__=["String"],i.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=i.Date=Date,Date.__name__=["Date"];var lf=i.Int={__name__:["Int"]},hf=i.Dynamic={__name__:["Dynamic"]},_f=i.Float=Number;_f.__name__=["Float"];var uf=i.Bool=Boolean;uf.__ename__=["Bool"];var cf=i.Class={__name__:["Class"]},ff={},df={},pf=e.ArrayBuffer||mr;null==pf.prototype.slice&&(pf.prototype.slice=mr.sliceImpl);var gf=e.DataView||vr,mf=e.Float32Array||br._new,vf=e.Uint8Array||yr._new,bf=new Uint32Array(256);Ba.__alpha16=bf;for(var yf=0;yf<256;){var wf=yf++;Ba.__alpha16[wf]=Math.ceil(257.00392156862745*wf)}var xf=new vf(510);Ba.__clamp=xf;for(var Tf=0;Tf<255;){var Sf=Tf++;Ba.__clamp[Sf]=Sf}for(var Ef,If,Cf,Pf,Af=255;Af<511;){var Df=Af++;Ba.__clamp[Df]=255}Ua.available=!1,Ua.enabled=!1,Y.__worldRenderDirty=0,Y.__worldTransformDirty=0,Y.__worldBranchDirty=0,Y.__cachedBitmapPadding=1,Y.NO_MOUSE_LISTENER_BRANCH_DEPTH=9999,Y.__lastMouseListenerBranchDepth=9999,Y.__parentList=new Array(32),K.__mouseListenerBranchDepthStack=((Ef=new Gt)._items=[],Ef._length=Ef._items.length,Ef),u.soundCommandTable=[],m.keyCallbackTable=[],m.inserted=!1,b.SCREEN_WIDTH=500,w.SCREEN_WIDTH=500,w.SCREEN_HEIGHT=350,w.SCREEN_WIDTH2=w.SCREEN_WIDTH/2,w.SCREEN_HEIGHT2=w.SCREEN_HEIGHT/2,T.BASIC_PARTICLE_NONE=0,E.BUTTON_LEFT=37,E.BUTTON_RIGHT=39,E.BUTTON_UP=38,E.BUTTON_DOWN=40,E.DARK_DX=-3,E.DARK_DY=-1,E.MAX_HEALTH=100,E.ST_GO=1,E.ST_CRUSH=2,E.FRAMES_BETWEEN_SMOKE=2,E.BIKE_MOTO1=1,E.BIKE_ATV1=2,E.BIKE_MOTO2=3,E.BIKE_ATV2=4,E.moto1Params=new y(.6,3.3,-.4,"lib_bike_body1",13,"lib_wheel1",12,.4,0,.03,4,28.5,17,0,"lib_wheel_forward1",11,.4,0,.03,4,28.5,17,0,3,3,0,!1,new S(.4,.4,T.BASIC_PARTICLE_NONE,0),new S(1,1,T.BASIC_PARTICLE_NONE,0),new S(.5,.5,T.BASIC_PARTICLE_NONE,0),new S(.2,.4,T.BASIC_PARTICLE_NONE,0),new S(.2,.4,T.BASIC_PARTICLE_NONE,0)),E.atv1Params=new y(.6,1.9,-.1,"lib_bike_body2",11,"lib_wheel2",12,0,.4,0,4,13,16,0,"lib_wheel2",13,0,.3,0,4,13,16,0,0,0,2,!0,new S(.9,.9,T.BASIC_PARTICLE_NONE,0),new S(0,0,T.BASIC_PARTICLE_NONE,0),new S(0,0,T.BASIC_PARTICLE_NONE,0),new S(.4,.5,1,.8),new S(.4,.5,1,.8)),E.moto2Params=new y(.6,3.8,-.4,"lib_bike_body3",13,"lib_wheel3",12,.4,0,.03,3.5,20.900000000000002,17,0,"lib_wheel_forward3",11,.4,0,.03,3.5,20.900000000000002,17,0,3,3,0,!1,new S(.4,.4,T.BASIC_PARTICLE_NONE,0),new S(1,1,T.BASIC_PARTICLE_NONE,0),new S(.5,.5,1,.75),new S(.2,.4,1,.6),new S(.2,.4,1,.6)),E.atv2Params=new y(.6,2,-.15,"lib_bike_body4",11,"lib_wheel4",12,0,.5,0,4,14.5,16,0,"lib_wheel4",13,0,.4,0,4,14.5,16,0,0,0,2,!0,new S(.9,.9,T.BASIC_PARTICLE_NONE,0),new S(0,0,T.BASIC_PARTICLE_NONE,0),new S(0,0,T.BASIC_PARTICLE_NONE,0),new S(.4,.5,1,.8),new S(.4,.5,1,.8)),E.bikeParamsArray=[E.moto1Params,E.atv1Params,E.moto2Params,E.atv2Params],I.CAR_HIT_RADIUS=110,I.TASK_DRIVE_LEVEL=1,I.TASK_DRIVE_FOR_TIME=2,I.TASK_CRUSH=3,I.TASK_GET_BONUSES=4,I.TASK_OVERTAKE_ENEMY=5,I.MAX_LEVEL_NUM=15,I.UNLOCK_LEVEL_BIKE=9,I.UNLOCK_LEVEL_ATV=12,I.levelTasks=[[1,0,0],[2,6e4,0],[3,12e4,15],[4,12e4,15],[2,6e4,0],[5,0,0]],I.IDX_TASK=0,I.IDX_TASK_TIME=1,I.IDX_TASK_VALUE=2,I.FIRST_NONE=1,I.FIRST_PLAYER=2,I.FIRST_COMPUTER=3,I.scrTime=400,X.UID=0,X.SEQ=0,X.SEQ_BITS=8,X.SEQ_MASK=16777215,X.CLASSES=[],X.CL_BYID=null,X.CLIDS=null,xe.pool=new P(function(){return new xe}),xe.__clid=X.registerClass(xe),A.__localPoint=new xe,R.LEFT_BUTTON=37,R.RIGHT_BUTTON=39,R.ANIM_FRAMES=7,F.gravity=3.1500000000000004,Ti.__registeredFonts=[],j.minDuration=5500,j.introWidth=1440,j.introHeight=900,q.registered=!1,J.playingSoundTable=new Gs,at.Element=0,at.PCData=1,at.CData=2,at.Comment=3,at.DocType=4,at.ProcessingInstruction=5,at.Document=6,ot.instance=null,ut.FLOAT16_EXPONENT_BASE=15,ut.MIN_FLOAT_VALUE=Number.MIN_VALUE,ut.MAX_FLOAT_VALUE=Number.MAX_VALUE,ft.TIMEOUT=50,ft.AUTOBUILD_LAYERS=!1,ft.EXTRACT_SOUND_STREAM=!0,wt.__clid=X.registerClass(wt),xt.__clid=X.registerClass(xt),Tt.__clid=X.registerClass(Tt),It.__clid=X.registerClass(It),Pt.__clid=X.registerClass(Pt),At.__clid=X.registerClass(At),Mt.__clid=X.registerClass(Mt),Ft.__clid=X.registerClass(Ft),Bt.__clid=X.registerClass(Bt),Lt.__clid=X.registerClass(Lt),kt.__clid=X.registerClass(kt),Nt.__clid=X.registerClass(Nt),Ot.__clid=X.registerClass(Ot),Wt.__clid=X.registerClass(Wt),Yt.TYPE_UNKNOWN=0,Yt.TYPE_END=1,Yt.TYPE_STYLECHANGE=2,Yt.TYPE_STRAIGHTEDGE=3,Yt.TYPE_CURVEDEDGE=4,Yt.__clid=X.registerClass(Yt),Kt.__clid=X.registerClass(Kt),jt.__clid=X.registerClass(jt),qt.__clid=X.registerClass(qt),Jt.__clid=X.registerClass(Jt),Zt.__clid=X.registerClass(Zt),le.CODE=7,he.BIT_8=3,he.BIT_15=4,he.BIT_24=5,_e.JPEG=1,_e.GIF89A=2,_e.PNG=3,ue.NORMAL_0=0,ue.NORMAL_1=1,ue.LAYER=2,ue.MULTIPLY=3,ue.SCREEN=4,ue.LIGHTEN=5,ue.DARKEN=6,ue.DIFFERENCE=7,ue.ADD=8,ue.SUBTRACT=9,ue.INVERT=10,ue.ALPHA=11,ue.ERASE=12,ue.OVERLAY=13,ue.HARDLIGHT=14,ce.THIN=0,ce.MEDIUM=1,ce.THICK=2,fe.NORMAL=0,fe.LINEAR=1,de.PAD=0,de.REFLECT=1,de.REPEAT=2,pe.ROUND=0,pe.NO=1,pe.SQUARE=2,ge.ROUND=0,ge.BEVEL=1,ge.MITER=2,me.UNCOMPRESSED_NATIVE_ENDIAN=0,me.ADPCM=1,me.MP3=2,me.UNCOMPRESSED_LITTLE_ENDIAN=3,me.NELLYMOSER_16_KHZ=4,me.NELLYMOSER_8_KHZ=5,me.NELLYMOSER=6,me.SPEEX=11,ve.KHZ_5=0,ve.KHZ_11=1,ve.KHZ_22=2,ve.KHZ_44=3,be.BIT_8=0,be.BIT_16=1,ye.MONO=0,ye.STEREO=1,Te.H263=2,Te.SCREEN=3,Te.VP6=4,Te.VP6ALPHA=5,Te.SCREENV2=6,Se.VIDEOPACKET=0,Se.OFF=1,Se.LEVEL1=2,Se.LEVEL2=3,Se.LEVEL3=4,Se.LEVEL4=5,Ie.__clid=X.registerClass(Ie),Ce.__clid=X.registerClass(Ce),Pe.__clid=X.registerClass(Pe),Ae.MPEGversion_1_0=0,Ae.MPEGversion_2_0=1,Ae.MPEGversion_2_5=2,Ae.MPEG_LAYER_I=0,Ae.MPEG_LAYER_II=1,Ae.MPEG_LAYER_III=2,Ae.CHANNEL_MODE_STEREO=0,Ae.CHANNEL_MODE_JOINT_STEREO=1,Ae.CHANNEL_MODE_DUAL=2,Ae.CHANNEL_MODE_MONO=3,Ae.mpegBitrates=[[[0,32,96,128,160,192,224,256,288,320,352,384,416,448,-1],[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1]],[[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1]]],Ae.mpegsamplingrates=[[44100,48e3,32e3],[22050,24e3,16e3],[11025,12e3,8e3]],Ge.ACTIVATE="activate",Ge.ADDED="added",Ge.ADDED_TO_STAGE="addedToStage",Ge.CANCEL="cancel",Ge.CHANGE="change",Ge.CLOSE="close",Ge.COMPLETE="complete",Ge.CONNECT="connect",Ge.CONTEXT3D_CREATE="context3DCreate",Ge.DEACTIVATE="deactivate",Ge.ENTER_FRAME="enterFrame",Ge.ID3="id3",Ge.INIT="init",Ge.MOUSE_LEAVE="mouseLeave",Ge.MOUSE_ENTER="mouseEnter",Ge.OPEN="open",Ge.REMOVED="removed",Ge.REMOVED_FROM_STAGE="removedFromStage",Ge.RENDER="render",Ge.RESIZE="resize",Ge.SCROLL="scroll",Ge.SELECT="select",Ge.SOUND_COMPLETE="soundComplete",Ge.TAB_CHILDREN_CHANGE="tabChildrenChange",Ge.TAB_ENABLED_CHANGE="tabEnabledChange",Ge.TAB_INDEX_CHANGE="tabIndexChange",Ge.UNLOAD="unload",Ge.pool=new P(function(){return new Ge("")}),Xe.ERROR="error",Xe.REASON_EOF="eof",Ve.PROGRESS="progress",Ve.COMPLETE="complete",ze.WARN_OVERFLOW="overflow",ze.WARN_UNDERFLOW="underflow",$e.__moveDelta=10,$e.__maxScaleDifferenceBetweenRefreshGraphics=.4,ai.instances=new zs,ai.fontAliases=new zs,ai.fontAliasesId=new Gs,ai.__clid=X.registerClass(ai),ui.__clid=X.registerClass(ui),ci.__clid=X.registerClass(ci),fi.__clid=X.registerClass(fi),di.__clid=X.registerClass(di),pi.__clid=X.registerClass(pi),gi.defaultCachePrecision=100,gi.__clid=X.registerClass(gi),Ai.__buffer=new Int32Array(5),Ps.defaultCachePrecision=100,Ps.defaultTranslationCachePrecision=100,Ps.eventIsListened=!1,Ps.shapeSymbolsUsingBitmapCacheMap=new Gs,Ps.__clid=X.registerClass(Ps),Di.__buffer=new Int32Array(6),Ri.__clid=X.registerClass(Ri),Mi.__clid=X.registerClass(Mi),Fi.__clid=X.registerClass(Fi),Bi.__clid=X.registerClass(Bi),Li.__clid=X.registerClass(Li),ki.__clid=X.registerClass(ki),Ni.__clid=X.registerClass(Ni),zi.TYPE=74,Hi.TYPE=63,Wi.TYPE=87,Yi.TYPE=6,Ki.TYPE=21,ji.TYPE=35,qi.TYPE=90,Ji.TYPE=20,Zi.TYPE=36,Qi.TYPE=7,Qi.STATE_UP="up",Qi.STATE_OVER="over",Qi.STATE_DOWN="down",Qi.STATE_HIT="hit",$i.TYPE=34,tn.TYPE=23,en.TYPE=17,nn.TYPE=37,sn.TYPE=10,sn.unitDivisor=1,rn.TYPE=48,an.TYPE=75,an.unitDivisor=20,on.TYPE=91,ln.TYPE=73,hn.TYPE=13,_n.TYPE=62,un.TYPE=88,cn.TYPE=46,fn.TYPE=84,dn.TYPE=78,pn.TYPE=86,gn.TYPE=2,mn.TYPE=22,vn.TYPE=32,bn.TYPE=83,yn.TYPE=14,wn.TYPE=39,xn.TYPE=11,Tn.TYPE=33,Sn.TYPE=60,En.TYPE=82,In.TYPE=72,Cn.TYPE=12,Pn.TYPE=59,An.TYPE=58,Dn.TYPE=64,Rn.TYPE=93,Mn.TYPE=0,Fn.TYPE=56,Bn.TYPE=69,Ln.TYPE=43,kn.TYPE=57,Nn.TYPE=71,On.TYPE=8,Un.TYPE=77,Gn.TYPE=40,Xn.TYPE=4,Vn.TYPE=26,zn.TYPE=70,Hn.TYPE=94,Wn.TYPE=41,Yn.TYPE=24,Kn.TYPE=5,jn.TYPE=28,qn.TYPE=65,Jn.TYPE=9,Zn.TYPE=66,Qn.TYPE=1,$n.TYPE=19,ts.TYPE=18,es.TYPE=45,is.TYPE=15,ns.TYPE=89,ss.TYPE=76,as.TYPE=61,os.TYPE=253,ls.TYPE=255,cs.TYPE_EMPTY=0,cs.TYPE_SPACER=1,cs.TYPE_STATIC=2,cs.TYPE_MOTIONTWEEN=3,cs.TYPE_SHAPETWEEN=4,Ss.i=0,Ss.SIGN_UNDEF=0,Ss.SIGN_POS=-1,Ss.SIGN_NEG=1,Ms.USE_CACHE=!1,Ms.USE_ENUM_INDEX=!1,Ms.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ms.BASE64_CODES=null,Ls.DEFAULT_RESOLVER=new Bs,Ls.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Ls.CODES=null,Xs.count=0,js.i64tmp=new Ds(0,0),er.escapes=(If=new zs,null!=df.lt?If.setReserved("lt","<"):If.h.lt="<",null!=df.gt?If.setReserved("gt",">"):If.h.gt=">",null!=df.amp?If.setReserved("amp","&"):If.h.amp="&",null!=df.quot?If.setReserved("quot",'"'):If.h.quot='"',null!=df.apos?If.setReserved("apos","'"):If.h.apos="'",If),or.IN_ENUM_SER=!1,lr.__clid=X.registerClass(lr),dr.__toStr={}.toString,br.BYTES_PER_ELEMENT=4,yr.BYTES_PER_ELEMENT=1,Tr.cache=new wr,Tr.libraries=new zs,Tr.onChange=new xr,Tr.initialized=!1,Tr.extraSoundOptions=new zs,Sr.stopUpdating=!1,Pr.windowID=0,qr.images=new zs,qr.loaders=new zs,aa.NONE=0,aa.FALSE=0,aa.TRUE=1,aa.SOURCE_RELATIVE=514,aa.CONE_INNER_ANGLE=4097,aa.CONE_OUTER_ANGLE=4098,aa.PITCH=4099,aa.POSITION=4100,aa.DIRECTION=4101,aa.VELOCITY=4102,aa.LOOPING=4103,aa.BUFFER=4105,aa.GAIN=4106,aa.MIN_GAIN=4109,aa.MAX_GAIN=4110,aa.ORIENTATION=4111,aa.SOURCE_STATE=4112,aa.INITIAL=4113,aa.PLAYING=4114,aa.PAUSED=4115,aa.STOPPED=4116,aa.BUFFERS_QUEUED=4117,aa.BUFFERS_PROCESSED=4118,aa.REFERENCE_DISTANCE=4128,aa.ROLLOFF_FACTOR=4129,aa.CONE_OUTER_GAIN=4130,aa.MAX_DISTANCE=4131,aa.SEC_OFFSET=4132,aa.SAMPLE_OFFSET=4133,aa.BYTE_OFFSET=4134,aa.SOURCE_TYPE=4135,aa.STATIC=4136,aa.STREAMING=4137,aa.UNDETERMINED=4144,aa.FORMAT_MONO8=4352,aa.FORMAT_MONO16=4353,aa.FORMAT_STEREO8=4354,aa.FORMAT_STEREO16=4355,aa.FREQUENCY=8193,aa.BITS=8194,aa.CHANNELS=8195,aa.SIZE=8196,aa.NO_ERROR=0,aa.INVALID_NAME=40961,aa.INVALID_ENUM=40962,aa.INVALID_VALUE=40963,aa.INVALID_OPERATION=40964,aa.OUT_OF_MEMORY=40965,aa.VENDOR=45057,aa.VERSION=45058,aa.RENDERER=45059,aa.EXTENSIONS=45060,aa.DOPPLER_FACTOR=49152,aa.SPEED_OF_SOUND=49155,aa.DOPPLER_VELOCITY=49153,aa.DISTANCE_MODEL=53248,aa.INVERSE_DISTANCE=53249,aa.INVERSE_DISTANCE_CLAMPED=53250,aa.LINEAR_DISTANCE=53251,aa.LINEAR_DISTANCE_CLAMPED=53252,aa.EXPONENT_DISTANCE=53253,aa.EXPONENT_DISTANCE_CLAMPED=53254,oa.FALSE=0,oa.TRUE=1,oa.FREQUENCY=4103,oa.REFRESH=4104,oa.SYNC=4105,oa.MONO_SOURCES=4112,oa.STEREO_SOURCES=4113,oa.NO_ERROR=0,oa.INVALID_DEVICE=40961,oa.INVALID_CONTEXT=40962,oa.INVALID_ENUM=40963,oa.INVALID_VALUE=40964,oa.OUT_OF_MEMORY=40965,oa.ATTRIBUTES_SIZE=4098,oa.ALL_ATTRIBUTES=4099,oa.DEFAULT_DEVICE_SPECIFIER=4100,oa.DEVICE_SPECIFIER=4101,oa.EXTENSIONS=4102,oa.ENUMERATE_ALL_EXT=1,oa.DEFAULT_ALL_DEVICES_SPECIFIER=4114,oa.ALL_DEVICES_SPECIFIER=4115,ua.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xa.DEPTH_BUFFER_BIT=256,xa.STENCIL_BUFFER_BIT=1024,xa.COLOR_BUFFER_BIT=16384,xa.POINTS=0,xa.LINES=1,xa.LINE_LOOP=2,xa.LINE_STRIP=3,xa.TRIANGLES=4,xa.TRIANGLE_STRIP=5,xa.TRIANGLE_FAN=6,xa.ZERO=0,xa.ONE=1,xa.SRC_COLOR=768,xa.ONE_MINUS_SRC_COLOR=769,xa.SRC_ALPHA=770,xa.ONE_MINUS_SRC_ALPHA=771,xa.DST_ALPHA=772,xa.ONE_MINUS_DST_ALPHA=773,xa.DST_COLOR=774,xa.ONE_MINUS_DST_COLOR=775,xa.SRC_ALPHA_SATURATE=776,xa.FUNC_ADD=32774,xa.BLEND_EQUATION=32777,xa.BLEND_EQUATION_RGB=32777,xa.BLEND_EQUATION_ALPHA=34877,xa.FUNC_SUBTRACT=32778,xa.FUNC_REVERSE_SUBTRACT=32779,xa.BLEND_DST_RGB=32968,xa.BLEND_SRC_RGB=32969,xa.BLEND_DST_ALPHA=32970,xa.BLEND_SRC_ALPHA=32971,xa.CONSTANT_COLOR=32769,xa.ONE_MINUS_CONSTANT_COLOR=32770,xa.CONSTANT_ALPHA=32771,xa.ONE_MINUS_CONSTANT_ALPHA=32772,xa.BLEND_COLOR=32773,xa.ARRAY_BUFFER=34962,xa.ELEMENT_ARRAY_BUFFER=34963,xa.ARRAY_BUFFER_BINDING=34964,xa.ELEMENT_ARRAY_BUFFER_BINDING=34965,xa.STREAM_DRAW=35040,xa.STATIC_DRAW=35044,xa.DYNAMIC_DRAW=35048,xa.BUFFER_SIZE=34660,xa.BUFFER_USAGE=34661,xa.CURRENT_VERTEX_ATTRIB=34342,xa.FRONT=1028,xa.BACK=1029,xa.FRONT_AND_BACK=1032,xa.CULL_FACE=2884,xa.BLEND=3042,xa.DITHER=3024,xa.STENCIL_TEST=2960,xa.DEPTH_TEST=2929,xa.SCISSOR_TEST=3089,xa.POLYGON_OFFSET_FILL=32823,xa.SAMPLE_ALPHA_TO_COVERAGE=32926,xa.SAMPLE_COVERAGE=32928,xa.NO_ERROR=0,xa.INVALID_ENUM=1280,xa.INVALID_VALUE=1281,xa.INVALID_OPERATION=1282,xa.OUT_OF_MEMORY=1285,xa.CW=2304,xa.CCW=2305,xa.LINE_WIDTH=2849,xa.ALIASED_POINT_SIZE_RANGE=33901,xa.ALIASED_LINE_WIDTH_RANGE=33902,xa.CULL_FACE_MODE=2885,xa.FRONT_FACE=2886,xa.DEPTH_RANGE=2928,xa.DEPTH_WRITEMASK=2930,xa.DEPTH_CLEAR_VALUE=2931,xa.DEPTH_FUNC=2932,xa.STENCIL_CLEAR_VALUE=2961,xa.STENCIL_FUNC=2962,xa.STENCIL_FAIL=2964,xa.STENCIL_PASS_DEPTH_FAIL=2965,xa.STENCIL_PASS_DEPTH_PASS=2966,xa.STENCIL_REF=2967,xa.STENCIL_VALUE_MASK=2963,xa.STENCIL_WRITEMASK=2968,xa.STENCIL_BACK_FUNC=34816,xa.STENCIL_BACK_FAIL=34817,xa.STENCIL_BACK_PASS_DEPTH_FAIL=34818,xa.STENCIL_BACK_PASS_DEPTH_PASS=34819,xa.STENCIL_BACK_REF=36003,xa.STENCIL_BACK_VALUE_MASK=36004,xa.STENCIL_BACK_WRITEMASK=36005,xa.VIEWPORT=2978,xa.SCISSOR_BOX=3088,xa.COLOR_CLEAR_VALUE=3106,xa.COLOR_WRITEMASK=3107,xa.UNPACK_ALIGNMENT=3317,xa.PACK_ALIGNMENT=3333,xa.MAX_TEXTURE_SIZE=3379,xa.MAX_VIEWPORT_DIMS=3386,xa.SUBPIXEL_BITS=3408,xa.RED_BITS=3410,xa.GREEN_BITS=3411,xa.BLUE_BITS=3412,xa.ALPHA_BITS=3413,xa.DEPTH_BITS=3414,xa.STENCIL_BITS=3415,xa.POLYGON_OFFSET_UNITS=10752,xa.POLYGON_OFFSET_FACTOR=32824,xa.TEXTURE_BINDING_2D=32873,xa.SAMPLE_BUFFERS=32936,xa.SAMPLES=32937,xa.SAMPLE_COVERAGE_VALUE=32938,xa.SAMPLE_COVERAGE_INVERT=32939,xa.COMPRESSED_TEXTURE_FORMATS=34467,xa.DONT_CARE=4352,xa.FASTEST=4353,xa.NICEST=4354,xa.GENERATE_MIPMAP_HINT=33170,xa.BYTE=5120,xa.UNSIGNED_BYTE=5121,xa.SHORT=5122,xa.UNSIGNED_SHORT=5123,xa.INT=5124,xa.UNSIGNED_INT=5125,xa.FLOAT=5126,xa.DEPTH_COMPONENT=6402,xa.ALPHA=6406,xa.RGB=6407,xa.RGBA=6408,xa.BGR_EXT=32992,xa.BGRA_EXT=32993,xa.LUMINANCE=6409,xa.LUMINANCE_ALPHA=6410,xa.UNSIGNED_SHORT_4_4_4_4=32819,xa.UNSIGNED_SHORT_5_5_5_1=32820,xa.UNSIGNED_SHORT_5_6_5=33635,xa.FRAGMENT_SHADER=35632,xa.VERTEX_SHADER=35633,xa.MAX_VERTEX_ATTRIBS=34921,xa.MAX_VERTEX_UNIFORM_VECTORS=36347,xa.MAX_VARYING_VECTORS=36348,xa.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,xa.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,xa.MAX_TEXTURE_IMAGE_UNITS=34930,xa.MAX_FRAGMENT_UNIFORM_VECTORS=36349,xa.SHADER_TYPE=35663,xa.DELETE_STATUS=35712,xa.LINK_STATUS=35714,xa.VALIDATE_STATUS=35715,xa.ATTACHED_SHADERS=35717,xa.ACTIVE_UNIFORMS=35718,xa.ACTIVE_ATTRIBUTES=35721,xa.SHADING_LANGUAGE_VERSION=35724,xa.CURRENT_PROGRAM=35725,xa.NEVER=512,xa.LESS=513,xa.EQUAL=514,xa.LEQUAL=515,xa.GREATER=516,xa.NOTEQUAL=517,xa.GEQUAL=518,xa.ALWAYS=519,xa.KEEP=7680,xa.REPLACE=7681,xa.INCR=7682,xa.DECR=7683,xa.INVERT=5386,xa.INCR_WRAP=34055,xa.DECR_WRAP=34056,xa.VENDOR=7936,xa.RENDERER=7937,xa.VERSION=7938,xa.NEAREST=9728,xa.LINEAR=9729,xa.NEAREST_MIPMAP_NEAREST=9984,xa.LINEAR_MIPMAP_NEAREST=9985,xa.NEAREST_MIPMAP_LINEAR=9986,xa.LINEAR_MIPMAP_LINEAR=9987,xa.TEXTURE_MAG_FILTER=10240,xa.TEXTURE_MIN_FILTER=10241,xa.TEXTURE_WRAP_S=10242,xa.TEXTURE_WRAP_T=10243,xa.TEXTURE_2D=3553,xa.TEXTURE=5890,xa.TEXTURE_CUBE_MAP=34067,xa.TEXTURE_BINDING_CUBE_MAP=34068,xa.TEXTURE_CUBE_MAP_POSITIVE_X=34069,xa.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,xa.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,xa.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,xa.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,xa.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,xa.MAX_CUBE_MAP_TEXTURE_SIZE=34076,xa.TEXTURE0=33984,xa.TEXTURE1=33985,xa.TEXTURE2=33986,xa.TEXTURE3=33987,xa.TEXTURE4=33988,xa.TEXTURE5=33989,xa.TEXTURE6=33990,xa.TEXTURE7=33991,xa.TEXTURE8=33992,xa.TEXTURE9=33993,xa.TEXTURE10=33994,xa.TEXTURE11=33995,xa.TEXTURE12=33996,xa.TEXTURE13=33997,xa.TEXTURE14=33998,xa.TEXTURE15=33999,xa.TEXTURE16=34e3,xa.TEXTURE17=34001,xa.TEXTURE18=34002,xa.TEXTURE19=34003,xa.TEXTURE20=34004,xa.TEXTURE21=34005,xa.TEXTURE22=34006,xa.TEXTURE23=34007,xa.TEXTURE24=34008,xa.TEXTURE25=34009,xa.TEXTURE26=34010,xa.TEXTURE27=34011,xa.TEXTURE28=34012,xa.TEXTURE29=34013,xa.TEXTURE30=34014,xa.TEXTURE31=34015,xa.ACTIVE_TEXTURE=34016,xa.REPEAT=10497,xa.CLAMP_TO_EDGE=33071,xa.MIRRORED_REPEAT=33648,xa.FLOAT_VEC2=35664,xa.FLOAT_VEC3=35665,xa.FLOAT_VEC4=35666,xa.INT_VEC2=35667,xa.INT_VEC3=35668,xa.INT_VEC4=35669,xa.BOOL=35670,xa.BOOL_VEC2=35671,xa.BOOL_VEC3=35672,xa.BOOL_VEC4=35673,xa.FLOAT_MAT2=35674,xa.FLOAT_MAT3=35675,xa.FLOAT_MAT4=35676,xa.SAMPLER_2D=35678,xa.SAMPLER_CUBE=35680,xa.VERTEX_ATTRIB_ARRAY_ENABLED=34338,xa.VERTEX_ATTRIB_ARRAY_SIZE=34339,xa.VERTEX_ATTRIB_ARRAY_STRIDE=34340,xa.VERTEX_ATTRIB_ARRAY_TYPE=34341,xa.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,xa.VERTEX_ATTRIB_ARRAY_POINTER=34373,xa.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,xa.VERTEX_PROGRAM_POINT_SIZE=34370,xa.POINT_SPRITE=34913,xa.COMPILE_STATUS=35713,xa.LOW_FLOAT=36336,xa.MEDIUM_FLOAT=36337,xa.HIGH_FLOAT=36338,xa.LOW_INT=36339,xa.MEDIUM_INT=36340,xa.HIGH_INT=36341,xa.FRAMEBUFFER=36160,xa.RENDERBUFFER=36161,xa.RGBA4=32854,xa.RGB5_A1=32855,xa.RGB565=36194,xa.DEPTH_COMPONENT16=33189,xa.STENCIL_INDEX=6401,xa.STENCIL_INDEX8=36168,xa.DEPTH_STENCIL=34041,xa.RENDERBUFFER_WIDTH=36162,xa.RENDERBUFFER_HEIGHT=36163,xa.RENDERBUFFER_INTERNAL_FORMAT=36164,xa.RENDERBUFFER_RED_SIZE=36176,xa.RENDERBUFFER_GREEN_SIZE=36177,xa.RENDERBUFFER_BLUE_SIZE=36178,xa.RENDERBUFFER_ALPHA_SIZE=36179,xa.RENDERBUFFER_DEPTH_SIZE=36180,xa.RENDERBUFFER_STENCIL_SIZE=36181,xa.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,xa.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,xa.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,xa.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,xa.COLOR_ATTACHMENT0=36064,xa.DEPTH_ATTACHMENT=36096,xa.STENCIL_ATTACHMENT=36128,xa.DEPTH_STENCIL_ATTACHMENT=33306,xa.NONE=0,xa.FRAMEBUFFER_COMPLETE=36053,xa.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,xa.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,xa.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,xa.FRAMEBUFFER_UNSUPPORTED=36061,xa.FRAMEBUFFER_BINDING=36006,xa.RENDERBUFFER_BINDING=36007,xa.MAX_RENDERBUFFER_SIZE=34024,xa.INVALID_FRAMEBUFFER_OPERATION=1286,xa.UNPACK_FLIP_Y_WEBGL=37440,xa.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,xa.CONTEXT_LOST_WEBGL=37442,xa.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,xa.BROWSER_DEFAULT_WEBGL=37444,xa.currentBoundTexture=new Array(8),xa.textureStateCache=new Xs,Ia.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Ca.__identity=new Ca,Pa.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ka.GLOBAL_SSL=1,ka.GLOBAL_WIN32=2,ka.GLOBAL_ALL=3,ka.GLOBAL_NOTHING=0,ka.GLOBAL_DEFAULT=3,ka.GLOBAL_ACK_EINTR=4,Oa.MESSAGE_COMPLETE="__COMPLETE__",Oa.MESSAGE_ERROR="__ERROR__",Ua.__moduleNames=null,Qa.INVALID=0,Qa.LEFT_TO_RIGHT=4,Qa.RIGHT_TO_LEFT=5,Qa.TOP_TO_BOTTOM=6,Qa.BOTTOM_TO_TOP=7,to.COMMON="Zyyy",to.INHERITED="Zinh",to.UNKNOWN="Zzzz",to.ARABIC="Arab",to.ARMENIAN="Armn",to.BENGALI="Beng",to.CYRILLIC="Cyrl",to.DEVANAGARI="Deva",to.GEORGIAN="Geor",to.GREEK="Grek",to.GUJARATI="Gujr",to.GURMUKHI="Guru",to.HANGUL="Hang",to.HAN="Hani",to.HEBREW="Hebr",to.HIRAGANA="Hira",to.KANNADA="Knda",to.KATAKANA="Kana",to.LAO="Laoo",to.LATIN="Latn",to.MALAYALAM="Mlym",to.ORIYA="Orya",to.TAMIL="Taml",to.TELUGA="Telu",to.THAI="Thai",to.TIBETAN="Tibt",to.BOPOMOFO="Bopo",to.BRAILLE="Brai",to.CANADIAN_SYLLABICS="Cans",to.CHEROKEE="Cher",to.ETHIOPIC="Ethi",to.KHMER="Khmr",to.MONGOLIAN="Mong",to.MYANMAR="Mymr";to.OGHAM="Ogam",to.RUNIC="Runr",to.SINHALA="Sinh",to.SYRIAC="Syrc",to.THAANA="Thaa",to.YI="Yiii",to.DESERET="Dsrt",to.GOTHIC="Goth",to.OLD_ITALIC="Ital",to.BUHID="Buhd",to.HANUNOO="Hano",to.TAGALOG="Tglg",to.TAGBANWA="Tagb",to.CYPRIOT="Cprt",to.LIMBU="Limb",to.LINEAR_B="Linb",to.OSMANYA="Osma",to.SHAVIAN="Shaw",to.TAI_LE="Tale",to.UGARITIC="Ugar",to.BUGINESE="Bugi",to.COPTIC="Copt",to.GLAGOLITIC="Glag",to.KHAROSHTHI="Khar",to.NEW_TAI_LUE="Talu",to.OLD_PERSIAN="Xpeo",to.SYLOTI_NAGRI="Sylo",to.TIFINAGH="Tfng",to.BALINESE="Bali",to.CUNEIFORM="Xsux",to.NKO="Nkoo",to.PHAGS_PA="Phag",to.PHOENICIAN="Phnx",to.CARIAN="Cari",to.CHAM="Cham",to.KAYAH_LI="Kali",to.LEPCHA="Lepc",to.LYCIAN="Lyci",to.LYDIAN="Lydi",to.OL_CHIKI="Olck",to.REJANG="Rjng",to.SAURASHTRA="Saur",to.SUNDANESE="Sund",to.VAI="Vaii",to.AVESTAN="Avst",to.BAMUM="Bamu",to.EGYPTIAN_HIEROGLYPHS="Egyp",to.IMPERIAL_ARAMAIC="Armi",to.INSCRIPTIONAL_PAHLAVI="Phli",to.INSCRIPTIONAL_PARTHIAN="Prti",to.JAVANESE="Java",to.KAITHI="Kthi",to.LISU="Lisu",to.MEETEI_MAYEK="Mtei",to.OLD_SOUTH_ARABIAN="Sarb",to.OLD_TURKIC="Orkh",to.SAMARITAN="Samr",to.TAI_THAM="Lana",to.TAI_VIET="Tavt",to.BATAK="Batk",to.BRAHMI="Brah",to.MANDAIC="Mand",to.CHAKMA="Cakm",to.MEROITIC_CURSIVE="Merc",to.MEROITIC_HIEROGLYPHS="Mero",to.MIAO="Plrd",to.SHARADA="Shrd",to.SORA_SOMPENG="Sora",to.TAKRI="Takr",to.BASSA_VAH="Bass",to.CAUCASIAN_ALBANIAN="Aghb",to.DUPLOYAN="Dupl",to.ELBASAN="Elba",to.GRANTHA="Gran",to.KHOJKI="Khoj",to.KHUDAWADI="Sind",to.LINEAR_A="Lina",to.MAHAJANI="Mahj",to.MANICHAEAN="Mani",to.MENDE_KIKAKUI="Mend",to.MODI="Modi",to.MRO="Mroo",to.NABATAEAN="Nbat",to.OLD_NORTH_ARABIAN="Narb",to.OLD_PERMIC="Perm",to.PAHAWH_HMONG="Hmng",to.PALMYRENE="Palm",to.PAU_CIN_HAU="Pauc",to.PSALTER_PAHLAVI="Phlp",to.SIDDHAM="Sidd",to.TIRHUTA="Tirh",to.WARANG_CITI="Wara",eo.devices=new Gs,eo.onConnect=new Hr,io.LEFT_X=0,io.LEFT_Y=1,io.RIGHT_X=2,io.RIGHT_Y=3,io.TRIGGER_LEFT=4,io.TRIGGER_RIGHT=5,no.A=0,no.B=1,no.X=2,no.Y=3,no.BACK=4,no.GUIDE=5,no.START=6,no.LEFT_STICK=7,no.RIGHT_STICK=8,no.LEFT_SHOULDER=9,no.RIGHT_SHOULDER=10,no.DPAD_UP=11,no.DPAD_DOWN=12,no.DPAD_LEFT=13,no.DPAD_RIGHT=14,so.devices=new Gs,so.onConnect=new Wr,ro.CENTER=0,ro.DOWN=4,ro.LEFT=8,ro.RIGHT=2,ro.UP=1,ro.DOWN_LEFT=12,ro.DOWN_RIGHT=6,ro.UP_LEFT=9,ro.UP_RIGHT=3,ao.UNKNOWN=0,ao.BACKSPACE=8,ao.TAB=9,ao.RETURN=13,ao.ESCAPE=27,ao.SPACE=32,ao.EXCLAMATION=33,ao.QUOTE=34,ao.HASH=35,ao.DOLLAR=36,ao.PERCENT=37,ao.AMPERSAND=38,ao.SINGLE_QUOTE=39,ao.LEFT_PARENTHESIS=40,ao.RIGHT_PARENTHESIS=41,ao.ASTERISK=42,ao.PLUS=43,ao.COMMA=44,ao.MINUS=45,ao.PERIOD=46,ao.SLASH=47,ao.NUMBER_0=48,ao.NUMBER_1=49,ao.NUMBER_2=50,ao.NUMBER_3=51,ao.NUMBER_4=52,ao.NUMBER_5=53,ao.NUMBER_6=54,ao.NUMBER_7=55,ao.NUMBER_8=56,ao.NUMBER_9=57,ao.COLON=58,ao.SEMICOLON=59,ao.LESS_THAN=60,ao.EQUALS=61,ao.GREATER_THAN=62,ao.QUESTION=63,ao.AT=64,ao.LEFT_BRACKET=91,ao.BACKSLASH=92,ao.RIGHT_BRACKET=93,ao.CARET=94,ao.UNDERSCORE=95,ao.GRAVE=96,ao.A=97,ao.B=98,ao.C=99,ao.D=100,ao.E=101,ao.F=102,ao.G=103,ao.H=104,ao.I=105,ao.J=106,ao.K=107,ao.L=108,ao.M=109,ao.N=110,ao.O=111,ao.P=112,ao.Q=113,ao.R=114,ao.S=115,ao.T=116,ao.U=117,ao.V=118,ao.W=119,ao.X=120,ao.Y=121,ao.Z=122,ao.DELETE=127,ao.CAPS_LOCK=1073741881,ao.F1=1073741882,ao.F2=1073741883,ao.F3=1073741884,ao.F4=1073741885,ao.F5=1073741886,ao.F6=1073741887,ao.F7=1073741888,ao.F8=1073741889,ao.F9=1073741890,ao.F10=1073741891,ao.F11=1073741892,ao.F12=1073741893,ao.PRINT_SCREEN=1073741894,ao.SCROLL_LOCK=1073741895,ao.PAUSE=1073741896,ao.INSERT=1073741897,ao.HOME=1073741898,ao.PAGE_UP=1073741899,ao.END=1073741901,ao.PAGE_DOWN=1073741902,ao.RIGHT=1073741903,ao.LEFT=1073741904,ao.DOWN=1073741905,ao.UP=1073741906,ao.NUM_LOCK=1073741907,ao.NUMPAD_DIVIDE=1073741908,ao.NUMPAD_MULTIPLY=1073741909,ao.NUMPAD_MINUS=1073741910,ao.NUMPAD_PLUS=1073741911,ao.NUMPAD_ENTER=1073741912,ao.NUMPAD_1=1073741913,ao.NUMPAD_2=1073741914,ao.NUMPAD_3=1073741915,ao.NUMPAD_4=1073741916,ao.NUMPAD_5=1073741917,ao.NUMPAD_6=1073741918,ao.NUMPAD_7=1073741919,ao.NUMPAD_8=1073741920,ao.NUMPAD_9=1073741921,ao.NUMPAD_0=1073741922,ao.NUMPAD_PERIOD=1073741923,ao.APPLICATION=1073741925,ao.POWER=1073741926,ao.NUMPAD_EQUALS=1073741927,ao.F13=1073741928,ao.F14=1073741929,ao.F15=1073741930,ao.F16=1073741931,ao.F17=1073741932,ao.F18=1073741933,ao.F19=1073741934,ao.F20=1073741935,ao.F21=1073741936,ao.F22=1073741937,ao.F23=1073741938,ao.F24=1073741939,ao.EXECUTE=1073741940,ao.HELP=1073741941,ao.MENU=1073741942,ao.SELECT=1073741943,ao.STOP=1073741944,ao.AGAIN=1073741945,ao.UNDO=1073741946,ao.CUT=1073741947,ao.COPY=1073741948,ao.PASTE=1073741949,ao.FIND=1073741950,ao.MUTE=1073741951,ao.VOLUME_UP=1073741952,ao.VOLUME_DOWN=1073741953,ao.NUMPAD_COMMA=1073741957,ao.ALT_ERASE=1073741977,ao.SYSTEM_REQUEST=1073741978,ao.CANCEL=1073741979,ao.CLEAR=1073741980,ao.PRIOR=1073741981,ao.RETURN2=1073741982,ao.SEPARATOR=1073741983,ao.OUT=1073741984,ao.OPER=1073741985,ao.CLEAR_AGAIN=1073741986,ao.CRSEL=1073741987,ao.EXSEL=1073741988,ao.NUMPAD_00=1073742e3,ao.NUMPAD_000=1073742001,ao.THOUSAND_SEPARATOR=1073742002,ao.DECIMAL_SEPARATOR=1073742003,ao.CURRENCY_UNIT=1073742004,ao.CURRENCY_SUBUNIT=1073742005,ao.NUMPAD_LEFT_PARENTHESIS=1073742006,ao.NUMPAD_RIGHT_PARENTHESIS=1073742007,ao.NUMPAD_LEFT_BRACE=1073742008,ao.NUMPAD_RIGHT_BRACE=1073742009,ao.NUMPAD_TAB=1073742010,ao.NUMPAD_BACKSPACE=1073742011,ao.NUMPAD_A=1073742012,ao.NUMPAD_B=1073742013,ao.NUMPAD_C=1073742014,ao.NUMPAD_D=1073742015,ao.NUMPAD_E=1073742016,ao.NUMPAD_F=1073742017,ao.NUMPAD_XOR=1073742018,ao.NUMPAD_POWER=1073742019,ao.NUMPAD_PERCENT=1073742020,ao.NUMPAD_LESS_THAN=1073742021,ao.NUMPAD_GREATER_THAN=1073742022,ao.NUMPAD_AMPERSAND=1073742023,ao.NUMPAD_DOUBLE_AMPERSAND=1073742024,ao.NUMPAD_VERTICAL_BAR=1073742025,ao.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,ao.NUMPAD_COLON=1073742027,ao.NUMPAD_HASH=1073742028,ao.NUMPAD_SPACE=1073742029,ao.NUMPAD_AT=1073742030,ao.NUMPAD_EXCLAMATION=1073742031,ao.NUMPAD_MEM_STORE=1073742032,ao.NUMPAD_MEM_RECALL=1073742033,ao.NUMPAD_MEM_CLEAR=1073742034,ao.NUMPAD_MEM_ADD=1073742035,ao.NUMPAD_MEM_SUBTRACT=1073742036,ao.NUMPAD_MEM_MULTIPLY=1073742037,ao.NUMPAD_MEM_DIVIDE=1073742038,ao.NUMPAD_PLUS_MINUS=1073742039,ao.NUMPAD_CLEAR=1073742040,ao.NUMPAD_CLEAR_ENTRY=1073742041,ao.NUMPAD_BINARY=1073742042,ao.NUMPAD_OCTAL=1073742043,ao.NUMPAD_DECIMAL=1073742044,ao.NUMPAD_HEXADECIMAL=1073742045,ao.LEFT_CTRL=1073742048,ao.LEFT_SHIFT=1073742049,ao.LEFT_ALT=1073742050,ao.LEFT_META=1073742051,ao.RIGHT_CTRL=1073742052,ao.RIGHT_SHIFT=1073742053,ao.RIGHT_ALT=1073742054,ao.RIGHT_META=1073742055,ao.MODE=1073742081,ao.AUDIO_NEXT=1073742082,ao.AUDIO_PREVIOUS=1073742083,ao.AUDIO_STOP=1073742084,ao.AUDIO_PLAY=1073742085,ao.AUDIO_MUTE=1073742086,ao.MEDIA_SELECT=1073742087,ao.WWW=1073742088,ao.MAIL=1073742089,ao.CALCULATOR=1073742090,ao.COMPUTER=1073742091,ao.APP_CONTROL_SEARCH=1073742092,ao.APP_CONTROL_HOME=1073742093,ao.APP_CONTROL_BACK=1073742094,ao.APP_CONTROL_FORWARD=1073742095,ao.APP_CONTROL_STOP=1073742096,ao.APP_CONTROL_REFRESH=1073742097,ao.APP_CONTROL_BOOKMARKS=1073742098,ao.BRIGHTNESS_DOWN=1073742099,ao.BRIGHTNESS_UP=1073742100,ao.DISPLAY_SWITCH=1073742101,ao.BACKLIGHT_TOGGLE=1073742102,ao.BACKLIGHT_DOWN=1073742103,ao.BACKLIGHT_UP=1073742104,ao.EJECT=1073742105,ao.SLEEP=1073742106,oo.NONE=0,oo.LEFT_SHIFT=1,oo.RIGHT_SHIFT=2,oo.LEFT_CTRL=64,oo.RIGHT_CTRL=128,oo.LEFT_ALT=256,oo.RIGHT_ALT=512,oo.LEFT_META=1024,oo.RIGHT_META=2048,oo.NUM_LOCK=4096,oo.CAPS_LOCK=8192,oo.MODE=16384,oo.CTRL=192,oo.SHIFT=3,oo.ALT=768,oo.META=3072,_o.onEnd=new Kr,_o.onMove=new Kr,_o.onStart=new Kr,fo.cffi_lime_bytes_from_data_pointer=Ua.load("lime","lime_bytes_from_data_pointer",2,!1),fo.cffi_lime_bytes_get_data_pointer=Ua.load("lime","lime_bytes_get_data_pointer",1,!1),fo.cffi_lime_bytes_read_file=Ua.load("lime","lime_bytes_read_file",1,!1),po.BYTES_PER_ELEMENT=4,mo.BYTES_PER_ELEMENT=2,vo.BYTES_PER_ELEMENT=4,yo.BYTES_PER_ELEMENT=2,wo.BYTES_PER_ELEMENT=4,xo.BYTES_PER_ELEMENT=1,Eo.cache=new So,Eo.dispatcher=new v,Io.pool=new P(function(){return new Io}),Io.__clid=X.registerClass(Io),Co.pool=new P(function(){return new Co}),Co.__identity=new Co,Co.__temp=new Co,Co.__clid=X.registerClass(Co),Po.current=new l,Po.__sentWarnings=new zs,Fo.__clid=X.registerClass(Fo),el.BEGIN_BITMAP_FILL=0,el.BEGIN_FILL=1,el.BEGIN_GRADIENT_FILL=2,el.CUBIC_CURVE_TO=3,el.CURVE_TO=4,el.DRAW_CIRCLE=5,el.DRAW_ARC=6,el.DRAW_ELLIPSE=7,el.DRAW_IMAGE=8,el.DRAW_PATH=9,el.DRAW_RECT=10,el.DRAW_ROUND_RECT=11,el.DRAW_TILES=12,el.DRAW_TRIANGLES=13,el.END_FILL=14,el.LINE_BITMAP_STYLE=15,el.LINE_GRADIENT_STYLE=16,el.LINE_STYLE=17,el.LINE_TO=18,el.MOVE_TO=19,el.OVERRIDE_MATRIX=20,el.UNKNOWN=21,nl.pool=new P(function(){return window.document.createElement("canvas")}),nl.SIN45=.7071067811865476,nl.TAN22=.41421356237309503,nl.padding=1,nl.canvasWindingRule="evenodd",nl.positionX=0,nl.positionY=0,nl.closeGap=!1,nl.startX=0,nl.startY=0,nl.currentTransform=new Co,nl.snapCoordinates=!1,nl.drawCommandReaderPool=new P(function(){return new Bo(null)}),nl.glMaxTextureSize=0,ll.fbDataPool=new P(function(){return new ol}),ll.fbData=[],ll.dataToClean=new Xs,hl.glContextId=0,hl.glContexts=[],_l.UID=0,_l.currentVertexArray=null,ul.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uMaskMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec2 openfl_vMaskTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   openfl_vMaskTexCoord = (openfl_uMaskMatrix * vec3(openfl_aPosition, 1.0)).xy;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],cl.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","\tgl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","\topenfl_vTexCoord = openfl_aTexCoord0;","\tif(openfl_uUseColorTransform)","\t\topenfl_vColor = openfl_aColor;","\telse","\t\topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],wl.glMaxTextureSize=0,xl.compiledShadersCache=new zs,Sl.VERTS_PER_SPRITE=4,Pl.UTF8_TAB=9,Pl.UTF8_ENDLINE=10,Pl.UTF8_SPACE=32,Pl.UTF8_HYPHEN=45,Pl.OFFSET_START=2,Pl.__defaultFonts=new zs,Bl.__isGLES=null,Ll.ADD=0,Ll.ALPHA=1,Ll.DARKEN=2,Ll.DIFFERENCE=3,Ll.ERASE=4,Ll.HARDLIGHT=5,Ll.INVERT=6,Ll.LAYER=7,Ll.LIGHTEN=8,Ll.MULTIPLY=9,Ll.NORMAL=10,Ll.OVERLAY=11,Ll.SCREEN=12,Ll.SHADER=13,Ll.SUBTRACT=14,kl.NONE=0,kl.ROUND=1,kl.SQUARE=2,Gl.LINEAR=0,Gl.RADIAL=1,Xl.__dirtyGraphicsDelay=2,Xl.TILE_SCALE=1,Xl.TILE_ROTATION=2,Xl.TILE_RGB=4,Xl.TILE_ALPHA=8,Xl.TILE_TRANS_2x2=16,Xl.TILE_RECT=32,Xl.TILE_ORIGIN=64,Xl.TILE_BLEND_NORMAL=0,Xl.TILE_BLEND_ADD=65536,Xl.TILE_BLEND_MULTIPLY=131072,Xl.TILE_BLEND_SCREEN=262144,Xl.TILE_BLEND_SUBTRACT=524288,Xl.TILE_BLEND_DARKEN=1048576,Xl.TILE_BLEND_LIGHTEN=2097152,Xl.TILE_BLEND_OVERLAY=4194304,Xl.TILE_BLEND_HARDLIGHT=8388608,Xl.TILE_BLEND_DIFFERENCE=16777216,Xl.TILE_BLEND_INVERT=33554432,Xl.__clid=X.registerClass(Xl),Ql.pool=new P(function(){return new Ql}),eh.LINEAR_RGB=0,eh.RGB=1,nh.BEVEL=0,nh.MITER=1,nh.ROUND=2,sh.HORIZONTAL=0,sh.NONE=1,sh.NORMAL=2,sh.VERTICAL=3,ah.__rootURL=window.document.URL,oh.CONTEXT_LOST="glcontextlost",oh.CONTEXT_RESTORED="glcontextrestored",hh.ALWAYS=0,hh.AUTO=1,hh.NEVER=2,uh.uniformRegex=new G("^\\s*uniform\\s+(sampler(?:2D|Cube)|[bi]?vec[234]|float|int|bool|mat[234])\\s+(\\w+)\\s*(?:\\[(\\d+)\\])?\\s*;.*$","gmi"),uh.aPosition="openfl_aPosition",uh.aTexCoord="openfl_aTexCoord0",uh.aColor="openfl_aColor",uh.uSampler="openfl_uSampler0",uh.uProjectionMatrix="openfl_uProjectionMatrix",uh.uColorMultiplier="openfl_uColorMultiplier",uh.uColorOffset="openfl_uColorOffset",uh.uObjectSize="openfl_uObjectSize",uh.uTextureSize="openfl_uTextureSize",uh.vTexCoord="openfl_vTexCoord",uh.vColor="openfl_vColor",uh.vertexHeader=["attribute vec2 "+uh.aPosition+";","attribute vec2 "+uh.aTexCoord+";","attribute vec4 "+uh.aColor+";","uniform mat3 "+uh.uProjectionMatrix+";","uniform vec2 "+uh.uObjectSize+";","uniform vec2 "+uh.uTextureSize+";","varying vec2 "+uh.vTexCoord+";","varying vec4 "+uh.vColor+";"],uh.fragmentHeader=["uniform sampler2D "+uh.uSampler+";","uniform vec4 "+uh.uColorMultiplier+";","uniform vec4 "+uh.uColorOffset+";","uniform vec2 "+uh.uObjectSize+";","uniform vec2 "+uh.uTextureSize+";","varying vec2 "+uh.vTexCoord+";","varying vec4 "+uh.vColor+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}"],fh.PAD=0,fh.REFLECT=1,fh.REPEAT=2,dh.__calledOnMouseThisFrame=!1,gh.BOTTOM=0,gh.BOTTOM_LEFT=1,gh.BOTTOM_RIGHT=2,gh.LEFT=3,gh.RIGHT=4,gh.TOP=5,gh.TOP_LEFT=6,gh.TOP_RIGHT=7,mh.FULL_SCREEN=0,mh.FULL_SCREEN_INTERACTIVE=1,mh.NORMAL=2,vh.BEST=0,vh.HIGH=1,vh.LOW=2,vh.MEDIUM=3,bh.EXACT_FIT=0,bh.NO_BORDER=1,bh.NO_SCALE=2,bh.SHOW_ALL=3,yh.NEGATIVE=0,yh.NONE=1,yh.POSITIVE=2,Th.TEXTURE_MAX_ANISOTROPY_EXT=34046,Th.MAX_SAMPLERS=8,Th.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,Th.anisotropySupportTested=!1,Th.supportsAnisotropy=!1,Th.maxSupportedAnisotropy=256,Ih.ALL=17664,Ih.COLOR=16384,Ih.DEPTH=256,Ih.STENCIL=1024,Ch.ALWAYS=519,Ch.EQUAL=514,Ch.GREATER=516,Ch.GREATER_EQUAL=518,Ch.LESS=513,Ch.LESS_EQUAL=515,Ch.NEVER=512,Ch.NOT_EQUAL=517,Mh.BACK=1028,Mh.FRONT=1029,Mh.FRONT_AND_BACK=1032,Mh.NONE=0,Xh.internalFormat=-1,Vh.DEFAULT_TO_STRING="Error",jh.ACTIVITY="activity",qh.LINK="link",qh.TEXT_INPUT="textInput",Jh.ERROR="error",Qh.FOCUS_IN="focusIn",Qh.FOCUS_OUT="focusOut",Qh.KEY_FOCUS_CHANGE="keyFocusChange",Qh.MOUSE_FOCUS_CHANGE="mouseFocusChange",$h.FULL_SCREEN="fullScreen",$h.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",t_.DEVICE_ADDED="deviceAdded",t_.DEVICE_REMOVED="deviceRemoved",t_.DEVICE_UNUSABLE="deviceUnusable",e_.HTTP_RESPONSE_STATUS="httpResponseStatus",e_.HTTP_STATUS="httpStatus",i_.IO_ERROR="ioError",n_.KEY_DOWN="keyDown",n_.KEY_UP="keyUp",s_.pool=new P(function(){return new s_}),s_.CLICK="click",s_.DOUBLE_CLICK="doubleClick",s_.MIDDLE_CLICK="middleClick",s_.MIDDLE_MOUSE_DOWN="middleMouseDown",s_.MIDDLE_MOUSE_UP="middleMouseUp",s_.MOUSE_DOWN="mouseDown",s_.MOUSE_MOVE="mouseMove",s_.MOUSE_OUT="mouseOut",s_.MOUSE_OVER="mouseOver",s_.MOUSE_UP="mouseUp",s_.MOUSE_WHEEL="mouseWheel",s_.RIGHT_CLICK="rightClick",s_.RIGHT_MOUSE_DOWN="rightMouseDown",s_.RIGHT_MOUSE_UP="rightMouseUp",s_.ROLL_OUT="rollOut",s_.ROLL_OVER="rollOver",r_.NET_STATUS="netStatus",a_.PROGRESS="progress",a_.SOCKET_DATA="socketData",o_.SECURITY_ERROR="securityError",l_.TOUCH_BEGIN="touchBegin",l_.TOUCH_END="touchEnd",l_.TOUCH_MOVE="touchMove",l_.TOUCH_OUT="touchOut",l_.TOUCH_OVER="touchOver",l_.TOUCH_ROLL_OUT="touchRollOut",l_.TOUCH_ROLL_OVER="touchRollOver",l_.TOUCH_TAP="touchTap",__.__inverseAlphaMultipliers=null!=(Cf=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,-1])?new mf(Cf):null,__.__inverseAlphaOffsets=null!=(Pf=[0,0,0,1])?new mf(Pf):null,u_.__textureCacheMap=new Gs,d_.FULL=0,d_.INNER=1,d_.OUTER=2,y_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uTexCoordDelta:{noCompletion:null},set_uTexCoordDelta:{noCompletion:null},get_uFetchCount:{noCompletion:null},set_uFetchCount:{noCompletion:null}}},x_.MAXIMUM_FETCH_COUNT=32,x_.__shader=new y_,T_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColorLookupSampler:{noCompletion:null},set_uColorLookupSampler:{noCompletion:null}}},S_.__shader=new T_,E_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uMultipliers:{noCompletion:null},set_uMultipliers:{noCompletion:null},get_uOffsets:{noCompletion:null},set_uOffsets:{noCompletion:null}}},I_.__shader=new E_,C_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uColor:{noCompletion:null},set_uColor:{noCompletion:null}}},P_.__shader=new C_,A_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},D_.__shader=new A_,R_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null}}},M_.__shader=new R_,B_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uShadowSourceSampler:{noCompletion:null},set_uShadowSourceSampler:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},L_.__shader=new B_,k_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_outer:{noCompletion:null},set_outer:{noCompletion:null}}},N_.__shader=new k_,O_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uTexCoordOffset:{noCompletion:null},set_uTexCoordOffset:{noCompletion:null},get_uStrength:{noCompletion:null},set_uStrength:{noCompletion:null}}},U_.__shader=new O_,G_.__meta__={fields:{vertex:{vertex:null},fragment:{fragment:null},get_openfl_uScaleVector:{noCompletion:null},set_openfl_uScaleVector:{noCompletion:null},get_uSource1Sampler:{noCompletion:null},set_uSource1Sampler:{noCompletion:null},get_allow_transparency:{noCompletion:null},set_allow_transparency:{noCompletion:null}}},X_.__shader=new G_,z_.AXIS_ANGLE=0,z_.EULER_ANGLES=1,z_.QUATERNION=2,H_.pool=new P(function(){return new H_}),H_.__temp=new H_,H_.__clid=X.registerClass(H_),W_.pool=new P(function(){return new W_(null)}),j_.__registeredSounds=new zs,q_.pool=new P(function(){return new q_}),Q_.CONNECT_SUCCESS="connectSuccess",$_.defaultObjectEncoding=3,tu.FLUSHED=0,tu.PENDING=1,iu.BINARY=0,iu.TEXT=1,iu.VARIABLES=2,ru.DELETE=0,ru.GET=1,ru.HEAD=2,ru.OPTIONS=3,ru.POST=4,ru.PUT=5,ou.currentDomain=new ou(null),hu.currentDomain=new hu,_u.ADVANCED=0,_u.NORMAL=1,uu.BOLD=0,uu.BOLD_ITALIC=1,uu.ITALIC=2,uu.REGULAR=3,cu.DEVICE=0,cu.EMBEDDED=1,cu.EMBEDDED_CFF=2,fu.NONE=0,fu.PIXEL=1,fu.SUBPIXEL=2,du.CENTER=0,du.LEFT=1,du.NONE=2,du.RIGHT=3,pu.DYNAMIC=0,pu.INPUT=1,mu.CENTER=0,mu.END=1,mu.JUSTIFY=2,mu.LEFT=3,mu.RIGHT=4,mu.START=5,bu.isSupported=!0,bu.numDevices=0,bu.__deviceList=[],bu.__devices=new Xs,bu.__instances=[],wu.MAX_BUFFER_SIZE=32e3,xu.NUMBER_0=48,xu.NUMBER_1=49,xu.NUMBER_2=50,xu.NUMBER_3=51,xu.NUMBER_4=52,xu.NUMBER_5=53,xu.NUMBER_6=54,xu.NUMBER_7=55,xu.NUMBER_8=56,xu.NUMBER_9=57,xu.A=65,xu.B=66,xu.C=67,xu.D=68,xu.E=69,xu.F=70,xu.G=71,xu.H=72,xu.I=73,xu.J=74,xu.K=75,xu.L=76,xu.M=77,xu.N=78,xu.O=79,xu.P=80,xu.Q=81,xu.R=82,xu.S=83,xu.T=84,xu.U=85,xu.V=86,xu.W=87,xu.X=88,xu.Y=89,xu.Z=90,xu.NUMPAD_0=96,xu.NUMPAD_1=97,xu.NUMPAD_2=98,xu.NUMPAD_3=99,xu.NUMPAD_4=100,xu.NUMPAD_5=101,xu.NUMPAD_6=102,xu.NUMPAD_7=103,xu.NUMPAD_8=104,xu.NUMPAD_9=105,xu.NUMPAD_MULTIPLY=106,xu.NUMPAD_ADD=107,xu.NUMPAD_ENTER=108,xu.NUMPAD_SUBTRACT=109,xu.NUMPAD_DECIMAL=110,xu.NUMPAD_DIVIDE=111,xu.F1=112,xu.F2=113,xu.F3=114,xu.F4=115,xu.F5=116,xu.F6=117,xu.F7=118,xu.F8=119,xu.F9=120,xu.F10=121,xu.F11=122,xu.F12=123,xu.F13=124,xu.F14=125,xu.F15=126,xu.BACKSPACE=8,xu.TAB=9,xu.ALTERNATE=18,xu.ENTER=13,xu.COMMAND=15,xu.SHIFT=16,xu.CONTROL=17,xu.BREAK=19,xu.CAPS_LOCK=20,xu.NUMPAD=21,xu.ESCAPE=27,xu.SPACE=32,xu.PAGE_UP=33,xu.PAGE_DOWN=34,xu.END=35,xu.HOME=36,xu.LEFT=37,xu.RIGHT=39,xu.UP=38,xu.DOWN=40,xu.INSERT=45,xu.DELETE=46,xu.NUMLOCK=144,xu.SEMICOLON=186,xu.EQUAL=187,xu.COMMA=188,xu.MINUS=189,xu.PERIOD=190,xu.SLASH=191,xu.BACKQUOTE=192;xu.LEFTBRACKET=219,xu.BACKSLASH=220,xu.RIGHTBRACKET=221,xu.QUOTE=222,Eu.DEFLATE=0,Eu.LZMA=1,Eu.ZLIB=2,Iu.BIG_ENDIAN=0,Iu.LITTLE_ENDIAN=1,Cu.__clid=X.registerClass(Cu),sf.dialogIsShown=!1,mi.main()}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
