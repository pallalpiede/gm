var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var BoardLayoutRow=(function(){function BoardLayoutRow(startX,count,y,z,prepend){if(prepend===void 0){prepend=false;}
startX+=BoardLayoutRow.xOffset;y+=BoardLayoutRow.yOffset;this.prepend=prepend;this.count=count;this.z=z;this.y=y;this.endX=startX-1+count;this.startX=startX;if(BoardLayoutRow.rowLayoutVec==null){BoardLayoutRow.rowLayoutVec=new Array();}
BoardLayoutRow.rowLayoutVec.push(this);BoardLayoutRow.totalPieces+=count;}
BoardLayoutRow.columnToRow=function(x,y,yCount,z){var i=-1;while(++i<yCount){new BoardLayoutRow(x,1,y+i,z);}};BoardLayoutRow.totalPieces=0;BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=1;return BoardLayoutRow;}());var BoardManager=(function(){function BoardManager(){}
BoardManager.resetBoard=function(){GameUI.resetUI();this.removeAlltiles();BoardManager.createBoard();};BoardManager.removeAlltiles=function(){if(Tile.allTileArray==null)
return;Tile.lastRemovedPiecesStack=new Array();this.resetBoardFlag=false;console.log("reset board called");var i=Tile.allTileArray.length;while(i-->0){Tile.allTileArray[i].remove(true);}
Tile.allTileArray=new Array();console.log("tile len: "+Tile.allTileArray.length);BoardLayoutRow.totalPieces=0;};BoardManager.createBoard=function(){console.log("create board called");LayoutManager.initLayoutScheme(LayoutManager.levelNum%19);BoardManager.selectedTile=null;GameContext.gameState=GameContext.STATE_PLAYING;BoardManager.tileCountArray=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1];BoardManager.tileContainerArr=new Array();var arr=BoardLayoutRow.rowLayoutVec;var i=arr.length;while(i-->0){var row=arr[i];var j=Math.round(row.count);while(j-->0){var tileXCoord=row.startX+Math.round(row.count)-j-1;var tile=new Tile(tileXCoord,row.y,row.z,row.prepend);BoardManager.assignFace(tile);}}
i=10;while(i-->0)
BoardManager.rehash();BoardManager.solveAndRehash();this.resetPairing();if(BoardManager.resetBoardFlag){BoardManager.resetBoard();return;}
BoardManager.boardAnimationInitialized=false;if(GameContext.firstBoard){BoardManager.initialBoardAnimation();}
else{}
GameContext.firstBoard=false;BoardManager.getOpenMatches();BoardManager.saveBoardSetup();};BoardManager.saveBoardSetup=function(){this.savedBoardSetup=new Array();var i=Tile.allTileArray.length;console.log("save setup len: "+i);while(i-->0){var t=Tile.allTileArray[i];var tileData=new TileData(t.boardXCoord,t.boardYCoord,t.boardZCoord,t.prepend,t.retFaceIdx,t.interMatchedType,t.graphicsName);this.savedBoardSetup.push(tileData);}};BoardManager.loadBoardSetup=function(){var i=this.savedBoardSetup.length;console.log("load board setup: "+i);while(i-->0){var tData=this.savedBoardSetup[i];var newTile=new Tile(tData.tileX,tData.tileY,tData.tileZ,tData.prepend);newTile.assignFaceIdx(tData.retFaceIdx,tData.interMatchedType,tData.graphicsName);}
this.placeAllTilesOnCorrectLayers();};BoardManager.restartSameBoard=function(){if(Tile.allTileArray.length<144){}
GameUI.resetUI();SoundManager.playClick();this.removeAlltiles();this.loadBoardSetup();this.getOpenMatches();};BoardManager.mix=function(){BoardManager.mixStarted=true;BoardManager.removeHint();BoardManager.deselect();var i=10;while(i-->0){this.rehash(true);}
BoardManager.rehash(true);BoardManager.solveAndRehash(Tile.allTileArray.length);if(BoardManager.resetBoardFlag){this.mix();return;}
this.resetPairing();i=Tile.allTileArray.length;while(i-->0){var t=Tile.allTileArray[i];t.tileShadow.alpha=0;t.internalGroup.alpha=0;var delayedCallTime=1000*(0.06+t.boardXCoord*0.02);t.secondaryTween(delayedCallTime);}
SimpleGame.myGame.time.events.add(400,function(){BoardManager.mixStarted=false;});BoardManager.getOpenMatches();SoundManager.mix.play('',0.2);Tile.lastRemovedPiecesStack=new Array();};BoardManager.deselect=function(){var i=Tile.allTileArray.length;while(i-->0){Tile.allTileArray[i].deselect();}};BoardManager.initialBoardAnimation=function(){if(SimpleGame.myGame.device.iOS==false&&SimpleGame.myGame.device.android==false&&SimpleGame.myGame.device.chrome==false){}
console.log("START INIT ANIMATION");SoundManager.intro.play();var tiles=Tile.allTileArray;var i=tiles.length;while(i-->0){var t=tiles[i];var tileXDelta=0;var tileYDelta=-800;t.internalGroup.x+=tileXDelta;t.internalGroup.y+=tileYDelta;t.tileShadow.x+=tileXDelta;t.tileShadow.y+=tileYDelta;SimpleGame.myGame.add.tween(t.internalGroup).to({x:t.internalGroup.x-tileXDelta,y:t.internalGroup.y-tileYDelta},(0.25+t.boardZCoord*0.25+t.boardYCoord*0.1+t.boardXCoord*0.05)*900,function(k){var s,a=0.1,p=0.94;if(k===0)
return 0;if(k===1)
return 1;if(!a||a<1){a=0.81;s=p/4;}
else
s=p*Math.asin(1/a)/(2*Math.PI);return(a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/p)+1);},true,(0.5+t.boardZCoord*0.5+t.boardYCoord*0.1-t.boardXCoord*0.05)*500);SimpleGame.myGame.add.tween(t.tileShadow).to({x:t.tileShadow.x-tileXDelta,y:t.tileShadow.y-tileYDelta},(0.25+t.boardZCoord*0.25+t.boardYCoord*0.1+t.boardXCoord*0.05)*900,function(k){var s,a=0.1,p=0.94;if(k===0)
return 0;if(k===1)
return 1;if(!a||a<1){a=0.81;s=p/4;}
else
s=p*Math.asin(1/a)/(2*Math.PI);return(a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/p)+1);},true,(0.5+t.boardZCoord*0.5+t.boardYCoord*0.1-t.boardXCoord*0.05)*500);}};BoardManager.resetPairing=function(){console.log(Tile.allTileArray.length,BoardManager.tileContainerArr.length);Tile.allTileArray=Tile.allTileArray.concat(BoardManager.tileContainerArr);BoardManager.tileContainerArr=new Array();var i=Tile.allTileArray.length;while(i-->0){Tile.allTileArray[i].testPaired=false;}};BoardManager.assignFace=function(tile){var retFaceIdx=0;var done=false;do{done=false;var tileCountIdx=Math.floor(Math.random()*BoardManager.tileCountArray.length);if(BoardManager.last20Selected.indexOf(tileCountIdx)>=0){continue;}
BoardManager.last20Selected.push(tileCountIdx);if(BoardManager.last20Selected.length>5){BoardManager.last20Selected.splice(0,1);}
if(BoardManager.tileCountArray[tileCountIdx]>0){done=true;BoardManager.tileCountArray[tileCountIdx]--;retFaceIdx=tileCountIdx;}}while(done==false);tile.assignFaceIdx(retFaceIdx,BoardManager.interMatchedType[retFaceIdx],BoardManager.tileNamesArray[retFaceIdx]);};BoardManager.isValidSelection=function(givenTile){var allTileArr=Tile.allTileArray;var zCoordToCheck=givenTile.boardZCoord+1;var i=allTileArr.length;while(i-->0){var tile=allTileArr[i];if(tile.markedForRemoval)
continue;if(tile==givenTile)
continue;if(tile.boardZCoord==zCoordToCheck){if(Math.abs(tile.boardXCoord-givenTile.boardXCoord)<1){if(Math.abs(tile.boardYCoord-givenTile.boardYCoord)<1){return false;}}}}
var horizontalNeighbours=[false,false];var i=allTileArr.length;while(i-->0){var tile=allTileArr[i];if(tile==givenTile)
continue;if(tile.markedForRemoval)
continue;if(tile.boardZCoord==givenTile.boardZCoord&&Math.abs(tile.boardYCoord-givenTile.boardYCoord)<1){if(tile.boardXCoord-givenTile.boardXCoord==1){horizontalNeighbours[1]=true;}
if(tile.boardXCoord-givenTile.boardXCoord==-1){horizontalNeighbours[0]=true;}}}
if(horizontalNeighbours[0]==true&&horizontalNeighbours[1]==true){return false;}
else{return true;}};BoardManager.checkForPairing=function(tileForPairing,selectedTile){console.log(tileForPairing.retFaceIdx,selectedTile.retFaceIdx);if(tileForPairing.retFaceIdx==selectedTile.retFaceIdx){BoardManager.matchTiles(tileForPairing,selectedTile);return true;}
else if(tileForPairing.interMatchedType==selectedTile.interMatchedType&&tileForPairing.interMatchedType>=0){BoardManager.matchTiles(tileForPairing,selectedTile);return true;}
return false;};BoardManager.update=function(){if(Tile.allTileArray==null)
return;var i=Tile.allTileArray.length;while(i-->0){if(this.isValidSelection(Tile.allTileArray[i])){Tile.allTileArray[i].tileBaseImg.input.useHandCursor=true;}
else{Tile.allTileArray[i].tileBaseImg.input.useHandCursor=false;}}};BoardManager.hint=function(){if(BoardManager.selectedTile){BoardManager.selectedTile.deselect();}
this.autoPairReal();BoardManager.getOpenMatches();};BoardManager.checkForPairingTest=function(tileForPairing,selectedTile){if(tileForPairing.retFaceIdx==selectedTile.retFaceIdx){BoardManager.matchTilesTest(tileForPairing,selectedTile);return true;}
else if(tileForPairing.interMatchedType==selectedTile.interMatchedType&&tileForPairing.interMatchedType>=0){BoardManager.matchTilesTest(tileForPairing,selectedTile);return true;}
return false;};BoardManager.checkForPairingTest2=function(tileForPairing,selectedTile){if(tileForPairing.retFaceIdx==selectedTile.retFaceIdx){return true;}
else if(tileForPairing.interMatchedType==selectedTile.interMatchedType&&tileForPairing.interMatchedType>=0){return true;}
return false;};BoardManager.matchTilesTest=function(tileForPairing,selectedTile){tileForPairing.testPaired=selectedTile.testPaired=true;Tile.allTileArray.splice(Tile.allTileArray.indexOf(tileForPairing),1);Tile.allTileArray.splice(Tile.allTileArray.indexOf(selectedTile),1);BoardManager.tileContainerArr.push(tileForPairing);BoardManager.tileContainerArr.push(selectedTile);};BoardManager.matchTiles=function(tileForPairing,selectedTile){SoundManager.playMatchingSound();tileForPairing.matched();selectedTile.matched();BoardManager.selectedTile=null;};BoardManager.autoPair=function(autoRemove){if(autoRemove===void 0){autoRemove=false;}
var arr=Tile.allTileArray;var i=arr.length;var validTiles=new Array();while(i-->0){var tile=arr[i];if(BoardManager.isValidSelection(tile)&&tile.testPaired==false){validTiles.push(tile);}}
validTiles=Phaser.ArrayUtils.shuffle(validTiles);i=validTiles.length;while(i-->0){var tile=validTiles[i];var j=validTiles.length;while(j-->0){if(i<=j)
continue;var tile2=validTiles[j];if(BoardManager.checkForPairingTest(tile,tile2)){if(autoRemove){this.matchTiles(tile,tile2);}
return true;}}}
return false;};BoardManager.autoPairReal=function(){console.log("autopair");var arr=Tile.allTileArray;var i=arr.length;var validTiles=new Array();while(i-->0){var tile=arr[i];if(BoardManager.isValidSelection(tile)){validTiles.push(tile);}}
console.log("valid tiles: "+validTiles.length);i=validTiles.length;while(i-->0){var tile=validTiles[i];var j=validTiles.length;while(j-->0){if(i<=j)
continue;var tile2=validTiles[j];if(BoardManager.checkForPairing(tile,tile2))
return true;}}
return false;};BoardManager.checkIfGameOver=function(){if(Tile.allTileArray==null)
return;console.log("check if game over"+GameContext.gameState);if(Tile.allTileArray.length<=0&&GameContext.gameState==GameContext.STATE_PLAYING){console.log("VICTORY");GameContext.gameState=GameContext.STATE_DONE;var gameover=new GameWonPrompt();}
else if(BoardManager.autoPairCheck()==false&&GameContext.gameState==GameContext.STATE_PLAYING){console.log("GAME OVER");GameContext.gameState=GameContext.STATE_DONE;var gameovergame=new NoMoreMoves();}};BoardManager.autoPairCheck=function(){var arr=Tile.allTileArray;var i=arr.length;var validTiles=new Array();while(i-->0){var tile=arr[i];if(BoardManager.isValidSelection(tile)&&tile.testPaired==false){validTiles.push(tile);}}
i=validTiles.length;while(i-->0){var tile=validTiles[i];tile.testPaired=false;var j=validTiles.length;while(j-->0){if(i<=j)
continue;var tile2=validTiles[j];if(BoardManager.checkForPairingTest2(tile,tile2)){return true;}}}
return false;};BoardManager.solveAndRehash=function(totalLen){if(totalLen===void 0){totalLen=144;}
var mainLoopCounter=20;do{console.log("main loop counter: "+mainLoopCounter);var counter=10;do{do{}while(BoardManager.autoPair());BoardManager.rehash();counter--;}while(BoardManager.countPaired()<totalLen&&counter>0);if(BoardManager.countPaired()<totalLen){BoardManager.resetBoardFlag=true;}
else{console.log("done!!!");BoardManager.resetBoardFlag=false;return;}
BoardManager.resetPairing();}while(mainLoopCounter-->0);};BoardManager.rehash=function(alwaysRehash){if(alwaysRehash===void 0){alwaysRehash=false;}
var i=20;var tileArrLen=Tile.allTileArray.length;if(alwaysRehash==false&&(tileArrLen<=6||(tileArrLen>30&&tileArrLen<140)))
return;while(i-->0){var tile1=null;var tile2=null;do{tile1=Tile.allTileArray[Math.floor(tileArrLen*Math.random())];}while(tile1==null);do{tile2=Tile.allTileArray[Math.floor(tileArrLen*Math.random())];}while(tile2==null||tile2==tile1);tile1.removeFace();tile2.removeFace();var tile1Idx=tile1.retFaceIdx;var tile1interMatchedType=tile1.interMatchedType;var tile1graphicsname=tile1.graphicsName;tile1.assignFaceIdx(tile2.retFaceIdx,tile2.interMatchedType,tile2.graphicsName);tile2.assignFaceIdx(tile1Idx,tile1interMatchedType,tile1graphicsname);}};BoardManager.countPaired=function(){return BoardManager.tileContainerArr.length;};BoardManager.displayHint=function(){console.log("display hint");var arr=Tile.allTileArray;var i=arr.length;var validTiles=new Array();while(i-->0){var tile=arr[i];if(tile.hintedState==true){return;}
if(tile.wasHinted||tile.markedForRemoval){continue;}
if(BoardManager.isValidSelection(tile)&&tile.testPaired==false){validTiles.push(tile);}}
i=validTiles.length;console.log("valid tiles: "+validTiles.length);var totalCount=0;while(i-->0){var tile=validTiles[i];var j=validTiles.length;while(j-->0){if(i<=j)
continue;var tile2=validTiles[j];if(BoardManager.checkForPairingTestWithoutRemoval(tile,tile2)){var k=validTiles.length;while(k-->0){if(validTiles[k].selectedState)
SoundManager.matchesInARow=0;validTiles[k].deselect();}
tile.markForHint();tile2.markForHint();SoundManager.hint.play();return;}}}
BoardManager.getOpenMatches();};BoardManager.selectOtherHinted=function(tile){console.log("select other hinted");var arr=Tile.allTileArray;var i=arr.length;while(i-->0){if(arr[i]!=tile&&((arr[i].retFaceIdx==tile.retFaceIdx)||(arr[i].interMatchedType==tile.interMatchedType&&tile.interMatchedType>=0))){if(arr[i].wasHinted==false){console.log("it was not hinted");}}
if(arr[i].wasHinted&&arr[i]!=tile&&((arr[i].retFaceIdx==tile.retFaceIdx)||(arr[i].interMatchedType==tile.interMatchedType&&tile.interMatchedType>=0))){BoardManager.selectedTile=arr[i];console.log("selected tile found");return;}
else if(arr[i]!=tile){arr[i].deselect();}}};BoardManager.hintedOnField=function(){var i=Tile.allTileArray.length;while(i-->0){if(Tile.allTileArray[i].hintedState){return true;}}
return false;};BoardManager.removeHint=function(){console.log("remove all hints");var i=Tile.allTileArray.length;while(i-->0){Tile.allTileArray[i].removeHint();Tile.allTileArray[i].wasHinted=false;}};BoardManager.checkForPairingTestWithoutRemoval=function(tileForPairing,selectedTile){if(tileForPairing.retFaceIdx==selectedTile.retFaceIdx){return true;}
else if(tileForPairing.interMatchedType==selectedTile.interMatchedType&&tileForPairing.interMatchedType>=0){return true;}
return false;};BoardManager.matchTilesTestWithoutRemoval=function(tileForPairing,selectedTile){tileForPairing.testPaired=selectedTile.testPaired=true;};BoardManager.undoMove=function(){BoardManager.removeHint();BoardManager.deselect();if(Tile.allTileArray.length>=144)
return;if(Tile.lastRemovedPiecesStack==null)
return;if(Tile.lastRemovedPiecesStack.length<=0)
return;SoundManager.undo.play();var tile1=Tile.lastRemovedPiecesStack.pop();var tile2=Tile.lastRemovedPiecesStack.pop();if(tile1==null||tile2==null){console.log("stack empty");return;}
var newT1=new Tile(tile1.boardXCoord,tile1.boardYCoord,tile1.boardZCoord,tile1.prepend);newT1.assignFaceIdx(tile1.retFaceIdx,tile1.interMatchedType,tile1.graphicsName);var newT2=new Tile(tile2.boardXCoord,tile2.boardYCoord,tile2.boardZCoord,tile2.prepend);newT2.assignFaceIdx(tile2.retFaceIdx,tile2.interMatchedType,tile2.graphicsName);newT1.internalGroup.scale.set(0,0);newT2.internalGroup.scale.set(0,0);SimpleGame.myGame.add.tween(newT1.internalGroup.scale).to({x:1,y:1},0.33,Phaser.Easing.Back.Out,true);SimpleGame.myGame.add.tween(newT2.internalGroup.scale).to({x:1,y:1},0.33,Phaser.Easing.Back.Out,true);this.placeAllTilesOnCorrectLayers();SimpleGame.myGame.time.events.add(100,function(){this.removeHint();},this);BoardManager.getOpenMatches();};BoardManager.placeAllTilesOnCorrectLayers=function(){var currentZIndex=0;var currentYIndex=-2;var currentXIndex=-2;var totalTilesToPlace=Tile.allTileArray.length;console.log("total tiles to place: "+totalTilesToPlace);do{var t=this.getTileByBoardCoord(currentXIndex,currentYIndex,currentZIndex);if(t!=null){console.log(currentXIndex,currentYIndex,currentZIndex,totalTilesToPlace);console.log("put on correct place: "+t);if(t.prepend){Tile.itemsLayerArray[t.boardZCoord].add(t.internalGroup);}
else{Tile.itemsLayerArray[t.boardZCoord].add(t.internalGroup);}
t.internalGroup.parent.removeChild(t.internalGroup);Tile.itemsLayerArray[t.boardZCoord].addAt(t.internalGroup,Tile.itemsLayerArray[t.boardZCoord].length,false);totalTilesToPlace--;}
currentYIndex+=.5;if(currentYIndex>15){currentYIndex=-2;currentXIndex+=0.5;if(currentXIndex>20){currentXIndex=-2;currentZIndex++;}}}while(totalTilesToPlace>0&&currentZIndex<8);};BoardManager.getTileByBoardCoord=function(currentXIndex,currentYIndex,currentZIndex){var i=Tile.allTileArray.length;while(i-->0){if(currentXIndex==Tile.allTileArray[i].boardXCoord&&currentYIndex==Tile.allTileArray[i].boardYCoord&&currentZIndex==Tile.allTileArray[i].boardZCoord){return Tile.allTileArray[i];}}
return null;};BoardManager.getOpenMatches=function(){var totalMatches=0;var arr=Tile.allTileArray;var i=arr.length;while(i-->0){var t=arr[i];if(BoardManager.isValidSelection(t)==false)
continue;var j=arr.length;while(j-->0){if(i==j)
continue;var t2=arr[j];if(BoardManager.isValidSelection(t2)==false)
continue;if(BoardManager.checkForPairingTestWithoutRemoval(t,t2)){totalMatches++;}}}
GameUI.matchesOnBoard=Math.floor(totalMatches/2);};BoardManager.tileNamesArray=["bamboo01","bamboo02","bamboo03","bamboo04","bamboo05","bamboo06","bamboo07","bamboo08","bamboo09","crack01","crack02","crack03","crack04","crack05","crack06","crack07","crack08","crack09","dot01","dot02","dot03","dot04","dot05","dot06","dot07","dot08","dot09","dragon03","dragon01","dragon02","wind01","wind02","wind03","wind04","flower01","flower02","flower03","flower04","season01","season02","season03","season04"];BoardManager.interMatched=[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,true,true,true,true,true,true,true];BoardManager.interMatchedType=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,1,1,1,1];BoardManager.boardAnimationInitialized=false;BoardManager.resetBoardFlag=false;BoardManager.last20Selected=new Array();BoardManager.mixStarted=false;return BoardManager;}());var Consts=(function(){function Consts(){}
Consts.DELAY_BETWEEN_EVENTS_TOUCH=200;Consts.DELAY_BETWEEN_EVENTS_DESKTOP=100;Consts.timeToHint=350;Consts.GAMETIME_EASY=10*60;Consts.GAMETIME_MEDIUM=12*60;Consts.GAMETIME_HARD=15*60;return Consts;}());var WebFontConfig={active:function(){console.log("loadgoooglefonts");SimpleGame.myGame.time.events.add(2000,function(){SimpleGame.fontsLoadedFlag=true;},this);},google:{families:["Open Sans:400,500,600,700,800"]}};var mouseIsWithinGame;var SimpleGame=(function(){function SimpleGame(){this.mouseMovedWithinGameTicks=0;this.ticks=0;var config={width:800,height:640,renderer:Phaser.CANVAS,parent:'content',disableVisibilityChange:true};document.body.addEventListener('click',function(){var context=new AudioContext();SimpleGame.myGame.sound.context.resume();});this.game=new Phaser.Game(config);SimpleGame.myGame=this.game;if(SimpleGame.isReleaseVersion){console.log=function(){};}
this.boot=new Phaser.State();this.game.state.add("Boot",this.boot,true);this.gamestate=new Phaser.State();this.gamestate.preload=this.preload;this.gamestate.create=this.create;this.gamestate.update=this.update;this.gamestate.render=this.render;this.game.state.add("Gamestate",this.gamestate,false);var resizeF=function(){console.log("resize game");var deviceWidth=window.outerWidth;var deviceHeight=window.outerHeight;if(SimpleGame.myGame.device.desktop==false){var scaleX=deviceWidth/800;var scaleY=deviceHeight/600;var scale=Math.min(scaleX,scaleY);SimpleGame.myGame.scale.scaleMode=Phaser.ScaleManager.USER_SCALE;SimpleGame.myGame.scale.setUserScale(scale,scale);console.log("set to user scale: "+scale,scaleX,scaleY);SimpleGame.myGame.scale.pageAlignHorizontally=true;}
else{SimpleGame.myGame.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL;SimpleGame.myGame.scale.pageAlignVertically=true;SimpleGame.myGame.scale.pageAlignHorizontally=true;}
SimpleGame.myGame.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL;SimpleGame.myGame.scale.pageAlignVertically=true;SimpleGame.myGame.scale.pageAlignHorizontally=true;SimpleGame.myGame.scale.refresh();};this.boot.preload=function(){this.game.load.image('logo',"assets/SPLASH.png");this.game.stage.backgroundColor=0xffffff;window.addEventListener("resize",resizeF);resizeF();this.game.time.advancedTiming=true;this.game.scale.refresh();console.log("height: "+window.innerHeight+", "+window.innerWidth+", "+this.game.height+","+this.game.scale.sourceAspectRatio);};this.boot.create=function(){this.game.state.start("Gamestate");};console.log(Phaser.VERSION);}
SimpleGame.prototype.preload=function(){this.game.load.script('webfont','//ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js');SimpleGame.logo=this.game.add.sprite(0,0,'logo');SimpleGame.logo.visible=false;var preload=new Preload();Tile.preload();this.game.load.image('game_bg',"assets/game_bg.jpg");this.game.load.image('TURN',"assets/TURN.png");this.game.load.image('ShadowBottom',"assets/TILES/tiles_shade.png");this.game.load.image('ShadowTop',"assets/TILES/tiles_shade.png");this.game.load.image('main_button_hint',"assets/BUTTONS/btn_hint.png");this.game.load.image('main_button_hint_over',"assets/BUTTONS/btn_hint_over.png");this.game.load.image('main_button_mix',"assets/BUTTONS/btn_mix.png");this.game.load.image('main_button_mix_over',"assets/BUTTONS/btn_mix_over.png");this.game.load.image('main_button_restart-game',"assets/BUTTONS/btn_newgame.png");this.game.load.image('main_button_restart-game_over',"assets/BUTTONS/btn_newgame_over.png");this.game.load.image('main_button_soundoff',"assets/BUTTONS/btn_sound_off.png");this.game.load.image('main_button_soundoff_over',"assets/BUTTONS/btn_sound_off_over.png");this.game.load.image('main_button_soundon',"assets/BUTTONS/btn_sound_on.png");this.game.load.image('main_button_soundon_over',"assets/BUTTONS/btn_sound_on_over.png");this.game.load.image('prompt_button_over',"assets/PROMPT/prompt_button_over.png");this.game.load.image('prompt_button',"assets/PROMPT/prompt_button.png");this.game.load.image('prompt_out_of_moves',"assets/PROMPT/prompt_bg.png");this.game.load.image('prompt_won',"assets/PROMPT/prompt_bg.png");LevelMenuPrompt.load();console.log("load language.xml");this.game.load.xml('language','assets/language.xml');this.game.load.audio('click',['assets/sounds/CLICK_TILE.mp3','assets/SOUNDS/CLICK_TILE.ogg']);this.game.load.audio('match1',['assets/sounds/combo_match_01.mp3','assets/SOUNDS/combo_match_01.ogg']);this.game.load.audio('match2',['assets/sounds/combo_match_02.mp3','assets/SOUNDS/combo_match_02.ogg']);this.game.load.audio('match3',['assets/sounds/combo_match_03.mp3','assets/SOUNDS/combo_match_03.ogg']);this.game.load.audio('match4',['assets/sounds/combo_match_04.mp3','assets/SOUNDS/combo_match_04.ogg']);this.game.load.audio('match5',['assets/sounds/combo_match_05.mp3','assets/SOUNDS/combo_match_05.ogg']);this.game.load.audio('match6',['assets/sounds/combo_match_06.mp3','assets/SOUNDS/combo_match_06.ogg']);this.game.load.audio('hint',['assets/sounds/hint.mp3','assets/SOUNDS/hint.ogg']);this.game.load.audio('intro',['assets/sounds/GAME_INTRO.mp3','assets/SOUNDS/GAME_INTRO.ogg']);this.game.load.audio('invalid_move',['assets/sounds/NO_MATCH.mp3','assets/SOUNDS/NO_MATCH.ogg']);this.game.load.audio('undo',['assets/sounds/undo.mp3','assets/SOUNDS/undo.ogg']);this.game.load.audio('won',['assets/sounds/WON.mp3','assets/SOUNDS/WON.ogg']);this.game.load.audio('mix',['assets/sounds/mix.mp3','assets/SOUNDS/mix.ogg']);};SimpleGame.prototype.render=function(){};SimpleGame.prototype.create=function(){SoundManager.clearrow=this.game.add.audio('clearrow');SoundManager.click=this.game.add.audio('click');SoundManager.fail=this.game.add.audio('fail');SoundManager.grabcard=this.game.add.audio('grabcard');SoundManager.valid=this.game.add.audio('valid');SoundManager.won=this.game.add.audio('won');SoundManager.dealcards=this.game.add.audio('deal1card');SoundManager.hint=this.game.add.audio('hint');SoundManager.lost=this.game.add.audio('lost');SoundManager.beep=this.game.add.audio('beep');SoundManager.match1=this.game.add.audio('match1');SoundManager.match2=this.game.add.audio('match2');SoundManager.match3=this.game.add.audio('match3');SoundManager.match4=this.game.add.audio('match4');SoundManager.match5=this.game.add.audio('match5');SoundManager.match6=this.game.add.audio('match6');SoundManager.no_more_moves=this.game.add.audio('no_more_moves');SoundManager.eruption=this.game.add.audio('eruption');SoundManager.intro=this.game.add.audio('intro');SoundManager.invalid_move=this.game.add.audio('invalid_move');SoundManager.undo=this.game.add.audio('undo');SoundManager.mix=this.game.add.audio('mix');SimpleGame.myGame.scale.forceOrientation(true,false);SimpleGame.myGame.scale.enterIncorrectOrientation.add(function(){SimpleGame.myGame.time.events.add(1,function(){var deviceWidth=window.innerWidth;var deviceHeight=window.innerHeight;var isIframed=false;if(window.self!==window.top){isIframed=true;}
if(isIframed)
return;console.log("add turn image 1");if(this.turnImage)
this.turnImage.destroy();this.turnImage=SimpleGame.myGame.add.image(0,0,'TURN');this.turnImage.width=800;this.turnImage.height=600;SimpleGame.myGame.input.enabled=false;var splash=document.getElementById('splash');if(splash){splash.parentNode.removeChild(splash);}},this);},this);SimpleGame.myGame.scale.leaveIncorrectOrientation.add(function(){var deviceWidth=window.outerWidth;var deviceHeight=window.outerHeight;SimpleGame.myGame.input.enabled=true;if(this.turnImage){this.turnImage.destroy();}
if(deviceWidth<deviceHeight){}
else{}},this);SoundManager.init();SimpleGame.handleOrientation();this.ticks=0;SimpleGame.myGame.onFocus.add(function(){window.focus();},this);var text=this.game.add.text(870,32,'',{font:"35px Comic Sans MS",fill:"#ff0000"});text.text="super";this.game.physics.startSystem(Phaser.Physics.ARCADE);var key1=this.game.input.keyboard.addKey(Phaser.Keyboard.CONTROL);var key2=this.game.input.keyboard.addKey(Phaser.Keyboard.Z);var key3=this.game.input.keyboard.addKey(Phaser.Keyboard.H);var key4=this.game.input.keyboard.addKey(Phaser.Keyboard.M);var key5=this.game.input.keyboard.addKey(Phaser.Keyboard.U);var key6=this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT);var key7=this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT);var key8=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);var sBind;key7.onDown.add(function(){LayoutManager.levelNum--;if(LayoutManager.levelNum==-1){LayoutManager.levelNum=17;}
BoardManager.resetBoard();});key6.onDown.add(function(){LayoutManager.levelNum++;if(LayoutManager.levelNum>17){LayoutManager.levelNum=0;}
BoardManager.resetBoard();});key5.onDown.add(function(){BoardManager.undoMove();});key3.onDown.add(function(){BoardManager.displayHint();});key8.onDown.add(function(){});key4.onDown.add(function(){BoardManager.mix();console.log(Tile.allTileArray.length);});key1.onDown.add(function(){sBind=key2.onDown.add(function(){},this);},this);key1.onUp.add(function(){sBind.detach();});text.visible=false;SimpleGame.game_bg=this.game.add.sprite(0,0,'game_bg');SimpleGame.game_bg.width=800;SimpleGame.game_bg.height=640;SimpleGame.game_bg.visible=false;console.log("check assets loaded");SimpleGame.checkAssetsLoaded();SimpleGame.myGame.input.onUp.add(SimpleGame.onPointerUp,this);SimpleGame.myGame.input.onDown.add(SimpleGame.onPointerDown,this);SimpleGame.myGame.stage.disableVisibilityChange=true;document.addEventListener('contextmenu',function(event){return event.preventDefault();});SimpleGame.myGame.stage.disableVisibilityChange=true;SimpleGame.myGame.renderer.renderSession.roundPixels=true;};SimpleGame.handleOrientation=function(){SimpleGame.myGame.scale.forceOrientation(true,false);SimpleGame.myGame.scale.enterIncorrectOrientation.add(function(){SimpleGame.myGame.time.events.add(1,function(){var deviceWidth=window.innerWidth;var deviceHeight=window.innerHeight;var isIframed=false;if(window.self!==window.top){isIframed=true;}
if(isIframed)
return;console.log("add turn image");if(this.turnImage)
this.turnImage.destroy();this.turnImage=SimpleGame.myGame.add.image(0,0,'TURN');this.turnImage.width=880;this.turnImage.height=600;SimpleGame.myGame.input.enabled=false;this.turnImage.alpha=0.0001;var splash=document.getElementById('splash');if(splash){splash.parentNode.removeChild(splash);}},this);},this);SimpleGame.myGame.scale.leaveIncorrectOrientation.add(function(){var deviceWidth=window.outerWidth;var deviceHeight=window.outerHeight;SimpleGame.myGame.input.enabled=true;if(this.turnImage){this.turnImage.destroy();}
if(deviceWidth<deviceHeight){}
else{}},this);};SimpleGame.onPointerDown=function(){SimpleGame.pointerDown=true;};SimpleGame.onPointerUp=function(){SimpleGame.pointerDown=false;};SimpleGame.checkAssetsLoaded=function(){console.log("check assets loaded entered");if(SimpleGame.fontsLoadedFlag==false){console.log("call checkAssetsLoaded in 0.05s");SimpleGame.myGame.time.events.add(50,function(){SimpleGame.checkAssetsLoaded();},this);}
else{console.log("add init screen in 1 second");SimpleGame.addInitScreen();}};SimpleGame.addInitScreen=function(){var splash=document.getElementById('splash');if(splash){splash.parentNode.removeChild(splash);}
console.log("add init screen");SimpleGame.logo.visible=false;Language.initLanguage();SimpleGame.myGame.time.events.add(1,function(){SimpleGame.startGame(true);GameUI.gameTime=Consts.GAMETIME_EASY;SimpleGame.myGame.time.events.add(350,function(){},this);},this);};SimpleGame.startGame=function(firstGame){if(firstGame===void 0){firstGame=true;}
if(firstGame){SimpleGame.gameEngineStarted=true;SimpleGame.game_bg.visible=true;SimpleGame.logo.visible=false;GameUI.initialize();console.log("easy game");GameUI.promptLayer.removeAll(true);var levelmenu=new LevelMenuPrompt();if(SimpleGame.myGame.device.safari==false&&SimpleGame.myGame.device.firefox==false&&SimpleGame.myGame.input.touch&&(SimpleGame.myGame.device.android||SimpleGame.myGame.device.iOS)){SimpleGame.myGame.input.mouse.stop();}
else if(SimpleGame.myGame.device.safari==false&&SimpleGame.myGame.device.firefox==false&&SimpleGame.myGame.device.ie==false&&SimpleGame.myGame.input.touch){SimpleGame.myGame.input.mouse.stop();}}
else{GameUI.resetMenuButton();GameUI.reinitData();BoardManager.resetBoard();}};SimpleGame.prototype.update=function(){if(this.turnImage){this.turnImage.bringToTop();}
if(SimpleGame.gameEngineStarted==false)
return;this.ticks++;var selectedCardExists=false;if(GameUI.promptLayer.countLiving()>0){if(this.ticks%120==1){}}
else{}
GameUI.update();SimpleGame.myGame.input.update();BoardManager.update();var mouseIsMovedWithinGame;if(this.lastMouseCoordX!=SimpleGame.myGame.input.x||this.lastMouseCoordY!=SimpleGame.myGame.input.y){mouseIsMovedWithinGame=true;this.mouseMovedWithinGameTicks++;}
else{mouseIsMovedWithinGame=false;this.mouseMovedWithinGameTicks=0;}
this.lastMouseCoordX=SimpleGame.myGame.input.x;this.lastMouseCoordY=SimpleGame.myGame.input.y;if(SimpleGame.pointerDown==false&&this.mouseMovedWithinGameTicks>5&&SimpleGame.myGame.input.activePointer.withinGame==false){}
else{}};SimpleGame.fontsLoadedFlag=false;SimpleGame.gameEngineStarted=false;SimpleGame.unselectAllCards=false;SimpleGame.isReleaseVersion=false;SimpleGame.pointerDown=false;SimpleGame.debugTxt="";return SimpleGame;}());function onLogoClicked(){}
window.onload=function(){var game=new SimpleGame();};var GameContext=(function(){function GameContext(){}
GameContext.STATE_PLAYING=0;GameContext.STATE_DONE=1;GameContext.firstBoard=true;return GameContext;}());var GameUI=(function(){function GameUI(){}
GameUI.initialize=function(){GameUI.uiLayer=SimpleGame.myGame.add.group();Tile.shadow0=SimpleGame.myGame.add.group();Tile.items0=SimpleGame.myGame.add.group();Tile.shadow1=SimpleGame.myGame.add.group();Tile.items1=SimpleGame.myGame.add.group();Tile.shadow2=SimpleGame.myGame.add.group();Tile.items2=SimpleGame.myGame.add.group();Tile.shadow3=SimpleGame.myGame.add.group();Tile.items3=SimpleGame.myGame.add.group();Tile.shadow4=SimpleGame.myGame.add.group();Tile.items4=SimpleGame.myGame.add.group();GameUI.promptLayer=SimpleGame.myGame.add.group();GameUI.topLayer=SimpleGame.myGame.add.group();Tile.itemsLayerArray=[];Tile.shadowLayerArray=[];Tile.itemsLayerArray[0]=Tile.items0;Tile.itemsLayerArray[1]=Tile.items1;Tile.itemsLayerArray[2]=Tile.items2;Tile.itemsLayerArray[3]=Tile.items3;Tile.itemsLayerArray[4]=Tile.items4;Tile.shadowLayerArray[0]=Tile.shadow0;Tile.shadowLayerArray[1]=Tile.shadow1;Tile.shadowLayerArray[2]=Tile.shadow2;Tile.shadowLayerArray[3]=Tile.shadow3;Tile.shadowLayerArray[4]=Tile.shadow4;GameUI.matchesTxt=SimpleGame.myGame.make.text(295,37,"0500",{font:"20px Open Sans",fill:"#e2c57c",fontWeight:"700",align:"Right"});GameUI.tilesTxt=SimpleGame.myGame.make.text(200,37,"0500",{font:"20px Open Sans",fill:"#e2c57c",fontWeight:"700",align:"Right"});GameUI.timeTxt=SimpleGame.myGame.make.text(143,37,"0500",{font:"20px Open Sans",fill:"#e2c57c",fontWeight:"700",align:"Right"});GameUI.matchesTxt.anchor.set(1,0.5);GameUI.tilesTxt.anchor.set(1,0.5);GameUI.timeTxt.anchor.set(1,0.5);GameUI.topFill=SimpleGame.myGame.make.graphics(0,0);GameUI.topFill.beginFill(0xabbddf);GameUI.topFill.drawRect(0,0,SimpleGame.myGame.width,38);GameUI.topFill.endFill();GameUI.gameboss=SimpleGame.myGame.make.graphics(0,0);GameUI.gameboss.beginFill(0xffffff);GameUI.gameboss.drawRect(SimpleGame.myGame.width*0.5-150,SimpleGame.myGame.height-30,300,40);GameUI.gameboss.endFill();GameUI.gameboss.inputEnabled=true;GameUI.gameboss.events.onInputDown.add(ongamebossDown,this);GameUI.gameboss.events.onInputUp.add(ongamebossUp);GameUI.gameboss.alpha=0.01;GameUI.gameboss.input.useHandCursor=true;window.addEventListener("click",onWindowClicked);var sButPlus=new SoundButton2(GameUI.uiLayer,"main_button_soundon","main_button_soundon_over","main_button_soundoff","main_button_soundoff_over",666,12);GameUI.uiLayer.add(GameUI.matchesTxt);GameUI.uiLayer.add(GameUI.timeTxt);GameUI.uiLayer.add(GameUI.gameboss);SimpleGame.myGame.time.events.loop(1000,GameUI.onSecondTick,this);GameUI.reinitData();var restartbut=new ButtonWithOverState(GameUI.uiLayer,'main_button_restart-game','main_button_restart-game_over',800-10-55,12,function(){var areyousure=new AreYouSurePrompt();});var hinttxt=SimpleGame.myGame.make.text(0,0,Language.hint[Language.langIdx].toUpperCase(),{font:"22px Open Sans",fill:"#508317",fontWeight:"700"});var hintbut=new ButtonWithOverAndText(hinttxt,GameUI.uiLayer,'main_button_hint','main_button_hint_over',354,12,function(){BoardManager.displayHint();});var minttxt=SimpleGame.myGame.make.text(0,0,Language.mix[Language.langIdx].toUpperCase(),{font:"22px Open Sans",fill:"#1e7289",fontWeight:"700"});var mixbut=new ButtonWithOverAndText(minttxt,GameUI.uiLayer,'main_button_mix','main_button_mix_over',510,12,function(){BoardManager.mix();});mixbut.textYDelta=-2;hintbut.textYDelta=-2;restartbut.skipClickSound=true;SimpleGame.myGame.time.events.add(3000,function(){},this);};GameUI.addResetButtonEvents=function(){console.log("add button evets");};GameUI.resetMenuButton=function(){GameUI.menuButton.input.reset();GameUI.menuButton.inputEnabled=true;GameUI.menuButton.events.onInputDown.add(GameUI.onMenuButtonPressed,this);GameUI.menuButton.events.onInputOver.add(function(){SimpleGame.myGame.canvas.style.cursor="pointer";console.log("show pointer");},GameUI.menuButton);GameUI.menuButton.events.onInputOut.add(function(){SimpleGame.myGame.canvas.style.cursor="default";},GameUI.menuButton);GameUI.uiLayer.add(GameUI.menuButton);};GameUI.resetUI=function(){GameUI.reinitData();};GameUI.onSecondTick=function(){BoardManager.checkIfGameOver();if(GameUI.gameStarted&&GameUI.promptLayer.children.length<=0){GameUI.time++;var currentTime=GameUI.gameTime-GameUI.time;if(currentTime<=10&&currentTime>=1){}}};GameUI.reinitData=function(){GameUI.score=500;GameUI.time=0;GameUI.moves=0;GameUI.scoreTotal=GameUI.score;GameUI.gameStarted=true;};GameUI.update=function(){this.matchesTxt.text="x "+this.matchesOnBoard;this.timeTxt.text=""+Util.convertToHHMMSS(this.time);};GameUI.onMenuButtonPressed=function(){console.log("menu button is pressed");if(GameUI.gameStarted==false)
return;GameUI.menuButton.input.reset();SimpleGame.myGame.canvas.style.cursor="default";SoundManager.playClick();};GameUI.gamebossPressed=false;GameUI.gameStarted=false;GameUI.matchesOnBoard=0;return GameUI;}());function onWindowClicked(){if(GameUI.gamebossPressed&&SimpleGame.myGame.device.touch==false){window.open("https://www.gameboss.com","_blank");}
if(SimpleGame.myGame.device.android==true&&SimpleGame.myGame.device.desktop==false&&SimpleGame.myGame.scale.isFullScreen==false){console.log("start full screen");SimpleGame.myGame.scale.startFullScreen(false,false);SimpleGame.myGame.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL;}}
function ongamebossDown(){console.log("gameboss is pressed");GameUI.gamebossPressed=true;}
function ongamebossUp(){console.log("gameboss is unpressed");SimpleGame.myGame.time.events.add(350,function(){GameUI.gamebossPressed=false;});}
var Language=(function(){function Language(){}
Language.initLanguage=function(){var url=location.href.toString();console.log(url);var languageStr=url.split("lang=")[1];if(languageStr==null){languageStr="en";}
languageStr=languageStr.toUpperCase();console.log("Language str: "+languageStr);var langXml=SimpleGame.myGame.cache.getXML('language');console.log(langXml.getElementsByTagName("language"));console.log(langXml);Language.LanguageAbbrevations=[];Language.HOW_TO_PLAY_FULL=[];Language.NEW_GAME=[];Language.EASY=[];Language.NORMAL=[];Language.HARD=[];Language.PLAY=[];Language.TIME=[];Language.SCORE=[];Language.MENU=[];Language.RESUME=[];Language.RESTART=[];Language.YES=[];Language.NO=[];Language.KEEP_PLAYING=[];Language.ARE_YOU_SURE_RESTART=[];Language.ARE_YOU_SURE_NEW=[];Language.ARE_YOU_SURE_SHORT=[];Language.THERE_MUST_BE_AT_LEAST=[];Language.MORE_GAMES=[];Language.SOUND_ON=[];Language.SOUND_OFF=[];Language.MOVES=[];Language.YOUWONGAME=[];Language.DONTSHOWAGAIN=[];Language.STATISTICS=[];Language.SPIDER_SOLITAIRE=[];Language.ALLTIMESTATS=[];Language.playedgames=[];Language.wongames=[];Language.lostgames=[];Language.win_percentage=[];Language.top_score=[];Language.best_time=[];Language.ok=[];Language.with_a_score_of=[];Language.minutes_played=[];Language.themovesyoumade=[];Language.youralltimehigh=[];Language.replay=[];Language.clear=[];Language.level=[];Language.select_level=[];Language.congrats=[];Language.timebonus=[];Language.yourscore=[];Language.illegalmove=[];Language.best_score=[];Language.youlostgame=[];Language.totalscore=[];Language.nomoremoves=[];Language.open_matches=[];Language.nomoremoves_long=[];Language.shuffle=[];Language.time_played=[];Language.tiles_left=[];Language.pleasetryagain=[];Language.wantottry=[];Language.choosenextlevel=[];Language.previous=[];Language.next=[];Language.mix=[];Language.ARE_YOU_SURE_NEW=[];Language.hint=[];console.log("Language init done");for(var i=0;i<langXml.getElementsByTagName("language").length;i++){console.log("started for loop");Language.LanguageAbbrevations.push(langXml.getElementsByTagName("language")[i].attributes[0].nodeValue);Language.YOUWONGAME.push(Language.getCorrectTranslation("youwongame",langXml.getElementsByTagName("language")[i]));Language.nomoremoves.push(Language.getCorrectTranslation("nomoremoves",langXml.getElementsByTagName("language")[i]));Language.pleasetryagain.push(Language.getCorrectTranslation("pleasetryagain",langXml.getElementsByTagName("language")[i]));Language.wantottry.push(Language.getCorrectTranslation("wantottry",langXml.getElementsByTagName("language")[i]));Language.choosenextlevel.push(Language.getCorrectTranslation("choosenextlevel",langXml.getElementsByTagName("language")[i]));Language.previous.push(Language.getCorrectTranslation("previous",langXml.getElementsByTagName("language")[i]));Language.next.push(Language.getCorrectTranslation("next",langXml.getElementsByTagName("language")[i]));Language.mix.push(Language.getCorrectTranslation("mix",langXml.getElementsByTagName("language")[i]));Language.ARE_YOU_SURE_NEW.push(Language.getCorrectTranslation("areyousure",langXml.getElementsByTagName("language")[i]));Language.YES.push(Language.getCorrectTranslation("yes",langXml.getElementsByTagName("language")[i]));Language.NO.push(Language.getCorrectTranslation("no",langXml.getElementsByTagName("language")[i]));Language.hint.push(Language.getCorrectTranslation("hint",langXml.getElementsByTagName("language")[i]));}
Language.langIdx=Language.LanguageAbbrevations.indexOf(languageStr.toLowerCase());};Language.getCorrectTranslation=function(s,o){console.log("get correct translation: "+s);return o.getElementsByTagName(s)[0].textContent;};Language.LanguageAbbrevations=["EN","NL","FR","DE","IT","PL"];Language.PLAY_SHORT=["Play","STARTEN","JOUER","Spielen","Jugar","Jucati"];Language.HOW_TO_PLAY_FULL=["The goal in this Solitaire game is to move all the cards to the four empty stacks in order from ace to king. You can choose to deal 1 card at a time or 3."];return Language;}());var LayoutManager=(function(){function LayoutManager(){}
LayoutManager.initLayoutScheme=function(levelNum){if(levelNum===void 0){levelNum=18;}
BoardLayoutRow.rowLayoutVec=null;BoardLayoutRow.xOffset=0;BoardLayoutRow.yOffset=0;if(levelNum==0){var r1=new BoardLayoutRow(1,12,0,0);var r2=new BoardLayoutRow(3,8,1,0);var r2=new BoardLayoutRow(2,10,2,0);var r2=new BoardLayoutRow(1,12,3,0);var r2=new BoardLayoutRow(1,12,4,0);var r2=new BoardLayoutRow(0,1,3.5,0,true);var r2=new BoardLayoutRow(2,10,5,0);var r2=new BoardLayoutRow(3,8,6,0);var r2=new BoardLayoutRow(1,12,7,0);var r2=new BoardLayoutRow(4,6,1,1);var r2=new BoardLayoutRow(4,6,2,1);var r2=new BoardLayoutRow(4,6,3,1);var r2=new BoardLayoutRow(4,6,4,1);var r2=new BoardLayoutRow(4,6,5,1);var r2=new BoardLayoutRow(4,6,6,1);var r2=new BoardLayoutRow(5,4,2,2);var r2=new BoardLayoutRow(5,4,3,2);var r2=new BoardLayoutRow(5,4,4,2);var r2=new BoardLayoutRow(5,4,5,2);var r2=new BoardLayoutRow(6,2,3,3);var r2=new BoardLayoutRow(6,2,4,3);var r2=new BoardLayoutRow(6.5,1,3.5,4);var r2=new BoardLayoutRow(13,2,3.5,0);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==1){var r1=new BoardLayoutRow(0,9,6,0);var r1=new BoardLayoutRow(1,7,6,1);var r1=new BoardLayoutRow(2,5,6,2);var r1=new BoardLayoutRow(3,3,6,3);var r1=new BoardLayoutRow(1,9,5,0);var r1=new BoardLayoutRow(2,7,5,1);var r1=new BoardLayoutRow(3,5,5,2);var r1=new BoardLayoutRow(4,3,5,3);var r1=new BoardLayoutRow(2,9,4,0);var r1=new BoardLayoutRow(3,7,4,1);var r1=new BoardLayoutRow(4,5,4,2);var r1=new BoardLayoutRow(5,3,4,3);var r1=new BoardLayoutRow(3,9,3,0);var r1=new BoardLayoutRow(4,7,3,1);var r1=new BoardLayoutRow(5,5,3,2);var r1=new BoardLayoutRow(6,3,3,3);var r1=new BoardLayoutRow(4,9,2,0);var r1=new BoardLayoutRow(5,7,2,1);var r1=new BoardLayoutRow(6,5,2,2);var r1=new BoardLayoutRow(7,3,2,3);var r1=new BoardLayoutRow(5,9,1,0);var r1=new BoardLayoutRow(6,7,1,1);var r1=new BoardLayoutRow(7,5,1,2);var r1=new BoardLayoutRow(8,3,1,3);}
else if(levelNum==2){var r1=new BoardLayoutRow(1,5,1,0);var r1=new BoardLayoutRow(1,4,1,1);var r1=new BoardLayoutRow(1,3,1,2);var r1=new BoardLayoutRow(1,2,1,3);var r1=new BoardLayoutRow(1,1,1,4);var r1=new BoardLayoutRow(9,5,1,0);var r1=new BoardLayoutRow(10,4,1,1);var r1=new BoardLayoutRow(11,3,1,2);var r1=new BoardLayoutRow(12,2,1,3);var r1=new BoardLayoutRow(13,1,1,4);var r1=new BoardLayoutRow(1,4,2,0);var r1=new BoardLayoutRow(1,3,2,1);var r1=new BoardLayoutRow(1,2,2,2);var r1=new BoardLayoutRow(1,1,2,3);var r1=new BoardLayoutRow(6,3,2,0);var r1=new BoardLayoutRow(7,1,2,1);var r1=new BoardLayoutRow(10,4,2,0);var r1=new BoardLayoutRow(11,3,2,1);var r1=new BoardLayoutRow(12,2,2,2);var r1=new BoardLayoutRow(13,1,2,3);var r1=new BoardLayoutRow(1,3,3,0);var r1=new BoardLayoutRow(1,2,3,1);var r1=new BoardLayoutRow(1,1,3,2);var r1=new BoardLayoutRow(7,1,3,0);var r1=new BoardLayoutRow(11,3,3,0);var r1=new BoardLayoutRow(12,2,3,1);var r1=new BoardLayoutRow(13,1,3,2);var r1=new BoardLayoutRow(1,2,4,0);var r1=new BoardLayoutRow(1,1,4,1);var r1=new BoardLayoutRow(6,3,4,0);var r1=new BoardLayoutRow(7,1,4,1);var r1=new BoardLayoutRow(12,2,4,0);var r1=new BoardLayoutRow(13,1,4,1);var r1=new BoardLayoutRow(1,3,5,0);var r1=new BoardLayoutRow(1,2,5,1);var r1=new BoardLayoutRow(1,1,5,2);var r1=new BoardLayoutRow(7,1,5,0);var r1=new BoardLayoutRow(11,3,5,0);var r1=new BoardLayoutRow(12,2,5,1);var r1=new BoardLayoutRow(13,1,5,2);var r1=new BoardLayoutRow(1,4,6,0);var r1=new BoardLayoutRow(1,3,6,1);var r1=new BoardLayoutRow(1,2,6,2);var r1=new BoardLayoutRow(1,1,6,3);var r1=new BoardLayoutRow(6,3,6,0);var r1=new BoardLayoutRow(7,1,6,1);var r1=new BoardLayoutRow(10,4,6,0);var r1=new BoardLayoutRow(11,3,6,1);var r1=new BoardLayoutRow(12,2,6,2);var r1=new BoardLayoutRow(13,1,6,3);var r1=new BoardLayoutRow(1,5,7,0);var r1=new BoardLayoutRow(1,4,7,1);var r1=new BoardLayoutRow(1,3,7,2);var r1=new BoardLayoutRow(1,2,7,3);var r1=new BoardLayoutRow(1,1,7,4);var r1=new BoardLayoutRow(9,5,7,0);var r1=new BoardLayoutRow(10,4,7,1);var r1=new BoardLayoutRow(11,3,7,2);var r1=new BoardLayoutRow(12,2,7,3);var r1=new BoardLayoutRow(13,1,7,4);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==3){console.log("started");BoardLayoutRow.xOffset=1.5;BoardLayoutRow.yOffset=0.5;var r1=new BoardLayoutRow(0,5,0,0);var r1=new BoardLayoutRow(6,5,0,0);var r1=new BoardLayoutRow(0,5,0,1);var r1=new BoardLayoutRow(6,5,0,1);var r1=new BoardLayoutRow(0,5,0,2);var r1=new BoardLayoutRow(6,5,0,2);var r1=new BoardLayoutRow(0,1,1,0);var r1=new BoardLayoutRow(5,1,1,0);var r1=new BoardLayoutRow(10,1,1,0);var r1=new BoardLayoutRow(0,1,1,1);var r1=new BoardLayoutRow(5,1,1,1);var r1=new BoardLayoutRow(10,1,1,1);var r1=new BoardLayoutRow(0,1,1,2);var r1=new BoardLayoutRow(5,1,1,2);var r1=new BoardLayoutRow(10,1,1,2);var r1=new BoardLayoutRow(0,1,2,0);var r1=new BoardLayoutRow(5,1,2,0);var r1=new BoardLayoutRow(10,1,2,0);var r1=new BoardLayoutRow(0,1,2,1);var r1=new BoardLayoutRow(5,1,2,1);var r1=new BoardLayoutRow(10,1,2,1);var r1=new BoardLayoutRow(0,1,2,2);var r1=new BoardLayoutRow(5,1,2,2);var r1=new BoardLayoutRow(10,1,2,2);var r1=new BoardLayoutRow(0,1,3,0);var r1=new BoardLayoutRow(3,5,3,0);var r1=new BoardLayoutRow(10,1,3,0);var r1=new BoardLayoutRow(0,1,3,1);var r1=new BoardLayoutRow(3,5,3,1);var r1=new BoardLayoutRow(10,1,3,1);var r1=new BoardLayoutRow(0,1,3,2);var r1=new BoardLayoutRow(4,3,3,2);var r1=new BoardLayoutRow(10,1,3,2);var r1=new BoardLayoutRow(0,1,3,3);var r1=new BoardLayoutRow(4.5,2,3,3);var r1=new BoardLayoutRow(10,1,3,3);var r1=new BoardLayoutRow(5,1,3,4);var r1=new BoardLayoutRow(0,1,4,0);var r1=new BoardLayoutRow(5,1,4,0);var r1=new BoardLayoutRow(10,1,4,0);var r1=new BoardLayoutRow(0,1,4,1);var r1=new BoardLayoutRow(5,1,4,1);var r1=new BoardLayoutRow(10,1,4,1);var r1=new BoardLayoutRow(0,1,4,2);var r1=new BoardLayoutRow(5,1,4,2);var r1=new BoardLayoutRow(10,1,4,2);var r1=new BoardLayoutRow(0,1,5,0);var r1=new BoardLayoutRow(5,1,5,0);var r1=new BoardLayoutRow(10,1,5,0);var r1=new BoardLayoutRow(0,1,5,1);var r1=new BoardLayoutRow(5,1,5,1);var r1=new BoardLayoutRow(10,1,5,1);var r1=new BoardLayoutRow(0,1,5,2);var r1=new BoardLayoutRow(5,1,5,2);var r1=new BoardLayoutRow(10,1,5,2);var r1=new BoardLayoutRow(0,5,6,0);var r1=new BoardLayoutRow(6,5,6,0);var r1=new BoardLayoutRow(0,5,6,1);var r1=new BoardLayoutRow(6,5,6,1);var r1=new BoardLayoutRow(0,5,6,2);var r1=new BoardLayoutRow(6,5,6,2);var r1=new BoardLayoutRow(1.5,3,1.5,0);var r1=new BoardLayoutRow(1.5,3,1.5,1);var r1=new BoardLayoutRow(6.5,3,1.5,0);var r1=new BoardLayoutRow(6.5,3,1.5,1);var r1=new BoardLayoutRow(1.5,3,4.5,0);var r1=new BoardLayoutRow(1.5,3,4.5,1);var r1=new BoardLayoutRow(6.5,3,4.5,0);var r1=new BoardLayoutRow(6.5,3,4.5,1);console.log("total pieces: "+BoardLayoutRow.totalPieces);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==4){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=0.5;var r1=new BoardLayoutRow(0,1,0,0);var r1=new BoardLayoutRow(0,1,0,1);var r1=new BoardLayoutRow(12,1,0,0);var r1=new BoardLayoutRow(12,1,0,1);var r1=new BoardLayoutRow(3,7,0,0);var r1=new BoardLayoutRow(3,7,0,1);var r1=new BoardLayoutRow(4.5,4,0.5,2);var r1=new BoardLayoutRow(0,2,1,0);var r1=new BoardLayoutRow(0,2,1,1);var r1=new BoardLayoutRow(1,1,1,2);var r1=new BoardLayoutRow(11,1,1,2);var r1=new BoardLayoutRow(4,5,1,0);var r1=new BoardLayoutRow(4,5,1,1);var r1=new BoardLayoutRow(11,2,1,0);var r1=new BoardLayoutRow(11,2,1,1);var r1=new BoardLayoutRow(9,1,2.5,0);var r1=new BoardLayoutRow(9,1,2.5,1);var r1=new BoardLayoutRow(0,3,2,0);var r1=new BoardLayoutRow(0,3,2,1);var r1=new BoardLayoutRow(1,1,2,2);var r1=new BoardLayoutRow(11,1,2,2);var r1=new BoardLayoutRow(10,3,2,0);var r1=new BoardLayoutRow(10,3,2,1);var r1=new BoardLayoutRow(9,1,3.5,0);var r1=new BoardLayoutRow(9,1,3.5,1);var r1=new BoardLayoutRow(0,3,3,0);var r1=new BoardLayoutRow(0,3,3,1);var r1=new BoardLayoutRow(1,1,3,2);var r1=new BoardLayoutRow(3,1,2.5,0);var r1=new BoardLayoutRow(3,1,2.5,1);var r1=new BoardLayoutRow(5,3,2.5,0);var r1=new BoardLayoutRow(5,3,2.5,1);var r1=new BoardLayoutRow(10,3,3,0);var r1=new BoardLayoutRow(10,3,3,1);var r1=new BoardLayoutRow(11,1,3,2);var r1=new BoardLayoutRow(5,3,3.5,0);var r1=new BoardLayoutRow(5,3,3.5,1);var r1=new BoardLayoutRow(0,3,4,0);var r1=new BoardLayoutRow(0,3,4,1);var r1=new BoardLayoutRow(1,1,4,2);var r1=new BoardLayoutRow(11,1,4,2);var r1=new BoardLayoutRow(10,3,4,0);var r1=new BoardLayoutRow(10,3,4,1);var r1=new BoardLayoutRow(3,1,3.5,0);var r1=new BoardLayoutRow(3,1,3.5,1);var r1=new BoardLayoutRow(0,2,5,0);var r1=new BoardLayoutRow(0,2,5,1);var r1=new BoardLayoutRow(4,5,5,0);var r1=new BoardLayoutRow(4,5,5,1);var r1=new BoardLayoutRow(11,2,5,0);var r1=new BoardLayoutRow(11,2,5,1);var r1=new BoardLayoutRow(4.5,4,5.5,2);var r1=new BoardLayoutRow(0,1,6,0);var r1=new BoardLayoutRow(0,1,6,1);var r1=new BoardLayoutRow(12,1,6,0);var r1=new BoardLayoutRow(12,1,6,1);var r1=new BoardLayoutRow(3,7,6,0);var r1=new BoardLayoutRow(3,7,6,1);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==5){BoardLayoutRow.xOffset=2.5;BoardLayoutRow.yOffset=0.75;var r1=new BoardLayoutRow(0,4,0,0);var r1=new BoardLayoutRow(0,4,0,1);var r1=new BoardLayoutRow(0,4,0,2);var r1=new BoardLayoutRow(6,4,0,0);var r1=new BoardLayoutRow(6,4,0,1);var r1=new BoardLayoutRow(6,4,0,2);var r1=new BoardLayoutRow(0,1,1,0);var r1=new BoardLayoutRow(0,1,1,1);var r1=new BoardLayoutRow(0,1,1,2);var r1=new BoardLayoutRow(9,1,1,0);var r1=new BoardLayoutRow(9,1,1,1);var r1=new BoardLayoutRow(9,1,1,2);var r2=new BoardLayoutRow(0,1,2,0);var r2=new BoardLayoutRow(0,1,2,1);var r2=new BoardLayoutRow(0,1,2,2);var r2=new BoardLayoutRow(9,1,2,0);var r1=new BoardLayoutRow(9,1,2,1);var r1=new BoardLayoutRow(9,1,2,2);var r1=new BoardLayoutRow(0,1,4,0);var r1=new BoardLayoutRow(0,1,4,1);var r1=new BoardLayoutRow(0,1,4,2);var r1=new BoardLayoutRow(9,1,4,0);var r1=new BoardLayoutRow(9,1,4,1);var r1=new BoardLayoutRow(9,1,4,2);var r1=new BoardLayoutRow(0,1,5,0);var r1=new BoardLayoutRow(0,1,5,1);var r1=new BoardLayoutRow(0,1,5,2);var r1=new BoardLayoutRow(9,1,5,0);var r1=new BoardLayoutRow(9,1,5,1);var r1=new BoardLayoutRow(9,1,5,2);var r1=new BoardLayoutRow(0,4,6,0);var r1=new BoardLayoutRow(0,4,6,1);var r1=new BoardLayoutRow(0,4,6,2);var r1=new BoardLayoutRow(6,4,6,0);var r1=new BoardLayoutRow(6,4,6,1);var r1=new BoardLayoutRow(6,4,6,2);var r1=new BoardLayoutRow(1.5,3,1.5,0);var r1=new BoardLayoutRow(1.5,3,1.5,1);var r1=new BoardLayoutRow(2,2,1.5,2);var r1=new BoardLayoutRow(2.5,1,1.5,3);var r1=new BoardLayoutRow(5.5,3,1.5,0);var r1=new BoardLayoutRow(5.5,3,1.5,1);var r1=new BoardLayoutRow(6,2,1.5,2);var r1=new BoardLayoutRow(6.5,1,1.5,3);var r1=new BoardLayoutRow(1.5,3,2.5,0);var r1=new BoardLayoutRow(1.5,3,2.5,1);var r1=new BoardLayoutRow(2,2,2.5,2);var r1=new BoardLayoutRow(2.5,1,2.5,3);var r1=new BoardLayoutRow(5.5,3,2.5,0);var r1=new BoardLayoutRow(5.5,3,2.5,1);var r1=new BoardLayoutRow(6,2,2.5,2);var r1=new BoardLayoutRow(6.5,1,2.5,3);var r1=new BoardLayoutRow(1.5,3,3.5,0);var r1=new BoardLayoutRow(1.5,3,3.5,1);var r1=new BoardLayoutRow(2,2,3.5,2);var r1=new BoardLayoutRow(2.5,1,3.5,3);var r1=new BoardLayoutRow(5.5,3,3.5,0);var r1=new BoardLayoutRow(5.5,3,3.5,1);var r1=new BoardLayoutRow(6,2,3.5,2);var r1=new BoardLayoutRow(6.5,1,3.5,3);var r1=new BoardLayoutRow(1.5,3,4.5,0);var r1=new BoardLayoutRow(1.5,3,4.5,1);var r1=new BoardLayoutRow(2,2,4.5,2);var r1=new BoardLayoutRow(2.5,1,4.5,3);var r1=new BoardLayoutRow(5.5,3,4.5,0);var r1=new BoardLayoutRow(5.5,3,4.5,1);var r1=new BoardLayoutRow(6,2,4.5,2);var r1=new BoardLayoutRow(6.5,1,4.5,3);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==6){BoardLayoutRow.xOffset=2;BoardLayoutRow.yOffset=0.5;var r1=new BoardLayoutRow(0,3,0,0);var r1=new BoardLayoutRow(0,3,0,1);var r1=new BoardLayoutRow(0,3,0,2);var r1=new BoardLayoutRow(0,1,1,0);var r1=new BoardLayoutRow(0,1,1,1);var r1=new BoardLayoutRow(0,1,1,2);var r1=new BoardLayoutRow(2,1,1,0);var r1=new BoardLayoutRow(2,1,1,1);var r1=new BoardLayoutRow(2,1,1,2);var r1=new BoardLayoutRow(0,3,2,0);var r1=new BoardLayoutRow(0,3,2,1);var r1=new BoardLayoutRow(0,3,2,2);var r1=new BoardLayoutRow(4,3,0,0);var r1=new BoardLayoutRow(4,3,0,1);var r1=new BoardLayoutRow(4,3,0,2);var r1=new BoardLayoutRow(4,1,1,0);var r1=new BoardLayoutRow(4,1,1,1);var r1=new BoardLayoutRow(4,1,1,2);var r1=new BoardLayoutRow(6,1,1,0);var r1=new BoardLayoutRow(6,1,1,1);var r1=new BoardLayoutRow(6,1,1,2);var r1=new BoardLayoutRow(4,3,2,0);var r1=new BoardLayoutRow(4,3,2,1);var r1=new BoardLayoutRow(4,3,2,2);var r1=new BoardLayoutRow(8,3,0,0);var r1=new BoardLayoutRow(8,3,0,1);var r1=new BoardLayoutRow(8,3,0,2);var r1=new BoardLayoutRow(8,1,1,0);var r1=new BoardLayoutRow(8,1,1,1);var r1=new BoardLayoutRow(8,1,1,2);var r1=new BoardLayoutRow(10,1,1,0);var r1=new BoardLayoutRow(10,1,1,1);var r1=new BoardLayoutRow(10,1,1,2);var r1=new BoardLayoutRow(8,3,2,0);var r1=new BoardLayoutRow(8,3,2,1);var r1=new BoardLayoutRow(8,3,2,2);var r1=new BoardLayoutRow(0,3,4,0);var r1=new BoardLayoutRow(0,3,4,1);var r1=new BoardLayoutRow(0,3,4,2);var r1=new BoardLayoutRow(0,1,5,0);var r1=new BoardLayoutRow(0,1,5,1);var r1=new BoardLayoutRow(0,1,5,2);var r1=new BoardLayoutRow(2,1,5,0);var r1=new BoardLayoutRow(2,1,5,1);var r1=new BoardLayoutRow(2,1,5,2);var r1=new BoardLayoutRow(0,3,6,0);var r1=new BoardLayoutRow(0,3,6,1);var r1=new BoardLayoutRow(0,3,6,2);var r1=new BoardLayoutRow(4,3,4,0);var r1=new BoardLayoutRow(4,3,4,1);var r1=new BoardLayoutRow(4,3,4,2);var r1=new BoardLayoutRow(4,1,5,0);var r1=new BoardLayoutRow(4,1,5,1);var r1=new BoardLayoutRow(4,1,5,2);var r1=new BoardLayoutRow(6,1,5,0);var r1=new BoardLayoutRow(6,1,5,1);var r1=new BoardLayoutRow(6,1,5,2);var r1=new BoardLayoutRow(4,3,6,0);var r1=new BoardLayoutRow(4,3,6,1);var r1=new BoardLayoutRow(4,3,6,2);var r1=new BoardLayoutRow(8,3,4,0);var r1=new BoardLayoutRow(8,3,4,1);var r1=new BoardLayoutRow(8,3,4,2);var r1=new BoardLayoutRow(8,1,5,0);var r1=new BoardLayoutRow(8,1,5,1);var r1=new BoardLayoutRow(8,1,5,2);var r1=new BoardLayoutRow(10,1,5,0);var r1=new BoardLayoutRow(10,1,5,1);var r1=new BoardLayoutRow(10,1,5,2);var r1=new BoardLayoutRow(8,3,6,0);var r1=new BoardLayoutRow(8,3,6,1);var r1=new BoardLayoutRow(8,3,6,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==7){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=0.5;var r1=new BoardLayoutRow(0,2,0,0);var r1=new BoardLayoutRow(0,2,0,1);var r1=new BoardLayoutRow(3,2,0,0);var r1=new BoardLayoutRow(3,2,0,1);var r1=new BoardLayoutRow(8,2,0,0);var r1=new BoardLayoutRow(8,2,0,1);var r1=new BoardLayoutRow(11,2,0,0);var r1=new BoardLayoutRow(11,2,0,1);var r1=new BoardLayoutRow(0,2,1,0);var r1=new BoardLayoutRow(0,2,1,1);var r1=new BoardLayoutRow(3,2,1,0);var r1=new BoardLayoutRow(3,2,1,1);var r1=new BoardLayoutRow(8,2,1,0);var r1=new BoardLayoutRow(8,2,1,1);var r1=new BoardLayoutRow(11,2,1,0);var r1=new BoardLayoutRow(11,2,1,1);var r1=new BoardLayoutRow(0,2,2.5,0);var r1=new BoardLayoutRow(0,2,2.5,1);var r1=new BoardLayoutRow(3,2,2.5,0);var r1=new BoardLayoutRow(3,2,2.5,1);var r1=new BoardLayoutRow(8,2,2.5,0);var r1=new BoardLayoutRow(8,2,2.5,1);var r1=new BoardLayoutRow(11,2,2.5,0);var r1=new BoardLayoutRow(11,2,2.5,1);var r1=new BoardLayoutRow(0,2,3.5,0);var r1=new BoardLayoutRow(0,2,3.5,1);var r1=new BoardLayoutRow(3,2,3.5,0);var r1=new BoardLayoutRow(3,2,3.5,1);var r1=new BoardLayoutRow(8,2,3.5,0);var r1=new BoardLayoutRow(8,2,3.5,1);var r1=new BoardLayoutRow(11,2,3.5,0);var r1=new BoardLayoutRow(11,2,3.5,1);var r1=new BoardLayoutRow(0,2,5,0);var r1=new BoardLayoutRow(0,2,5,1);var r1=new BoardLayoutRow(3,2,5,0);var r1=new BoardLayoutRow(3,2,5,1);var r1=new BoardLayoutRow(8,2,5,0);var r1=new BoardLayoutRow(8,2,5,1);var r1=new BoardLayoutRow(11,2,5,0);var r1=new BoardLayoutRow(11,2,5,1);var r1=new BoardLayoutRow(0,2,6,0);var r1=new BoardLayoutRow(0,2,6,1);var r1=new BoardLayoutRow(3,2,6,0);var r1=new BoardLayoutRow(3,2,6,1);var r1=new BoardLayoutRow(8,2,6,0);var r1=new BoardLayoutRow(8,2,6,1);var r1=new BoardLayoutRow(11,2,6,0);var r1=new BoardLayoutRow(11,2,6,1);var r1=new BoardLayoutRow(0,2,0.5,2);var r1=new BoardLayoutRow(3,2,0.5,2);var r1=new BoardLayoutRow(8,2,0.5,2);var r1=new BoardLayoutRow(11,2,0.5,2);var r1=new BoardLayoutRow(0,2,3,2);var r1=new BoardLayoutRow(3,2,3,2);var r1=new BoardLayoutRow(8,2,3,2);var r1=new BoardLayoutRow(11,2,3,2);var r1=new BoardLayoutRow(0,2,5.5,2);var r1=new BoardLayoutRow(3,2,5.5,2);var r1=new BoardLayoutRow(8,2,5.5,2);var r1=new BoardLayoutRow(11,2,5.5,2);BoardLayoutRow.columnToRow(6,0,7,0);BoardLayoutRow.columnToRow(6,0,7,1);BoardLayoutRow.columnToRow(6,0.5,6,2);BoardLayoutRow.columnToRow(6,1.5,4,3);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==8){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=0.5;new BoardLayoutRow(0,13,0,0);new BoardLayoutRow(1,11,0,1);new BoardLayoutRow(1,11,1,0);new BoardLayoutRow(2,9,1,1);new BoardLayoutRow(2,9,2,0);new BoardLayoutRow(3,7,2,1);new BoardLayoutRow(-1,2,3,0);new BoardLayoutRow(1,1,3,0);new BoardLayoutRow(2,1,3,0);new BoardLayoutRow(4,1,3,0);new BoardLayoutRow(4,1,3,1);new BoardLayoutRow(6,1,3,0);new BoardLayoutRow(6,1,3,1);new BoardLayoutRow(8,1,3,0);new BoardLayoutRow(8,1,3,1);new BoardLayoutRow(10,1,3,0);new BoardLayoutRow(11,1,3,0);new BoardLayoutRow(12,2,3,0);new BoardLayoutRow(2,9,4,0);new BoardLayoutRow(3,7,4,1);new BoardLayoutRow(1,11,5,0);new BoardLayoutRow(2,9,5,1);new BoardLayoutRow(0,13,6,0);new BoardLayoutRow(1,11,6,1);new BoardLayoutRow(3,2,1,2);new BoardLayoutRow(3,2,5,2);new BoardLayoutRow(6,1,1,2);new BoardLayoutRow(6,1,5,2);new BoardLayoutRow(8,2,1,2);new BoardLayoutRow(8,2,5,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==9){BoardLayoutRow.xOffset=2.5;BoardLayoutRow.yOffset=0;new BoardLayoutRow(0,9,0,0);new BoardLayoutRow(0,9,1,0);new BoardLayoutRow(0,9,2,0);new BoardLayoutRow(0,9,3,0);new BoardLayoutRow(0,9,4,0);new BoardLayoutRow(0,9,5,0);new BoardLayoutRow(0,9,6,0);new BoardLayoutRow(0,9,7,0);new BoardLayoutRow(1,7,1,1);new BoardLayoutRow(1,7,2,1);new BoardLayoutRow(1,7,3,1);new BoardLayoutRow(1,7,4,1);new BoardLayoutRow(1,7,5,1);new BoardLayoutRow(1,7,6,1);new BoardLayoutRow(2,5,2,2);new BoardLayoutRow(2,5,3,2);new BoardLayoutRow(2,5,4,2);new BoardLayoutRow(2,5,5,2);new BoardLayoutRow(3,3,3,3);new BoardLayoutRow(3,3,4,3);new BoardLayoutRow(3.5,2,3,4);new BoardLayoutRow(3.5,2,4,4);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==10){BoardLayoutRow.xOffset=0.5;BoardLayoutRow.yOffset=0;new BoardLayoutRow(0,14,6,0);new BoardLayoutRow(0,14,6,1);new BoardLayoutRow(0,14,6,2);new BoardLayoutRow(0.5,6,5,0);new BoardLayoutRow(0.5,6,5,1);new BoardLayoutRow(0.5,6,5,2);new BoardLayoutRow(7.5,6,5,0);new BoardLayoutRow(7.5,6,5,1);new BoardLayoutRow(7.5,6,5,2);new BoardLayoutRow(1,5,4,0);new BoardLayoutRow(1,5,4,1);new BoardLayoutRow(1,5,4,2);new BoardLayoutRow(8,5,4,0);new BoardLayoutRow(8,5,4,1);new BoardLayoutRow(8,5,4,2);new BoardLayoutRow(2,3,3,0);new BoardLayoutRow(2,3,3,1);new BoardLayoutRow(2,3,3,2);new BoardLayoutRow(9,3,3,0);new BoardLayoutRow(9,3,3,1);new BoardLayoutRow(9,3,3,2);new BoardLayoutRow(2.5,2,2,0);new BoardLayoutRow(2.5,2,2,1);new BoardLayoutRow(2.5,2,2,2);new BoardLayoutRow(9.5,2,2,0);new BoardLayoutRow(9.5,2,2,1);new BoardLayoutRow(9.5,2,2,2);new BoardLayoutRow(3,1,1,0);new BoardLayoutRow(3,1,1,1);new BoardLayoutRow(3,1,1,2);new BoardLayoutRow(10,1,1,0);new BoardLayoutRow(10,1,1,1);new BoardLayoutRow(10,1,1,2);}
else if(levelNum==11){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=0.5;new BoardLayoutRow(1,11,0,0);new BoardLayoutRow(1,11,0,1);new BoardLayoutRow(1,1,0,2);new BoardLayoutRow(3,1,0,2);new BoardLayoutRow(5,1,0,2);new BoardLayoutRow(7,1,0,2);new BoardLayoutRow(9,1,0,2);new BoardLayoutRow(11,1,0,2);new BoardLayoutRow(0,2,1,0);new BoardLayoutRow(0,2,1,1);new BoardLayoutRow(0,1,1,2);new BoardLayoutRow(11,2,1,0);new BoardLayoutRow(11,2,1,1);new BoardLayoutRow(12,1,1,2);BoardLayoutRow.columnToRow(0,2,3,0);BoardLayoutRow.columnToRow(0,2,3,1);BoardLayoutRow.columnToRow(0,3,1,2);BoardLayoutRow.columnToRow(2,2,3,0);BoardLayoutRow.columnToRow(2,2,3,1);BoardLayoutRow.columnToRow(2,2,3,2);BoardLayoutRow.columnToRow(2,2,1,3);BoardLayoutRow.columnToRow(2,4,1,3);BoardLayoutRow.columnToRow(4,2,3,0);BoardLayoutRow.columnToRow(4,2,3,1);BoardLayoutRow.columnToRow(4,2,3,2);BoardLayoutRow.columnToRow(4,2,1,3);BoardLayoutRow.columnToRow(4,4,1,3);BoardLayoutRow.columnToRow(6,2,3,0);BoardLayoutRow.columnToRow(6,2,3,1);BoardLayoutRow.columnToRow(6,2,3,2);BoardLayoutRow.columnToRow(6,4,1,3);BoardLayoutRow.columnToRow(8,2,3,0);BoardLayoutRow.columnToRow(8,2,3,1);BoardLayoutRow.columnToRow(8,2,3,2);BoardLayoutRow.columnToRow(8,2,1,3);BoardLayoutRow.columnToRow(8,4,1,3);BoardLayoutRow.columnToRow(10,2,3,0);BoardLayoutRow.columnToRow(10,2,3,1);BoardLayoutRow.columnToRow(10,2,3,2);BoardLayoutRow.columnToRow(10,2,1,3);BoardLayoutRow.columnToRow(10,4,1,3);BoardLayoutRow.columnToRow(12,2,3,0);BoardLayoutRow.columnToRow(12,2,3,1);BoardLayoutRow.columnToRow(12,3,1,2);new BoardLayoutRow(0,2,5,0);new BoardLayoutRow(0,2,5,1);new BoardLayoutRow(0,1,5,2);new BoardLayoutRow(11,2,5,0);new BoardLayoutRow(11,2,5,1);new BoardLayoutRow(12,1,5,2);new BoardLayoutRow(1,11,6,0);new BoardLayoutRow(1,11,6,1);new BoardLayoutRow(1,1,6,2);new BoardLayoutRow(3,1,6,2);new BoardLayoutRow(5,1,6,2);new BoardLayoutRow(7,1,6,2);new BoardLayoutRow(9,1,6,2);new BoardLayoutRow(11,1,6,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==12){BoardLayoutRow.xOffset=3.5;BoardLayoutRow.yOffset=0;new BoardLayoutRow(1,6,0,0);new BoardLayoutRow(0,8,1,0);new BoardLayoutRow(1,6,1,1);new BoardLayoutRow(1,6,1,2);new BoardLayoutRow(0,8,2,0);new BoardLayoutRow(1,6,2,1);new BoardLayoutRow(1,6,2,2);new BoardLayoutRow(2,4,2,3);new BoardLayoutRow(2,4,2,4);new BoardLayoutRow(0,3,3,0);new BoardLayoutRow(1,2,3,1);new BoardLayoutRow(1,2,3,2);new BoardLayoutRow(2,1,3,3);new BoardLayoutRow(2,1,3,4);new BoardLayoutRow(5,3,3,0);new BoardLayoutRow(5,2,3,1);new BoardLayoutRow(5,2,3,2);new BoardLayoutRow(5,1,3,3);new BoardLayoutRow(5,1,3,4);new BoardLayoutRow(0,3,4,0);new BoardLayoutRow(1,2,4,1);new BoardLayoutRow(1,2,4,2);new BoardLayoutRow(2,1,4,3);new BoardLayoutRow(2,1,4,4);new BoardLayoutRow(5,3,4,0);new BoardLayoutRow(5,2,4,1);new BoardLayoutRow(5,2,4,2);new BoardLayoutRow(5,1,4,3);new BoardLayoutRow(5,1,4,4);new BoardLayoutRow(0,8,5,0);new BoardLayoutRow(1,6,5,1);new BoardLayoutRow(1,6,5,2);new BoardLayoutRow(2,4,5,3);new BoardLayoutRow(2,4,5,4);new BoardLayoutRow(0,8,6,0);new BoardLayoutRow(1,6,6,1);new BoardLayoutRow(1,6,6,2);new BoardLayoutRow(1,6,7,0);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==13){BoardLayoutRow.xOffset=-0.25;BoardLayoutRow.yOffset=0.5;BoardLayoutRow.columnToRow(0,0,3,0);BoardLayoutRow.columnToRow(1,0,3,0);BoardLayoutRow.columnToRow(2,0,3,0);BoardLayoutRow.columnToRow(0.5,0,3,1);BoardLayoutRow.columnToRow(1.5,0,3,1);BoardLayoutRow.columnToRow(1,0,3,2);BoardLayoutRow.columnToRow(4,0,3,0);BoardLayoutRow.columnToRow(5,0,3,0);BoardLayoutRow.columnToRow(6,0,3,0);BoardLayoutRow.columnToRow(4.5,0,3,1);BoardLayoutRow.columnToRow(5.5,0,3,1);BoardLayoutRow.columnToRow(5,0,3,2);BoardLayoutRow.columnToRow(8,0,3,0);BoardLayoutRow.columnToRow(9,0,3,0);BoardLayoutRow.columnToRow(10,0,3,0);BoardLayoutRow.columnToRow(8.5,0,3,1);BoardLayoutRow.columnToRow(9.5,0,3,1);BoardLayoutRow.columnToRow(9,0,3,2);BoardLayoutRow.columnToRow(12,0,3,0);BoardLayoutRow.columnToRow(13,0,3,0);BoardLayoutRow.columnToRow(14,0,3,0);BoardLayoutRow.columnToRow(12.5,0,3,1);BoardLayoutRow.columnToRow(13.5,0,3,1);BoardLayoutRow.columnToRow(13,0,3,2);BoardLayoutRow.columnToRow(0,4,3,0);BoardLayoutRow.columnToRow(1,4,3,0);BoardLayoutRow.columnToRow(2,4,3,0);BoardLayoutRow.columnToRow(0.5,4,3,1);BoardLayoutRow.columnToRow(1.5,4,3,1);BoardLayoutRow.columnToRow(1,4,3,2);BoardLayoutRow.columnToRow(4,4,3,0);BoardLayoutRow.columnToRow(5,4,3,0);BoardLayoutRow.columnToRow(6,4,3,0);BoardLayoutRow.columnToRow(4.5,4,3,1);BoardLayoutRow.columnToRow(5.5,4,3,1);BoardLayoutRow.columnToRow(5,4,3,2);BoardLayoutRow.columnToRow(8,4,3,0);BoardLayoutRow.columnToRow(9,4,3,0);BoardLayoutRow.columnToRow(10,4,3,0);BoardLayoutRow.columnToRow(8.5,4,3,1);BoardLayoutRow.columnToRow(9.5,4,3,1);BoardLayoutRow.columnToRow(9,4,3,2);BoardLayoutRow.columnToRow(12,4,3,0);BoardLayoutRow.columnToRow(13,4,3,0);BoardLayoutRow.columnToRow(14,4,3,0);BoardLayoutRow.columnToRow(12.5,4,3,1);BoardLayoutRow.columnToRow(13.5,4,3,1);BoardLayoutRow.columnToRow(13,4,3,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==14){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=1;BoardLayoutRow.columnToRow(0,0,1,0);BoardLayoutRow.columnToRow(0,0,1,1);BoardLayoutRow.columnToRow(0,0,1,2);BoardLayoutRow.columnToRow(0,5,1,0);BoardLayoutRow.columnToRow(0,5,1,1);BoardLayoutRow.columnToRow(0,5,1,2);BoardLayoutRow.columnToRow(1,0,2,0);BoardLayoutRow.columnToRow(1,0,2,1);BoardLayoutRow.columnToRow(1,0,2,2);BoardLayoutRow.columnToRow(1,4,2,0);BoardLayoutRow.columnToRow(1,4,2,1);BoardLayoutRow.columnToRow(1,4,2,2);BoardLayoutRow.columnToRow(2,0,6,0);BoardLayoutRow.columnToRow(2,0,6,1);BoardLayoutRow.columnToRow(2,0,6,2);BoardLayoutRow.columnToRow(3,1,4,0);BoardLayoutRow.columnToRow(3,1,4,1);BoardLayoutRow.columnToRow(3,1,4,2);BoardLayoutRow.columnToRow(4,2,2,0);BoardLayoutRow.columnToRow(4,2,2,1);BoardLayoutRow.columnToRow(4,2,2,2);BoardLayoutRow.columnToRow(5.5,0,6,0);BoardLayoutRow.columnToRow(5.5,0,6,1);BoardLayoutRow.columnToRow(5.5,0,6,2);BoardLayoutRow.columnToRow(6.5,0,6,0);BoardLayoutRow.columnToRow(6.5,0,6,1);BoardLayoutRow.columnToRow(6.5,0,6,2);BoardLayoutRow.columnToRow(8,2,2,0);BoardLayoutRow.columnToRow(8,2,2,1);BoardLayoutRow.columnToRow(8,2,2,2);BoardLayoutRow.columnToRow(9,1,4,0);BoardLayoutRow.columnToRow(9,1,4,1);BoardLayoutRow.columnToRow(9,1,4,2);BoardLayoutRow.columnToRow(10,0,6,0);BoardLayoutRow.columnToRow(10,0,6,1);BoardLayoutRow.columnToRow(10,0,6,2);BoardLayoutRow.columnToRow(11,0,2,0);BoardLayoutRow.columnToRow(11,0,2,1);BoardLayoutRow.columnToRow(11,0,2,2);BoardLayoutRow.columnToRow(11,4,2,0);BoardLayoutRow.columnToRow(11,4,2,1);BoardLayoutRow.columnToRow(11,4,2,2);BoardLayoutRow.columnToRow(12,0,1,0);BoardLayoutRow.columnToRow(12,0,1,1);BoardLayoutRow.columnToRow(12,0,1,2);BoardLayoutRow.columnToRow(12,5,1,0);BoardLayoutRow.columnToRow(12,5,1,1);BoardLayoutRow.columnToRow(12,5,1,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==15){BoardLayoutRow.xOffset=1;BoardLayoutRow.yOffset=0.5;BoardLayoutRow.columnToRow(0,0,7,0);BoardLayoutRow.columnToRow(0,0,7,1);BoardLayoutRow.columnToRow(0,1,2,2);BoardLayoutRow.columnToRow(0,4,2,2);BoardLayoutRow.columnToRow(1,0,7,0);BoardLayoutRow.columnToRow(1,0,3,1);BoardLayoutRow.columnToRow(1,4,3,1);BoardLayoutRow.columnToRow(1,0,2,2);BoardLayoutRow.columnToRow(1,5,2,2);BoardLayoutRow.columnToRow(2,0,3,0);BoardLayoutRow.columnToRow(2,4,3,0);BoardLayoutRow.columnToRow(2,0,2,1);BoardLayoutRow.columnToRow(2,5,2,1);BoardLayoutRow.columnToRow(2,0,1,2);BoardLayoutRow.columnToRow(2,6,1,2);BoardLayoutRow.columnToRow(3,0,2,0);BoardLayoutRow.columnToRow(3,3,1,0);BoardLayoutRow.columnToRow(3,5,2,0);BoardLayoutRow.columnToRow(3,0,1,1);BoardLayoutRow.columnToRow(3,6,1,1);BoardLayoutRow.columnToRow(4,0,1,0);BoardLayoutRow.columnToRow(4,2,3,0);BoardLayoutRow.columnToRow(4,6,1,0);BoardLayoutRow.columnToRow(5,1,5,0);BoardLayoutRow.columnToRow(5,2,1,1);BoardLayoutRow.columnToRow(5,4,1,1);BoardLayoutRow.columnToRow(6,0,7,0);BoardLayoutRow.columnToRow(6,1,5,1);BoardLayoutRow.columnToRow(7,1,5,0);BoardLayoutRow.columnToRow(7,2,1,1);BoardLayoutRow.columnToRow(7,4,1,1);BoardLayoutRow.columnToRow(8,0,1,0);BoardLayoutRow.columnToRow(8,2,3,0);BoardLayoutRow.columnToRow(8,6,1,0);BoardLayoutRow.columnToRow(9,0,2,0);BoardLayoutRow.columnToRow(9,3,1,0);BoardLayoutRow.columnToRow(9,5,2,0);BoardLayoutRow.columnToRow(9,0,1,1);BoardLayoutRow.columnToRow(9,6,1,1);BoardLayoutRow.columnToRow(10,0,3,0);BoardLayoutRow.columnToRow(10,4,3,0);BoardLayoutRow.columnToRow(10,0,2,1);BoardLayoutRow.columnToRow(10,5,2,1);BoardLayoutRow.columnToRow(10,0,1,2);BoardLayoutRow.columnToRow(10,6,1,2);BoardLayoutRow.columnToRow(11,0,7,0);BoardLayoutRow.columnToRow(11,0,3,1);BoardLayoutRow.columnToRow(11,4,3,1);BoardLayoutRow.columnToRow(11,0,2,2);BoardLayoutRow.columnToRow(11,5,2,2);BoardLayoutRow.columnToRow(12,0,7,0);BoardLayoutRow.columnToRow(12,0,7,1);BoardLayoutRow.columnToRow(12,1,2,2);BoardLayoutRow.columnToRow(12,4,2,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==16){BoardLayoutRow.xOffset=0.5;BoardLayoutRow.yOffset=0.5;new BoardLayoutRow(1,3,0,0);new BoardLayoutRow(0,5,1,0);new BoardLayoutRow(1,3,2,0);new BoardLayoutRow(1.5,2,0,1);new BoardLayoutRow(0.5,4,1,1);new BoardLayoutRow(1.5,2,2,1);new BoardLayoutRow(2,1,0,2);new BoardLayoutRow(1,3,1,2);new BoardLayoutRow(2,1,2,2);new BoardLayoutRow(1.5,2,1,3);new BoardLayoutRow(10,3,0,0);new BoardLayoutRow(9,5,1,0);new BoardLayoutRow(10,3,2,0);new BoardLayoutRow(10.5,2,0,1);new BoardLayoutRow(9.5,4,1,1);new BoardLayoutRow(10.5,2,2,1);new BoardLayoutRow(11,1,0,2);new BoardLayoutRow(10,3,1,2);new BoardLayoutRow(11,1,2,2);new BoardLayoutRow(10.5,2,1,3);new BoardLayoutRow(5+0.5,3,0,0);new BoardLayoutRow(5.5+0.5,2,0,1);new BoardLayoutRow(6+0.5,1,0,2);new BoardLayoutRow(6+0.5,1,1,0);new BoardLayoutRow(6-0.5,3,2,0);new BoardLayoutRow(5-0.5,5,3,0);new BoardLayoutRow(6-0.5,3,4,0);new BoardLayoutRow(6.5-0.5,2,2,1);new BoardLayoutRow(5.5-0.5,4,3,1);new BoardLayoutRow(6.5-0.5,2,4,1);new BoardLayoutRow(7-0.5,1,2,2);new BoardLayoutRow(6-0.5,3,3,2);new BoardLayoutRow(7-0.5,1,4,2);new BoardLayoutRow(6.5-0.5,2,3,3);new BoardLayoutRow(1,3,4,0);new BoardLayoutRow(0,5,5,0);new BoardLayoutRow(1,3,6,0);new BoardLayoutRow(1.5,2,4,1);new BoardLayoutRow(0.5,4,5,1);new BoardLayoutRow(1.5,2,6,1);new BoardLayoutRow(2,1,4,2);new BoardLayoutRow(1,3,5,2);new BoardLayoutRow(2,1,6,2);new BoardLayoutRow(1.5,2,5,3);new BoardLayoutRow(10,3,4,0);new BoardLayoutRow(9,5,5,0);new BoardLayoutRow(10,3,6,0);new BoardLayoutRow(10.5,2,4,1);new BoardLayoutRow(9.5,4,5,1);new BoardLayoutRow(10.5,2,6,1);new BoardLayoutRow(11,1,4,2);new BoardLayoutRow(10,3,5,2);new BoardLayoutRow(11,1,6,2);new BoardLayoutRow(10.5,2,5,3);new BoardLayoutRow(6+0.5,1,5,0);new BoardLayoutRow(5+0.5,3,6,0);new BoardLayoutRow(5.5+0.5,2,6,1);new BoardLayoutRow(6+0.5,1,6,2);BoardLayoutRow.rowLayoutVec.reverse();}
else if(levelNum==17){BoardLayoutRow.xOffset=-1;BoardLayoutRow.yOffset=0;new BoardLayoutRow(7.5,2,0,0);new BoardLayoutRow(6.5,4,1,0);new BoardLayoutRow(7.5,2,1,1);new BoardLayoutRow(8,1,1,2);new BoardLayoutRow(5.5,6,2,0);new BoardLayoutRow(6.0,5,2,1);new BoardLayoutRow(6.5,4,2,2);new BoardLayoutRow(7.0,3,2,3);new BoardLayoutRow(8.0,1,2,4);new BoardLayoutRow(8,1,3.5,0);new BoardLayoutRow(5.5,6,5,0);new BoardLayoutRow(6.0,5,5,1);new BoardLayoutRow(6.5,4,5,2);new BoardLayoutRow(7.0,3,5,3);new BoardLayoutRow(8.0,1,5,4);new BoardLayoutRow(6.5,4,6,0);new BoardLayoutRow(7.5,2,6,1);new BoardLayoutRow(8,1,6,2);new BoardLayoutRow(7.5,2,7,0);new BoardLayoutRow(2.5,2,1.5,0);new BoardLayoutRow(1,4,2.5,0);new BoardLayoutRow(1.5,3,2.5,1);new BoardLayoutRow(2,2,2.5,2);new BoardLayoutRow(1.5,6,3.5,0);new BoardLayoutRow(2,5,3.5,1);new BoardLayoutRow(2.5,4,3.5,2);new BoardLayoutRow(3,3,3.5,3);new BoardLayoutRow(3.5,2,3.5,4);new BoardLayoutRow(1,4,4.5,0);new BoardLayoutRow(1.5,3,4.5,1);new BoardLayoutRow(2,2,4.5,2);new BoardLayoutRow(2.5,1,4.5,3);new BoardLayoutRow(2.5,2,5.5,0);new BoardLayoutRow(12.5,2,1.5,0);new BoardLayoutRow(12,4,2.5,0);new BoardLayoutRow(12.5,3,2.5,1);new BoardLayoutRow(13,2,2.5,2);new BoardLayoutRow(13.5,1,2.5,3);new BoardLayoutRow(9.5,6,3.5,0);new BoardLayoutRow(10,5,3.5,1);new BoardLayoutRow(10.5,4,3.5,2);new BoardLayoutRow(11,3,3.5,3);new BoardLayoutRow(11.5,2,3.5,4);new BoardLayoutRow(12,4,4.5,0);new BoardLayoutRow(12.5,3,4.5,1);new BoardLayoutRow(13,2,4.5,2);new BoardLayoutRow(13.5,1,4.5,3);new BoardLayoutRow(12.5,2,5.5,0);BoardLayoutRow.rowLayoutVec.reverse();}
console.log("total pieces: "+BoardLayoutRow.totalPieces);console.log("total pieces: "+BoardLayoutRow.totalPieces);r2;r1;};LayoutManager.levelNum=0;return LayoutManager;}());var Preload=(function(){function Preload(){this.loaded=0;SimpleGame.logo=SimpleGame.myGame.add.sprite(0,0,'logo');}
Preload.prototype.update=function(){};return Preload;}());var SoundManager=(function(){function SoundManager(){}
SoundManager.playMatchingSound=function(){SimpleGame.myGame.time.events.remove(this.timerOutTween);SoundManager.matchesInARow++;if(SoundManager.matchesInARow==1)
SoundManager.match1.play();if(SoundManager.matchesInARow==2)
SoundManager.match2.play();if(SoundManager.matchesInARow==3)
SoundManager.match3.play();if(SoundManager.matchesInARow==4)
SoundManager.match4.play();if(SoundManager.matchesInARow==5)
SoundManager.match5.play();if(SoundManager.matchesInARow>=6)
SoundManager.match6.play();this.timerOutTween=SimpleGame.myGame.time.events.add(4000,function(){SoundManager.matchesInARow=0;});};SoundManager.playClick=function(){if(SoundManager.canPlayClick){console.log("play CLICK");SoundManager.click.play();SoundManager.canPlayClick=false;SimpleGame.myGame.time.events.add(10,function(){SoundManager.canPlayClick=true;},this);}};SoundManager.init=function(){SoundManager.sManager=new Phaser.SoundManager(SimpleGame.myGame);SoundManager.dealcards.allowMultiple=true;SoundManager.clearrow.volume=0.7;};SoundManager.playGrabCard=function(){if(SoundManager.canPlayGrab){SoundManager.grabcard.play();SoundManager.canPlayGrab=false;SimpleGame.myGame.time.events.add(100,function(){SoundManager.canPlayGrab=true;},this);}};SoundManager.setMuteFlags=function(muteFlag){SoundManager.clearrow.mute=muteFlag;SoundManager.click.mute=muteFlag;SoundManager.fail.mute=muteFlag;SoundManager.grabcard.mute=muteFlag;SoundManager.valid.mute=muteFlag;SoundManager.won.mute=muteFlag;SoundManager.dealcards.mute=muteFlag;SoundManager.hint.mute=muteFlag;SoundManager.lost.mute=muteFlag;SoundManager.no_more_moves.mute=muteFlag;SoundManager.match1.mute=muteFlag;SoundManager.match2.mute=muteFlag;SoundManager.match3.mute=muteFlag;SoundManager.match4.mute=muteFlag;SoundManager.match5.mute=muteFlag;SoundManager.match6.mute=muteFlag;SoundManager.mix.mute=muteFlag;SoundManager.invalid_move.mute=muteFlag;};SoundManager.playDealRow=function(){SoundManager.timesToPlayDealSound=10;SoundManager.playDealRowSound();};SoundManager.playDealRowSound=function(){SoundManager.dealcards.position=200;SoundManager.dealcards.update();SoundManager.dealcards.play();console.log("play dealcards");SoundManager.timesToPlayDealSound--;if(SoundManager.timesToPlayDealSound>0){SimpleGame.myGame.time.events.add(44,function(){SoundManager.playDealRowSound();});}};SoundManager.timesToPlayDealSound=10;SoundManager.canPlayClick=true;SoundManager.canPlayGrab=true;SoundManager.matchesInARow=0;return SoundManager;}());var Tile=(function(){function Tile(boardXCoord,boardYCoord,boardZCoord,prepend){this.removalFlag=false;this.selectedState=false;this.testPaired=false;this.markedForRemoval=false;this.wasHinted=false;if(Tile.allTileArray==null){Tile.allTileArray=new Array();}
this.prepend=prepend;Tile.allTileArray.push(this);this.internalGroup=SimpleGame.myGame.make.group();if(prepend){Tile.itemsLayerArray[boardZCoord].addAt(this.internalGroup,0);}
else{Tile.itemsLayerArray[boardZCoord].add(this.internalGroup);}
this.boardZCoord=boardZCoord;this.boardYCoord=boardYCoord;this.boardXCoord=boardXCoord;this.tileBaseImg=SimpleGame.myGame.make.sprite(-500,-500,'dragon01');this.tileBaseImg.alpha=0.00000000000001;this.tileBaseImgSelected=SimpleGame.myGame.make.sprite(-500,-500,"tile_selected_blank");this.tileBaseHinted=SimpleGame.myGame.make.sprite(-500,-500,"tile_hint");if(this.boardZCoord==0){this.tileShadow=SimpleGame.myGame.make.sprite(-500,-500,'ShadowBottom');}
else{this.tileShadow=SimpleGame.myGame.make.sprite(-500,-500,'ShadowTop');}
this.tileBaseImg.inputEnabled=true;this.tileBaseImgSelected.inputEnabled=true;Tile.shadowLayerArray[boardZCoord].add(this.tileShadow);this.internalGroup.add(this.tileBaseImg);this.tileBaseImg.anchor.set(0.5,0.5);this.tileBaseImgSelected.anchor.set(0,0);this.tileBaseImgSelected.alpha=1;this.tileShadow.alpha=1;SimpleGame.myGame.renderer.renderSession.roundPixels=true;this.tileBaseImgSelected.visible=false;this.tileBaseHinted.visible=false;this.placeToBoardCoords();this.tileBaseImgSelected.input.useHandCursor=true;this.tileBaseImg.events.onInputDown.add(this.switchToSelectedState,this,200);this.tileBaseImgSelected.events.onInputDown.add(this.switchToSelectedState,this,200);this.tileBaseImgSelected.events.onInputOver.add(function(){},this,200);}
Tile.preload=function(){console.log("tile images preload");SimpleGame.myGame.load.image('tile_selected_blank','assets/TILES/tiles_select.png');SimpleGame.myGame.load.image('tile_hint','assets/TILES/tiles_hint.png');var tilenamesArr=BoardManager.tileNamesArray;var i=tilenamesArr.length;while(i-->0){SimpleGame.myGame.load.image(tilenamesArr[i].toString(),"assets/TILES/"+tilenamesArr[i]+".png");}
console.log("tile images preloaded done");};Tile.prototype.switchToSelectedState=function(){console.log("switch to selected state: "+this.boardZCoord);if(this==BoardManager.selectedTile){this.deselect();return;}
if(this.removalFlag){console.log("removal flag, skip select");return;}
if(BoardManager.isValidSelection(this)){console.log("selection valid");if(this.hintedState){BoardManager.selectOtherHinted(this);BoardManager.removeHint();}
else if(BoardManager.hintedOnField()&&this.hintedState==false){}
BoardManager.removeHint();SoundManager.playClick();if(BoardManager.selectedTile!=null){console.log("clicked piece: "+this.boardXCoord,this.boardYCoord,this.boardZCoord);console.log("already selected piece: ",BoardManager.selectedTile.boardXCoord,BoardManager.selectedTile.boardYCoord,BoardManager.selectedTile.boardZCoord);}
if(this.tileBaseImg.parent!=null){if(BoardManager.selectedTile==null){console.log("select");this.tileBaseImgSelected.visible=true;this.tileBaseImg.visible=false;if(SoundButton.soundFlag){}
this.selectedState=true;BoardManager.selectedTile=this;}
else{if(BoardManager.checkForPairing(this,BoardManager.selectedTile)==false){BoardManager.selectedTile.deselect();this.switchToSelectedState();SoundManager.matchesInARow=0;}
else{console.log("TILE MATCHED!");SimpleGame.myGame.time.events.add(1,function(){BoardManager.checkIfGameOver();},this);BoardManager.selectedTile=null;}}}
else{this.deselect();SoundManager.matchesInARow=0;}}
else{this.invalidMove();SoundManager.matchesInARow=0;}};Tile.prototype.invalidMove=function(){SoundManager.invalid_move.play('',0.05);this.internalGroup.x=-2;if(this.invalidTween!=null){this.invalidTween.stop(true);}
this.invalidTween=SimpleGame.myGame.add.tween(this.internalGroup).to({x:this.internalGroup.x+2},125,Phaser.Easing.Bounce.Out,true);};Tile.prototype.deselect=function(){console.log("deselect called!");this.selectedState=false;this.tileBaseImg.visible=true;this.tileBaseImgSelected.visible=false;BoardManager.selectedTile=null;};Tile.prototype.placeToBoardCoords=function(){this.tileBaseImg.x=67+(this.tileBaseImg.width-11)*(this.boardXCoord)-13*this.boardZCoord;this.tileBaseImg.y=108+(this.tileBaseImg.height-12)*(this.boardYCoord)-12*this.boardZCoord;this.tileBaseImgSelected.x=this.tileBaseImg.x-this.tileBaseImg.width/2;this.tileBaseImgSelected.y=this.tileBaseImg.y-this.tileBaseImg.height/2;this.tileShadow.x=this.tileBaseImgSelected.x-17;this.tileShadow.y=this.tileBaseImgSelected.y-13;this.tileBaseHinted.x=this.tileBaseImgSelected.x-1;this.tileBaseHinted.y=this.tileBaseImgSelected.y-1;};Tile.Initialize=function(){};Tile.prototype.assignFaceIdx=function(retFaceIdx,interMatchedType,graphicsName){this.graphicsName=graphicsName;this.interMatchedType=interMatchedType;this.retFaceIdx=retFaceIdx;this.faceImg=SimpleGame.myGame.make.sprite(0,0,graphicsName);this.faceImg.anchor.set(0.5,0.5);this.internalGroup.addAt(this.faceImg,1);this.internalGroup.addAt(this.tileBaseImgSelected,2);this.internalGroup.addAt(this.tileBaseHinted,3);this.faceImg.anchor.set(0.5,0.5);this.faceImg.x=this.tileBaseImg.x;this.faceImg.y=this.tileBaseImg.y;};Tile.prototype.remove=function(skipOpenMatches){if(skipOpenMatches===void 0){skipOpenMatches=false;}
if(Tile.allTileArray.indexOf(this,0)>-1){Tile.allTileArray.splice(Tile.allTileArray.indexOf(this,0),1);}
this.faceImg.destroy();this.tileBaseImgSelected.destroy();this.tileBaseImg.destroy();this.tileShadow.destroy();this.tileBaseHinted.destroy();if(!skipOpenMatches){BoardManager.getOpenMatches();}};Tile.prototype.removeFace=function(){this.faceImg.destroy();};Tile.prototype.matched=function(){SimpleGame.myGame.time.events.add(1,function(){this.markedForRemoval=true;},this);this.tileBaseImgSelected.anchor.set(0.5,0.5);this.tileBaseImgSelected.x+=this.tileBaseImgSelected.width*0.5;this.tileBaseImgSelected.y+=this.tileBaseImgSelected.height*0.5;SimpleGame.myGame.time.events.add(500,function(){this.remove();},this);this.remove();this.tileShadow.visible=false;this.faceImg.inputEnabled=false;this.tileBaseImg.inputEnabled=false;this.tileBaseImgSelected.inputEnabled=false;console.log("tilebasehinted: "+this.tileBaseHinted.visible);console.log("washinted: "+this.wasHinted);console.log("hintedstate: "+this.hintedState);if(this.tileBaseHinted.visible==true){this.tileBaseImgSelected.visible=false;this.tileBaseHinted.visible=false;}
else if(this.wasHinted==false){this.tileBaseImgSelected.visible=true;}
if(Tile.lastRemovedPiecesStack==null){Tile.lastRemovedPiecesStack=new Array();}
Tile.lastRemovedPiecesStack.push(this);};Tile.prototype.secondaryTween=function(delayedCallTime){SimpleGame.myGame.time.events.add(delayedCallTime,function(){SimpleGame.myGame.add.tween(this.tileShadow).to({alpha:1},200,Phaser.Easing.Linear.None,true);SimpleGame.myGame.add.tween(this.internalGroup).to({alpha:1},200,Phaser.Easing.Linear.None,true);},this);};Tile.prototype.markForHint=function(){console.log("mark for hinted");this.deselect();this.hintTweenStart();};Tile.prototype.hintTweenStart=function(){this.tileBaseHinted.alpha=0.2;SimpleGame.myGame.add.tween(this.tileBaseHinted).to({alpha:1},1000,Phaser.Easing.Linear.None,true,0,1000000,true);this.tileBaseHinted.visible=true;this.hintedState=true;this.wasHinted=true;};Tile.prototype.removeHint=function(){console.log("remov hint called!");this.hintedState=false;this.tileBaseHinted.visible=false;};return Tile;}());var TileData=(function(){function TileData(tileX,tileY,tileZ,prepend,retFaceIdx,interMatchedType,graphicsName){this.tileX=tileX;this.tileY=tileY;this.tileZ=tileZ;this.prepend=prepend;this.retFaceIdx=retFaceIdx;this.interMatchedType=interMatchedType;this.graphicsName=graphicsName;}
return TileData;}());var TileUtil=(function(){function TileUtil(){}
return TileUtil;}());var Trace=(function(){function Trace(){}
return Trace;}());var OpenMenuBut=(function(){function OpenMenuBut(){SimpleGame.myGame.add.button();}
return OpenMenuBut;}());var SoundButton=(function(){function SoundButton(parent,imgNormalName,imgOverName,x,y,skipText){if(skipText===void 0){skipText=false;}
var soundontxt=SimpleGame.myGame.make.text(0,0,"",{font:"16px Roboto",fill:"#252525",fontWeight:"700"});this.soundOnBut=new ButtonWithOverAndText(soundontxt,parent,imgNormalName,imgOverName,x,y,this.toggleSoundButton.bind(this));this.soundOnBut.setXY(x,y);var soundofftxt=SimpleGame.myGame.make.text(0,0,"",{font:"16px Roboto",fill:"#252525",fontWeight:"700"});this.soundOffBut=new ButtonWithOverAndText(soundofftxt,parent,imgNormalName,imgOverName,x,y,this.toggleSoundButton.bind(this));this.soundOffBut.setXY(x,y);if(skipText){soundontxt.text="";soundofftxt.text="";}
this.setCorrectButtonVisible(true);}
SoundButton.prototype.toggleSoundButton=function(){SoundButton.soundFlag=!SoundButton.soundFlag;this.setCorrectButtonVisible();SoundManager.setMuteFlags(!SoundButton.soundFlag);};SoundButton.prototype.setCorrectButtonVisible=function(skipButtonOver){if(skipButtonOver===void 0){skipButtonOver=false;}
if(SoundButton.soundFlag){this.soundOnBut.setVisible();this.soundOffBut.setInvisible();if(!skipButtonOver)
this.soundOnBut.onButtonOver();}
else{this.soundOnBut.setInvisible();this.soundOffBut.setVisible();if(!skipButtonOver)
this.soundOffBut.onButtonOver();}};SoundButton.soundFlag=true;return SoundButton;}());var SoundButton2=(function(){function SoundButton2(parent,imgNormalName,imgOverName,imgNormalNameOff,imgOverNameOff,x,y){this.soundOnBut=new ButtonWithOverState(parent,imgNormalName,imgOverName,x,y,this.toggleSoundButton.bind(this));this.soundOnBut.setXY(x,y);this.soundOnBut.skipMouseOver=true;this.soundOffBut=new ButtonWithOverState(parent,imgNormalNameOff,imgOverNameOff,x,y,this.toggleSoundButton.bind(this));this.soundOffBut.setXY(x,y);this.soundOffBut.skipMouseOver=true;this.setCorrectButtonVisible(true);}
SoundButton2.prototype.toggleSoundButton=function(){SoundButton.soundFlag=!SoundButton.soundFlag;this.setCorrectButtonVisible();SoundManager.setMuteFlags(!SoundButton.soundFlag);};SoundButton2.prototype.setCorrectButtonVisible=function(skipButtonOver){if(skipButtonOver===void 0){skipButtonOver=false;}
if(SoundButton.soundFlag){this.soundOnBut.setVisible();this.soundOffBut.setInvisible();if(!skipButtonOver)
this.soundOnBut.onButtonOver();}
else{this.soundOnBut.setInvisible();this.soundOffBut.setVisible();if(!skipButtonOver)
this.soundOffBut.onButtonOver();}};SoundButton2.soundFlag=true;return SoundButton2;}());var GameOver=(function(){function GameOver(win){if(win===void 0){win=false;}
GameOver.win=win;console.log("game over added");GameOver.menuButton=SimpleGame.myGame.make.graphics(0,0);GameOver.menuButton.beginFill(0xffffff);GameOver.menuButton.drawRect(0,0,800,600);GameOver.menuButton.endFill();GameOver.menuButton.alpha=0.001;GameUI.promptLayer.add(GameOver.menuButton);GameOver.menuButton.inputEnabled=true;GameOver.prompt=SimpleGame.myGame.make.sprite(400,260,'prompt_bg');GameOver.prompt.anchor.set(0.5,0.5);GameOver.gameovertxt=SimpleGame.myGame.make.text(400,260,Language.nomoremoves[Language.langIdx],{font:"24px Arial",fill:"#ffffff",fontWeight:"800",align:"Right"});GameOver.gameovertxt.anchor.set(0.5,0.5);if(win){GameOver.gameovertxt.text=Language.YOUWONGAME[Language.langIdx];GameOver.animation=SimpleGame.myGame.add.sprite(117,77,'animation');GameOver.animation.animations.add('play',Phaser.Animation.generateFrameNames('frames/',0,28,'',4),10,true,false);GameOver.animation.animations.play('play');GameUI.topLayer.add(GameOver.animation);SoundManager.eruption.allowMultiple=true;GameOver.playEruption();GameOver.createParticles();SimpleGame.myGame.time.events.add(2000,function(){GameUI.promptLayer.add(GameOver.prompt);GameUI.promptLayer.add(GameOver.gameovertxt);GameOver.menuButton.events.onInputDown.add(GameOver.onMenuButtonPressed,this);});SimpleGame.myGame.time.events.add(3100,function(){});}
else{SoundManager.no_more_moves.play();GameUI.promptLayer.add(GameOver.prompt);GameUI.promptLayer.add(GameOver.gameovertxt);GameOver.menuButton.events.onInputDown.add(GameOver.onMenuButtonPressed,this);}}
GameOver.createParticles=function(){GameOver.emitter=SimpleGame.myGame.add.emitter(1028,748,50);GameOver.emitter.makeParticles('smoke');GameOver.emitter.setXSpeed(-2,2);GameOver.emitter.setYSpeed(1,5);GameOver.emitter.gravity.set(0,-30);GameOver.emitter.scale.set(0.5,0.5);GameOver.emitter.minRotation=0;GameOver.emitter.maxRotation=0;GameOver.emitter.setScale(0.3,0.5);GameOver.emitter.start(false,500,250);GameOver.emmitter2=SimpleGame.myGame.add.emitter(1028*0.5/0.3,750*0.5/0.3,50);GameOver.emmitter2.makeParticles('smoke');GameOver.emmitter2.setXSpeed(-2,2);GameOver.emmitter2.setYSpeed(1,5);GameOver.emmitter2.gravity.set(0,-20);GameOver.emmitter2.scale.set(0.3,0.3);GameOver.emmitter2.minRotation=0;GameOver.emmitter2.maxRotation=0;GameOver.emmitter2.setAlpha(0.5,1);GameOver.emmitter2.start(false,3500,400);};GameOver.playEruption=function(){console.log("play eruption");SoundManager.eruption.play();};GameOver.onMenuButtonPressed=function(){console.log("menu button pressed");SoundManager.playClick();GameOver.menuButton.destroy();GameOver.gameovertxt.destroy();if(GameOver.win){GameOver.animation.destroy();GameOver.emitter.destroy();GameOver.emmitter2.destroy();}
GameOver.prompt.destroy();BoardManager.resetBoard();};GameOver.win=false;return GameOver;}());var AreYouSurePrompt=(function(){function AreYouSurePrompt(startNewFlag){if(startNewFlag===void 0){startNewFlag=false;}
this.blackbg=SimpleGame.myGame.make.graphics(0,0);this.blackbg.beginFill(0x000000);this.blackbg.drawRect(0,0,880,680);this.blackbg.endFill();this.blackbg.alpha=0.85;this.blackbg.inputEnabled=true;GameUI.promptLayer.add(this.blackbg);this.menuBG=SimpleGame.myGame.add.sprite(0,0,'prompt_out_of_moves');this.menuBG.x=(SimpleGame.myGame.width-this.menuBG.width)*0.5;this.menuBG.y=60;GameUI.promptLayer.add(this.menuBG);var areyousurestr=Language.ARE_YOU_SURE_NEW[Language.langIdx];this.menuText=SimpleGame.myGame.make.text(0,0,""+areyousurestr,{font:"24px Open Sans",fill:"#6f451d",fontWeight:"700",align:"Center"});this.menuText.wordWrapWidth=360;this.menuText.wordWrap=true;this.menuText.anchor.set(0.5,0.5);this.menuText.y=200;this.menuText.x=400;GameUI.promptLayer.add(this.menuText);var yesText=SimpleGame.myGame.make.text(0,0,Language.YES[Language.langIdx],{font:"20px Open Sans",fill:"#6f451d",fontWeight:"700"});var yesBut=new ButtonWithOverAndText(yesText,GameUI.promptLayer,"prompt_button","prompt_button_over",0,0,function(){console.log("yes clicked game");GameUI.promptLayer.removeAll(true);var levelprompt=new LevelMenuPrompt();});var keepPlayText=SimpleGame.myGame.make.text(0,0,""+Language.NO[Language.langIdx],{font:"20px Open Sans",fill:"#6f451d",fontWeight:"700"});var keepPlayBut=new ButtonWithOverAndText(keepPlayText,GameUI.promptLayer,"prompt_button","prompt_button_over",0,0,function(){console.log("yes clicked game");GameUI.promptLayer.removeAll(true);});this.menuBG.y+=50;this.menuText.y+=50;keepPlayBut.setXY(this.menuBG.x+(this.menuBG.width-keepPlayBut.imgNormal.width)*0.81,this.menuBG.y+230);yesBut.setXY(this.menuBG.x+(this.menuBG.width-yesBut.imgNormal.width)*0.21,this.menuBG.y+230);}
return AreYouSurePrompt;}());var GameWonPrompt=(function(){function GameWonPrompt(){console.log("gamewonprompt added");SoundManager.won.play();GameUI.gameStarted=false;this.blackbg=SimpleGame.myGame.make.graphics(0,0);this.blackbg.beginFill(0x000000);this.blackbg.drawRect(0,0,880,680);this.blackbg.endFill();this.blackbg.alpha=0.5;this.blackbg.inputEnabled=true;GameUI.promptLayer.add(this.blackbg);this.tweenGroup=SimpleGame.myGame.add.group(GameUI.promptLayer);GameUI.promptLayer.add(this.tweenGroup);this.menuBG=SimpleGame.myGame.add.sprite(0,0,'prompt_out_of_moves');this.menuBG.x=(SimpleGame.myGame.width-this.menuBG.width)*0.5;this.menuBG.y=170-20;this.tweenGroup.add(this.menuBG);var wongameTxt=Language.YOUWONGAME[Language.langIdx]+" ";this.menuText=SimpleGame.myGame.make.text(410,250,""+wongameTxt,{font:"36px Open Sans",fill:"#ef9246",fontWeight:"700",align:"Center"});console.log("wongametxt: "+wongameTxt);this.tweenGroup.add(this.menuText);this.menuText.anchor.set(0.5,0.5);this.menuText.wordWrapWidth=500;this.menuText.wordWrap=true;var tryAgain=Language.choosenextlevel[Language.langIdx]+" ";this.tryText=SimpleGame.myGame.make.text(400,300,""+tryAgain,{font:"20px Open Sans",fill:"#6f451d",fontWeight:"700",align:"Center"});console.log("wongametxt: "+wongameTxt);this.tweenGroup.add(this.tryText);this.tryText.anchor.set(0.5,0.5);this.tryText.wordWrapWidth=320;this.tryText.wordWrap=true;var restartText=SimpleGame.myGame.make.text(0,0,""+Language.previous[Language.langIdx],{font:"22px Open Sans",fill:"#6f451d",fontWeight:"700"});var restartBut=new ButtonWithOverAndText(restartText,this.tweenGroup,"prompt_button","prompt_button_over",0,0,function(){console.log("yes clicked game");GameUI.promptLayer.removeAll(true);BoardManager.resetBoard();GameContext.gameState=GameContext.STATE_PLAYING;});restartBut.setXY(this.menuBG.x+(this.menuBG.width-restartBut.imgNormal.width)*0.17-400+3,this.menuBG.y+230-320);restartBut.textYDelta=-2;var nexttxt=SimpleGame.myGame.make.text(0,0,""+Language.next[Language.langIdx],{font:"22px Open Sans",fill:"#6f451d",fontWeight:"700"});var nextBut=new ButtonWithOverAndText(nexttxt,this.tweenGroup,"prompt_button","prompt_button_over",0,0,function(){console.log("yes clicked game");GameUI.promptLayer.removeAll(true);var levelscr=new LevelMenuPrompt();});nextBut.setXY(this.menuBG.x+(this.menuBG.width-nextBut.imgNormal.width)*0.83-400-3,this.menuBG.y+230-320);nextBut.textYDelta=-2;this.menuText.y-=30;this.tweenGroup.scale.x=0.1;this.tweenGroup.scale.y=0.1;SimpleGame.myGame.add.tween(this.tweenGroup.scale).to({x:1,y:1},600,Phaser.Easing.Back.Out,true);this.tweenGroup.x+=400;this.tweenGroup.y+=320;var i=this.tweenGroup.children.length;while(i-->0){this.tweenGroup.children[i].x-=400;this.tweenGroup.children[i].y-=320;}}
return GameWonPrompt;}());var LevelMenuPrompt=(function(){function LevelMenuPrompt(){GameUI.gameStarted=false;LevelMenuPrompt.buttons=new Array();this.blackbg=SimpleGame.myGame.make.graphics(0,0);this.blackbg.beginFill(0x000000);this.blackbg.drawRect(0,0,880,680);this.blackbg.endFill();this.blackbg.alpha=0.5;this.blackbg.inputEnabled=true;GameUI.promptLayer.add(this.blackbg);this.menuBG=SimpleGame.myGame.add.sprite(0,0,'menu_bg');this.menuBG.x=(SimpleGame.myGame.width-this.menuBG.width)*0.5;this.menuBG.y=0;GameUI.promptLayer.add(this.menuBG);LevelMenuPrompt.nextButton=new ButtonWithOverState(GameUI.promptLayer,"level_next","level_next_mouseover",413,580,function(){LevelMenuPrompt.currentPage++;if(LevelMenuPrompt.currentPage==2)
LevelMenuPrompt.currentPage=0;LevelMenuPrompt.createCurrentPage();});LevelMenuPrompt.prevButton=new ButtonWithOverState(GameUI.promptLayer,"level_previous","level_previous_mouseover",313,580,function(){LevelMenuPrompt.currentPage--;if(LevelMenuPrompt.currentPage==-1)
LevelMenuPrompt.currentPage=1;LevelMenuPrompt.createCurrentPage();});LevelMenuPrompt.createCurrentPage();LevelMenuPrompt.nextButtonDisabled=SimpleGame.myGame.make.sprite(LevelMenuPrompt.prevButton.imgOver.x,LevelMenuPrompt.prevButton.imgOver.y,"level_next_endofpage");LevelMenuPrompt.prevButtonDisabled=SimpleGame.myGame.make.sprite(LevelMenuPrompt.nextButton.imgOver.x,LevelMenuPrompt.nextButton.imgOver.y,"level_previous_endofpage");GameUI.promptLayer.add(LevelMenuPrompt.nextButtonDisabled);GameUI.promptLayer.add(LevelMenuPrompt.prevButtonDisabled);}
LevelMenuPrompt.createCurrentPage=function(){if(LevelMenuPrompt.currentPage==0){LevelMenuPrompt.prevButton.imgNormal.visible=LevelMenuPrompt.prevButton.imgOver.visible=false;LevelMenuPrompt.nextButton.imgNormal.visible=LevelMenuPrompt.nextButton.imgOver.visible=true;}
else{LevelMenuPrompt.prevButton.imgNormal.visible=LevelMenuPrompt.prevButton.imgOver.visible=true;LevelMenuPrompt.nextButton.imgNormal.visible=LevelMenuPrompt.nextButton.imgOver.visible=false;}
var i=this.buttons.length;while(i-->0){var but=this.buttons[i];but.imgNormal.destroy();but.imgOver.destroy();}
this.buttons=new Array();var startIdx=9+9*LevelMenuPrompt.currentPage;console.log("start idx: "+startIdx);var i=9;while(i-->0){startIdx--;var curIdx=startIdx+1;var strnum;if(curIdx<10){strnum="0"+curIdx;}
else{strnum=""+curIdx;}
var x;var y;var deltax=i%3;var deltay=Math.floor(i/3);x=67+(209+20)*deltax;y=69+(154+19)*deltay;console.log(startIdx);var but=new ButtonWithOverState(GameUI.promptLayer,"level_"+strnum,"level_"+strnum,x,y,function(){LayoutManager.levelNum=this.startIdx;console.log("levelnum: "+this.startIdx);BoardManager.resetBoard();GameUI.promptLayer.removeAll();});this.buttons.push(but);but.startIdx=startIdx;if(SimpleGame.myGame.device.touch==false){but.imgNormal.blendMode=PIXI.blendModes.LUMINOSITY;}}};LevelMenuPrompt.load=function(){var i=18;while(i-->0){var x=i+1;var strnum;if(x<10){strnum="0"+x;}
else{strnum=""+x;}
SimpleGame.myGame.load.image('level_'+strnum,"assets/levels/level_"+strnum+".png");}
SimpleGame.myGame.load.image('level_next',"assets/levels/level_next.png");SimpleGame.myGame.load.image('level_next_endofpage',"assets/levels/level_next_endofpage.png");SimpleGame.myGame.load.image('level_next_mouseover',"assets/levels/level_next_mouseover.png");SimpleGame.myGame.load.image('level_previous',"assets/levels/level_previous.png");SimpleGame.myGame.load.image('level_previous_endofpage',"assets/levels/level_previous_endofpage.png");SimpleGame.myGame.load.image('level_previous_mouseover',"assets/levels/level_previous_mouseover.png");SimpleGame.myGame.load.image('menu_bg',"assets/levels/menu_bg.jpg");};LevelMenuPrompt.currentPage=0;return LevelMenuPrompt;}());var NoMoreMoves=(function(){function NoMoreMoves(){SoundManager.no_more_moves.play();GameUI.gameStarted=false;this.blackbg=SimpleGame.myGame.make.graphics(0,0);this.blackbg.beginFill(0x000000);this.blackbg.drawRect(0,0,880,680);this.blackbg.endFill();this.blackbg.alpha=0.5;this.blackbg.inputEnabled=true;GameUI.promptLayer.add(this.blackbg);this.tweenGroup=SimpleGame.myGame.add.group(GameUI.promptLayer);GameUI.promptLayer.add(this.tweenGroup);this.menuBG=SimpleGame.myGame.add.sprite(0,0,'prompt_out_of_moves');this.menuBG.x=(SimpleGame.myGame.width-this.menuBG.width)*0.5;this.menuBG.y=170-20;this.tweenGroup.add(this.menuBG);var wongameTxt=Language.nomoremoves[Language.langIdx]+" ";this.menuText=SimpleGame.myGame.make.text(400,250,""+wongameTxt,{font:"36px Open Sans",fill:"#ef9246",fontWeight:"700",align:"Center"});console.log("wongametxt: "+wongameTxt);this.tweenGroup.add(this.menuText);this.menuText.anchor.set(0.5,0.5);this.menuText.wordWrapWidth=500;this.menuText.wordWrap=true;var tryAgain=Language.wantottry[Language.langIdx]+" ";this.tryText=SimpleGame.myGame.make.text(400,300,""+tryAgain,{font:"20px Open Sans",fill:"#6f451d",fontWeight:"700",align:"Center"});console.log("wongametxt: "+wongameTxt);this.tweenGroup.add(this.tryText);this.tryText.anchor.set(0.5,0.5);this.tryText.wordWrapWidth=320;this.tryText.wordWrap=true;var restartText=SimpleGame.myGame.make.text(0,0,""+Language.mix[Language.langIdx],{font:"22px Open Sans",fill:"#6f451d",fontWeight:"700"});var restartBut=new ButtonWithOverAndText(restartText,this.tweenGroup,"prompt_button","prompt_button_over",0,0,function(){console.log("yes clicked game");GameContext.gameState=GameContext.STATE_PLAYING;BoardManager.mix();GameUI.promptLayer.removeAll(true);});restartBut.setXY(this.menuBG.x+(this.menuBG.width-restartBut.imgNormal.width)*0.5-400,this.menuBG.y+230-320);this.menuText.y-=31;restartBut.textYDelta=-2;this.tweenGroup.scale.x=0.1;this.tweenGroup.scale.y=0.1;SimpleGame.myGame.add.tween(this.tweenGroup.scale).to({x:1,y:1},600,Phaser.Easing.Back.Out,true);this.tweenGroup.x+=400;this.tweenGroup.y+=320;var i=this.tweenGroup.children.length;while(i-->0){this.tweenGroup.children[i].x-=400;this.tweenGroup.children[i].y-=320;}}
return NoMoreMoves;}());var ButtonWithOverState=(function(){function ButtonWithOverState(parent,imgNormalName,imgOverName,x,y,onClickFunction){if(onClickFunction===void 0){onClickFunction=function(){};}
this.onClickExecuted=false;this.skipClickSound=false;this.skipMouseOver=false;this.imgnormalnamestr=imgNormalName;this.parent=parent;this.imgNormalName=imgNormalName;this.imgOverName=imgOverName;this.x=x;this.y=y;this.imgNormal=SimpleGame.myGame.make.sprite(this.x,this.y,imgNormalName);this.imgOver=SimpleGame.myGame.make.sprite(this.x,this.y,imgOverName);parent.add(this.imgNormal);parent.add(this.imgOver);this.imgNormal.inputEnabled=this.imgOver.inputEnabled=false;this.imgOver.inputEnabled=false;if(SimpleGame.myGame.device.touch==false){this.imgNormal.events.onInputOver.add(this.onButtonOver,this,0);}
this.imgNormal.events.onInputUp.add(this.banInput,this,100);this.imgNormal.events.onInputDown.add(this.onButtonClicked,this,2);this.imgNormal.events.onInputOut.add(this.onButtonOut,this,1);this.imgOver.events.onInputOut.add(this.onButtonOut,this,1);this.imgOver.events.onInputUp.add(this.onButtonOut,this,4);this.imgNormal.events.onInputDown.add(function(){console.log("normal image clicked");},this);this.imgOver.events.onInputDown.add(function(){console.log("over image clicked");},this);this.onClickFunction=onClickFunction;this.imgOver.visible=false;this.loopEvent=SimpleGame.myGame.time.events.loop(100,this.update,this);this.loopEvent1=SimpleGame.myGame.time.events.loop(10,this.update1,this);console.log("button created");SimpleGame.myGame.time.events.add(10,function(){if(GameUI.promptLayer!=null){if(GameUI.promptLayer.countLiving()<=0){this.imgNormal.input.useHandCursor=true;}
else{this.imgNormal.input.useHandCursor=true;}}
else{this.imgNormal.input.useHandCursor=true;}
console.log("input enabled");},this);this.imgNormal.inputEnabled=true;SimpleGame.myGame.input.onTap.add(function(){});this.imgNormal.events.onInputUp.add(function(){});}
ButtonWithOverState.prototype.update=function(){if(this.imgNormal.input!=null){if(this.skipMouseOver){}
else{}}
if(this.imgOver.parent){if(!this.imgOver.getBounds().contains(SimpleGame.myGame.input.x,SimpleGame.myGame.input.y)){}
else{}}
else{SimpleGame.myGame.time.events.remove(this.loopEvent);}
this.setXY(this.x,this.y);};ButtonWithOverState.prototype.update1=function(){this.setXY(this.x,this.y);};ButtonWithOverState.prototype.banInput=function(){this.onClickExecuted=true;SimpleGame.myGame.time.events.add(250,function(){this.onClickExecuted=false;},this);};ButtonWithOverState.prototype.onButtonOver=function(){console.log(SimpleGame.myGame.input.mousePointer.exists);console.log("button over");if(this.skipMouseOver){if(SimpleGame.myGame.device.iOS||SimpleGame.myGame.device.android||SimpleGame.myGame.device.touch){return;}}
this.imgNormal.input.useHandCursor=true;this.imgOver.visible=true;this.imgNormal.alpha=0.00001;SimpleGame.myGame.canvas.style.cursor="pointer";console.log("mouse set to pointer");if(SimpleGame.myGame.device.touch){}};ButtonWithOverState.prototype.onButtonOut=function(){if(this.imgnormalnamestr=="open_menu2"){}
this.imgOver.visible=false;this.imgNormal.alpha=1;};ButtonWithOverState.prototype.onButtonClicked=function(evt){if(this.onClickExecuted==false){this.onClickExecuted=true;console.log("button click success");this.banInput();SimpleGame.myGame.time.events.add(60,function(){this.onClickExecuted=false;},this);this.onClickFunction();if(this.skipClickSound==false)
SoundManager.playClick();}
else{}
SimpleGame.myGame.input.enabled=false;SimpleGame.myGame.time.events.add(0,function(){SimpleGame.myGame.input.enabled=true;SimpleGame.myGame.input.reset();});};ButtonWithOverState.prototype.setXY=function(x,y){this.imgNormal.x=x;this.imgOver.x=x;this.x=x;this.imgNormal.y=y;this.imgOver.y=y;this.y=y;};ButtonWithOverState.prototype.setVisible=function(){console.log("set visible");this.parent.add(this.imgNormal);this.parent.add(this.imgOver);};ButtonWithOverState.prototype.setInvisible=function(){this.parent.remove(this.imgNormal);this.parent.remove(this.imgOver);};return ButtonWithOverState;}());var ButtonWithOverAndText=(function(_super){__extends(ButtonWithOverAndText,_super);function ButtonWithOverAndText(text,parent,imgNormalName,imgOverName,x,y,onClickFunction){if(onClickFunction===void 0){onClickFunction=function(){};}
var _this=_super.call(this,parent,imgNormalName,imgOverName,x,y,onClickFunction)||this;_this.fixedTxtCoords=false;_this.fixedTxtX=0;_this.fixedTxtY=0;_this.textY=0;_this.textX=0;_this.textYDelta=0;_this.text=text;parent.add(text);return _this;}
ButtonWithOverAndText.prototype.setXY=function(x,y){_super.prototype.setXY.call(this,x,y);if(this.fixedTxtCoords){this.text.x=this.imgNormal.x+this.fixedTxtX;this.text.y=this.imgNormal.y+this.fixedTxtY;}
else{this.text.x=this.imgNormal.x+0.5*(this.imgNormal.width-this.text.width);this.text.y=this.imgNormal.y+0.5*(this.imgNormal.height-0.85*this.text.height)+1;}
this.textX=this.text.x;this.textY=this.text.y+this.textYDelta;if(this.imgOver.visible){this.text.y=this.textY;}
else{this.text.y=this.textY;}};ButtonWithOverAndText.prototype.update=function(){_super.prototype.update.call(this);if(this.imgOver.visible){this.text.y=this.textY;}
else{this.text.y=this.textY;}};ButtonWithOverAndText.prototype.setVisible=function(){console.log("set visible");this.parent.add(this.imgNormal);this.parent.add(this.imgOver);this.parent.add(this.text);};ButtonWithOverAndText.prototype.setInvisible=function(){this.parent.remove(this.imgNormal);this.parent.remove(this.imgOver);this.parent.remove(this.text);};return ButtonWithOverAndText;}(ButtonWithOverState));var CheckboxControl=(function(){function CheckboxControl(parent,uncheckedImageName,checkedImageName,x,y){this.isChecked=false;this.x=x;this.y=y;var uncheckedImage=SimpleGame.myGame.make.sprite(x,y,uncheckedImageName);parent.add(uncheckedImage);uncheckedImage.inputEnabled=true;uncheckedImage.events.onInputDown.add(this.switchState,this);var checkedImage=SimpleGame.myGame.make.sprite(x,y,checkedImageName);parent.add(checkedImage);checkedImage.inputEnabled=true;checkedImage.events.onInputDown.add(this.switchState,this);this.uncheckedImage=uncheckedImage;this.checkedImage=checkedImage;this.update();}
CheckboxControl.prototype.update=function(){if(this.isChecked){this.uncheckedImage.visible=false;this.checkedImage.visible=true;}
else{this.uncheckedImage.visible=true;this.checkedImage.visible=false;}};CheckboxControl.prototype.switchState=function(){this.isChecked=!this.isChecked;this.update();};return CheckboxControl;}());var Utils;(function(Utils){var ScreenMetrics=(function(){function ScreenMetrics(){}
return ScreenMetrics;}());Utils.ScreenMetrics=ScreenMetrics;var Orientation;(function(Orientation){Orientation[Orientation["PORTRAIT"]=0]="PORTRAIT";Orientation[Orientation["LANDSCAPE"]=1]="LANDSCAPE";})(Orientation=Utils.Orientation||(Utils.Orientation={}));;var ScreenUtils=(function(){function ScreenUtils(){}
ScreenUtils.calculateScreenMetrics=function(aDefaultWidth,aDefaultHeight,aOrientation,aMaxGameWidth,aMaxGameHeight){if(aOrientation===void 0){aOrientation=Orientation.LANDSCAPE;}
var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;if((windowWidth<windowHeight&&aOrientation===Orientation.LANDSCAPE)||(windowHeight<windowWidth&&aOrientation===Orientation.PORTRAIT)){var tmp=windowWidth;windowWidth=windowHeight;windowHeight=tmp;}
if(typeof aMaxGameWidth==="undefined"||typeof aMaxGameHeight==="undefined"){if(aOrientation===Orientation.LANDSCAPE){aMaxGameWidth=Math.round(aDefaultWidth*1420/1280);aMaxGameHeight=Math.round(aDefaultHeight*960/800);}
else{aMaxGameWidth=Math.round(aDefaultWidth*960/800);aMaxGameHeight=Math.round(aDefaultHeight*1420/1280);}}
var defaultAspect=(aOrientation===Orientation.LANDSCAPE)?1280/800:800/1280;var windowAspect=windowWidth/windowHeight;var offsetX=0;var offsetY=0;var gameWidth=0;var gameHeight=0;if(windowAspect>defaultAspect){gameHeight=aDefaultHeight;gameWidth=Math.ceil((gameHeight*windowAspect)/2.0)*2;gameWidth=Math.min(gameWidth,aMaxGameWidth);offsetX=(gameWidth-aDefaultWidth)/2;offsetY=0;}
else{gameWidth=aDefaultWidth;gameHeight=Math.ceil((gameWidth/windowAspect)/2.0)*2;gameHeight=Math.min(gameHeight,aMaxGameHeight);offsetX=0;offsetY=(gameHeight-aDefaultHeight)/2;}
var scaleX=windowWidth/gameWidth;var scaleY=windowHeight/gameHeight;this.screenMetrics=new ScreenMetrics();this.screenMetrics.windowWidth=windowWidth;this.screenMetrics.windowHeight=windowHeight;this.screenMetrics.defaultGameWidth=aDefaultWidth;this.screenMetrics.defaultGameHeight=aDefaultHeight;this.screenMetrics.maxGameWidth=aMaxGameWidth;this.screenMetrics.maxGameHeight=aMaxGameHeight;this.screenMetrics.gameWidth=gameWidth;this.screenMetrics.gameHeight=gameHeight;this.screenMetrics.scaleX=scaleX;this.screenMetrics.scaleY=scaleY;this.screenMetrics.offsetX=offsetX;this.screenMetrics.offsetY=offsetY;return this.screenMetrics;};return ScreenUtils;}());Utils.ScreenUtils=ScreenUtils;})(Utils||(Utils={}));var Util=(function(){function Util(){}
Util.convertToHHMMSS=function(seconds){var s=seconds%60;var m=Math.floor((seconds%3600)/60);var h=Math.floor(seconds/(60*60));var hourStr=(false)?"":Util.doubleDigitFormat(h)+":";var minuteStr=Util.doubleDigitFormat(m)+":";var secondsStr=Util.doubleDigitFormat(s);return hourStr+minuteStr+secondsStr;};Util.convertToMMSS=function(seconds){var s=seconds%60;var m=Math.floor((seconds%3600)/60);var h=Math.floor(seconds/(60*60));var hourStr=(false)?"":Util.doubleDigitFormat(h)+":";var minuteStr=Util.doubleDigitFormat(m)+":";var secondsStr=Util.doubleDigitFormat(s);return minuteStr+secondsStr;};Util.doubleDigitFormat=function(num){if(num<10){return("0"+num);}
return ""+num;};Util.getStorage=function(s,defaultRetValue){if(defaultRetValue===void 0){defaultRetValue=0;}
var storageData=0;try{storageData=parseInt(window.localStorage.getItem(s));}
catch(error){return 0;}
if(isNaN(storageData)){storageData=0;try{window.localStorage.setItem(s,defaultRetValue.toString());}
catch(error){return 0;}}
return storageData;};Util.setStorage=function(s,val){try{window.localStorage.setItem(s,val.toString());}
catch(error){}};Util.clearStorage=function(s,defaultVal){if(defaultVal===void 0){defaultVal=0;}};Util.fixedDigitCount=function(digits,number){var digitCount=number.toString().length;var deltaCount=digits-digitCount;var retStr="";while(deltaCount-->0){retStr+="0";}
retStr+=number.toString();return retStr;};return Util;}());