/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function s(a,b){function c(){}c.prototype=a;var f=new c,d;for(d in b)f[d]=b[d];b.toString!==Object.prototype.toString&&(f.toString=b.toString);return f}function ye(a){return a instanceof Array?function(){return x.iter(a)}:"function"==typeof a.iterator?Q(a,a.iterator):a.iterator}function Q(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=$f++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var e={},qa=function(){};e.DateTools=qa;qa.__name__=["DateTools"];qa.__format_get=function(a,b){switch(b){case "%":return"%";case "C":return H.lpad(w.string(w["int"](a.getFullYear()/100)),"0",2);case "d":return H.lpad(w.string(a.getDate()),"0",2);case "D":return qa.__format(a,"%m/%d/%y");case "e":return w.string(a.getDate());case "F":return qa.__format(a,"%Y-%m-%d");case "H":case "k":return H.lpad(w.string(a.getHours()),"H"==
b?"0":" ",2);case "I":case "l":var c=a.getHours()%12;return H.lpad(w.string(0==c?12:c),"I"==b?"0":" ",2);case "m":return H.lpad(w.string(a.getMonth()+1),"0",2);case "M":return H.lpad(w.string(a.getMinutes()),"0",2);case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return qa.__format(a,"%I:%M:%S %p");case "R":return qa.__format(a,"%H:%M");case "s":return w.string(w["int"](a.getTime()/1E3));case "S":return H.lpad(w.string(a.getSeconds()),"0",2);case "t":return"\t";case "T":return qa.__format(a,
"%H:%M:%S");case "u":return c=a.getDay(),0==c?"7":null==c?"null":""+c;case "w":return w.string(a.getDay());case "y":return H.lpad(w.string(a.getFullYear()%100),"0",2);case "Y":return w.string(a.getFullYear());default:throw new o("Date.format %"+b+"- not implemented yet.");}};qa.__format=function(a,b){for(var c=new ra,f=0;;){var d=b.indexOf("%",f);if(0>d)break;c.addSub(b,f,d-f);c.add(qa.__format_get(a,x.substr(b,d+1,1)));f=d+2}c.addSub(b,f,b.length-f);return c.b};qa.format=function(a,b){return qa.__format(a,
b)};var ua=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};e.EReg=ua;ua.__name__=["EReg"];ua.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new o("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new o("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:ua};var x=function(){};e.HxOverrides=
x;x.__name__=["HxOverrides"];x.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),f=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>f?"0"+f:""+f)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};x.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=
a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new o("Invalid date format : "+a);}};x.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};x.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};x.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};x.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<
this.arr.length},next:function(){return this.arr[this.cur++]}}};var qb=function(){};e.Lambda=qb;qb.__name__=["Lambda"];qb.array=function(a){for(var b=[],a=ye(a)();a.hasNext();){var c=a.next();b.push(c)}return b};qb.exists=function(a,b){for(var c=ye(a)();c.hasNext();){var f=c.next();if(b(f))return!0}return!1};qb.count=function(a,b){var c=0;if(null==b)for(var f=ye(a)();f.hasNext();)f.next(),c++;else for(f=ye(a)();f.hasNext();){var d=f.next();b(d)&&c++}return c};var eb=function(){this.length=0};e.List=
eb;eb.__name__=["List"];eb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},iterator:function(){return new kd(this.h)},__class__:eb};var kd=function(a){this.head=a;this.val=null};e["_List.ListIterator"]=kd;kd.__name__=["_List","ListIterator"];kd.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:kd};
Math.__name__=["Math"];var J=function(){};e.Reflect=J;J.__name__=["Reflect"];J.field=function(a,b){try{return a[b]}catch(c){return c instanceof o&&(c=c.val),null}};J.setField=function(a,b,c){a[b]=c};J.callMethod=function(a,b,c){return b.apply(a,c)};J.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,f;for(f in a)"__id__"!=f&&"hx__closures__"!=f&&c.call(a,f)&&b.push(f)}return b};J.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};J.deleteField=
function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var w=function(){};e.Std=w;w.__name__=["Std"];w.is=function(a,b){return L.__instanceof(a,b)};w.string=function(a){return L.__string_rec(a,"")};w["int"]=function(a){return a|0};w.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==x.cca(a,1)||88==x.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};w.parseFloat=function(a){return parseFloat(a)};var ra=function(){this.b=""};e.StringBuf=ra;ra.__name__=["StringBuf"];
ra.prototype={add:function(a){this.b+=w.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+x.substr(a,b,null):this.b+x.substr(a,b,c)},__class__:ra};var H=function(){};e.StringTools=H;H.__name__=["StringTools"];H.startsWith=function(a,b){return a.length>=b.length&&x.substr(a,0,b.length)==b};H.isSpace=function(a,b){var c=x.cca(a,b);return 8<c&&14>c||32==c};H.ltrim=function(a){for(var b=a.length,c=0;c<b&&H.isSpace(a,c);)c++;return 0<c?x.substr(a,c,b-c):a};H.rtrim=function(a){for(var b=a.length,
c=0;c<b&&H.isSpace(a,b-c-1);)c++;return 0<c?x.substr(a,0,b-c):a};H.trim=function(a){return H.ltrim(H.rtrim(a))};H.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};H.fastCodeAt=function(a,b){return a.charCodeAt(b)};var D=e.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};D.TNull=["TNull",0];D.TNull.__enum__=D;D.TInt=["TInt",1];D.TInt.__enum__=D;D.TFloat=["TFloat",2];D.TFloat.__enum__=D;D.TBool=
["TBool",3];D.TBool.__enum__=D;D.TObject=["TObject",4];D.TObject.__enum__=D;D.TFunction=["TFunction",5];D.TFunction.__enum__=D;D.TClass=function(a){a=["TClass",6,a];a.__enum__=D;return a};D.TEnum=function(a){a=["TEnum",7,a];a.__enum__=D;return a};D.TUnknown=["TUnknown",8];D.TUnknown.__enum__=D;var P=function(){};e.Type=P;P.__name__=["Type"];P.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};P.getEnumName=function(a){return a.__ename__.join(".")};P.resolveClass=function(a){a=
e[a];return null==a||!a.__name__?null:a};P.resolveEnum=function(a){a=e[a];return null==a||!a.__ename__?null:a};P.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};P.createEnum=function(a,b,c){var f=J.field(a,b);if(null==f)throw new o("No such constructor "+b);if(J.isFunction(f)){if(null==c)throw new o("Constructor "+b+" need parameters");return J.callMethod(a,f,c)}if(null!=c&&0!=c.length)throw new o("Constructor "+b+" does not need parameters");return f};P.getEnumConstructs=
function(a){return a.__constructs__.slice()};P["typeof"]=function(a){switch(typeof a){case "boolean":return D.TBool;case "string":return D.TClass(String);case "number":return Math.ceil(a)==a%2147483648?D.TInt:D.TFloat;case "object":if(null==a)return D.TNull;var b=a.__enum__;if(null!=b)return D.TEnum(b);a=L.getClass(a);return null!=a?D.TClass(a):D.TObject;case "function":return a.__name__||a.__ename__?D.TObject:D.TFunction;case "undefined":return D.TNull;default:return D.TUnknown}};var p=function(a){this.nodeType=
a;this.children=[];this.attributeMap=new ea};e.Xml=p;p.__name__=["Xml"];p.parse=function(a){return Wa.parse(a)};p.createElement=function(a){var b=new p(p.Element);if(b.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};p.createPCData=function(a){var b=new p(p.PCData);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createCData=function(a){var b=new p(p.CData);
if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createComment=function(a){var b=new p(p.Comment);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createDocType=function(a){var b=new p(p.DocType);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createProcessingInstruction=
function(a){var b=new p(p.ProcessingInstruction);if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};p.createDocument=function(){return new p(p.Document)};p.prototype={get_nodeName:function(){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);
return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);return x.iter(this.children)},
elementsNamed:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,f=this.children;c<f.length;){var d=f[c];++c;var e;if(e=d.nodeType==p.Element){if(d.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);e=d.nodeName==a}e&&b.push(d)}return x.iter(b)},firstElement:function(){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==p.Element)return c}return null},addChild:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=p.Document&&this.nodeType!=p.Element)throw new o("Bad node type, expected Element or Document but found "+
this.nodeType);return x.remove(this.children,a)?(a.parent=null,!0):!1},__class__:p};var q=function(){};e["com.EntityHelper"]=q;q.__name__=["com","EntityHelper"];q.attachToNewEntity=function(a,b,c){null==c&&(c=!0);a=(new z).add(a);null!=b&&b.addChild(a,c);return a};q.delayedCall=function(a,b,c){null==c&&(c=j.root);null==q.allTweensArray&&(q.allTweensArray=[]);var f=new Gb,d=new z;q.allTweensArray.push(d);c.addChild(d);d.add(f);f.run(new Hb([new Ib(a),new rb(b),new rb(function(){null!=f.owner&&f.owner.dispose()})]));
return f};q.clearDelayedCalls=function(){if(null!=q.allTweensArray)for(var a=q.allTweensArray.length;0<a--;)null!=q.allTweensArray[a]._compMap.Script_3&&q.allTweensArray[a]._compMap.Script_3.stopAll(),q.allTweensArray[a].dispose()};q.repeatCall=function(a,b){var c=new Gb;c.run(new mc(new Hb([new Ib(a),new rb(b)])));q.attachToNewEntity(c,j.root);return c};var ma=e["com.funtomic.GameOpsStatus"]={__ename__:["com","funtomic","GameOpsStatus"],__constructs__:["UNINITIALIZED","INITIALIZING","INITIALIZED",
"QUITTING"]};ma.UNINITIALIZED=["UNINITIALIZED",0];ma.UNINITIALIZED.__enum__=ma;ma.INITIALIZING=["INITIALIZING",1];ma.INITIALIZING.__enum__=ma;ma.INITIALIZED=["INITIALIZED",2];ma.INITIALIZED.__enum__=ma;ma.QUITTING=["QUITTING",3];ma.QUITTING.__enum__=ma;var i=function(){};e["com.funtomic.GameOps"]=i;i.__name__=["com","funtomic","GameOps"];i.IOErrorHandler=function(a){U.error(["Error caught ",a])};i.getEventsStaticParams=function(a){a={domain:i.domain,uuid:i.userID,platform:i.platform,is_native:i.isNative,
is_synced:i.localStorage.isSynced,install_date:i.localStorage.installDate,original_version:i.localStorage.originalVersion,partial_data:i.localStorage.partialData,is_in_kizi_app:i.isInKiziApp(),events:a};null!=i.localStorage.isConverted&&(a.is_converted=i.localStorage.isConverted);null!=i.mediaSource&&(a.media_source=i.mediaSource);null!=i.campaignName&&(a.campaign_name=i.campaignName);return a};i.reportEvents=function(a){if(i.status!=ma.INITIALIZED)i.queueEvents(a);else{var b=i.getEventsStaticParams(a),
c=i.apiURLPrefix+i.apiEventsLocation,f=new ld(c);f.addParameter("data",JSON.stringify(b));U.verbose(["Posting event to:",c]);f.onData=i.eventReportSucceeded;f.onStatus=function(b){i.onEventReportReturned(b,a)};f.onError=i.IOErrorHandler;f.request(!0);i.sessionEnd()}};i.onEventReportReturned=function(a,b){switch(a){case 500:i.eventReportFailed();break;case 0:i.eventReportTimeout(b)}};i.eventReportTimeout=function(a){U.error(["Report event timeout"]);i.queueEvents(a)};i.eventReportFailed=function(){U.error(["Report event failed"]);
i.localStorage.unsentEvents=[];i.writeLocalStorage()};i.eventReportSucceeded=function(a){U.verbose(["Event Posted "+a]);i.reportUnsentEvents()};i.reportEvent=function(a,b){if(!i.isEventsTraceOnly)switch(i.status[1]){case 1:i.deferredReportEvents.push(function(){i.reportEvent(a,b)});break;default:var c=i.prepareEventObject(a,b);i.reportEvents([c])}};i.prepareEventObject=function(a,b){var c=qa.format(new Date,"%Y-%m-%d %H:%M:%S"),f=w.string(new Date),d=f.indexOf("+"),f=x.substr(f,d,5),c={event_type:a,
date:c+f};null!=i.experimentId&&(c.experiment_id=i.experimentId);null!=i.alternativeId&&(c.alternative_id=i.alternativeId);c.elapsed_play_time=Math.round(i.elapsedPlayTimeAtInit+i.sampleTimer("session")/1E3);c.session_id=i.sessionId;c.game_ops_version=i.gameOpsVersion;c.game_version=i.gameVersion;null!=i.url&&(c.url=i.url);i.firstSession&&(c.first_session=!0);null!=i.fbId&&(c.fb_id=i.fbId);return c=i.extendObject(c,b)};i.queueEvents=function(a){U.verbose(["Queuing events:"+JSON.stringify(a)]);null==
i.localStorage.unsentEvents&&(i.localStorage.unsentEvents=[]);for(var b=0;b<a.length;){var c=a[b];++b;i.localStorage.unsentEvents.push(c)}i.localStorage.unsentEvents.length>i.MAX_SAVED_UNSENT_EVENTS&&(i.localStorage.unsentEvents=[],i.localStorage.partialData=!0);i.writeLocalStorage();U.verbose(["There are now "+w.string(i.localStorage.unsentEvents.length)+" unsent events."])};i.reportUnsentEvents=function(){null!=i.localStorage.unsentEvents&&0<i.localStorage.unsentEvents.length&&(U.verbose(["reporting unsent events",
i.localStorage.unsentEvents.length]),i.reportEvents(i.localStorage.unsentEvents),i.localStorage.unsentEvents=[],i.writeLocalStorage())};i.sessionEnd=function(a,b){null==a&&(a=!0);var c=i.sampleTimer("session");if(-1==c)U.error(["sessionEnd was called without a matching sessionStart!"]);else{for(var f=[],d=0,e=i.levelsNumbers;d<e.length;){var g=e[d];++d;-1==f.indexOf(g)&&f.push(g)}f={session_duration:Math.round(c/1E3),levels_numbers:f.toString(),won_percent:0,levels_count:i.levelsNumbers.length,levels_won:i.levelsWon,
sent_by:"application"};null!=b&&(f=i.extendObject(b,f));0<f.levels_count&&(f.won_percent=100*(i.levelsWon/i.levelsNumbers.length));i.updateTotalElapsedTime(c/1E3);c=i.prepareEventObject("session_end",f);a?(U.verbose(["writing session end event to local storage"]),i.storageSet("FuntomicGameOps-SessionEndEvent",c)):i.reportEvents([c])}};i.updateTotalElapsedTime=function(a){i.storageSet("FuntomicGameOps-ElapsedGameTime",i.elapsedPlayTimeAtInit+a)};i.sampleTimer=function(a,b){null==b&&(b=!1);if(null==
J.field(i.timers,a))return-1;var c=J.field(i.timers,a)[1];0!=J.field(i.timers,a)[0]&&(c+=i.getTimestamp()-J.field(i.timers,a)[0]);b&&J.deleteField(i.timers,a);U.verbose(["Timer '"+a+"' sampled. Current elapsed time is "+c]);return c};i.getTimestamp=function(){return(new Date).getTime()};i.extendObject=function(a,b){for(var c=0,f=J.fields(b);c<f.length;){var d=f[c];++c;var e=J.field(b,d);a[null==d?"null":""+d]=e}return a};i.storageSet=function(a,b){return null!=i.gameOpsStorage?J.field(i.gameOpsStorage,
"set")(i.domain+a,b):j._platform.getStorage().set(i.domain+a,b)};i.writeLocalStorage=function(){i.storageSet("FuntomicGameOps",i.localStorage)};i.isInKiziApp=function(){return null!=J.field(window,"jsinterface")};var va=function(){};e["flambe.util.Disposable"]=va;va.__name__=["flambe","util","Disposable"];va.prototype={__class__:va};var y=function(){this._flags=0;this.owner=this.next=null};e["flambe.Component"]=y;y.__name__=["flambe","Component"];y.__interfaces__=[va];y.prototype={onAdded:function(){},
onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:y};var U=function(){};e["com.funtomic.GameOpsLogger"]=U;U.__name__=["com","funtomic","GameOpsLogger"];U.verbose=function(a){U.log(2,a.join(" "))};U.error=function(a){U.log(0,"ERROR - "+a.join(" "));null};U.log=function(a){a<=U.logLevel&&(a=new Date,a.getDay(),a.getMonth(),a.getFullYear(),a.getHours(),a.getMinutes(),
a.getSeconds(),null)};var E=function(){};e["com.funtomic.GameOpsStorage"]=E;E.__name__=["com","funtomic","GameOpsStorage"];E.init=function(){null!=P.resolveClass("flambe.System")&&(E._prefix="flambe:");E._storage=window.localStorage;E._isInitialized=!0};E.validateInitialized=function(){if(!E._isInitialized)throw new o("GameOpsStorage Is Not Initialized!");};E.reportErrorEvent=function(a){3<E._isErrorEventsSent||(E._isErrorEventsSent+=1,i.reportEvent("local_storage_error",a))};E.get_supported=function(){return!0};
E.set=function(a,b){E.validateInitialized();var c;try{var f=new wa;f.useCache=!0;f.useEnumIndex=!1;f.serialize(b);c=f.toString()}catch(d){return d instanceof o&&(d=d.val),console.warn("Storage serialization failed:",d),E.reportErrorEvent({error_message:"Storage serialization failed: "+w.string(d)}),!1}try{E._storage.setItem(E._prefix+a,c)}catch(e){e instanceof o&&(e=e.val);console.warn("localStorage.setItem failed:",e.message);c=-2;f=!0==J.field(window,"isStorageRedirected");try{c=JSON.stringify(window.parent.localStorage).length/
1024}catch(g){g instanceof o&&(g=g.val),c=-1}E.reportErrorEvent({error_message:"localStorage.setItem failed: "+w.string(e.message),local_storage_size:c,is_storage_redirected:f});E.clear();return!1}return!0};E.get=function(a,b){E.validateInitialized();var c=null;try{c=E._storage.getItem(E._prefix+a)}catch(f){f instanceof o&&(f=f.val),console.warn("localStorage.getItem failed:",f.message),E.reportErrorEvent({error_message:"localStorage.getItem failed: "+w.string(f.message)})}if(null!=c)try{return aa.run(c)}catch(d){d instanceof
o&&(d=d.val),console.warn("Storage unserialization failed:",d),E.reportErrorEvent({error_message:"Storage unserialization failed: "+w.string(d)})}return b};E.remove=function(a){E.validateInitialized();try{E._storage.removeItem(E._prefix+a)}catch(b){b instanceof o&&(b=b.val),console.warn("localStorage.removeItem failed:",b.message),E.reportErrorEvent({error_message:"localStorage.removeItem failed: "+w.string(b.message)})}};E.clear=function(){E.validateInitialized();try{E._storage.clear()}catch(a){a instanceof
o&&(a=a.val),console.warn("localStorage.clear failed:",a.message),E.reportErrorEvent({error_message:"localStorage.clear failed: "+w.string(a.message)})}};var l=function(a,b,c,f,d){null==d&&(d=!1);this.prepend=d;this.count=b;this.z=f;this.y=c;this.endX=a-1+b;this.startX=a;null==l.rowLayoutVec&&(l.rowLayoutVec=[]);l.rowLayoutVec.push(this)};e["farmgame.BoardLayoutRow"]=l;l.__name__=["farmgame","BoardLayoutRow"];l.prototype={__class__:l};var m=function(){};e["farmgame.BoardManager"]=m;m.__name__=["farmgame",
"BoardManager"];m.resetBoard=function(){for(var a=n.allTileArray.length;0<a--;)n.allTileArray[a].remove();m.createBoard(k.currentLevel)};m.createBoard=function(a){k.currentLevel=a;fa.initLayoutScheme(a);m.selectedTile=null;k.gameState=k.STATE_PLAYING;m.tileCountArray=[];m.tileCountArray=fa.fillTileCountArray(a);m.tileContainerArr=[];for(var a=l.rowLayoutVec,b=a.length;0<b--;)for(var c=a[b],f=Math.round(c.count);0<f--;){var d=new n(c.startX+f,c.y,c.z,c.prepend);m.assignFace(d)}m.solveAndRehash();m.boardAnimationInitialized=
!1;t.CRAZYMODE&&k.firstBoard?m.initialBoardAnimation():(m.secondaryBoardAnimation(),N.myRef.makeUIVisible());k.firstBoard=!1;n.manageAllShadows();null};m.secondaryBoardAnimation=function(){for(var a=n.allTileArray.length;0<a--;){var b=[n.allTileArray[a]];b[0].parentSprite.setAlpha(0);q.delayedCall(0.06+0.02*b[0].boardXCoord,function(a){return function(){a[0].parentSprite.alpha.animate(0,1,0.05)}}(b))}};m.initialBoardAnimation=function(){if(t.WebAudioSupported)ba.soundFlag&&A.play("SOUNDS/GAME_INTRO"),
m.animatePieces();else if(ba.soundFlag){A.play("SOUNDS/GAME_INTRO");for(var a=n.allTileArray.length;0<a--;)n.allTileArray[a].parentSprite.set_visible(!1),q.delayedCall(2,m.startBoardAnimAnyway)}else m.animatePieces()};m.animatePieces=function(){for(var a=n.allTileArray.length;0<a--;){var b=n.allTileArray[a];b.parentSprite.alpha.set__(0);b.parentSprite.set_visible(!0)}q.delayedCall(0.05,m.animatePiecesStep2)};m.animatePiecesStep2=function(){for(var a=n.allTileArray.length,b=0;0<a--;){var c=[n.allTileArray[a]],
f=0.03+0.11*(1+c[0].boardZCoord)+0.07*(6-Math.abs(c[0].boardXCoord-6));f>b&&(b=f);q.delayedCall(f,function(a){return function(){a[0].parentSprite.alpha.animateTo(1,0.33)}}(c))}q.delayedCall(b-0.25,(Tf=N.myRef,Q(Tf,Tf.makeUIVisible)))};m.startBoardAnimAnyway=function(){!1==m.boardAnimationInitialized&&m.soundInitiatedAnimation()};m.soundInitiatedAnimation=function(){m.boardAnimationInitialized||(m.boardAnimationInitialized=!0,m.animatePieces())};m.assignFace=function(a){var b=0,c=!1;do{var c=!1,f=
Math.floor(Math.random()*m.tileCountArray.length);0<m.tileCountArray[f]&&(c=!0,m.tileCountArray[f]--,b=f)}while(!1==c);a.assignFaceIdx(b,m.interMatchedType[b],m.tileNamesArray[b])};m.isValidSelection=function(a){for(var b=n.allTileArray,c=a.boardZCoord+1,f=b.length;0<f--;){var d=b[f];if(d!=a&&d.boardZCoord==c&&1>Math.abs(d.boardXCoord-a.boardXCoord)&&1>Math.abs(d.boardYCoord-a.boardYCoord))return!1}f=c=!1;for(d=b.length;0<d--;){var e=b[d];e!=a&&e.boardZCoord==a.boardZCoord&&1>Math.abs(e.boardYCoord-
a.boardYCoord)&&(1==e.boardXCoord-a.boardXCoord&&(f=!0),-1==e.boardXCoord-a.boardXCoord&&(c=!0))}return!0==c&&!0==f?!1:!0};m.checkForPairing=function(a,b){if(a.retFaceIdx==b.retFaceIdx||a.interMatchedType==b.interMatchedType&&0<=a.interMatchedType)return m.matchTiles(a,b),!0;return!1};m.checkForPairingTest=function(a,b){if(a.retFaceIdx==b.retFaceIdx||a.interMatchedType==b.interMatchedType&&0<=a.interMatchedType)return m.matchTilesTest(a,b),!0;return!1};m.checkForPairingTest2=function(a,b){return a.retFaceIdx==
b.retFaceIdx||a.interMatchedType==b.interMatchedType&&0<=a.interMatchedType?!0:!1};m.matchTilesTest=function(a,b){a.testPaired=b.testPaired=!0;x.remove(n.allTileArray,a);x.remove(n.allTileArray,b);m.tileContainerArr.push(a);m.tileContainerArr.push(b)};m.matchTiles=function(a,b){a.matched();b.matched();m.selectedTile=null};m.autoPair=function(){for(var a=n.allTileArray,b=a.length,c=[];0<b--;){var f=a[b];m.isValidSelection(f)&&!1==f.testPaired&&c.push(f)}for(b=c.length;0<b--;){a=c[b];for(f=c.length;0<
f--;)if(!(b<=f)&&m.checkForPairingTest(a,c[f]))return!0}return!1};m.checkIfGameOver=function(){!(0>=n.allTileArray.length&&k.gameState==k.STATE_PLAYING)&&!1==m.autoPairCheck()&&k.gameState==k.STATE_PLAYING&&(k.gameState=k.STATE_DONE)};m.autoPairCheck=function(){for(var a=n.allTileArray,b=a.length,c=[];0<b--;){var f=a[b];m.isValidSelection(f)&&!1==f.testPaired&&c.push(f)}for(b=c.length;0<b--;){a=c[b];a.testPaired=!1;for(f=c.length;0<f--;)if(!(b<=f)&&m.checkForPairingTest2(a,c[f]))return!0}return!1};
m.solveAndRehash=function(){var a=!1,b=n.allTileArray.length;do{m.rehash();a=25;do{do;while(m.autoPair());m.rehash();a--}while(m.countPaired()<b&&0<a);if(0>=a){a=!1;n.allTileArray=n.allTileArray.concat(m.tileContainerArr);m.tileContainerArr=[];for(var c=n.allTileArray.length;0<c--;)n.allTileArray[c].testPaired=!1}else a=!0}while(!1==a);n.allTileArray=n.allTileArray.concat(m.tileContainerArr);m.tileContainerArr=[];for(b=n.allTileArray.length;0<b--;)n.allTileArray[b].testPaired=!1};m.rehash=function(){for(var a=
5*n.allTileArray.length,b=n.allTileArray.length;0<a--;){var c=null,f=null;do c=n.allTileArray[Math.floor(b*Math.random())];while(null==c);do f=n.allTileArray[Math.floor(b*Math.random())];while(null==f||f==c);c.removeFace();f.removeFace();var d=c.retFaceIdx,e=c.interMatchedType,g=c.graphicsName;c.assignFaceIdx(f.retFaceIdx,f.interMatchedType,f.graphicsName);f.assignFaceIdx(d,e,g)}};m.rehashThenSolveAndRehash=function(){m.deselect();m.rehash();m.solveAndRehash();for(var a=n.allTileArray.length;0<a--;){var b=
[n.allTileArray[a]];b[0].parentSprite.setAlpha(0);q.delayedCall(0.06+0.02*b[0].boardXCoord,function(a){return function(){a[0].parentSprite.alpha.animate(0,1,0.05)}}(b))}};m.deselect=function(){for(var a=n.allTileArray.length;0<a--;)n.allTileArray[a].deselect(),n.allTileArray[a].removeHint()};m.displayMatches=function(){for(var a=n.allTileArray,b=a.length,c=[];0<b--;){var f=a[b];m.isValidSelection(f)&&!1==f.testPaired&&c.push(f)}b=c.length;for(a=0;0<b--;)for(var f=c[b],d=c.length;0<d--;)b<=d||m.checkForPairingTestWithoutRemoval(f,
c[d])&&a++;return a};m.displayHint=function(){for(var a=n.allTileArray,b=a.length,c=[];0<b--;){var f=a[b];m.isValidSelection(f)&&!1==f.testPaired&&c.push(f);if(!0==f.hintedState)return}for(b=c.length;0<b--;)for(var a=c[b],d=c.length;0<d--;)if(!(b<=d)&&(f=c[d],m.checkForPairingTestWithoutRemoval(a,f))){for(b=c.length;0<b--;)c[b].deselect();A.play("SOUNDS/SHUFFLE_NOTIFICATION");a.markForHint();f.markForHint();null!=N.myRef&&N.myRef.hintActivated();return}};m.selectOtherHinted=function(a){for(var b=
n.allTileArray,c=b.length;0<c--;)if(b[c]!=a&&(b[c].retFaceIdx==a.retFaceIdx||b[c].interMatchedType==a.interMatchedType&&0<=a.interMatchedType)&&!1==b[c].wasHinted&&null,b[c].wasHinted&&b[c]!=a&&(b[c].retFaceIdx==a.retFaceIdx||b[c].interMatchedType==a.interMatchedType&&0<=a.interMatchedType)){m.selectedTile=b[c];break}else b[c]!=a&&b[c].deselect()};m.hintedOnField=function(){for(var a=n.allTileArray.length;0<a--;)if(n.allTileArray[a].hintedState)return!0;return!1};m.removeHint=function(){for(var a=
n.allTileArray.length;0<a--;)n.allTileArray[a].removeHint()};m.availableTileCount=function(){for(var a=0,b=n.allTileArray.length;0<b--;)!1==n.allTileArray[b].removalFlag&&a++;return a};m.undoMove=function(){if(null!=n.lastRemovedPiecesStack){var a=n.lastRemovedPiecesStack.pop(),b=n.lastRemovedPiecesStack.pop();if(!(null==a||null==b)){A.play("SOUNDS/UNDO");var c=new n(a.boardXCoord,a.boardYCoord,a.boardZCoord,a.prepend);c.assignFaceIdx(a.retFaceIdx,a.interMatchedType,a.graphicsName);a=new n(b.boardXCoord,
b.boardYCoord,b.boardZCoord,b.prepend);a.assignFaceIdx(b.retFaceIdx,b.interMatchedType,b.graphicsName);c.parentSprite.setScale(0);a.parentSprite.setScale(0);c.parentSprite.scaleX.animateTo(1,0.33,M.backOut);a.parentSprite.scaleX.animateTo(1,0.33,M.backOut);c.parentSprite.scaleY.animateTo(1,0.33,M.backOut);a.parentSprite.scaleY.animateTo(1,0.33,M.backOut);m.placeAllTilesOnCorrectLayers();n.manageAllShadows();m.removeHint()}}};m.placeAllTilesOnCorrectLayers=function(){var a=0,b=-2,c=20,f=n.allTileArray.length;
do{var d=m.getTileByBoardCoord(c,b,a);null!=d&&(d.owner.parent.addChild(d.owner),f--,null);b+=0.5;20<b&&(b=-2,c-=0.5,-5>c&&(c=20,a++))}while(0<f&&8>a)};m.getTileByBoardCoord=function(a,b,c){for(var f=n.allTileArray.length;0<f--;)if(a==n.allTileArray[f].boardXCoord&&b==n.allTileArray[f].boardYCoord&&c==n.allTileArray[f].boardZCoord)return n.allTileArray[f];return null};m.checkForPairingTestWithoutRemoval=function(a,b){return a.retFaceIdx==b.retFaceIdx||a.interMatchedType==b.interMatchedType&&0<=a.interMatchedType?
!0:!1};m.countPaired=function(){return m.tileContainerArr.length};var C=function(a,b,c){y.call(this);this.owner=new z;a.addChild(this.owner);this.container=a;this.imgNormal=new T(k.pack.getTexture(b));q.attachToNewEntity(this.imgNormal,this.owner);this.imgOver=new T(k.pack.getTexture(c));q.attachToNewEntity(this.imgOver,this.owner);this.imgOver.set_visible(!1);this.imgNormal.get_pointerIn().connect(Q(this,this.onMouseOver));this.imgOver.get_pointerOut().connect(Q(this,this.onMouseOut));this.imgNormal.get_pointerDown().connect(Q(this,
this.onClick));this.imgOver.get_pointerDown().connect(Q(this,this.onClick))};e["farmgame.ButtonWithOverState"]=C;C.__name__=["farmgame","ButtonWithOverState"];C.__super__=y;C.prototype=s(y.prototype,{get_name:function(){return"ButtonWithOverState_8"},onClick:function(){A.play("SOUNDS/mouseclick")},onMouseOut:function(){this.imgOver.set_visible(!1);this.imgNormal.set_visible(!0);j._platform.getMouse().set_cursor(na.Default)},onMouseOver:function(){this.imgOver.set_visible(!0);this.imgNormal.set_visible(!1);
j._platform.getMouse().set_cursor(na.Button)},setXY:function(a,b){this.imgOver.setXY(a,b);this.imgNormal.setXY(a,b)},setVisible:function(){this.container.addChild(this.owner)},setInvisible:function(){null!=this.owner&&null!=this.owner.parent&&this.owner.parent.removeChild(this.owner)},centerAnchor:function(){this.imgOver.centerAnchor();this.imgNormal.centerAnchor()},setScale:function(a){this.imgOver.setScale(a);this.imgNormal.setScale(a)},__class__:C});var Ta=function(){};e["farmgame.FadedText"]=
Ta;Ta.__name__=["farmgame","FadedText"];Ta.clearAll=function(){if(null!=Ta.container)for(var a=Ta.container.length;0<a--;)Ta.container[a].remove()};Ta.__super__=y;Ta.prototype=s(y.prototype,{get_name:function(){return"FadedText_18"},remove:function(){x.remove(Ta.container,this);this.owner.dispose()},__class__:Ta});var t=function(){};e["farmgame.GameConsts"]=t;t.__name__=["farmgame","GameConsts"];var k=function(a){k.ctx=this;null==a._compMap.Director_2&&a.add((new nc).setSize(t.WIDTH,t.HEIGHT));this._viewport=
a};e["farmgame.GameContext"]=k;k.__name__=["farmgame","GameContext"];k.prototype={unwindToScene:function(a,b){this._viewport._compMap.Director_2.unwindToScene(a,b)},__class__:k};var v=function(){};e["farmgame.Language"]=v;v.__name__=["farmgame","Language"];v.initLanguage=function(){var a=j._platform.getExternal().call("location.href.toString").split("lang=")[1];null==a&&(a="en");var a=a.toUpperCase(),b=p.parse(k.pack.getFile("language.xml").toString()),b=new Jb(b.firstElement());v.LanguageAbbrevations=
[];v.PLAY_SHORT=[];v.MIX=[];v.HINT=[];v.UNDO=[];v.NO_MORE_MOVES=[];v.PLEASE_PRESS_SHUFFLE_BUTTON_TO_CONTINUE=[];v.YOU_DID_IT=[];v.YOU_FINISHED_THE_GAME=[];v.PLAY_AGAIN=[];v.PLAY=[];for(b=b.nodes.resolve("language").iterator();null!=b.head;){var c;b.val=b.head[0];b.head=b.head[1];c=b.val;v.LanguageAbbrevations.push(c.att.resolve("name").toString());v.PLAY_SHORT.push(c.node.resolve("play").get_innerData().toString());v.MIX.push(c.node.resolve("mix").get_innerData().toString());v.HINT.push(c.node.resolve("hint").get_innerData().toString());
v.UNDO.push(c.node.resolve("undo").get_innerData().toString());v.NO_MORE_MOVES.push(c.node.resolve("no_more_moves").get_innerData().toString());v.PLEASE_PRESS_SHUFFLE_BUTTON_TO_CONTINUE.push(c.node.resolve("please_press_shuffle_button_to_continue").get_innerData().toString());v.YOU_DID_IT.push(c.node.resolve("you_did_it").get_innerData().toString());v.YOU_FINISHED_THE_GAME.push(c.node.resolve("you_finished_the_game").get_innerData().toString());v.PLAY_AGAIN.push(c.node.resolve("play_again").get_innerData().toString());
v.PLAY.push(c.node.resolve("play").get_innerData().toString())}v.langIdx=v.LanguageAbbrevations.indexOf(a.toLowerCase());null};var fa=function(){};e["farmgame.Layout"]=fa;fa.__name__=["farmgame","Layout"];fa.initLayoutScheme=function(a){l.rowLayoutVec=[];a==t.LEVEL_1?fa.initLayout1():a==t.LEVEL_2?fa.initLayout2():a==t.LEVEL_3&&fa.initLayout3();l.rowLayoutVec.reverse()};fa.initLayout3=function(){new l(1,12,0,0);new l(1,12,1,0);new l(0,14,2,0);new l(0,14,3,0);new l(0,14,4,0);new l(0,14,5,0);new l(1,
12,6,0);new l(1,12,7,0);new l(1.5,11,0.5,1);new l(1.5,11,1.5,1);new l(1.5,11,2.5,1);new l(1.5,11,3.5,1);new l(1.5,11,4.5,1);new l(1.5,11,5.5,1);new l(1.5,11,6.5,1);new l(2.5,9,1.5,2);new l(2.5,9,2.5,2);new l(2.5,9,3.5,2);new l(2.5,9,4.5,2);new l(2.5,9,5.5,2);new l(3,8,2,3);new l(3,8,3,3);new l(3,8,4,3);new l(3,8,5,3);new l(3.5,7,2.5,4);new l(3.5,7,3.5,4);new l(3.5,7,4.5,4);new l(4.5,5,3.5,5);new l(5.5,3,3.5,6);new l(6.5,1,3.5,7)};fa.initLayout1=function(){new l(13,2,3.5,0);new l(1,12,0,0);new l(3,
8,1,0);new l(2,10,2,0);new l(1,12,3,0);new l(1,12,4,0);new l(2,10,5,0);new l(3,8,6,0);new l(1,12,7,0);new l(4,6,1,1);new l(4,6,2,1);new l(4,6,3,1);new l(4,6,4,1);new l(4,6,5,1);new l(4,6,6,1);new l(5,4,2,2);new l(5,4,3,2);new l(5,4,4,2);new l(5,4,5,2);new l(6,2,3,3);new l(6,2,4,3);new l(6.5,1,3.5,4);new l(0,1,3.5,0)};fa.initLayout2=function(){new l(1,3,0,0);new l(1,3,0,1);new l(1,3,0,2);new l(1,1,0,3);new l(9,3,0,0);new l(9,3,0,1);new l(9,3,0,2);new l(11,1,0,3);new l(1,1,1,0);new l(1,1,1,1);new l(1,
1,1,2);new l(3,7,1,0);new l(3,7,1,1);new l(3,2,1,2);new l(6,1,1,2);new l(8,2,1,2);new l(11,1,1,0);new l(11,1,1,1);new l(11,1,1,2);new l(1,4,2,0);new l(1,4,2,1);new l(1,3,2,2);new l(3,1,2,3);new l(8,4,2,0);new l(8,4,2,1);new l(9,3,2,2);new l(9,1,2,3);new l(4,1,3,0);new l(4,1,3,1);new l(4,1,3,2);new l(8,1,3,0);new l(8,1,3,1);new l(8,1,3,2);new l(1,4,4,0);new l(1,4,4,1);new l(1,3,4,2);new l(1,1,4,3);new l(8,4,4,0);new l(8,4,4,1);new l(9,3,4,2);new l(11,1,4,3);new l(1,1,5,0);new l(1,1,5,1);new l(1,1,
5,2);new l(3,7,5,0);new l(3,7,5,1);new l(3,2,5,2);new l(6,1,5,2);new l(8,2,5,2);new l(11,1,5,0);new l(11,1,5,1);new l(11,1,5,2);new l(1,3,6,0);new l(1,3,6,1);new l(1,3,6,2);new l(3,1,6,3);new l(9,3,6,0);new l(9,3,6,1);new l(9,3,6,2);new l(9,1,6,3)};fa.fillTileCountArray=function(a){var b=[];a==t.LEVEL_1||a==t.LEVEL_2?b=[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1]:a==t.LEVEL_3&&(b=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,2,2,2,2,
2,2,2,2]);return b};fa.levelSpecificPixelsX=function(){return k.currentLevel==t.LEVEL_2?1:k.currentLevel==t.LEVEL_3?0.5:0};fa.levelSpecificPixelsY=function(){return k.currentLevel==t.LEVEL_2?0.75:0};var h=function(){};e["farmgame.Main"]=h;h.__name__=["farmgame","Main"];h.main=function(){j.init();B.SHOULD_HIDE_MOBILE_BROWSER=!1;h.layerBackground=new z;h.layerGame=new z;h.layerRotate=new z;h.layerPrompts=new z;h.layerPreBg=new z;j.root.addChild(h.layerPreBg);j.root.addChild(h.layerBackground);j.root.addChild(h.layerGame);
j.root.addChild(h.layerPrompts);j.root.addChild(h.layerRotate);t.MOBILE_BROWSER=ze.isMobileBrowser(j._platform.getExternal().call("getUserAgent"))?!0:!1;j._platform.getExternal().call("addClickListener");h.determineScreenSizeMode();h.borderN=new X(16711680,0,0);h.borderE=new X(16711680,0,0);h.borderS=new X(16711680,0,0);h.borderW=new X(16711680,0,0);h.imageN=null;h.imageE=null;h.imageS=null;h.imageW=null;h.borderN.set_visible(h.borderE.set_visible(h.borderS.set_visible(h.borderW.set_visible(!1))));
h.onConfigLoaded(!1);j._platform.getStage().resize.connect(h.onResize,!0)};h.determineScreenSizeMode=function(){!1==j._platform.getStage().fullscreen.get__()&&1<j._platform.getExternal().call("eligibleForResize")&&t.MOBILE_BROWSER&&(t.SMALL_DEVICE_MODE=!0,null)};h.addBackgroundSprite=function(){null!=k.pack&&(null==h.backgroundSprite&&(h.backgroundSprite=new T(k.pack.getTexture("game_bg_hd")),q.attachToNewEntity(h.backgroundSprite,h.layerBackground,!1),h.bgWhiteFill=new X(15921906,j._platform.getStage().get_width(),
j._platform.getStage().get_height()),q.attachToNewEntity(h.bgWhiteFill,h.layerBackground)),h.backgroundSprite.centerAnchor(),h.backgroundSprite.scaleX.set__(j._platform.getStage().get_width()/h.backgroundSprite.getNaturalWidth()),h.backgroundSprite.scaleY.set__(j._platform.getStage().get_height()/h.backgroundSprite.getNaturalHeight()),h.backgroundSprite.setScale(Math.max(h.backgroundSprite.scaleX._value,h.backgroundSprite.scaleY._value)),h.backgroundSprite.setXY(j._platform.getStage().get_width()/
2,j._platform.getStage().get_height()/2),h.bgWhiteFill.centerAnchor(),h.bgWhiteFill.scaleX.set__(j._platform.getStage().get_width()/h.bgWhiteFill.getNaturalWidth()),h.bgWhiteFill.scaleY.set__(j._platform.getStage().get_height()/h.bgWhiteFill.getNaturalHeight()),h.bgWhiteFill.setScale(Math.max(h.bgWhiteFill.scaleX._value,h.bgWhiteFill.scaleY._value)),h.bgWhiteFill.setXY(j._platform.getStage().get_width()/2,j._platform.getStage().get_height()/2))};h.addRotateImg=function(){h.rotateImg=new T(k.pack.getTexture("TURN"));
q.attachToNewEntity(h.rotateImg,h.layerRotate,!1);h.rotateImg.centerAnchor();null!=j._platform.getStage()&&(h.rotateImg.setXY(j._platform.getStage().get_width()/2,j._platform.getStage().get_height()/2),h.rotateImg.scaleX.set__(j._platform.getStage().get_width()/h.rotateImg.getNaturalWidth()),h.rotateImg.scaleY.set__(j._platform.getStage().get_height()/h.rotateImg.getNaturalHeight()),h.rotateImg.set_visible(!1),h.rotateImg.setScale(Math.max(h.rotateImg.scaleX._value,h.rotateImg.scaleY._value)))};h.onResize=
function(){h.resizeCalled=!0;h.layoutBorders()};h.onConfigLoaded=function(){var a=ja.fromAssets("bootstrap"),a=j._platform.loadAssetPack(a);h.viewport=(new z).add(new G);h.mainSprite=new G;(new z).add(h.mainSprite);h.layerGame.addChild(h.mainSprite.owner);h.mainSprite.owner.addChild(h.viewport);h.layoutBorders();a.get(h.onBootstrapFinish)};h.resizeHtml=function(){null};h.layoutBorders=function(){h.determineScreenSizeMode();var a=j._platform.getStage().get_width(),b=j._platform.getStage().get_height();
h.theWidth=j._platform.getExternal().call("getWidth");h.theHeight=j._platform.getExternal().call("getHeight");if(b>a){var c=b,b=a,a=c;h.mainSprite.setRotation(90).setXY(b,0);h.isRotated=!0}else h.mainSprite.setRotation(0).setXY(0,0),h.isRotated=!1,b=h.theHeight*a/h.theWidth;if((a!=t.WIDTH||b!=t.HEIGHT)&&null==h.borderN.owner)h.layerPreBg.addChild((new z).add(h.borderN)),h.layerPreBg.addChild((new z).add(h.borderE)),h.layerPreBg.addChild((new z).add(h.borderS)),h.layerPreBg.addChild((new z).add(h.borderW));
var f=a/t.WIDTH,d=b/t.HEIGHT,c=Math.min(f,d);t.scaleX=f;t.scaleY=d;t.scale=c;f=h.viewport._compMap.Sprite_0;f.x.set__(0.5*a-0.5*c*t.WIDTH);f.y.set__(0.5*b-0.5*c*t.HEIGHT);f.setScale(c);k.viewPortSprite=f;h.borderN.setXY(0,0);h.borderN.width.set__(a);h.borderN.height.set__(f.y._value);h.borderN.disablePointer();h.borderE.setXY(a-f.x._value-1,f.y._value);h.borderE.width.set__(1+f.x._value);h.borderE.height.set__(b-2*f.y._value);h.borderE.disablePointer();h.borderS.setXY(0,b-f.y._value);h.borderS.width.set__(a);
h.borderS.height.set__(f.y._value);h.borderS.disablePointer();h.borderW.setXY(0,f.y._value);h.borderW.width.set__(1+f.x._value);h.borderW.height.set__(b-2*f.y._value);h.borderW.disablePointer();if(null!=N.myRef)N.myRef.onScreenResize();null!=h.rotateImg&&(h.theHeight>h.theWidth?(h.rotateImg.set_visible(!0),h.rotateImg.centerAnchor(),h.rotateImg.setXY(j._platform.getStage().get_width()/2,j._platform.getStage().get_height()/2),h.rotateImg.scaleX.set__(j._platform.getStage().get_width()/h.rotateImg.getNaturalWidth()),
h.rotateImg.scaleY.set__(j._platform.getStage().get_height()/h.rotateImg.getNaturalHeight()),h.rotateImg.setScale(Math.max(h.rotateImg.scaleX._value,h.rotateImg.scaleY._value))):h.rotateImg.set_visible(!1));j._platform.getExternal().call("hideIosBar");h.addBackgroundSprite();q.delayedCall(1.5,h.checkIfNeedsToBeResized)};h.checkIfNeedsToBeResized=function(){j._platform.getStage().orientation.get__()==fb.Landscape&&(h.theWidth!=j._platform.getStage().get_width()||h.theHeight!=j._platform.getStage().get_height())&&
j._platform.getStage().requestResize(h.theWidth,h.theHeight)};h.onBootstrapFinish=function(a){var b=new k(h.viewport);k.pack=a;k.preloaderPack=a;h.addBackgroundSprite();h.addRotateImg();j._platform.getStage().resize.connect(h.layoutBorders);q.delayedCall(1,h.layoutBorders);b.unwindToScene(r.create(b))};var I=function(){};e["farmgame.MainScene"]=I;I.__name__=["farmgame","MainScene"];I.create=function(){I.scene=new z;I.scene.add(new oc);k.mainScene=I.scene;t.SMALL_DEVICE_MODE?q.delayedCall(0.1,I.initScene):
I.initScene();return I.scene};I.initScene=function(){I.backgroundSprite=new X(12767468,t.WIDTH,t.HEIGHT);q.attachToNewEntity(I.backgroundSprite,I.scene);I.backgroundSprite.setXY(0,0);I.backgroundSprite.set_visible(!1);n.Initialize();I.createLayers(I.scene);j._platform.getKeyboard().down.connect(I.onKeyDown);j._platform.getKeyboard().up.connect(I.onKeyUp);q.delayedCall(0.05,I.restOfInit)};I.restOfInit=function(){m.createBoard(t.LEVEL_1);N.Initialize(k.layerUI)};I.onKeyUp=function(){};I.onKeyDown=function(a){a.key==
d.H&&!1==sb.gamePaused?m.displayHint():a.key==d.M||a.key==d.S?!1==sb.gamePaused&&null!=N.myRef&&N.myRef.mixButton.doTheMix():a.key==d.U&&m.undoMove()};I.createLayers=function(a){var b=new z,c=new z,f=new z;k.layerTiles=b;k.layerUI=c;t.layerRotate=f;a.addChild(b);a.addChild(c);a.addChild(f);k.layerTiles0Shadow=new z;k.layerTiles0Faces=new z;k.layerTiles1Shadow=new z;k.layerTiles1Faces=new z;k.layerTiles2Shadow=new z;k.layerTiles2Faces=new z;k.layerTiles3Shadow=new z;k.layerTiles3Faces=new z;k.layerTiles4Shadow=
new z;k.layerTiles4Faces=new z;k.layerTiles5Shadow=new z;k.layerTiles5Faces=new z;b.addChild(k.layerTiles0Shadow);b.addChild(k.layerTiles0Faces);b.addChild(k.layerTiles1Shadow);b.addChild(k.layerTiles1Faces);b.addChild(k.layerTiles2Shadow);b.addChild(k.layerTiles2Faces);b.addChild(k.layerTiles3Shadow);b.addChild(k.layerTiles3Faces);b.addChild(k.layerTiles4Shadow);b.addChild(k.layerTiles4Faces);b.addChild(k.layerTiles5Shadow);b.addChild(k.layerTiles5Faces);k.layerTilesFaceArray=[];k.layerTilesFaceArray=
[k.layerTiles0Faces,k.layerTiles1Faces,k.layerTiles2Faces,k.layerTiles3Faces,k.layerTiles4Faces,k.layerTiles5Faces];k.layerTilesShadowArray=[];k.layerTilesShadowArray=[k.layerTiles0Shadow,k.layerTiles1Shadow,k.layerTiles2Shadow,k.layerTiles3Shadow,k.layerTiles4Shadow,k.layerTiles5Shadow]};I.checkForPortrait=function(){};I.reset=function(){Ta.clearAll();q.clearDelayedCalls();m.resetBoard();N.myRef.reset();n.lastRemovedPiecesStack=[]};I.resetWithAnimation=function(){k.firstBoard=!0;I.reset()};var N=
function(a){this.score=0;this.availableSeconds=720;this.availableSecondsDisplay=0;this.justClickedSquidbyte=this.timeCounterStarted=!1;var b=this;y.call(this);N.myRef=this;this.owner=new z;this.owner.add(this);a.addChild(this.owner);this.ownerSprite=new X(16777215,0.1,0.1);this.owner.add(this.ownerSprite);this.ownerSprite.alpha.set__(0);a=new ga(k.pack,"fontbold15/font");k.promptFont15=a;a=new X(10338016,t.WIDTH,20);q.attachToNewEntity(a,this.owner);a.setXY(0,t.HEIGHT-a.getNaturalHeight());a.set_visible(!1);
var c=new T(k.pack.getTexture("ui/fullscreen_under"));c.centerAnchor();q.attachToNewEntity(c,this.owner);c.setXY(t.WIDTH/2,a.y._value+c.getNaturalHeight()-9);c.get_pointerDown().connect(Q(this,this.onFooterClicked));c.get_pointerIn().connect(Q(this,this.onFooterMouseOver));c.get_pointerOut().connect(Q(this,this.onFooterMouseOut));a=new z;this.owner.addChild(a);var c=new T(k.pack.getTexture("ui/display_matches")),f=q.attachToNewEntity(c,a);c.setXY(0.011*t.WIDTH,10);this.displayMatchesTxt=new V(k.promptFont16,
"12");q.attachToNewEntity(this.displayMatchesTxt,f);this.displayMatchesTxt.setXY(60+0.5*this.displayMatchesTxt.getNaturalWidth(),9+0.5*this.displayMatchesTxt.getNaturalHeight());this.displayMatchesTxt.centerAnchor();c=new T(k.pack.getTexture("ui/display_tiles"));f=q.attachToNewEntity(c,a);c.setXY(0.17*t.WIDTH,10);this.displayTilesTxt=new V(k.promptFont16,"");q.attachToNewEntity(this.displayTilesTxt,f);this.displayTilesTxt.centerAnchor();this.displayTilesTxt.set_align(R.Center);this.displayTilesTxt.setXY(70+
0.5*this.displayTilesTxt.getNaturalWidth(),9+0.5*this.displayTilesTxt.getNaturalHeight());c=new pc(a);c.centerAnchor();c.setXY(0.608*t.WIDTH,10+0.5*c.imgNormal.getNaturalHeight());this.mixButton=new qc(a);this.mixButton.centerAnchor();this.mixButton.setXY(0.446*t.WIDTH,10+0.5*this.mixButton.imgNormal.getNaturalHeight());c=new rc(a);c.centerAnchor();c.setXY(0.77*t.WIDTH,10+0.5*c.imgNormal.getNaturalHeight());new ba(a,0.86*t.WIDTH,10);(new sc(a)).setXY(0.928*t.WIDTH,10);this.arrow=new X(0,1,1);this.arrow.centerAnchor();
this.arrow.setXY(this.mixButton.imgNormal.x._value,this.mixButton.imgNormal.y._value+1.25*this.arrow.getNaturalHeight());q.attachToNewEntity(this.arrow,this.owner);this.tweenArrow();q.repeatCall(1.5,Q(this,this.tweenArrow));j._platform.getExternal().bind("onBodyClicked",function(){b.justClickedSquidbyte&&(j._platform.getWeb().openBrowser("https://www.mahjong-game.com"),b.justClickedSquidbyte=!1)});j._platform.getExternal().call("addBindListener");q.delayedCall(3,function(){})};e["farmgame.MainUI"]=N;N.__name__=
["farmgame","MainUI"];N.Initialize=function(a){new N(a)};N.__super__=y;N.prototype=s(y.prototype,{get_name:function(){return"MainUI_6"},tweenArrow:function(){this.arrow.y.animateTo(this.mixButton.imgNormal.y._value+0.78*this.arrow.getNaturalHeight(),0.75,M.backIn);q.delayedCall(0.75,Q(this,this.tweenArrowBack),this.arrow.owner)},tweenArrowBack:function(){this.arrow.y.animateTo(this.mixButton.imgNormal.y._value+1.05*this.arrow.getNaturalHeight(),0.75,M.backOut)},makeUIVisible:function(){this.ownerSprite.alpha.animateTo(1,
0.5)},onUpdate:function(a){this.arrow.set_visible(!1);N.gameOverStarted||0<m.displayMatches()?this.arrow.set_visible(!1):0<m.availableTileCount()&&(N.gameOverStarted=!0,new tc(this.owner));I.checkForPortrait();this.displayMatchesTxt.set_text("x "+m.displayMatches());null!=n.allTileArray&&(this.displayTilesTxt.set_text("x "+n.allTileArray.length),0>=n.allTileArray.length&&this.levelPassed());y.prototype.onUpdate.call(this,a)},levelPassed:function(){!1==N.gameOverStarted&&new uc(this.owner);N.gameOverStarted=
!0},onFooterMouseOut:function(){j._platform.getMouse().set_cursor(na.Default)},onFooterMouseOver:function(){j._platform.getMouse().set_cursor(na.Button)},onFooterClicked:function(){var a=this;this.justClickedSquidbyte=!0;q.delayedCall(2,function(){a.justClickedSquidbyte=!1});j._platform.getExternal().call("openSquidByte")},onScreenResize:function(){},scoreAward:function(){this.score+=Math.round(10*Math.pow(2,A.matchesInRow-1))},hintActivated:function(){for(var a=n.allTileArray.length;0<a--;);},reset:function(){A.matchesInRow=
0;this.availableSeconds=t.LEVEL_TIME[k.currentLevel%t.TOTAL_LEVELS];this.availableSecondsDisplay=t.LEVEL_TIME[k.currentLevel%t.TOTAL_LEVELS];this.score=0;this.timeCounterStarted=!1;N.gameOverStarted=!1},__class__:N});var sb=function(){};e["farmgame.PauseScreen"]=sb;sb.__name__=["farmgame","PauseScreen"];sb.__super__=y;sb.prototype=s(y.prototype,{get_name:function(){return"PauseScreen_14"},onUpdate:function(a){this.ownerSpr.scaleX.set__(j._platform.getStage().get_width()/this.fillSpr.getNaturalWidth());
this.ownerSpr.scaleY.set__(j._platform.getStage().get_height()/this.fillSpr.getNaturalHeight());y.prototype.onUpdate.call(this,a)},__class__:sb});var r=function(){};e["farmgame.PreloaderScene"]=r;r.__name__=["farmgame","PreloaderScene"];r.create=function(a){v.initLanguage();r.ctx=a;r.scene=new z;a=ja.fromAssets("hd_assets");a=j._platform.loadAssetPack(a);r.imgSpr=new T(k.pack.getTexture("squidbyte"));q.attachToNewEntity(r.imgSpr,r.scene);r.imgSpr.setXY(t.WIDTH/2,t.HEIGHT/2);r.imgSpr.centerAnchor();
r.imgSpr.setScale(1);r.imgSpr.disablePointer();r.logo=new T(k.pack.getTexture("logo"));q.attachToNewEntity(r.logo,r.scene);r.logo.centerAnchor();r.logo.disablePointer();r.logo.setXY(t.WIDTH/2,0.45*t.HEIGHT);r.logo.set_visible(!1);q.delayedCall(1,r.tryToStartNextScene);r.playButton=new vc(r.scene);r.playButton.setXY(t.WIDTH/2,0.8*t.HEIGHT);r.playButton.setInvisible();r.playButton.centerAnchor();r.playButton.setScale(1);r.playButton.imgNormal.get_pointerDown().connect(r.onPlayButton);r.playButton.imgOver.get_pointerDown().connect(r.onPlayButton);
var b=new ga(k.pack,"buttonfont/font");k.fontWhite=b;k.displayFontWhite=b;k.displayFontWhite96=b;k.promptFont30=b;k.promptFont36=b;k.fontBold24=b;r.textSprPlayAgain=new V(b,v.PLAY[v.langIdx].toUpperCase());q.attachToNewEntity(r.textSprPlayAgain,r.scene);r.textSprPlayAgain.centerAnchor();r.textSprPlayAgain.setXY(r.playButton.imgNormal.x._value,r.playButton.imgNormal.y._value);r.textSprPlayAgain.setScale(r.playButton.imgNormal.scaleX._value);r.textSprPlayAgain.disablePointer();r.textSprPlayAgain.set_visible(!1);
a.get(function(a){k.pack=a;r.allowNextScreen=!0;A.Init();q.delayedCall(0.5,function(){k.promptFont16=new ga(k.pack,"fontbold16/font")});q.delayedCall(10,function(){k.promptFont48=new ga(k.pack,"fontbold36/font")});q.delayedCall(20,function(){k.promptFont24=new ga(k.pack,"fontbold20/font")})});return r.scene};r.tryToStartNextScene=function(){r.allowNextScreen?q.delayedCall(2,r.startNextScene):q.delayedCall(1,r.tryToStartNextScene)};r.startNextScene=function(){r.imgSpr.alpha.animateTo(0,0.25);h.bgWhiteFill.alpha.animateTo(0,
0.25);r.logo.set_visible(!0);r.logo.alpha.set__(0);r.logo.alpha.animateTo(1,0.25);q.delayedCall(0.25,r.showPlayBut)};r.onPlayButton=function(){r.playButton.onClick(null)};r.showPlayBut=function(){j._platform.getPointer().down.connect(r.onPlayButton);r.playButton.setVisible();r.scene.addChild(r.textSprPlayAgain.owner);r.textSprPlayAgain.set_visible(!0);r.textSprPlayAgain.set_text(v.PLAY_SHORT[v.langIdx].toUpperCase());r.textSprPlayAgain.centerAnchor()};r.actuallyStartNextScene=function(){r.scene.disposeChildren();
r.scene.dispose();r.ctx.unwindToScene(I.create(r.ctx),new wc(1))};var oc=function(){this.counter=0;y.call(this);this.imageFiller=new X(0,j._platform.getStage().get_width(),j._platform.getStage().get_height());q.attachToNewEntity(this.imageFiller,h.layerGame,!0);this.imageFiller.setAlpha(0.62);this.imageFiller.set_visible(!1)};e["farmgame.SceneManager"]=oc;oc.__name__=["farmgame","SceneManager"];oc.__super__=y;oc.prototype=s(y.prototype,{get_name:function(){return"SceneManager_16"},onUpdate:function(a){null!=
h.layerPrompts.firstChild?this.imageFiller.set_visible(!0):this.imageFiller.set_visible(!1);if(0==this.counter++%2&&(this.imageFiller.getNaturalWidth()!=j._platform.getStage().get_width()||this.imageFiller.getNaturalHeight()!=j._platform.getStage().get_height()))this.imageFiller.dispose(),this.imageFiller=new X(0,j._platform.getStage().get_width(),j._platform.getStage().get_height()),this.imageFiller.set_visible(!1),q.attachToNewEntity(this.imageFiller,h.layerGame,!0),this.imageFiller.setAlpha(0.62);
this.theWidth=j._platform.getExternal().call("getWidth");this.theHeight=j._platform.getExternal().call("getHeight");(this.theWidth!=j._platform.getStage().get_width()||this.theHeight!=j._platform.getStage().get_height())&&j._platform.getStage().requestResize(this.theWidth,this.theHeight);this.theWidth>this.theHeight?h.rotateImg.set_visible(!1):(h.rotateImg.set_visible(!0),h.rotateImg.centerAnchor(),h.rotateImg.setXY(0.5*this.theWidth,0.5*this.theHeight),h.rotateImg.scaleX.set__(this.theWidth/h.rotateImg.getNaturalWidth()),
h.rotateImg.scaleY.set__(this.theHeight/h.rotateImg.getNaturalHeight()));y.prototype.onUpdate.call(this,a)},__class__:oc});var xc=function(){y.call(this);this.owner=(new z).add(this);j.root.addChild(this.owner)};e["farmgame.SoundIndexHolder"]=xc;xc.__name__=["farmgame","SoundIndexHolder"];xc.__super__=y;xc.prototype=s(y.prototype,{get_name:function(){return"SoundIndexHolder_15"},onUpdate:function(a){var b=A.allPlaybacks[this.soundIdx][this.counterIdx];!1==b.get_paused()&&0==this.soundIdx&&0<b.get_position()&&
m.soundInitiatedAnimation();y.prototype.onUpdate.call(this,a)},playSoundStarted:function(a){this.playSoundTween=q.delayedCall(a+0.1,Q(this,this.playSoundEnded))},playSoundEnded:function(){null!=this.playSoundTween&&null!=this.playSoundTween.owner&&this.playSoundTween.owner.dispose();var a=A.allPlaybacks[this.soundIdx][this.counterIdx],a=k.pack.getSound(A.allSoundArrayNames[this.soundIdx]).play();a.set_paused(!0);a.volume.set__(0);A.allPlaybacks[this.soundIdx][this.counterIdx]=a;null},__class__:xc});
var A=function(){};e["farmgame.SoundPlayer2"]=A;A.__name__=["farmgame","SoundPlayer2"];A.Init=function(){if(F.get_supported())t.WebAudioSupported=!0;else{A.allPlaybacks=[];A.playbackIndexes=[];for(var a=A.allSoundArrayNames.length;0<a--;){A.playbackIndexes[a]=0;A.allPlaybacks[a]=[];for(var b=A.MAX_CACHED[a];0<b--;){var c=k.pack.getSound(A.allSoundArrayNames[a]).play();c.set_paused(!0);c.volume.set__(0);A.allPlaybacks[a][b]=c;null}}null}};A.play=function(a){F.ctx&&F.ctx.resume();if(!1!=ba.soundFlag)if(F.get_supported())k.pack.getSound(a).play();
else{var a=A.allSoundArrayNames.lastIndexOf(a),b=A.allPlaybacks[a],c=A.playbackIndexes[a]%A.MAX_CACHED[a];A.playbackIndexes[a]++;b[c].set_paused(!1);b[c].volume.set__(1);for(var f=b.length;0<f--;)c!=f&&(b[f].volume.set__(0),b[f].set_paused(!0));f=new xc;f.counterIdx=c;f.soundIdx=a;f.playSoundStarted(b[c].get_sound().get_duration())}};A.playMatchingSound=function(){A.matchesInRow++;5<A.matchesInRow&&(A.matchesInRow=5);A.play("SOUNDS/MATCH");null!=A.matchesInRowTween&&(A.matchesInRowTween.stopAll(),
A.matchesInRowTween.dispose());A.matchesInRowTween=q.delayedCall(3,function(){A.matchesInRow=0})};var n=function(a,b,c,f){this.removalFlag=this.canPlayNoMatchSound=this.selectedState=this.hintedState=this.testPaired=!1;y.call(this);this.prepend=f;null==n.allTileArray&&(n.allTileArray=[]);n.allTileArray.push(this);this.boardZCoord=c;this.boardYCoord=b;this.boardXCoord=a;this.owner=new z;this.owner.add(this);this.tileBaseImg=new T(k.pack.getTexture("tile_blank"));this.tileBaseImgSelected=new T(k.pack.getTexture("tiles/select"));
this.tileBaseImgSelected.centerAnchor();this.tileBaseImgSelected.set_visible(!1);this.tileBaseHinted=new T(k.pack.getTexture("tiles/hint"));this.tileBaseHinted.centerAnchor();this.tileBaseHinted.set_visible(!1);this.tileShadow=new T(k.pack.getTexture("tiles/Shadow"));this.tileShadow.centerAnchor();this.tileShadow.disablePointer();this.tileBaseImg.set_visible(!1);k.layerTilesFaceArray[Math.floor(c)].addChild(this.owner,!f);this.tileBaseImg.centerAnchor();this.tileBaseParent=new z;this.owner.addChild(this.tileBaseParent);
q.attachToNewEntity(this.tileBaseHinted,this.owner);q.attachToNewEntity(this.tileBaseImgSelected,this.owner);q.attachToNewEntity(this.tileShadow,k.layerTilesShadowArray[Math.floor(c)],!f);this.parentSprite=new X(16777215,1,1);this.parentSprite.alpha.set__(1);this.owner.add(this.parentSprite);this.scaleXNew=n.tileWidthMax/this.tileBaseImg.getNaturalWidth();this.scaleYNew=n.tileHeightMax/this.tileBaseImg.getNaturalHeight();a=Math.min(this.scaleXNew,this.scaleYNew);this.parentSprite.setScale(a);this.width=
0.875*a*this.tileBaseImg.getNaturalWidth();this.height=a*this.tileBaseImg.getNaturalHeight();this.placeToBoardCoords();this.parentSprite.get_pointerDown().connect(Q(this,this.switchToSelectedState));this.tileShadowHasRightNeighbourRectangle=new yc(0,0,60,100);this.tileShadow.x.set__(this.parentSprite.x._value);this.tileShadow.y.set__(this.parentSprite.y._value+4);null};e["farmgame.Tile"]=n;n.__name__=["farmgame","Tile"];n.Initialize=function(){n.tileWidthMax=t.WIDTH/11.94;n.tileHeightMax=t.HEIGHT/
7.4};n.manageAllShadows=function(){for(var a=n.allTileArray.length;0<a--;)n.allTileArray[a].manageShadows()};n.__super__=y;n.prototype=s(y.prototype,{get_name:function(){return"Tile_17"},markForHint:function(){this.deselect();this.hintTweenStart()},hintTweenStart:function(){this.tileBaseHinted.set_visible(!0);this.tileBaseHinted.alpha.animate(0,1,0.66);this.hintScr=q.delayedCall(0.66,Q(this,this.unhint),this.owner);this.wasHinted=this.hintedState=!0},removeHint:function(){this.hintedState=this.wasHinted=
!1;null!=this.hintScr&&this.hintScr.dispose();this.tileBaseHinted.set_visible(!1)},unhint:function(){this.tileBaseHinted.alpha.animate(1,0,0.5);this.hintScr=q.delayedCall(0.5,Q(this,this.hintTweenStart),this.owner)},onUpdate:function(a){this.tileShadow.scaleX.set__(this.parentSprite.scaleX._value);this.tileShadow.scaleY.set__(this.parentSprite.scaleY._value);this.tileShadow.alpha.set__(this.parentSprite.alpha._value);y.prototype.onUpdate.call(this,a)},manageShadows:function(){this.tileShadow.set_visible(!0);
var a=!1;if(0==this.boardZCoord)this.tileShadow.set_visible(!1);else for(var b=n.allTileArray.length;0<b--;)n.allTileArray[b]!=this&&(n.allTileArray[b].boardXCoord==this.boardXCoord&&n.allTileArray[b].boardYCoord==this.boardYCoord&&n.allTileArray[b].boardZCoord==this.boardZCoord+1&&this.tileShadow.set_visible(!1),n.allTileArray[b].boardYCoord==this.boardYCoord&&n.allTileArray[b].boardZCoord==this.boardZCoord&&n.allTileArray[b].boardXCoord==this.boardXCoord+1&&(a=!0));a||(this.tileShadow.scissor=null);
null},switchToSelectedState:function(){var a=this;this.removalFlag||(m.isValidSelection(this)?(this.hintedState?m.selectOtherHinted(this):m.hintedOnField()&&!1==this.hintedState&&m.removeHint(),m.selectedTile!=this&&(!1==(0!=(this.tileBaseImgSelected._flags&2))||!1==(0!=(this.tileBaseHinted._flags&2)))?null==m.selectedTile?(this.tileBaseImgSelected.set_visible(!0),ba.soundFlag&&A.play("SOUNDS/CLICK_TILE"),this.selectedState=!0,m.selectedTile=this):!1==m.checkForPairing(this,m.selectedTile)?(m.selectedTile.deselect(),
this.switchToSelectedState()):(q.delayedCall(1,m.checkIfGameOver),ba.soundFlag&&A.playMatchingSound(),ba.soundFlag&&A.play("SOUNDS/CLICK_TILE"),m.selectedTile=null,N.myRef.scoreAward(),n.manageAllShadows()):this.deselect()):(this.deselectedTween(),!1==this.canPlayNoMatchSound&&(ba.soundFlag&&A.play("SOUNDS/NO_MATCH"),q.delayedCall(0.25,function(){a.canPlayNoMatchSound=!1}),this.canPlayNoMatchSound=!0),m.hintedOnField()&&m.removeHint(),A.matchesInRow=0))},deselectedTween:function(){if(t.CRAZYMODE){this.parentSprite.x.set__(this.defaultParentSpriteX);
var a=this.parentSprite.x;a.set__(a._value-3);this.parentSprite.x.animateBy(3,0.25,M.bounceOut)}},deselect:function(){this.selectedState=!1;this.tileBaseImgSelected.set_visible(!1);m.selectedTile=null},placeToBoardCoords:function(){n.extraXSpace=I.backgroundSprite.getNaturalWidth()-15*this.width;n.extraXSpace*=0.5;this.parentSprite.x.set__(0.72*(this.width-3)*(4+this.boardXCoord+fa.levelSpecificPixelsX())+5*this.boardZCoord+n.extraXSpace);this.parentSprite.y.set__(-8+0.75*(3+this.height)*(1.65+this.boardYCoord+
fa.levelSpecificPixelsY())-5*this.boardZCoord);this.defaultParentSpriteX=this.parentSprite.x._value},assignFaceIdx:function(a,b,c){this.graphicsName=c;this.interMatchedType=b;this.retFaceIdx=a;this.faceImg=new T(k.pack.getTexture("tiles/"+c));this.faceImgEnt=q.attachToNewEntity(this.faceImg,this.tileBaseParent);this.faceImg.centerAnchor()},remove:function(){-1<n.allTileArray.indexOf(this)&&x.remove(n.allTileArray,this);null!=this.owner&&this.owner.dispose();null!=this.tileShadow.owner&&this.tileShadow.owner.dispose()},
removeFace:function(){null!=this.faceImg&&null!=this.faceImg.owner&&this.faceImg.owner.dispose()},matched:function(){if(t.CRAZYMODE){this.tileBaseImgSelected.set_visible(!1);this.parentSprite.scaleX.animateTo(0,0.33,M.backIn);this.parentSprite.scaleY.animateTo(0,0.33,M.backIn);this.tileShadow.scaleX.animateTo(0,0.33,M.backIn);this.tileShadow.scaleY.animateTo(0,0.33,M.backIn);q.delayedCall(0.75,Q(this,this.remove),this.owner);x.remove(n.allTileArray,this);this.removalFlag=!0;this.parentSprite.disablePointer();
null==n.lastRemovedPiecesStack&&(n.lastRemovedPiecesStack=[]);n.lastRemovedPiecesStack.push(this);for(var a=n.lastRemovedPiecesStack.length;0<a--;)null}else this.remove()},__class__:n});var ze=function(){};e["farmgame.Util"]=ze;ze.__name__=["farmgame","Util"];ze.isMobileBrowser=function(a){return 0<=a.lastIndexOf("Mobile")||0<=a.lastIndexOf("Android")?!0:!1};var pc=function(a){C.call(this,a,"ui/button","ui/button_over");a=new z;this.owner.addChild(a);this.textSpr=new V(k.promptFont15,v.HINT[v.langIdx].toUpperCase());
a.add(this.textSpr);this.textSpr.disablePointer();this.textSpr.set_align(R.Center);this.textSprSmall=new V(k.promptFont16,"");a=new z;this.owner.addChild(a);a.add(this.textSprSmall);this.textSprSmall.set_align(R.Center);this.textSprSmall.centerAnchor();this.textSprSmall.disablePointer();this.textSprSmall.setScale(0.8)};e["farmgame.buttons.HintButton"]=pc;pc.__name__=["farmgame","buttons","HintButton"];pc.__super__=C;pc.prototype=s(C.prototype,{setXY:function(a,b){this.textSpr.setXY(a,b-0.5*this.textSpr.getNaturalHeight()-
2);this.textSprSmall.setXY(a+25,b-1);C.prototype.setXY.call(this,a,b)},onClick:function(){m.displayHint()},__class__:pc});var qc=function(a){this.mixInProgress=!1;C.call(this,a,"ui/button","ui/button_over");a=new z;this.owner.addChild(a);this.textSpr=new V(k.promptFont15,v.MIX[v.langIdx].toUpperCase());a.add(this.textSpr);this.textSpr.set_align(R.Center);this.textSpr.disablePointer();this.textSprSmall=new V(k.promptFont16,"");a=new z;this.owner.addChild(a);a.add(this.textSprSmall);this.textSprSmall.centerAnchor();
this.textSprSmall.set_align(R.Center);this.textSprSmall.disablePointer();this.textSprSmall.setScale(0.8)};e["farmgame.buttons.MixButton"]=qc;qc.__name__=["farmgame","buttons","MixButton"];qc.__super__=C;qc.prototype=s(C.prototype,{setXY:function(a,b){this.textSpr.setXY(a,b-0.5*this.textSpr.getNaturalHeight()-2);this.textSprSmall.setXY(a+26,b-1);C.prototype.setXY.call(this,a,b)},onClick:function(){var a=this;!1==this.mixInProgress&&(A.play("SOUNDS/SHUFFLE"),this.doTheMix(),this.mixInProgress=!0,q.delayedCall(0.33,
function(){a.mixInProgress=!1}))},doTheMix:function(){m.rehashThenSolveAndRehash()},__class__:qc});var zc=function(a){C.call(this,a,"button_prompt","button_prompt_over");this.txt=new V(k.promptFont24,v.PLAY_AGAIN[v.langIdx].toUpperCase());q.attachToNewEntity(this.txt,this.owner);this.txt.setAnchor(0,0.5*this.txt.getNaturalHeight());this.txt.set_align(R.Center);this.txt.disablePointer();this.txt.setScale(0.9)};e["farmgame.buttons.NextLevelButton"]=zc;zc.__name__=["farmgame","buttons","NextLevelButton"];
zc.__super__=C;zc.prototype=s(C.prototype,{setXY:function(a,b){this.txt.setXY(a,b);C.prototype.setXY.call(this,a,b)},onClick:function(a){C.prototype.onClick.call(this,a);this.removeStart()},removeStart:function(){if(null!=this.owner&&null!=this.owner.parent){var a=this.owner.parent._compMap.Sprite_0;a.centerAnchor();a.scaleX.animateTo(0,0.5,M.backIn);a.scaleY.animateTo(0,0.5,M.backIn);q.delayedCall(0.55,Q(this,this.remove),this.owner.parent)}},remove:function(){I.reset();if(null!=this.owner&&null!=
this.owner.parent){var a=this.owner.parent.parent;this.owner.parent.removeChild(this.owner);a.dispose()}},__class__:zc});var vc=function(a){this.alreadyClicked=!1;C.call(this,a,"button_menu","button_menu_over")};e["farmgame.buttons.PlayButton"]=vc;vc.__name__=["farmgame","buttons","PlayButton"];vc.__super__=C;vc.prototype=s(C.prototype,{onClick:function(){this.alreadyClicked||(t.SMALL_DEVICE_MODE&&j._platform.getStage().requestFullscreen(),k.preloaderPack.getSound("CLICK_TILE").play(),j._platform.getStage().requestResize(j._platform.getExternal().call("getWidth"),
j._platform.getExternal().call("getHeight")),q.delayedCall(0.5,h.resizeHtml),q.delayedCall(0.55,h.onResize),q.delayedCall(0.56,r.actuallyStartNextScene),this.tweenDown())},tweenDown:function(){this.alreadyClicked=!0;var a=new X(16777215,0.1,0.1);this.container.add(a);a.y.animateBy(-800,0.6,M.backIn);a.alpha.animateTo(0.5,0.6)},__class__:vc});var sc=function(a){this.restartInProgress=!1;C.call(this,a,"button_r","button_r_over")};e["farmgame.buttons.RestartButton"]=sc;sc.__name__=["farmgame","buttons",
"RestartButton"];sc.__super__=C;sc.prototype=s(C.prototype,{onClick:function(a){var b=this;!1==this.restartInProgress&&(this.restartInProgress=!0,I.resetWithAnimation(),q.delayedCall(1,function(){b.restartInProgress=!1}),C.prototype.onClick.call(this,a))},__class__:sc});var ba=function(a,b,c){y.call(this);this.owner=new z;a.addChild(this.owner);this.soundOnButton=new Ac(this.owner,this);this.soundOffButton=new Bc(this.owner,this);this.soundOnButton.setXY(b,c);this.soundOffButton.setXY(b,c);this.manageButtonStates()};
e["farmgame.buttons.SoundButton"]=ba;ba.__name__=["farmgame","buttons","SoundButton"];ba.__super__=y;ba.prototype=s(y.prototype,{get_name:function(){return"SoundButton_12"},manageButtonStates:function(){ba.soundFlag?(this.soundOnButton.setVisible(),this.soundOffButton.setInvisible()):(this.soundOnButton.setInvisible(),this.soundOffButton.setVisible())},soundOff:function(){ba.soundFlag=!1;this.manageButtonStates()},soundOn:function(){ba.soundFlag=!0;this.manageButtonStates()},__class__:ba});var Bc=
function(a,b){C.call(this,a,"button_soff","button_soff_over");this.soundButton=b};e["farmgame.buttons.SoundOffButton"]=Bc;Bc.__name__=["farmgame","buttons","SoundOffButton"];Bc.__super__=C;Bc.prototype=s(C.prototype,{onClick:function(a){this.soundButton.soundOn();C.prototype.onClick.call(this,a)},__class__:Bc});var Ac=function(a,b){C.call(this,a,"button_s","button_s_over");this.soundButton=b};e["farmgame.buttons.SoundOnButton"]=Ac;Ac.__name__=["farmgame","buttons","SoundOnButton"];Ac.__super__=C;
Ac.prototype=s(C.prototype,{onClick:function(a){this.soundButton.soundOff();C.prototype.onClick.call(this,a)},__class__:Ac});var Cc=function(a){C.call(this,a,"button_prompt","button_prompt_over");this.txt=new V(k.promptFont24,""+v.MIX[v.langIdx].toUpperCase());q.attachToNewEntity(this.txt,this.owner);this.txt.setAnchor(0,0.5*this.txt.getNaturalHeight());this.txt.set_align(R.Center);this.txt.disablePointer()};e["farmgame.buttons.TryAgainButton"]=Cc;Cc.__name__=["farmgame","buttons","TryAgainButton"];
Cc.__super__=C;Cc.prototype=s(C.prototype,{setXY:function(a,b){this.txt.setXY(a,b);C.prototype.setXY.call(this,a,b)},onClick:function(a){C.prototype.onClick.call(this,a);this.removeStart()},removeStart:function(){if(null!=this.owner&&null!=this.owner.parent){var a=this.owner.parent._compMap.Sprite_0;a.centerAnchor();a.scaleX.animateTo(0,0.5,M.backIn);a.scaleY.animateTo(0,0.5,M.backIn);q.delayedCall(0.55,Q(this,this.remove),this.owner.parent)}},remove:function(){m.rehashThenSolveAndRehash();A.play("SOUNDS/SHUFFLE");
N.gameOverStarted=!1;if(null!=this.owner&&null!=this.owner.parent){var a=this.owner.parent.parent;this.owner.parent.removeChild(this.owner);a.dispose()}},__class__:Cc});var rc=function(a){C.call(this,a,"ui/button","ui/button_over");a=new z;this.owner.addChild(a);this.textSpr=new V(k.promptFont15,v.UNDO[v.langIdx].toUpperCase());a.add(this.textSpr);this.textSpr.set_align(R.Center);this.textSpr.disablePointer()};e["farmgame.buttons.UndoButton"]=rc;rc.__name__=["farmgame","buttons","UndoButton"];rc.__super__=
C;rc.prototype=s(C.prototype,{setXY:function(a,b){this.textSpr.setXY(a,b-0.5*this.textSpr.getNaturalHeight()-2);C.prototype.setXY.call(this,a,b)},onClick:function(){m.undoMove()},__class__:rc});var uc=function(){y.call(this);A.play("SOUNDS/WON");this.owner=new z;this.owner.add(this);h.layerPrompts.addChild(this.owner);null==k.promptFont24&&(k.promptFont24=new ga(k.pack,"fontbold20/font"));null==k.promptFont48&&(k.promptFont48=new ga(k.pack,"fontbold36/font"));this.promptbg=new T(k.pack.getTexture("prompt_bg"));
var a=q.attachToNewEntity(this.promptbg,this.owner),b=new V(k.promptFont48,v.YOU_DID_IT[v.langIdx].toUpperCase());q.attachToNewEntity(b,a);b.centerAnchor();b.setXY(0.5*this.promptbg.getNaturalWidth(),60);var c=new V(k.promptFont24,v.YOU_FINISHED_THE_GAME[v.langIdx].toUpperCase());q.attachToNewEntity(c,a);c.centerAnchor();c.setXY(0.5*this.promptbg.getNaturalWidth(),118);a=new zc(a);a.centerAnchor();a.setXY(0.5*this.promptbg.getNaturalWidth(),210);this.promptbg.centerAnchor();this.promptbg.setXY(0.5*
j._platform.getStage().get_width(),0.5*j._platform.getStage().get_height());this.promptbg.scaleX.animate(0.33,1,0.5,M.backOut);this.promptbg.scaleY.animate(0.33,1,0.5,M.backOut);c.setAlpha(0);q.delayedCall(0.5,function(){c.alpha.animateTo(1,0.25)})};e["farmgame.prompts.GoodGamePrompt"]=uc;uc.__name__=["farmgame","prompts","GoodGamePrompt"];uc.__super__=y;uc.prototype=s(y.prototype,{get_name:function(){return"GoodGamePrompt_9"},onUpdate:function(a){this.promptbg.centerAnchor();this.promptbg.setXY(0.5*
j._platform.getStage().get_width(),0.5*j._platform.getStage().get_height());y.prototype.onUpdate.call(this,a)},__class__:uc});var tc=function(){y.call(this);this.owner=new z;this.owner.add(this);h.layerPrompts.addChild(this.owner);this.promptbg=new T(k.pack.getTexture("prompt_bg"));var a=q.attachToNewEntity(this.promptbg,this.owner);null==k.promptFont24&&(k.promptFont24=new ga(k.pack,"fontbold20/font"));null==k.promptFont48&&(k.promptFont48=new ga(k.pack,"fontbold36/font"));var b=new V(k.promptFont48,
v.NO_MORE_MOVES[v.langIdx].toUpperCase());q.attachToNewEntity(b,a);b.setXY(0.5*this.promptbg.getNaturalWidth(),60);b.setXY(0,50);b.set_align(R.Center);b.setWrapWidth(400);2==v.langIdx&&(b.setXY(50,40),b.setScale(0.7),b.set_align(R.Center),b.setWrapWidth(400));b=new V(k.promptFont30,"");q.attachToNewEntity(b,a);b.centerAnchor();b.setXY(0.5*this.promptbg.getNaturalWidth(),112);b.set_visible(!1);b.setScale(0.6);b=new V(k.promptFont24,v.PLEASE_PRESS_SHUFFLE_BUTTON_TO_CONTINUE[v.langIdx].toUpperCase());
q.attachToNewEntity(b,a);b.setXY(0.5*this.promptbg.getNaturalWidth(),140);b.setWrapWidth(300);b.setAlign(R.Center);b.centerAnchor();a=new Cc(a);a.centerAnchor();a.setXY(0.5*this.promptbg.getNaturalWidth(),215);this.promptbg.centerAnchor();this.promptbg.setXY(0.5*j._platform.getStage().get_width(),0.5*j._platform.getStage().get_height());this.promptbg.scaleX.animate(0.33,1,0.4,M.backOut);this.promptbg.scaleY.animate(0.33,1,0.4,M.backOut)};e["farmgame.prompts.OutOfTimePrompt"]=tc;tc.__name__=["farmgame",
"prompts","OutOfTimePrompt"];tc.__super__=y;tc.prototype=s(y.prototype,{get_name:function(){return"OutOfTimePrompt_7"},onUpdate:function(a){this.promptbg.centerAnchor();this.promptbg.setXY(0.5*j._platform.getStage().get_width(),0.5*j._platform.getStage().get_height());y.prototype.onUpdate.call(this,a)},__class__:tc});var z=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};e["flambe.Entity"]=z;z.__name__=["flambe","Entity"];z.__interfaces__=[va];z.prototype=
{add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var f=c.next;if(c==a)return null==b?this.firstComponent=f:(b.owner=this,b.next=f),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),
c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=f}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,f=this.firstChild;null!=f;)c=f,f=f.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var f=c.next;if(c==a){null==b?this.firstChild=f:b.next=f;c.parent=null;c.next=null;break}b=c;c=f}},disposeChildren:function(){for(;null!=
this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:z};var Ae=function(){};e["flambe.util.PackageLog"]=Ae;Ae.__name__=["flambe","util","PackageLog"];var md=function(){};e["flambe.platform.Platform"]=md;md.__name__=["flambe","platform","Platform"];md.prototype={__class__:md};var Xa=function(){};e["flambe.platform.html.HtmlPlatform"]=Xa;Xa.__name__=
["flambe","platform","html","HtmlPlatform"];Xa.__interfaces__=[md];Xa.prototype={init:function(){var a=this;B.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof o&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new tb(b);this._pointer=new Y;this._mouse=new Dc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new ub;this.musicPlaying=!1;this._canvas=
b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var f=0,d=function(c){if(!(1E3>c.timeStamp-f)){var d=b.getBoundingClientRect(),e=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(e,d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,d);break;case "mouseup":a._mouse.submitUp(e,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,
d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||d){var g=new Ec(this._pointer,
e?4:window.navigator.msMaxTouchPoints);this._touch=g;d=function(b){var c;c=e?b.changedTouches:[b];var d=b.target.getBoundingClientRect();f=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();B.SHOULD_HIDE_MOBILE_BROWSER&&B.hideMobileBrowser();for(b=0;b<c.length;){var la=c[b];++b;var h=a.getX(la,d),k=a.getY(la,d);g.submitDown((e?la.identifier:la.pointerId)|0,h,k)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=
0;b<c.length;)la=c[b],++b,h=a.getX(la,d),k=a.getY(la,d),g.submitMove((e?la.identifier:la.pointerId)|0,h,k);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)la=c[b],++b,h=a.getX(la,d),k=a.getY(la,d),g.submitUp((e?la.identifier:la.pointerId)|0,h,k)}};e?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",
d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new Fc;var h=window.onerror;window.onerror=function(a,b,c){j.uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var k=B.loadExtension("hidden",window.document);null!=k.value?(d=function(){j.hidden.set__(J.field(window.document,k.field))},d(null),window.document.addEventListener(k.prefix+"visibilitychange",d,!1)):(d=function(a){j.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",
d,!1));j.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var i=B.loadExtension("requestAnimationFrame").value;if(null!=i){var l=window.performance,m=null!=l&&B.polyfill("now",l);m?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(m?l.now():c);i(n,b)};i(n,b)}else window.setInterval(function(){a.update(Date.now())},16);d=new Kb;d.success.connect(function(){Lb.info("Initialized HTML platform",["renderer",a._renderer.get_type()])});
d.set_result(!0);return d},loadAssetPack:function(a){return(new K(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=Gc.getLocalStorage();this._storage=null!=a?new Hc(a):new Ic}return this._storage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;j.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},
getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new sa;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getWeb:function(){null==this._web&&(this._web=new Jc(this._container));return this._web},getExternal:function(){null==this._external&&(this._external=new Kc);
return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new vb(a)},__class__:Xa};var ha=function(a,b){this._value=a;this._changed=null!=b?new Mb(b):null};e["flambe.util.Value"]=ha;ha.__name__=["flambe","util","Value"];ha.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},
get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new Mb);return this._changed},__class__:ha};var wb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};e["flambe.util.SignalConnection"]=wb;wb.__name__=["flambe","util","SignalConnection"];wb.__interfaces__=[va];wb.prototype={once:function(){this.stayInList=!1;return this},
dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:wb};var W=function(a){this._head=null!=a?new wb(this,a):null;this._deferredTasks=null};e["flambe.util.SignalBase"]=W;W.__name__=["flambe","util","SignalBase"];W.prototype={connectImpl:function(a,b){var c=this,f=new wb(this,a);this._head==W.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(f,b)}):this.listAdd(f,b);return f},disconnect:function(a){var b=this;this._head==W.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):
this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new nd(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=W.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,f=this._head;null!=f;)c=f,f=f._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=
null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:W};var Mb=function(a){W.call(this,a)};e["flambe.util.Signal2"]=Mb;Mb.__name__=["flambe","util","Signal2"];Mb.__super__=W;Mb.prototype=s(W.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==W.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),
f=c;null!=f;)f._listener(a,b),f.stayInList||f.dispose(),f=f._next;this.didEmit(c)},__class__:Mb});var O=function(a){W.call(this,a)};e["flambe.util.Signal1"]=O;O.__name__=["flambe","util","Signal1"];O.__super__=W;O.prototype=s(W.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==W.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),
c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:O});var S=function(a,b){this._behavior=null;ha.call(this,a,b)};e["flambe.animation.AnimatedFloat"]=S;S.__name__=["flambe","animation","AnimatedFloat"];S.__super__=ha;S.prototype=s(ha.prototype,{set__:function(a){this._behavior=null;return ha.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(ha.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animate:function(a,
b,c,f){this.set__(a);this.animateTo(b,c,f)},animateTo:function(a,b,c){this.set_behavior(new Nb(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new Nb(this._value,this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:S});var j=function(){};e["flambe.System"]=j;j.__name__=["flambe","System"];j.init=function(){j._calledInit||(j.promise=j._platform.init(),j._calledInit=!0);return j.promise};var Lb=function(){};e["flambe.Log"]=Lb;Lb.__name__=
["flambe","Log"];Lb.info=function(){null};Lb.__super__=Ae;Lb.prototype=s(Ae.prototype,{__class__:Lb});var od=function(){this._realDt=0};e["flambe.SpeedAdjuster"]=od;od.__name__=["flambe","SpeedAdjuster"];od.__super__=y;od.prototype=s(y.prototype,{get_name:function(){return"SpeedAdjuster_4"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:od});var pd=function(){};e["flambe.animation.Behavior"]=pd;pd.__name__=["flambe","animation","Behavior"];pd.prototype=
{__class__:pd};var M=function(){};e["flambe.animation.Ease"]=M;M.__name__=["flambe","animation","Ease"];M.linear=function(a){return a};M.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};M.backIn=function(a){return a*a*(2.70158*a-1.70158)};M.backOut=function(a){return 1-
--a*a*(-2.70158*a-1.70158)};var Nb=function(a,b,c,f){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=f?f:M.linear};e["flambe.animation.Tween"]=Nb;Nb.__name__=["flambe","animation","Tween"];Nb.__interfaces__=[pd];Nb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:Nb};var gb=function(){};
e["flambe.asset.Asset"]=gb;gb.__name__=["flambe","asset","Asset"];gb.__interfaces__=[va];gb.prototype={__class__:gb};var u=e["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};u.WEBP=["WEBP",0];u.WEBP.__enum__=u;u.JXR=["JXR",1];u.JXR.__enum__=u;u.PNG=["PNG",2];u.PNG.__enum__=u;u.JPG=["JPG",3];u.JPG.__enum__=u;u.GIF=["GIF",4];u.GIF.__enum__=u;u.DDS=["DDS",5];u.DDS.__enum__=u;u.PVR=["PVR",6];
u.PVR.__enum__=u;u.PKM=["PKM",7];u.PKM.__enum__=u;u.MP3=["MP3",8];u.MP3.__enum__=u;u.M4A=["M4A",9];u.M4A.__enum__=u;u.OPUS=["OPUS",10];u.OPUS.__enum__=u;u.OGG=["OGG",11];u.OGG.__enum__=u;u.WAV=["WAV",12];u.WAV.__enum__=u;u.Data=["Data",13];u.Data.__enum__=u;var qd=function(a,b,c,f){this.name=a;this.url=b;this.format=c;this.bytes=f};e["flambe.asset.AssetEntry"]=qd;qd.__name__=["flambe","asset","AssetEntry"];qd.prototype={__class__:qd};var Lc=function(){};e["flambe.asset.AssetPack"]=Lc;Lc.__name__=
["flambe","asset","AssetPack"];Lc.__interfaces__=[va];Lc.prototype={__class__:Lc};var Mc=function(){};e["flambe.asset.File"]=Mc;Mc.__name__=["flambe","asset","File"];Mc.__interfaces__=[gb];Mc.prototype={__class__:Mc};var ja=function(){this._localBase=this._remoteBase=null;this._entries=[]};e["flambe.asset.Manifest"]=ja;ja.__name__=["flambe","asset","Manifest"];ja.fromAssets=function(a,b){null==b&&(b=!0);var c=J.field(Nc.getType(ja).assets[0],a);if(null==c){if(b)throw new o(ca.withFields("Missing asset pack",
["name",a]));return null}var f=new ja;f.set_localBase("assets");for(var d=0;d<c.length;){var e=c[d];++d;var g=e.name,h=a+"/"+g+"?v="+w.string(e.md5),k=ja.inferFormat(g);k!=u.Data&&(g=ca.removeFileExtension(g));f.add(g,h,e.bytes,k)}return f};ja.inferFormat=function(a){a=ca.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return u.GIF;case "jpg":case "jpeg":return u.JPG;case "jxr":case "wdp":return u.JXR;case "png":return u.PNG;case "webp":return u.WEBP;case "dds":return u.DDS;case "pvr":return u.PVR;
case "pkm":return u.PKM;case "m4a":return u.M4A;case "mp3":return u.MP3;case "ogg":return u.OGG;case "opus":return u.OPUS;case "wav":return u.WAV}else null;return u.Data};ja.prototype={add:function(a,b,c,f){null==c&&(c=0);null==f&&(f=ja.inferFormat(b));a=new qd(a,b,f,c);this._entries.push(a);return a},iterator:function(){return x.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&ja._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?ca.joinPath(b,
a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&Be.that(!H.startsWith(a,"http://")&&!H.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:ja};var Z=e["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};Z.Normal=["Normal",0];
Z.Normal.__enum__=Z;Z.Add=["Add",1];Z.Add.__enum__=Z;Z.Multiply=["Multiply",2];Z.Multiply.__enum__=Z;Z.Screen=["Screen",3];Z.Screen.__enum__=Z;Z.Mask=["Mask",4];Z.Mask.__enum__=Z;Z.Copy=["Copy",5];Z.Copy.__enum__=Z;var rd=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};e["flambe.math.Point"]=rd;rd.__name__=["flambe","math","Point"];rd.prototype={__class__:rd};var G=function(){this.blendMode=this.scissor=null;var a=this;y.call(this);this._flags|=54;this._localMatrix=new sd;var b=function(){a._flags|=
24};this.x=new S(0,b);this.y=new S(0,b);this.rotation=new S(0,b);this.scaleX=new S(1,b);this.scaleY=new S(1,b);this.anchorX=new S(0,b);this.anchorY=new S(0,b);this.alpha=new S(1)};e["flambe.display.Sprite"]=G;G.__name__=["flambe","display","Sprite"];G.hitTest=function(a,b,c,f){null==f&&(f=0);f++;var d=a._compMap.Sprite_0;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,G._scratchPoint)&&(b=G._scratchPoint.x,c=G._scratchPoint.y);var e=d.scissor;if(null!=e&&!e.contains(b,
c))return null}a=G.hitTestBackwards(a.firstChild,b,c,f);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};G.render=function(a,b){var c=a._compMap.Sprite_0;if(null!=c){var f=c.alpha._value;if(0==(c._flags&2)||0>=f)return;b.save();1>f&&b.multiplyAlpha(f);null!=c.blendMode&&b.setBlendMode(c.blendMode);var f=c.getLocalMatrix(),d=f.m02,e=f.m12;0!=(c._flags&32)&&(d=Math.round(d),e=Math.round(e));b.transform(f.m00,f.m10,f.m01,f.m11,d,e);f=c.scissor;null!=f&&b.applyScissor(f.x,f.y,f.width,f.height);
c.draw(b)}f=a._compMap.Director_2;if(null!=f){f=f.occludedScenes;for(d=0;d<f.length;)e=f[d],++d,G.render(e,b)}for(f=a.firstChild;null!=f;)d=f.next,G.render(f,b),f=d;null!=c&&b.restore()};G.hitTestBackwards=function(a,b,c,f){if(null!=a){var d=G.hitTestBackwards(a.next,b,c,f);return null!=d?d:G.hitTest(a,b,c,f)}return null};G.__super__=y;G.prototype=s(y.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,
b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/
2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),
this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new O);return this._pointerDown},
get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=new O);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new O);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=j._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=
null}))},set_visible:function(a){this._flags=td.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=td.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},
onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:G});var X=function(a,b,c){G.call(this);this.color=a;this.width=new S(b);this.height=new S(c)};e["flambe.display.FillSprite"]=X;X.__name__=["flambe","display","FillSprite"];X.__super__=G;X.prototype=s(G.prototype,{draw:function(a){a.fillRect(this.color,
0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){G.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:X});var Oc=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};e["flambe.display.Glyph"]=Oc;Oc.__name__=["flambe","display","Glyph"];Oc.prototype={draw:function(a,
b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?w["int"](this._kernings.h[a]):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new oa);this._kernings.h[a]=b},__class__:Oc};var ga=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};e["flambe.display.Font"]=ga;ga.__name__=["flambe","display","Font"];ga.prototype={layoutText:function(a,
b,c,f,d){null==d&&(d=0);null==f&&(f=0);null==c&&(c=0);null==b&&(b=R.Left);return new hb(this,a,b,c,f,d)},reload:function(){this._glyphs=new oa;this._glyphs.h[ga.NEWLINE.charCode]=ga.NEWLINE;for(var a=new xb(this._file.toString()),b=new oa,c=this.name.lastIndexOf("/"),c=0<=c?x.substr(this.name,0,c+1):"",f=a.keywords();f.hasNext();)switch(f.next()){case "info":for(var d=a.pairs();d.hasNext();){var e=d.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(e=
d.next(),e.key){case "lineHeight":this.lineHeight=e.getInt()}break;case "page":for(var d=0,e=null,g=a.pairs();g.hasNext();){var h=g.next();switch(h.key){case "id":d=h.getInt();break;case "file":e=h.getString()}}e=this._pack.getTexture(c+ca.removeFileExtension(e));b.h[d]=e;break;case "char":d=null;for(e=a.pairs();e.hasNext();)switch(g=e.next(),g.key){case "id":d=new Oc(g.getInt());break;case "x":d.x=g.getInt();break;case "y":d.y=g.getInt();break;case "width":d.width=g.getInt();break;case "height":d.height=
g.getInt();break;case "page":g=g.getInt();d.page=b.h[g];break;case "xoffset":d.xOffset=g.getInt();break;case "yoffset":d.yOffset=g.getInt();break;case "xadvance":d.xAdvance=g.getInt()}this._glyphs.h[d.charCode]=d;break;case "kerning":d=null;g=e=0;for(h=a.pairs();h.hasNext();){var k=h.next();switch(k.key){case "first":d=this._glyphs.h[k.getInt()];break;case "second":e=k.getInt();break;case "amount":g=k.getInt()}}null!=d&&0!=g&&d.setKerning(e,g)}},__class__:ga};var R=e["flambe.display.TextAlign"]={__ename__:["flambe",
"display","TextAlign"],__constructs__:["Left","Center","Right"]};R.Left=["Left",0];R.Left.__enum__=R;R.Center=["Center",1];R.Center.__enum__=R;R.Right=["Right",2];R.Right.__enum__=R;var hb=function(a,b,c,f,d,e){this.lines=0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+e);this.bounds=new yc;for(var h=[],e=b.length,k=0;k<e;){var i=k++,i=b.charCodeAt(i),i=a._glyphs.h[i];null!=i?this._glyphs.push(i):null}for(var b=-1,l=0,m=0,a=a._glyphs.h[10],e=function(){g.bounds.width=
Pc.max(g.bounds.width,l);g.bounds.height+=m;h[g.lines]=l;m=l=0;++g.lines},k=0;k<this._glyphs.length;){i=this._glyphs[k];this._offsets[k]=Math.round(l);var j=0<f&&l+i.width>f;j||i==a?(j&&(0<=b?(this._glyphs[b]=a,l=this._offsets[b],k=b):this._glyphs.splice(k,0,a)),b=-1,m=this._lineOffset,e()):(32==i.charCode&&(b=k),l+=i.xAdvance+d,m=Pc.max(m,i.height+i.yOffset),k+1<this._glyphs.length&&(l+=i.getKerning(this._glyphs[k+1].charCode)));++k}e();d=0;a=hb.getAlignOffset(c,h[0],f);b=1.79769313486231E308;e=
-1.79769313486231E308;i=k=0;for(j=this._glyphs.length;i<j;){var o=this._glyphs[i];10==o.charCode&&(d+=this._lineOffset,++k,a=hb.getAlignOffset(c,h[k],f));this._offsets[i]+=a;var n=d+o.yOffset,b=b<n?b:n,e=Pc.max(e,n+o.height);++i}this.bounds.x=hb.getAlignOffset(c,this.bounds.width,f);this.bounds.y=b;this.bounds.height=e-b};e["flambe.display.TextLayout"]=hb;hb.__name__=["flambe","display","TextLayout"];hb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-
b)/2)}};hb.prototype={draw:function(a){for(var b=0,c=0,f=this._glyphs.length;c<f;){var d=this._glyphs[c];10==d.charCode?b+=this._lineOffset:d.draw(a,this._offsets[c],b);++c}},__class__:hb};var xb=function(a){this._configText=a;this._keywordPattern=new ua("([A-Za-z]+)(.*)","");this._pairPattern=new ua('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};e["flambe.display._Font.ConfigParser"]=xb;xb.__name__=["flambe","display","_Font","ConfigParser"];xb.advance=function(a,b){var c=b.matchedPos();return x.substr(a,
c.pos+c.len,a.length)};xb.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=xb.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=xb.advance(b,a._pairPattern);return new ud(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:xb};
var ud=function(a,b){this.key=a;this._value=b};e["flambe.display._Font.ConfigPair"]=ud;ud.__name__=["flambe","display","_Font","ConfigPair"];ud.prototype={getInt:function(){return w.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:x.substr(this._value,1,this._value.length-2)},__class__:ud};var vd=function(){};e["flambe.display.Graphics"]=vd;vd.__name__=["flambe","display","Graphics"];vd.prototype={__class__:vd};var T=function(a){G.call(this);this.texture=a};e["flambe.display.ImageSprite"]=
T;T.__name__=["flambe","display","ImageSprite"];T.__super__=G;T.prototype=s(G.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:T});var fb=e["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};fb.Portrait=["Portrait",0];fb.Portrait.__enum__=
fb;fb.Landscape=["Landscape",1];fb.Landscape.__enum__=fb;var Qc=function(){};e["flambe.display.Texture"]=Qc;Qc.__name__=["flambe","display","Texture"];Qc.__interfaces__=[gb];Qc.prototype={__class__:Qc};var Ce=function(){};e["flambe.display.SubTexture"]=Ce;Ce.__name__=["flambe","display","SubTexture"];Ce.__interfaces__=[Qc];var V=function(a,b){null==b&&(b="");this._layout=null;var c=this;G.call(this);this._font=a;this._text=b;this._align=R.Left;this._flags|=128;var f=function(){c._flags|=128};this.wrapWidth=
new S(0,f);this.letterSpacing=new S(0,f);this.lineSpacing=new S(0,f)};e["flambe.display.TextSprite"]=V;V.__name__=["flambe","display","TextSprite"];V.__super__=G;V.prototype=s(G.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;
return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,
this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){G.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:V});var d=e["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
d.A=["A",0];d.A.__enum__=d;d.B=["B",1];d.B.__enum__=d;d.C=["C",2];d.C.__enum__=d;d.D=["D",3];d.D.__enum__=d;d.E=["E",4];d.E.__enum__=d;d.F=["F",5];d.F.__enum__=d;d.G=["G",6];d.G.__enum__=d;d.H=["H",7];d.H.__enum__=d;d.I=["I",8];d.I.__enum__=d;d.J=["J",9];d.J.__enum__=d;d.K=["K",10];d.K.__enum__=d;d.L=["L",11];d.L.__enum__=d;d.M=["M",12];d.M.__enum__=d;d.N=["N",13];d.N.__enum__=d;d.O=["O",14];d.O.__enum__=d;d.P=["P",15];d.P.__enum__=d;d.Q=["Q",16];d.Q.__enum__=d;d.R=["R",17];d.R.__enum__=d;d.S=["S",
18];d.S.__enum__=d;d.T=["T",19];d.T.__enum__=d;d.U=["U",20];d.U.__enum__=d;d.V=["V",21];d.V.__enum__=d;d.W=["W",22];d.W.__enum__=d;d.X=["X",23];d.X.__enum__=d;d.Y=["Y",24];d.Y.__enum__=d;d.Z=["Z",25];d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.__enum__=d;d.Number6=
["Number6",32];d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.__enum__=d;d.Numpad7=
["Numpad7",43];d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.__enum__=d;d.NumpadDecimal=["NumpadDecimal",47];d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.__enum__=d;d.F1=
["F1",52];d.F1.__enum__=d;d.F2=["F2",53];d.F2.__enum__=d;d.F3=["F3",54];d.F3.__enum__=d;d.F4=["F4",55];d.F4.__enum__=d;d.F5=["F5",56];d.F5.__enum__=d;d.F6=["F6",57];d.F6.__enum__=d;d.F7=["F7",58];d.F7.__enum__=d;d.F8=["F8",59];d.F8.__enum__=d;d.F9=["F9",60];d.F9.__enum__=d;d.F10=["F10",61];d.F10.__enum__=d;d.F11=["F11",62];d.F11.__enum__=d;d.F12=["F12",63];d.F12.__enum__=d;d.F13=["F13",64];d.F13.__enum__=d;d.F14=["F14",65];d.F14.__enum__=d;d.F15=["F15",66];d.F15.__enum__=d;d.Left=["Left",67];d.Left.__enum__=
d;d.Up=["Up",68];d.Up.__enum__=d;d.Right=["Right",69];d.Right.__enum__=d;d.Down=["Down",70];d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.__enum__=d;d.Backslash=["Backslash",73];d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.__enum__=d;d.Command=["Command",77];d.Command.__enum__=d;d.Control=["Control",78];d.Control.__enum__=d;d.Delete=["Delete",79];
d.Delete.__enum__=d;d.End=["End",80];d.End.__enum__=d;d.Enter=["Enter",81];d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.__enum__=d;d.Home=["Home",84];d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.__enum__=d;d.PageUp=["PageUp",89];d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.__enum__=d;d.Quote=
["Quote",91];d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.__enum__=d;d.Space=["Space",96];d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.__enum__=d;d.Search=["Search",99];d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;return a};var wd=function(){this.init(0,null)};e["flambe.input.KeyboardEvent"]=
wd;wd.__name__=["flambe","input","KeyboardEvent"];wd.prototype={init:function(a,b){this.id=a;this.key=b},__class__:wd};var ka=e["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};ka.Left=["Left",0];ka.Left.__enum__=ka;ka.Middle=["Middle",1];ka.Middle.__enum__=ka;ka.Right=["Right",2];ka.Right.__enum__=ka;ka.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ka;return a};var na=e["flambe.input.MouseCursor"]={__ename__:["flambe",
"input","MouseCursor"],__constructs__:["Default","Button","None"]};na.Default=["Default",0];na.Default.__enum__=na;na.Button=["Button",1];na.Button.__enum__=na;na.None=["None",2];na.None.__enum__=na;var xd=function(){this.init(0,0,0,null)};e["flambe.input.MouseEvent"]=xd;xd.__name__=["flambe","input","MouseEvent"];xd.prototype={init:function(a,b,c,f){this.id=a;this.viewX=b;this.viewY=c;this.button=f},__class__:xd};var Rc=e["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse",
"Touch"]};Rc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Rc;return a};Rc.Touch=function(a){a=["Touch",1,a];a.__enum__=Rc;return a};var yd=function(){this.init(0,0,0,null,null)};e["flambe.input.PointerEvent"]=yd;yd.__name__=["flambe","input","PointerEvent"];yd.prototype={init:function(a,b,c,f,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=f;this.source=d;this._stopped=!1},__class__:yd};var zd=function(a){this.id=a;this._source=Rc.Touch(this)};e["flambe.input.TouchPoint"]=zd;zd.__name__=["flambe",
"input","TouchPoint"];zd.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:zd};var Pc=function(){};e["flambe.math.FMath"]=Pc;Pc.__name__=["flambe","math","FMath"];Pc.max=function(a,b){return a>b?a:b};var sd=function(){this.identity()};e["flambe.math.Matrix"]=sd;sd.__name__=["flambe","math","Matrix"];sd.prototype={set:function(a,b,c,f,d,e){this.m00=a;this.m01=c;this.m02=d;this.m10=b;this.m11=f;this.m12=e},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,f,d){var e=
Math.sin(d),d=Math.cos(d);this.set(d*c,e*c,-e*f,d*f,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var f=this.determinant();if(0==f)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/f;c.y=(b*this.m00-a*this.m10)/f;return!0},__class__:sd};var yc=function(a,b,c,f){null==f&&(f=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,f)};
e["flambe.math.Rectangle"]=yc;yc.__name__=["flambe","math","Rectangle"];yc.prototype={set:function(a,b,c,f){this.x=a;this.y=b;this.width=c;this.height=f},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:yc};var da=function(){this._disposed=!1};e["flambe.platform.BasicAsset"]=da;da.__name__=["flambe","platform","BasicAsset"];
da.__interfaces__=[gb];da.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:da};var ib=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new Kb;this._bytesLoaded=new ea;this._pack=new Sc(b,this);var f=qb.array(b);if(0==f.length)this.handleSuccess();else{for(var d=new ea,e=0;e<f.length;){var g=f[e];++e;var h=d.get(g.name);null==h&&(h=[],d.set(g.name,h));h.push(g)}this._assetsRemaining=qb.count(d);for(f=new Tc(d,
d.arrayKeys());f.hasNext();)d=[f.next()],this.pickBestEntry(d[0],function(a){return function(f){if(null!=f){var d=b.getFullURL(f);try{c.loadEntry(d,f)}catch(e){e instanceof o&&(e=e.val),c.handleError(f,"Unexpected error: "+w.string(e))}d=c.promise;d.set_total(d._total+f.bytes)}else f=a[0][0],ib.isAudio(f.format)?c.handleLoad(f,pa.getInstance()):c.handleError(f,"Could not find a supported format to load")}}(d))}};e["flambe.platform.BasicAssetPackLoader"]=ib;ib.__name__=["flambe","platform","BasicAssetPackLoader"];
ib.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};ib.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var f=0;f<c.length;){var d=c[f];++f;for(var e=0;e<a.length;){var g=a[e];++e;if(g.format==d){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,f=this._bytesLoaded.iterator();f.hasNext();)var d=f.next(),c=c+d;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(ca.withFields(b,
["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:ib};var Sc=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new ea;this.sounds=new ea;this.files=new ea};e["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Sc;Sc.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];Sc.__interfaces__=[Lc];Sc.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);
if(null==c&&b)throw new o(ca.withFields("Missing texture",["name",a]));return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw new o(ca.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw new o(ca.withFields("Missing file",["name",a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;
for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},__class__:Sc};var Ob=function(a){this._disposed=!1;this._content=a};e["flambe.platform.BasicFile"]=Ob;Ob.__name__=["flambe","platform","BasicFile"];Ob.__interfaces__=[Mc];Ob.__super__=da;Ob.prototype=s(da.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:Ob});var Ad=
function(){};e["flambe.subsystem.KeyboardSystem"]=Ad;Ad.__name__=["flambe","subsystem","KeyboardSystem"];Ad.prototype={__class__:Ad};var sa=function(){this.down=new O;this.up=new O;this.backButton=new jb;this._keyStates=new oa};e["flambe.platform.BasicKeyboard"]=sa;sa.__name__=["flambe","platform","BasicKeyboard"];sa.__interfaces__=[Ad];sa.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.h.hasOwnProperty(a)||(this._keyStates.h[a]=
!0,sa._sharedEvent.init(sa._sharedEvent.id+1,Bd.toKey(a)),this.down.emit(sa._sharedEvent));return!0},submitUp:function(a){this._keyStates.h.hasOwnProperty(a)&&(this._keyStates.remove(a),sa._sharedEvent.init(sa._sharedEvent.id+1,Bd.toKey(a)),this.up.emit(sa._sharedEvent))},__class__:sa};var Cd=function(){};e["flambe.subsystem.MouseSystem"]=Cd;Cd.__name__=["flambe","subsystem","MouseSystem"];Cd.prototype={__class__:Cd};var ia=function(a){this._pointer=a;this._source=Rc.Mouse(ia._sharedEvent);this.down=
new O;this.move=new O;this.up=new O;this.scroll=new O;this._y=this._x=0;this._cursor=na.Default;this._buttonStates=new oa};e["flambe.platform.BasicMouse"]=ia;ia.__name__=["flambe","platform","BasicMouse"];ia.__interfaces__=[Cd];ia.prototype={set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,Dd.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(ia._sharedEvent))},submitMove:function(a,
b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(ia._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Dd.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(ia._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;ia._sharedEvent.init(ia._sharedEvent.id+
1,a,b,c)},__class__:ia};var Ed=function(){};e["flambe.subsystem.PointerSystem"]=Ed;Ed.__name__=["flambe","subsystem","PointerSystem"];Ed.prototype={__class__:Ed};var Y=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new O;this.move=new O;this.up=new O;this._x=a;this._y=b;this._isDown=c};e["flambe.platform.BasicPointer"]=Y;Y.__name__=["flambe","platform","BasicPointer"];Y.__interfaces__=[Ed];Y.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=
!0;var f=[],d=G.hitTest(j.root,a,b);if(null!=d){var e=d.owner;do{var g=e._compMap.Sprite_0;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerDown(Y._sharedEvent),Y._sharedEvent._stopped)return;this.down.emit(Y._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var f=[],d=G.hitTest(j.root,a,b);if(null!=d){var e=d.owner;do{var g=e._compMap.Sprite_0;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=
0;a<f.length;)if(b=f[a],++a,b.onPointerMove(Y._sharedEvent),Y._sharedEvent._stopped)return;this.move.emit(Y._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var f=[],d=G.hitTest(j.root,a,b);if(null!=d){var e=d.owner;do{var g=e._compMap.Sprite_0;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerUp(Y._sharedEvent),Y._sharedEvent._stopped)return;this.up.emit(Y._sharedEvent)}},prepare:function(a,
b,c,f){this._x=a;this._y=b;Y._sharedEvent.init(Y._sharedEvent.id+1,a,b,c,f)},__class__:Y};var kb=function(a,b,c){this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};e["flambe.platform.BasicTexture"]=kb;kb.__name__=["flambe","platform","BasicTexture"];kb.__interfaces__=[Ce];kb.__super__=da;kb.prototype=s(da.prototype,{onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},
__class__:kb});var De=function(){};e["flambe.subsystem.TouchSystem"]=De;De.__name__=["flambe","subsystem","TouchSystem"];var Ec=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new oa;this._points=[];this.down=new O;this.move=new O;this.up=new O};e["flambe.platform.BasicTouch"]=Ec;Ec.__name__=["flambe","platform","BasicTouch"];Ec.__interfaces__=[De];Ec.prototype={submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var f=new zd(a);f.init(b,c);this._pointMap.h[a]=
f;this._points.push(f);null==this._pointerTouch&&(this._pointerTouch=f,this._pointer.submitDown(b,c,f._source));this.down.emit(f)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var f=this._pointMap.h[a];null!=f&&(f.init(b,c),this._pointMap.remove(a),x.remove(this._points,f),this._pointerTouch==f&&(this._pointerTouch=null,this._pointer.submitUp(b,c,f._source)),this.up.emit(f))},
__class__:Ec};var yb=function(){};e["flambe.sound.Sound"]=yb;yb.__name__=["flambe","sound","Sound"];yb.__interfaces__=[gb];yb.prototype={__class__:yb};var pa=function(){this._disposed=!1;this._playback=new Uc(this)};e["flambe.platform.DummySound"]=pa;pa.__name__=["flambe","platform","DummySound"];pa.__interfaces__=[yb];pa.getInstance=function(){null==pa._instance&&(pa._instance=new pa);return pa._instance};pa.__super__=da;pa.prototype=s(da.prototype,{play:function(){return this._playback},get_duration:function(){return 0},
onDisposed:function(){},__class__:pa});var zb=function(){};e["flambe.sound.Playback"]=zb;zb.__name__=["flambe","sound","Playback"];zb.__interfaces__=[va];zb.prototype={__class__:zb};var Uc=function(a){this._sound=a;this.volume=new S(0);this._complete=new ha(!0)};e["flambe.platform.DummyPlayback"]=Uc;Uc.__name__=["flambe","platform","DummyPlayback"];Uc.__interfaces__=[zb];Uc.prototype={get_sound:function(){return this._sound},get_paused:function(){return!0},set_paused:function(){return!0},get_position:function(){return 0},
dispose:function(){},__class__:Uc};var Vc=function(){};e["flambe.subsystem.StorageSystem"]=Vc;Vc.__name__=["flambe","subsystem","StorageSystem"];Vc.prototype={__class__:Vc};var Ic=function(){this.clear()};e["flambe.platform.DummyStorage"]=Ic;Ic.__name__=["flambe","platform","DummyStorage"];Ic.__interfaces__=[Vc];Ic.prototype={set:function(a,b){this._hash.set(a,b);return!0},clear:function(){this._hash=new ea},__class__:Ic};var Fc=function(){this.down=new O;this.move=new O;this.up=new O};e["flambe.platform.DummyTouch"]=
Fc;Fc.__name__=["flambe","platform","DummyTouch"];Fc.__interfaces__=[De];Fc.prototype={__class__:Fc};var Pb=function(){this._entries=[]};e["flambe.platform.EventGroup"]=Pb;Pb.__name__=["flambe","platform","EventGroup"];Pb.__interfaces__=[va];Pb.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Fd(a,b,c))},addDisposingListener:function(a,b,c){var f=this;this.addListener(a,b,function(a){f.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=
b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:Pb};var Fd=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};e["flambe.platform._EventGroup.Entry"]=Fd;Fd.__name__=["flambe","platform","_EventGroup","Entry"];Fd.prototype={__class__:Fd};var Wc=function(){};e["flambe.platform.InternalGraphics"]=Wc;Wc.__name__=["flambe","platform","InternalGraphics"];Wc.__interfaces__=[vd];Wc.prototype={__class__:Wc};var Gd=function(){};e["flambe.subsystem.RendererSystem"]=
Gd;Gd.__name__=["flambe","subsystem","RendererSystem"];Gd.prototype={__class__:Gd};var Xc=function(){};e["flambe.platform.InternalRenderer"]=Xc;Xc.__name__=["flambe","platform","InternalRenderer"];Xc.__interfaces__=[Gd];Xc.prototype={__class__:Xc};var Bd=function(){};e["flambe.platform.KeyCodes"]=Bd;Bd.__name__=["flambe","platform","KeyCodes"];Bd.toKey=function(a){switch(a){case 65:return d.A;case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;
case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;
case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;
case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;
case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;
case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};var ub=function(){this._tickables=[]};e["flambe.platform.MainLoop"]=ub;ub.__name__=["flambe","platform","MainLoop"];ub.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_4;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var f=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=f}for(c=a.firstChild;null!=c;)f=c.next,ub.updateEntity(c,
b),c=f};ub.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}j.volume.update(a);ub.updateEntity(j.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),G.render(j.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:ub};var Dd=function(){};e["flambe.platform.MouseCodes"]=Dd;Dd.__name__=["flambe","platform","MouseCodes"];Dd.toButton=
function(a){switch(a){case 0:return ka.Left;case 1:return ka.Middle;case 2:return ka.Right}return ka.Unknown(a)};var Uf=function(){};e["flambe.platform.TextureRoot"]=Uf;Uf.__name__=["flambe","platform","TextureRoot"];var Yc=function(){};e["flambe.platform.Tickable"]=Yc;Yc.__name__=["flambe","platform","Tickable"];Yc.prototype={__class__:Yc};var Zc=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};e["flambe.platform.html.CanvasGraphics"]=Zc;Zc.__name__=["flambe","platform",
"html","CanvasGraphics"];Zc.__interfaces__=[Wc];Zc.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,f,d,e){this._canvasCtx.transform(a,b,c,f,d,e)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,f,d,e,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,f,d,e,g),this._canvasCtx.globalCompositeOperation=
"source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+f|0,a.rootY+d|0,e|0,g|0,b|0,c|0,e|0,g|0)},fillRect:function(a,b,c,f,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,f,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+w.string(a);this._canvasCtx.fillStyle="#"+w.string(a);this._canvasCtx.fillRect(b|0,c|0,f|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=
a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,f){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,f|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:Zc};var vb=function(a){this.graphics=new Zc(a,!1);this._hasGPU=
new ha(!0)};e["flambe.platform.html.CanvasRenderer"]=vb;vb.__name__=["flambe","platform","html","CanvasRenderer"];vb.__interfaces__=[Xc];vb.prototype={get_type:function(){return Ya.Canvas},createTextureFromImage:function(a){a=new Qb(vb.CANVAS_TEXTURES?B.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},
__class__:vb};var $c=function(a,b,c){kb.call(this,a,b,c)};e["flambe.platform.html.CanvasTexture"]=$c;$c.__name__=["flambe","platform","html","CanvasTexture"];$c.__super__=kb;$c.prototype=s(kb.prototype,{__class__:$c});var Qb=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};e["flambe.platform.html.CanvasTextureRoot"]=Qb;Qb.__name__=["flambe","platform","html","CanvasTextureRoot"];Qb.__interfaces__=[Uf];Qb.__super__=da;Qb.prototype=s(da.prototype,
{createTexture:function(a,b){return new $c(this,a,b)},onDisposed:function(){this._graphics=this.image=null},__class__:Qb});var K=function(a,b){ib.call(this,a,b)};e["flambe.platform.html.HtmlAssetPackLoader"]=K;K.__name__=["flambe","platform","html","HtmlAssetPackLoader"];K.detectImageFormats=function(a){var b=[u.PNG,u.JPG,u.GIF],c=2,f;f=window.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(u.WEBP);--c;0==c&&a(b)};f.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";
var d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(u.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};K.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==Q(a,a.canPlayType))return[];var b=new ua("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",
""),c=new ua("\\bCrosswalk\\b",""),f=window.navigator.userAgent;if(!F.get_supported()&&b.match(f)&&!c.match(f))return[];b=[{format:u.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:u.MP3,mimeType:"audio/mpeg"},{format:u.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:u.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:u.WAV,mimeType:"audio/wav"}];c=[];for(f=0;f<b.length;){var d=b[f];++f;var e="";try{e=a.canPlayType(d.mimeType)}catch(g){g instanceof o&&(g=g.val)}""!=e&&c.push(d.format)}return c};K.supportsBlob=
function(){if(K._detectBlobSupport){K._detectBlobSupport=!1;if((new ua("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;K._URL=B.loadExtension("URL").value}return null!=K._URL&&null!=K._URL.createObjectURL};K.__super__=ib;K.prototype=s(ib.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var f;
f=window.document.createElement("img");var d=new Pb;d.addDisposingListener(f,"load",function(){K.supportsBlob()&&K._URL.revokeObjectURL(f.src);var a=c._platform.getRenderer().createTextureFromImage(f);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});d.addDisposingListener(f,"error",function(){c.handleError(b,"Failed to load image")});K.supportsBlob()?this.download(a,b,"blob",function(a){f.src=K._URL.createObjectURL(a)}):f.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=
c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(F.get_supported())this.download(a,b,"arraybuffer",function(a){F.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new F(a))},function(){c.handleLoad(b,pa.getInstance())})});else{var e;e=window.document.createElement("audio");e.preload="auto";var g=++K._mediaRefCount;null==K._mediaElements&&(K._mediaElements=new oa);K._mediaElements.h[g]=
e;d=new Pb;d.addDisposingListener(e,"canplaythrough",function(){K._mediaElements.remove(g);c.handleLoad(b,new Rb(e))});d.addDisposingListener(e,"error",function(){K._mediaElements.remove(g);var a=e.error.code;3==a||4==a?c.handleLoad(b,pa.getInstance()):c.handleError(b,"Failed to load audio: "+e.error.code)});d.addListener(e,"progress",function(){if(0<e.buffered.length&&0<e.duration){var a=e.buffered.end(0)/e.duration;c.handleProgress(b,a*b.bytes|0)}});e.src=a;e.load()}break;case 13:this.download(a,
b,"text",function(a){c.handleLoad(b,new Ob(a))})}},getAssetFormats:function(a){var b=this;null==K._supportedFormats&&(K._supportedFormats=new Kb,K.detectImageFormats(function(a){K._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(K.detectAudioFormats()).concat([u.Data]))}));K._supportedFormats.get(a)},download:function(a,b,c,f){var d=this,e=null,g=null,h=0,k=!1,i=function(){k&&(k=!1,window.clearInterval(h))},l=3,m=function(){--l;return 0<=l?(g(),
!0):!1},g=function(){i();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=c;var g=0;e.onprogress=function(a){k||(k=!0,h=window.setInterval(function(){4!=e.readyState&&5E3<Date.now()-g&&!m()&&(i(),d.handleError(b,"Download stalled"))},1E3));g=Date.now();d.handleProgress(b,a.loaded)};e.onerror=function(){if(0!=e.status||!m())i(),d.handleError(b,"HTTP error "+e.status)};e.onload=function(){var a=e.response;null==a&&(a=e.responseText);i();f(a)};e.send()};g()},__class__:K});var Hd=
function(){};e["flambe.subsystem.ExternalSystem"]=Hd;Hd.__name__=["flambe","subsystem","ExternalSystem"];Hd.prototype={__class__:Hd};var Kc=function(){};e["flambe.platform.html.HtmlExternal"]=Kc;Kc.__name__=["flambe","platform","html","HtmlExternal"];Kc.__interfaces__=[Hd];Kc.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,f=c,d=0,e=a.split(".");d<e.length;){var g=e[d];++d;c=f;f=J.field(c,g)}return f.apply(c,b)},bind:function(a,b){J.setField(window,a,b)},__class__:Kc};var Dc=function(a,
b){ia.call(this,a);this._canvas=b};e["flambe.platform.html.HtmlMouse"]=Dc;Dc.__name__=["flambe","platform","html","HtmlMouse"];Dc.__super__=ia;Dc.prototype=s(ia.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return ia.prototype.set_cursor.call(this,a)},__class__:Dc});var Rb=function(a){this._disposed=!1;this.audioElement=a};e["flambe.platform.html.HtmlSound"]=Rb;Rb.__name__=["flambe","platform","html","HtmlSound"];
Rb.__interfaces__=[yb];Rb.__super__=da;Rb.prototype=s(da.prototype,{play:function(a){null==a&&(a=1);return new ad(this,a,!1)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=null},__class__:Rb});var ad=function(a,b,c){var f=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new S(b,function(){f.updateVolume()});this.updateVolume();
this._complete=new ha(!1);this.playAudio();j.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._HtmlSound.HtmlPlayback"]=ad;ad.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];ad.__interfaces__=[Yc,zb];ad.prototype={get_sound:function(){return this._sound},get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_position:function(){return this._clonedElement.currentTime},
update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Xa.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=j.volume.get_changed().connect(function(){a.updateVolume()}),
this._hideBinding=j.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=j.volume._value*this.volume._value},__class__:ad};var Id=function(){};e["flambe.subsystem.StageSystem"]=Id;Id.__name__=["flambe","subsystem","StageSystem"];Id.prototype={__class__:Id};var tb=function(a){var b=this;this._canvas=a;this.resize=new jb;this.preResize=new jb;this.scaleFactor=tb.computeScaleFactor();
1!=this.scaleFactor&&(B.setVendorStyle(this._canvas,"transform-origin","top left"),B.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));B.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){B.callLater(Q(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",Q(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new ha(null);null!=window.orientation&&(window.addEventListener("orientationchange",
Q(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new ha(!1);B.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};e["flambe.platform.html.HtmlStage"]=tb;tb.__name__=["flambe","platform","html","HtmlStage"];tb.__interfaces__=[Id];tb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=B.loadExtension("backingStorePixelRatio",
b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};tb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=window.document.documentElement,b=B.loadFirstExtension(["requestFullscreen","requestFullScreen"],
a).value;null!=b&&b.apply(a,[])}else a=B.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],window.document).value,null!=a&&J.callMethod(window.document,a,[])},onWindowResize:function(){this.preResize.emit();var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,f=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==f)return!1;this._canvas.width=c|0;this._canvas.height=f|0;this.resize.emit();
return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";B.callLater(function(){B.hideMobileBrowser();B.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(B.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==B.loadFirstExtension(["fullscreen","fullScreen",
"isFullScreen"],window.document).value)},__class__:tb};var Hc=function(a){this._storage=a};e["flambe.platform.html.HtmlStorage"]=Hc;Hc.__name__=["flambe","platform","html","HtmlStorage"];Hc.__interfaces__=[Vc];Hc.prototype={set:function(a,b){var c;try{var f=new wa;f.useCache=!0;f.useEnumIndex=!1;f.serialize(b);c=f.toString()}catch(d){return d instanceof o&&(d=d.val),!1}try{this._storage.setItem("flambe:"+a,c)}catch(e){return e instanceof o&&(e=e.val),!1}return!0},__class__:Hc};var B=function(){};
e["flambe.platform.html.HtmlUtil"]=B;B.__name__=["flambe","platform","html","HtmlUtil"];B.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};B.hideMobileBrowser=function(){window.scrollTo(1,0)};B.loadExtension=function(a,b){null==b&&(b=window);var c=J.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+x.substr(a,1,null),f=0,d=B.VENDOR_PREFIXES;f<d.length;){var e=d[f];++f;var g=e+c,h=J.field(b,g);if(null!=h)return{prefix:e,field:g,value:h}}return{prefix:null,
field:null,value:null}};B.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var f=a[c];++c;f=B.loadExtension(f,b);if(null!=f.field)return f}return{prefix:null,field:null,value:null}};B.polyfill=function(a,b){null==b&&(b=window);var c=B.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};B.setVendorStyle=function(a,b,c){for(var a=a.style,f=0,d=B.VENDOR_PREFIXES;f<d.length;){var e=d[f];++f;a.setProperty("-"+e+"-"+b,c)}a.setProperty(b,c)};B.addVendorListener=function(a,b,c,f){for(var d=
0,e=B.VENDOR_PREFIXES;d<e.length;){var g=e[d];++d;a.addEventListener(g+b,c,f)}a.addEventListener(b,c,f)};B.orientation=function(a){switch(a){case -90:case 90:return fb.Landscape;default:return fb.Portrait}};B.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};B.createCanvas=function(a){var b=B.createEmptyCanvas(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};
B.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var Jd=function(){};e["flambe.subsystem.WebSystem"]=Jd;Jd.__name__=["flambe","subsystem","WebSystem"];Jd.prototype={__class__:Jd};var Jc=function(a){this._container=a};e["flambe.platform.html.HtmlWeb"]=Jc;Jc.__name__=["flambe","platform","html","HtmlWeb"];Jc.__interfaces__=[Jd];Jc.prototype={openBrowser:function(a){window.open(a,
"_blank")},__class__:Jc};var F=function(a){this._disposed=!1;this.buffer=a};e["flambe.platform.html.WebAudioSound"]=F;F.__name__=["flambe","platform","html","WebAudioSound"];F.__interfaces__=[yb];F.get_supported=function(){if(F._detectSupport){F._detectSupport=!1;var a=B.loadExtension("AudioContext").value;null!=a&&(F.ctx=new a,F.gain=F.createGain(),F.gain.connect(F.ctx.destination),j.volume.watch(function(a){F.gain.gain.value=a}))}return null!=F.ctx};F.createGain=function(){return null!=F.ctx.createGain?
F.ctx.createGain():F.ctx.createGainNode()};F.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};F.__super__=da;F.prototype=s(da.prototype,{play:function(a){null==a&&(a=1);return new bd(this,a,!1)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:F});var bd=function(a,b,c){var f=this;this._sound=a;this._head=F.gain;this._complete=new ha(!1);this._sourceNode=F.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=
c;this._sourceNode.onended=function(){f._complete.set__(!0)};F.start(this._sourceNode,0);this.playAudio();this.volume=new S(b,function(a){f.setVolume(a)});1!=b&&this.setVolume(b);j.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=bd;bd.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];bd.__interfaces__=[Yc,zb];bd.prototype={get_sound:function(){return this._sound},get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=
0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(F.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},
dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=F.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=F.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Xa.instance.mainLoop.addTickable(this),
this._tickableAdded=!0,this._hideBinding=j.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:bd};var nc=function(){this._width=this._height=-1;this._transitor=null;y.call(this);this.scenes=[];this.occludedScenes=[];this._root=new z};e["flambe.scene.Director"]=nc;nc.__name__=["flambe","scene","Director"];nc.__super__=y;nc.prototype=s(y.prototype,{get_name:function(){return"Director_2"},setSize:function(a,b){this._width=
a;this._height=b;return this},pushScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();null!=f?this.playTransition(f,a,b,function(){c.hide(f)}):(this.add(a),this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();if(null!=f){if(f!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(f,a,b,function(){c.hideAndDispose(f)})}}else this.pushScene(a,
b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);x.remove(this.scenes,
a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_5;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_5;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_5;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=
this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,f){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new Kd(a,b,c,f),this._transitor.init(this)):(f(),this.invalidateVisibility())},__class__:nc});var Kd=function(a,b,c,f){this._from=a;this._to=b;this._transition=c;this._onComplete=f};e["flambe.scene._Director.Transitor"]=Kd;Kd.__name__=["flambe","scene","_Director","Transitor"];Kd.prototype=
{init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:Kd};var Sb=function(){};e["flambe.scene.Transition"]=Sb;Sb.__name__=["flambe","scene","Transition"];Sb.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:Sb};var Za=function(a,b){this._duration=a;this._ease=null!=b?b:M.linear};
e["flambe.scene.TweenTransition"]=Za;Za.__name__=["flambe","scene","TweenTransition"];Za.__super__=Sb;Za.prototype=s(Sb.prototype,{init:function(a,b,c){Sb.prototype.init.call(this,a,b,c);this._elapsed=0},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},interp:function(a,b){return a+(b-a)*this._ease(this._elapsed/this._duration)},__class__:Za});var wc=function(a,b){Za.call(this,a,b)};e["flambe.scene.FadeTransition"]=wc;wc.__name__=["flambe","scene","FadeTransition"];wc.__super__=
Za;wc.prototype=s(Za.prototype,{init:function(a,b,c){Za.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_0;null==a&&this._to.add(a=new G);a.alpha.set__(0)},update:function(a){a=Za.prototype.update.call(this,a);this._to._compMap.Sprite_0.alpha.set__(this.interp(0,1));return a},complete:function(){this._to._compMap.Sprite_0.alpha.set__(1)},__class__:wc});var Ld=function(){};e["flambe.scene.Scene"]=Ld;Ld.__name__=["flambe","scene","Scene"];Ld.__super__=y;Ld.prototype=s(y.prototype,{get_name:function(){return"Scene_5"},
__class__:Ld});var Ab=function(){};e["flambe.script.Action"]=Ab;Ab.__name__=["flambe","script","Action"];Ab.prototype={__class__:Ab};var rb=function(a){this._fn=a};e["flambe.script.CallFunction"]=rb;rb.__name__=["flambe","script","CallFunction"];rb.__interfaces__=[Ab];rb.prototype={update:function(){this._fn();return 0},__class__:rb};var Ib=function(a){this._duration=a;this._elapsed=0};e["flambe.script.Delay"]=Ib;Ib.__name__=["flambe","script","Delay"];Ib.__interfaces__=[Ab];Ib.prototype={update:function(a){this._elapsed+=
a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:Ib};var mc=function(a,b){null==b&&(b=-1);this._action=a;this._remaining=this._count=b};e["flambe.script.Repeat"]=mc;mc.__name__=["flambe","script","Repeat"];mc.__interfaces__=[Ab];mc.prototype={update:function(a,b){if(0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&0<=c&&0==--this._remaining?(this._remaining=this._count,c):-1},__class__:mc};var Gb=function(){y.call(this);
this.stopAll()};e["flambe.script.Script"]=Gb;Gb.__name__=["flambe","script","Script"];Gb.__super__=y;Gb.prototype=s(y.prototype,{get_name:function(){return"Script_3"},run:function(a){a=new cd(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:Gb});var cd=function(a){this.removed=!1;this.action=a};e["flambe.script._Script.Handle"]=
cd;cd.__name__=["flambe","script","_Script","Handle"];cd.__interfaces__=[va];cd.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:cd};var Hb=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};e["flambe.script.Sequence"]=Hb;Hb.__name__=["flambe","script","Sequence"];Hb.__interfaces__=[Ab];Hb.prototype={update:function(a,b){for(var c=0;;){var f=this._runningActions[this._idx];if(null!=f)if(f=f.update(a-c,b),0<=f)c+=f;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=
0;break}else if(c>a)return-1}return c},__class__:Hb};var Ya=e["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};Ya.Stage3D=["Stage3D",0];Ya.Stage3D.__enum__=Ya;Ya.WebGL=["WebGL",1];Ya.WebGL.__enum__=Ya;Ya.Canvas=["Canvas",2];Ya.Canvas.__enum__=Ya;var Be=function(){};e["flambe.util.Assert"]=Be;Be.__name__=["flambe","util","Assert"];Be.that=function(){};var td=function(){};e["flambe.util.BitSets"]=td;td.__name__=["flambe",
"util","BitSets"];td.set=function(a,b,c){return c?a|b:a&~b};var Kb=function(){this.success=new O;this.error=new O;this.progressChanged=new jb;this.hasResult=!1;this._total=this._progress=0};e["flambe.util.Promise"]=Kb;Kb.__name__=["flambe","util","Promise"];Kb.prototype={set_result:function(a){if(this.hasResult)throw new o("Promise result already assigned");this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},
set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:Kb};var jb=function(a){W.call(this,a)};e["flambe.util.Signal0"]=jb;jb.__name__=["flambe","util","Signal0"];jb.__super__=W;jb.prototype=s(W.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==W.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):
this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:jb});var nd=function(a){this.next=null;this.fn=a};e["flambe.util._SignalBase.Task"]=nd;nd.__name__=["flambe","util","_SignalBase","Task"];nd.prototype={__class__:nd};var ca=function(){};e["flambe.util.Strings"]=ca;ca.__name__=["flambe","util","Strings"];ca.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?x.substr(a,b+1,null):null};
ca.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?x.substr(a,0,b):a};ca.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=x.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=x.substr(a,b+1,null));return ca.getFileExtension(a)};ca.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};ca.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",f=0;f<c;){0<f&&(a+=", ");var d=b[f],e=b[f+1];if(w.is(e,Error)){var g=e.stack;
null!=g&&(e=g)}a+=d+"="+w.string(e);f+=2}a+="]"}return a};var Md=function(){};e["haxe.IMap"]=Md;Md.__name__=["haxe","IMap"];var ld=function(a){this.url=a;this.headers=new eb;this.params=new eb;this.async=!0};e["haxe.Http"]=ld;ld.__name__=["haxe","Http"];ld.prototype={addParameter:function(a,b){this.params.push({param:a,value:b});return this},request:function(a){var b=this;b.responseData=null;var c=this.req=Gc.createXMLHttpRequest(),f=function(){if(4==c.readyState){var a;try{a=c.status}catch(f){f instanceof
o&&(f=f.val),a=null}if(null!=a){var d=window.location.protocol.toLowerCase();(new ua("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(d)&&(a=null!=c.responseText?200:404)}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.req=null,b.onData(b.responseData=c.responseText);else if(null==a)b.req=null,b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.req=null;b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");
break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=f);var d=this.postData;if(null!=d)a=!0;else for(var e=this.params.h,g=null;null!=e;)g=e[0],e=e[1],d=null==d?"":d+"&",d+=encodeURIComponent(g.param)+"="+encodeURIComponent(g.value);try{if(a)c.open("POST",this.url,this.async);else if(null!=d){var h=1>=this.url.split("?").length;c.open("GET",this.url+(h?"?":"&")+d,this.async);d=null}else c.open("GET",this.url,this.async)}catch(k){k instanceof
o&&(k=k.val);b.req=null;this.onError(k.toString());return}!qb.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=this.headers.h;for(e=null;null!=a;)e=a[0],a=a[1],c.setRequestHeader(e.header,e.value);c.send(d);this.async||f(null)},onData:function(){},onError:function(){},onStatus:function(){},__class__:ld};var Nd=function(a,b){this.high=a;this.low=b};e["haxe._Int64.___Int64"]=Nd;Nd.__name__=
["haxe","_Int64","___Int64"];Nd.prototype={__class__:Nd};var wa=function(){this.buf=new ra;this.cache=[];this.useCache=wa.USE_CACHE;this.useEnumIndex=wa.USE_ENUM_INDEX;this.shash=new ea;this.scount=0};e["haxe.Serializer"]=wa;wa.__name__=["haxe","Serializer"];wa.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),
this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,f=this.cache.length;c<f;){var d=c++,e=this.cache[d];if(typeof e==b&&e==a)return this.buf.b+="r",this.buf.b=null==d?this.buf.b+"null":this.buf.b+(""+d),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=J.fields(a);b<c.length;){var f=c[b];++b;this.serializeString(f);this.serialize(J.field(a,
f))}this.buf.b+="g"},serialize:function(a){var b=P["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&
this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,f=0;f<c;){var d=f++;null==a[d]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[d]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case eb:this.buf.b+="l";a=a.h;for(b=null;null!=a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";
this.buf.add(a.getTime());break;case ea:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=lb[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case oa:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case mb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),f=J.field(c,"__id__"),J.deleteField(c,"__id__"),this.serialize(c),
c.__id__=f,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Bb:f=0;d=a.length-2;b=new ra;for(c=wa.BASE64;f<d;){var e=a.get(f++),g=a.get(f++),h=a.get(f++);b.add(c.charAt(e>>2));b.add(c.charAt((e<<4|g>>4)&63));b.add(c.charAt((g<<2|h>>6)&63));b.add(c.charAt(h&63))}f==d?(d=a.get(f++),a=a.get(f++),b.add(c.charAt(d>>2)),b.add(c.charAt((d<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):f==d+1&&(a=a.get(f++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+
"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(P.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(P.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(L.__instanceof(a,Wf))a=P.getClassName(a),this.buf.b+="A",this.serializeString(a);
else if(L.__instanceof(a,Xf))this.buf.b+="B",this.serializeString(P.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(P.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=w.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=w.string(b-2);for(c=
2;c<b;)f=c++,this.serialize(a[f]);this.useCache&&this.cache.push(a);break;case 5:throw new o("Cannot serialize function");default:throw new o("Cannot serialize "+w.string(a));}},__class__:wa};var aa=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=aa.DEFAULT_RESOLVER;null==a&&(a=P,aa.DEFAULT_RESOLVER=a);this.setResolver(a)};e["haxe.Unserializer"]=aa;aa.__name__=["haxe","Unserializer"];aa.initCodes=function(){for(var a=[],b=0,c=aa.BASE64.length;b<c;){var f=b++;
a[aa.BASE64.charCodeAt(f)]=f}return a};aa.run=function(a){return(new aa(a)).unserialize()};aa.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var f=this.buf.charCodeAt(this.pos);if(f!=f)break;if(45==f){if(this.pos!=c)break;b=!0}else{if(48>f||57<f)break;a=10*a+(f-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=
this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return w.parseFloat(x.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new o("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new o("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new o("Invalid enum format");
var c=this.readDigits();if(0==c)return P.createEnum(a,b);for(var f=[];0<c--;)f.push(this.unserialize());return P.createEnum(a,b,f)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid string length");var b=x.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));
this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new o("Invalid reference");return this.cache[a];case 82:a=this.readDigits();
if(0>a||a>=this.scache.length)throw new o("Invalid string reference");return this.scache[a];case 120:throw new o(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=P.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=
this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);this.pos++;var c=this.readDigits(),f=P.getEnumConstructs(b)[c];if(null==f)throw new o("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,f);this.cache.push(a);return a;case 108:a=new eb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new ea;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());
this.pos++;return a;case 113:a=new oa;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new o("Invalid IntMap format");return a;case 77:a=new mb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+
1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=x.substr(this.buf,this.pos,19),a=x.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();f=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid bytes length");var d=aa.CODES;null==d&&(d=aa.initCodes(),aa.CODES=d);
for(var e=this.pos,g=a&3,h=e+(a-g),b=Bb.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;e<h;){var k=d[H.fastCodeAt(f,e++)],i=d[H.fastCodeAt(f,e++)];b.set(c++,k<<2|i>>4);k=d[H.fastCodeAt(f,e++)];b.set(c++,i<<4|k>>2);i=d[H.fastCodeAt(f,e++)];b.set(c++,k<<6|i)}2<=g&&(i=d[H.fastCodeAt(f,e++)],h=d[H.fastCodeAt(f,e++)],b.set(c++,i<<2|h>>4),3==g&&(f=d[H.fastCodeAt(f,e++)],b.set(c++,h<<4|f>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+
a);a=P.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new o("Invalid custom data");return a;case 65:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);return b}this.pos--;throw new o("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:aa};var oa=function(){this.h=
{}};e["haxe.ds.IntMap"]=oa;oa.__name__=["haxe","ds","IntMap"];oa.__interfaces__=[Md];oa.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return x.iter(a)},__class__:oa};var mb=function(){this.h={};this.h.__keys__={}};e["haxe.ds.ObjectMap"]=mb;mb.__name__=["haxe","ds","ObjectMap"];mb.__interfaces__=[Md];mb.prototype={set:function(a,b){var c=a.__id__||
(a.__id__=++mb.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return x.iter(a)},__class__:mb};var Tc=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};e["haxe.ds._StringMap.StringMapIterator"]=Tc;Tc.__name__=["haxe","ds","_StringMap","StringMapIterator"];Tc.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:Tc};
var ea=function(){this.h={}};e["haxe.ds.StringMap"]=ea;ea.__name__=["haxe","ds","StringMap"];ea.__interfaces__=[Md];ea.prototype={set:function(a,b){null!=lb[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=lb[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=lb[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==
this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){var a=this.arrayKeys();return x.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new Tc(this,this.arrayKeys())},__class__:ea};var Bb=function(a){this.length=a.byteLength;this.b=new Vf(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};e["haxe.io.Bytes"]=Bb;Bb.__name__=["haxe","io","Bytes"];
Bb.alloc=function(a){return new Bb(new Ee(a))};Bb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Bb};var xa=e["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};xa.Blocked=["Blocked",0];xa.Blocked.__enum__=xa;xa.Overflow=["Overflow",1];xa.Overflow.__enum__=xa;xa.OutsideBounds=["OutsideBounds",2];xa.OutsideBounds.__enum__=xa;xa.Custom=function(a){a=["Custom",3,a];a.__enum__=xa;return a};var ya=
function(){};e["haxe.io.FPHelper"]=ya;ya.__name__=["haxe","io","FPHelper"];ya.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};ya.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};ya.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&
1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};ya.doubleToI64=function(a){var b=ya.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Nc=function(){};e["haxe.rtti.Meta"]=Nc;Nc.__name__=["haxe","rtti","Meta"];Nc.getType=function(a){a=Nc.getMeta(a);
return null==a||null==a.obj?{}:a.obj};Nc.getMeta=function(a){return a.__meta__};var Od=function(a){this.__x=a};e["haxe.xml._Fast.NodeAccess"]=Od;Od.__name__=["haxe","xml","_Fast","NodeAccess"];Od.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==p.Document?"Document":this.__x.get_nodeName(),new o(b+" is missing element "+a);return new Jb(b)},__class__:Od};var Pd=function(a){this.__x=a};e["haxe.xml._Fast.AttribAccess"]=Pd;Pd.__name__=["haxe",
"xml","_Fast","AttribAccess"];Pd.prototype={resolve:function(a){if(this.__x.nodeType==p.Document)throw new o("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new o(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:Pd};var Qd=function(a){this.__x=a};e["haxe.xml._Fast.HasAttribAccess"]=Qd;Qd.__name__=["haxe","xml","_Fast","HasAttribAccess"];Qd.prototype={__class__:Qd};var Rd=function(a){this.__x=a};e["haxe.xml._Fast.HasNodeAccess"]=Rd;Rd.__name__=["haxe",
"xml","_Fast","HasNodeAccess"];Rd.prototype={__class__:Rd};var Sd=function(a){this.__x=a};e["haxe.xml._Fast.NodeListAccess"]=Sd;Sd.__name__=["haxe","xml","_Fast","NodeListAccess"];Sd.prototype={resolve:function(a){for(var b=new eb,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Jb(c))}return b},__class__:Sd};var Jb=function(a){if(a.nodeType!=p.Document&&a.nodeType!=p.Element)throw new o("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Od(a);this.nodes=new Sd(a);this.att=new Pd(a);
this.has=new Qd(a);this.hasNode=new Rd(a)};e["haxe.xml.Fast"]=Jb;Jb.__name__=["haxe","xml","Fast"];Jb.prototype={get_name:function(){return this.x.nodeType==p.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new o(this.get_name()+" does not have data");var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==p.PCData&&c.nodeType==p.CData&&""==H.trim(function(){if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+
b.nodeType);return b.nodeValue}(this))){var d=a.next();if(null==d||d.nodeType==p.PCData&&""==H.trim(function(){if(d.nodeType==p.Document||d.nodeType==p.Element)throw new o("Bad node type, unexpected "+d.nodeType);return d.nodeValue}(this))&&null==a.next()){if(c.nodeType==p.Document||c.nodeType==p.Element)throw new o("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new o(this.get_name()+" does not only have data");}if(b.nodeType!=p.PCData&&b.nodeType!=p.CData)throw new o(this.get_name()+
" does not have data");if(b.nodeType==p.Document||b.nodeType==p.Element)throw new o("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:Jb};var Wa=function(){};e["haxe.xml.Parser"]=Wa;Wa.__name__=["haxe","xml","Parser"];Wa.parse=function(a,b){null==b&&(b=!1);var c=p.createDocument();Wa.doParse(a,b,0,c);return c};Wa.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,g=1,h=1,k=null,i=0,l=0,m=0,j=a.charCodeAt(c),n=new ra,q=1,r=-1;j==j;){switch(g){case 0:switch(j){case 10:case 13:case 9:case 32:break;
default:g=h;continue}break;case 1:switch(j){case 60:g=0;h=2;break;default:i=c;g=13;continue}break;case 13:60==j?(n.addSub(a,i,c-i),h=p.createPCData(n.b),n=new ra,d.addChild(h),l++,g=0,h=2):38==j&&(n.addSub(a,i,c-i),g=18,q=13,i=c+1);break;case 17:93==j&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(j=p.createCData(x.substr(a,i,c-i)),d.addChild(j),l++,c+=2,g=1);break;case 2:switch(j){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=x.substr(a,c,6).toUpperCase())throw new o("Expected <![CDATA[");
c+=5;g=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=x.substr(a,c+2,6).toUpperCase())throw new o("Expected <!DOCTYPE");c+=8;g=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new o("Expected <\!--");c+=2;g=15}i=c+1;break;case 63:g=14;i=c;break;case 47:if(null==d)throw new o("Expected node name");i=c+1;g=0;h=10;break;default:g=3;i=c;continue}break;case 3:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(c==i)throw new o("Expected node name");
e=p.createElement(x.substr(a,i,c-i));d.addChild(e);l++;g=0;h=4;continue}break;case 4:switch(j){case 47:g=11;break;case 62:g=9;break;default:g=5;i=c;continue}break;case 5:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(i==c)throw new o("Expected attribute name");k=x.substr(a,i,c-i);if(e.exists(k))throw new o("Duplicate attribute");g=0;h=6;continue}break;case 6:switch(j){case 61:g=0;h=7;break;default:throw new o("Expected =");}break;case 7:switch(j){case 34:case 39:n=
new ra;g=8;i=c+1;r=j;break;default:throw new o('Expected "');}break;case 8:switch(j){case 38:n.addSub(a,i,c-i);g=18;q=8;i=c+1;break;case 62:if(b)throw new o("Invalid unescaped "+String.fromCharCode(j)+" in attribute value");j==r&&(n.addSub(a,i,c-i),h=n.b,n=new ra,e.set(k,h),g=0,h=4);break;case 60:if(b)throw new o("Invalid unescaped "+String.fromCharCode(j)+" in attribute value");j==r&&(n.addSub(a,i,c-i),h=n.b,n=new ra,e.set(k,h),g=0,h=4);break;default:j==r&&(n.addSub(a,i,c-i),h=n.b,n=new ra,e.set(k,
h),g=0,h=4)}break;case 9:i=c=Wa.doParse(a,b,c,e);g=1;break;case 11:switch(j){case 62:g=1;break;default:throw new o("Expected >");}break;case 12:switch(j){case 62:return 0==l&&d.addChild(p.createPCData("")),c;default:throw new o("Expected >");}case 10:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(i==c)throw new o("Expected node name");h=x.substr(a,i,c-i);if(d.nodeType!=p.Element)throw new o("Bad node type, expected Element but found "+d.nodeType);if(h!=d.nodeName)throw new o("Expected </"+
function(){if(d.nodeType!=p.Element)throw"Bad node type, expected Element but found "+d.nodeType;return d.nodeName}(this)+">");g=0;h=12;continue}break;case 15:45==j&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(j=p.createComment(x.substr(a,i,c-i)),d.addChild(j),l++,c+=2,g=1);break;case 16:91==j?m++:93==j?m--:62==j&&0==m&&(j=p.createDocType(x.substr(a,i,c-i)),d.addChild(j),l++,g=1);break;case 14:63==j&&62==a.charCodeAt(c+1)&&(c++,j=x.substr(a,i+1,c-i-2),j=p.createProcessingInstruction(j),d.addChild(j),
l++,g=1);break;case 18:if(59==j){i=x.substr(a,i,c-i);if(35==i.charCodeAt(0))i=120==i.charCodeAt(1)?w.parseInt("0"+x.substr(i,1,i.length-1)):w.parseInt(x.substr(i,1,i.length-1)),n.b+=String.fromCharCode(i);else if(Wa.escapes.exists(i))n.add(Wa.escapes.get(i));else{if(b)throw new o("Undefined entity: "+i);n.b+=w.string("&"+i+";")}i=c+1;g=q}else if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)&&35!=j){if(b)throw new o("Invalid character in entity: "+String.fromCharCode(j));
n.b+="&";n.addSub(a,i,c-i);c--;i=c+1;g=q}}j=H.fastCodeAt(a,++c)}1==g&&(i=c,g=13);if(13==g){if(c!=i||0==l)n.addSub(a,i,c-i),a=p.createPCData(n.b),d.addChild(a),l++;return c}if(!b&&18==g&&13==q)return n.b+="&",n.addSub(a,i,c-i),a=p.createPCData(n.b),d.addChild(a),l++,c;throw new o("Unexpected end");};var o=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,o)};e["js._Boot.HaxeError"]=o;o.__name__=["js","_Boot","HaxeError"];o.__super__=Error;
o.prototype=s(Error.prototype,{__class__:o});var L=function(){};e["js.Boot"]=L;L.__name__=["js","Boot"];L.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=L.__nativeClassName(a);return null!=a?L.__resolveNativeClass(a):null};L.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+L.__string_rec(a[g],b)):c+L.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+L.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(h){return h instanceof o&&(h=h.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==
c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+L.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};L.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++,g=c[g];if(g==b||L.__interfLoop(g,b))return!0}return L.__interfLoop(a.__super__,b)};L.__instanceof=function(a,
b){if(null==b)return!1;switch(b){case ag:return(a|0)===a;case Yf:return"number"==typeof a;case Zf:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case bg:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||L.__interfLoop(L.getClass(a),b))return!0}else{if("object"==typeof b&&L.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Wf&&null!=a.__name__||b==Xf&&null!=a.__ename__?!0:a.__enum__==b}};L.__nativeClassName=
function(a){a=L.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};L.__isNativeObj=function(a){return null!=L.__nativeClassName(a)};L.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var Gc=function(){};e["js.Browser"]=Gc;Gc.__name__=["js","Browser"];Gc.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof o&&(b=b.val),null}};Gc.createXMLHttpRequest=
function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new o("Unable to create XMLHttpRequest object.");};var za=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};e["js.html.compat.ArrayBuffer"]=za;za.__name__=["js","html","compat","ArrayBuffer"];za.sliceImpl=function(a,b){var c=new Vf(this,
a,null==b?null:b-a),d=new Ee(c.byteLength);(new Vf(d)).set(c);return d};za.prototype={slice:function(a,b){return new za(this.a.slice(a,b))},__class__:za};var Fe=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new o(xa.OutsideBounds);};e["js.html.compat.DataView"]=Fe;Fe.__name__=["js","html","compat","DataView"];Fe.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];
return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],g=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|g<<16|c<<24:c|g<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,
b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return ya.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return ya.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>
8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,ya.floatToI32(b),c)},setFloat64:function(a,b,c){b=ya.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),
this.setUint32(a,b.low))},__class__:Fe};var $a=function(){};e["js.html.compat.Uint8Array"]=$a;$a.__name__=["js","html","compat","Uint8Array"];$a._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new za(c)}else if(L.__instanceof(a,za))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,
c.byteOffset=0,c.buffer=new za(c);else throw new o("TODO "+w.string(a));c.subarray=$a._subarray;c.set=$a._set;return c};$a._set=function(a,b){if(L.__instanceof(a.buffer,za)){if(a.byteLength+b>this.byteLength)throw new o("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new o("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new o("TODO");};$a._subarray=
function(a,b){var c=$a._new(this.slice(a,b));c.byteOffset=a;return c};var Aa=function(){this.zpp_inner=null};e["nape.callbacks.Callback"]=Aa;Aa.__name__=["nape","callbacks","Callback"];Aa.prototype={toString:function(){return""},__class__:Aa};var Td=function(){};e["nape.callbacks.BodyCallback"]=Td;Td.__name__=["nape","callbacks","BodyCallback"];Td.__super__=Aa;Td.prototype=s(Aa.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.body.outer.toString();
return a+=" : listener: "+w.string(this.zpp_inner.listener.outer)},__class__:Td});var Ba=function(){this.zpp_inner=null};e["nape.callbacks.Listener"]=Ba;Ba.__name__=["nape","callbacks","Listener"];Ba.prototype={toString:function(){var a="BEGIN,END,WAKE,SLEEP,BREAK,PRE,ONGOING".split(",")[this.zpp_inner.event];if(0==this.zpp_inner.type)return"BodyListener{"+a+"::"+w.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(1==this.zpp_inner.type)return"ConstraintListener{"+a+"::"+w.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+
"}";var b=this.zpp_inner.interaction,c;switch(b.itype){case 1:c="COLLISION";break;case 2:c="SENSOR";break;case 4:c="FLUID";break;default:c="ALL"}return(2==this.zpp_inner.type?"InteractionListener{"+a+"#"+c+"::"+w.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+w.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+c+"::"+w.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+w.string(b.outer_znp.zpp_inner_zn.options2.outer)+"}")+" precedence="+this.zpp_inner.precedence},__class__:Ba};
var Ud=function(){this.zpp_inner_zn=null};e["nape.callbacks.BodyListener"]=Ud;Ud.__name__=["nape","callbacks","BodyListener"];Ud.__super__=Ba;Ud.prototype=s(Ba.prototype,{__class__:Ud});var Ua=function(){};e["nape.callbacks.CbEvent"]=Ua;Ua.__name__=["nape","callbacks","CbEvent"];Ua.prototype={toString:function(){var a;null==g.CbEvent_PRE&&(g.internal=!0,g.CbEvent_PRE=new Ua,g.internal=!1);this==g.CbEvent_PRE?a="PRE":(null==g.CbEvent_BEGIN&&(g.internal=!0,g.CbEvent_BEGIN=new Ua,g.internal=!1),this==
g.CbEvent_BEGIN?a="BEGIN":(null==g.CbEvent_ONGOING&&(g.internal=!0,g.CbEvent_ONGOING=new Ua,g.internal=!1),this==g.CbEvent_ONGOING?a="ONGOING":(null==g.CbEvent_END&&(g.internal=!0,g.CbEvent_END=new Ua,g.internal=!1),this==g.CbEvent_END?a="END":(null==g.CbEvent_WAKE&&(g.internal=!0,g.CbEvent_WAKE=new Ua,g.internal=!1),this==g.CbEvent_WAKE?a="WAKE":(null==g.CbEvent_SLEEP&&(g.internal=!0,g.CbEvent_SLEEP=new Ua,g.internal=!1),this==g.CbEvent_SLEEP?a="SLEEP":(null==g.CbEvent_BREAK&&(g.internal=!0,g.CbEvent_BREAK=
new Ua,g.internal=!1),a=this==g.CbEvent_BREAK?"BREAK":""))))));return a},__class__:Ua};var Cb=function(){this.zpp_inner=null;this.zpp_inner=new ta;this.zpp_inner.outer=this};e["nape.callbacks.CbType"]=Cb;Cb.__name__=["nape","callbacks","CbType"];Cb.prototype={toString:function(){return this==ta.ANY_BODY?"ANY_BODY":this==ta.ANY_SHAPE?"ANY_SHAPE":this==ta.ANY_COMPOUND?"ANY_COMPOUND":this==ta.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},__class__:Cb};var Ca=function(){this.zpp_next=null;
this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.callbacks.CbTypeIterator"]=Ca;Ca.__name__=["nape","callbacks","CbTypeIterator"];Ca.get=function(a){var b;null==Ca.zpp_pool?(Va.internal=!0,b=new Ca,Va.internal=!1):(b=Ca.zpp_pool,Ca.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ca.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ca.zpp_pool;Ca.zpp_pool=
this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ca};var Vd=function(){this.zpp_inner=null;this.zpp_inner=new Va;this.zpp_inner.outer=this};e["nape.callbacks.CbTypeList"]=Vd;Vd.__name__=["nape","callbacks","CbTypeList"];Vd.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ca.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Vd};var Wd=function(){};e["nape.callbacks.ConstraintCallback"]=Wd;Wd.__name__=["nape","callbacks","ConstraintCallback"];Wd.__super__=Aa;Wd.prototype=s(Aa.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.constraint.outer.toString();return a+=" : listener: "+w.string(this.zpp_inner.listener.outer)},__class__:Wd});var Xd=function(){this.zpp_inner_zn=
null};e["nape.callbacks.ConstraintListener"]=Xd;Xd.__name__=["nape","callbacks","ConstraintListener"];Xd.__super__=Ba;Xd.prototype=s(Ba.prototype,{__class__:Xd});var Yd=function(){};e["nape.callbacks.InteractionCallback"]=Yd;Yd.__name__=["nape","callbacks","InteractionCallback"];Yd.__super__=Aa;Yd.prototype=s(Aa.prototype,{toString:function(){var a;a="Cb:"+"BEGIN,END,,,,,ONGOING".split(",")[this.zpp_inner.event];a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();
a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+=" : listener: "+w.string(this.zpp_inner.listener.outer)},__class__:Yd});var Zd=function(){this.zpp_inner_zn=null};e["nape.callbacks.InteractionListener"]=Zd;Zd.__name__=["nape","callbacks","InteractionListener"];Zd.__super__=Ba;Zd.prototype=s(Ba.prototype,{__class__:Zd});var Db=function(){};e["nape.callbacks.InteractionType"]=Db;Db.__name__=["nape","callbacks","InteractionType"];Db.prototype={toString:function(){var a;null==g.InteractionType_COLLISION&&
(g.internal=!0,g.InteractionType_COLLISION=new Db,g.internal=!1);this==g.InteractionType_COLLISION?a="COLLISION":(null==g.InteractionType_SENSOR&&(g.internal=!0,g.InteractionType_SENSOR=new Db,g.internal=!1),this==g.InteractionType_SENSOR?a="SENSOR":(null==g.InteractionType_FLUID&&(g.internal=!0,g.InteractionType_FLUID=new Db,g.internal=!1),this==g.InteractionType_FLUID?a="FLUID":(null==g.InteractionType_ANY&&(g.internal=!0,g.InteractionType_ANY=new Db,g.internal=!1),a=this==g.InteractionType_ANY?
"ANY":"")));return a},__class__:Db};var Da=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.callbacks.ListenerIterator"]=Da;Da.__name__=["nape","callbacks","ListenerIterator"];Da.get=function(a){var b;null==Da.zpp_pool?(Tb.internal=!0,b=new Da,Tb.internal=!1):(b=Da.zpp_pool,Da.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Da.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=
!0;if(this.zpp_i<a)return!0;this.zpp_next=Da.zpp_pool;Da.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Da};var Ge=function(){this.zpp_inner=null};e["nape.callbacks.ListenerList"]=Ge;Ge.__name__=["nape","callbacks","ListenerList"];Ge.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Da.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Ge};var Eb=function(){};e["nape.callbacks.ListenerType"]=Eb;Eb.__name__=["nape","callbacks","ListenerType"];Eb.prototype={toString:function(){var a;null==g.ListenerType_BODY&&(g.internal=!0,g.ListenerType_BODY=new Eb,g.internal=!1);this==g.ListenerType_BODY?a="BODY":(null==g.ListenerType_CONSTRAINT&&(g.internal=!0,g.ListenerType_CONSTRAINT=new Eb,g.internal=!1),this==g.ListenerType_CONSTRAINT?
a="CONSTRAINT":(null==g.ListenerType_INTERACTION&&(g.internal=!0,g.ListenerType_INTERACTION=new Eb,g.internal=!1),this==g.ListenerType_INTERACTION?a="INTERACTION":(null==g.ListenerType_PRE&&(g.internal=!0,g.ListenerType_PRE=new Eb,g.internal=!1),a=this==g.ListenerType_PRE?"PRE":"")));return a},__class__:Eb};var He=function(){this.zpp_inner=null};e["nape.callbacks.OptionType"]=He;He.__name__=["nape","callbacks","OptionType"];He.prototype={toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();
var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:He};var $d=function(){};e["nape.callbacks.PreCallback"]=$d;$d.__name__=["nape","callbacks","PreCallback"];$d.__super__=Aa;$d.prototype=s(Aa.prototype,{toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString());a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();
return a+=" : listnener: "+w.string(this.zpp_inner.listener.outer)},__class__:$d});var Ea=function(){};e["nape.callbacks.PreFlag"]=Ea;Ea.__name__=["nape","callbacks","PreFlag"];Ea.prototype={toString:function(){var a;null==g.PreFlag_ACCEPT&&(g.internal=!0,g.PreFlag_ACCEPT=new Ea,g.internal=!1);this==g.PreFlag_ACCEPT?a="ACCEPT":(null==g.PreFlag_IGNORE&&(g.internal=!0,g.PreFlag_IGNORE=new Ea,g.internal=!1),this==g.PreFlag_IGNORE?a="IGNORE":(null==g.PreFlag_ACCEPT_ONCE&&(g.internal=!0,g.PreFlag_ACCEPT_ONCE=
new Ea,g.internal=!1),this==g.PreFlag_ACCEPT_ONCE?a="ACCEPT_ONCE":(null==g.PreFlag_IGNORE_ONCE&&(g.internal=!0,g.PreFlag_IGNORE_ONCE=new Ea,g.internal=!1),a=this==g.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")));return a},__class__:Ea};var ae=function(){this.zpp_inner_zn=null};e["nape.callbacks.PreListener"]=ae;ae.__name__=["nape","callbacks","PreListener"];ae.__super__=Ba;ae.prototype=s(Ba.prototype,{__class__:ae});var Ie=function(){};e["nape.constraint.Constraint"]=Ie;Ie.__name__=["nape","constraint",
"Constraint"];Ie.prototype={toString:function(){return"{Constraint}"},__class__:Ie};var Fa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.constraint.ConstraintIterator"]=Fa;Fa.__name__=["nape","constraint","ConstraintIterator"];Fa.get=function(a){var b;null==Fa.zpp_pool?(Ub.internal=!0,b=new Fa,Ub.internal=!1):(b=Fa.zpp_pool,Fa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Fa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();
var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Fa.zpp_pool;Fa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Fa};var Je=function(){this.zpp_inner=null};e["nape.constraint.ConstraintList"]=Je;Je.__name__=["nape","constraint","ConstraintList"];Je.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=
this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();
for(c=Fa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Je};var nb=function(){this.zpp_inner=null};e["nape.dynamics.Arbiter"]=nb;nb.__name__=["nape","dynamics","Arbiter"];nb.prototype={get_state:function(){var a=this.zpp_inner.immState;if(5==a)return null==g.PreFlag_ACCEPT&&(g.internal=!0,g.PreFlag_ACCEPT=new Ea,g.internal=!1),g.PreFlag_ACCEPT;switch(a){case 1:return null==g.PreFlag_ACCEPT_ONCE&&
(g.internal=!0,g.PreFlag_ACCEPT_ONCE=new Ea,g.internal=!1),g.PreFlag_ACCEPT_ONCE;default:if(6==a)return null==g.PreFlag_IGNORE&&(g.internal=!0,g.PreFlag_IGNORE=new Ea,g.internal=!1),g.PreFlag_IGNORE;null==g.PreFlag_IGNORE_ONCE&&(g.internal=!0,g.PreFlag_IGNORE_ONCE=new Ea,g.internal=!1);return g.PreFlag_IGNORE_ONCE}},toString:function(){var a;a=this.zpp_inner.type==$.COL?"CollisionArbiter":this.zpp_inner.type==$.FLUID?"FluidArbiter":"SensorArbiter";return this.zpp_inner.cleared?a+"(object-pooled)":
a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).toString()+"|"+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+")"+(this.zpp_inner.type==$.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()},__class__:nb};var Ga=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.ArbiterIterator"]=Ga;Ga.__name__=
["nape","dynamics","ArbiterIterator"];Ga.get=function(a){var b;null==Ga.zpp_pool?(Vb.internal=!0,b=new Ga,Vb.internal=!1):(b=Ga.zpp_pool,Ga.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ga.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ga.zpp_pool;Ga.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},
__class__:Ga};var Ke=function(){this.zpp_inner=null};e["nape.dynamics.ArbiterList"]=Ke;Ke.__name__=["nape","dynamics","ArbiterList"];Ke.prototype={zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&
(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();
return Ga.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Ke};var Wb=function(){};e["nape.dynamics.ArbiterType"]=Wb;Wb.__name__=["nape","dynamics","ArbiterType"];Wb.prototype={toString:function(){var a;null==g.ArbiterType_COLLISION&&(g.internal=!0,g.ArbiterType_COLLISION=new Wb,g.internal=!1);this==g.ArbiterType_COLLISION?a="COLLISION":(null==
g.ArbiterType_SENSOR&&(g.internal=!0,g.ArbiterType_SENSOR=new Wb,g.internal=!1),this==g.ArbiterType_SENSOR?a="SENSOR":(null==g.ArbiterType_FLUID&&(g.internal=!0,g.ArbiterType_FLUID=new Wb,g.internal=!1),a=this==g.ArbiterType_FLUID?"FLUID":""));return a},__class__:Wb};var dd=function(){this.zpp_inner=null};e["nape.dynamics.CollisionArbiter"]=dd;dd.__name__=["nape","dynamics","CollisionArbiter"];dd.__super__=nb;dd.prototype=s(nb.prototype,{__class__:dd});var be=function(){this.zpp_inner=null};e["nape.dynamics.Contact"]=
be;be.__name__=["nape","dynamics","Contact"];be.prototype={toString:function(){return null==this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:be};var Ha=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.ContactIterator"]=Ha;Ha.__name__=["nape","dynamics","ContactIterator"];Ha.get=function(a){var b;null==Ha.zpp_pool?(Xb.internal=!0,b=new Ha,Xb.internal=!1):(b=Ha.zpp_pool,Ha.zpp_pool=b.zpp_next);b.zpp_i=
0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ha.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ha.zpp_pool;Ha.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ha};var Le=function(){this.zpp_inner=null};e["nape.dynamics.ContactList"]=Le;Le.__name__=["nape","dynamics","ContactList"];Le.prototype={get_length:function(){this.zpp_inner.valmod();
if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var b=this.zpp_inner.at_ite;
if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}return this.zpp_inner.at_ite.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ha.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||
(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Le};var ed=function(){this.zpp_inner=null};e["nape.dynamics.FluidArbiter"]=ed;ed.__name__=["nape","dynamics","FluidArbiter"];ed.__super__=nb;ed.prototype=s(nb.prototype,{__class__:ed});var Me=function(){};e["nape.dynamics.InteractionFilter"]=Me;Me.__name__=["nape","dynamics","InteractionFilter"];Me.prototype={__class__:Me};var Ne=function(){this.zpp_inner=null};e["nape.dynamics.InteractionGroup"]=Ne;Ne.__name__=["nape","dynamics",
"InteractionGroup"];Ne.prototype={toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:Ne};var Ia=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.dynamics.InteractionGroupIterator"]=Ia;Ia.__name__=["nape","dynamics","InteractionGroupIterator"];Ia.get=function(a){var b;null==Ia.zpp_pool?(Yb.internal=!0,b=new Ia,Yb.internal=!1):(b=Ia.zpp_pool,Ia.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=
!1;return b};Ia.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ia.zpp_pool;Ia.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ia};var Oe=function(){this.zpp_inner=null};e["nape.dynamics.InteractionGroupList"]=Oe;Oe.__name__=["nape","dynamics","InteractionGroupList"];Oe.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},
toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ia.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Oe};var Pe=function(){this.zpp_inner=null};e["nape.geom.AABB"]=Pe;Pe.__name__=["nape","geom","AABB"];Pe.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:Pe};var Qe=function(){this.zpp_inner=null};e["nape.geom.ConvexResult"]=Qe;Qe.__name__=
["nape","geom","ConvexResult"];Qe.prototype={toString:function(){return"{ shape: "+w.string(this.zpp_inner.shape)+" toi: "+this.zpp_inner.toiDistance+" }"},__class__:Qe};var Ja=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.ConvexResultIterator"]=Ja;Ja.__name__=["nape","geom","ConvexResultIterator"];Ja.get=function(a){var b;null==Ja.zpp_pool?(Zb.internal=!0,b=new Ja,Zb.internal=!1):(b=Ja.zpp_pool,Ja.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=
!1;return b};Ja.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ja.zpp_pool;Ja.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ja};var Re=function(){this.zpp_inner=null};e["nape.geom.ConvexResultList"]=Re;Re.__name__=["nape","geom","ConvexResultList"];Re.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},
toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ja.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Re};var Se=function(){this.zpp_inner=null};e["nape.geom.GeomPoly"]=Se;Se.__name__=["nape","geom","GeomPoly"];Se.prototype={toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var d=b;d!=this.zpp_inner.vertices&&(a+=",");a+="{"+
d.x+","+d.y+"}";b=b.next}while(b!=c)}return a+"]"},__class__:Se};var Ka=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.GeomPolyIterator"]=Ka;Ka.__name__=["nape","geom","GeomPolyIterator"];Ka.get=function(a){var b;null==Ka.zpp_pool?($b.internal=!0,b=new Ka,$b.internal=!1):(b=Ka.zpp_pool,Ka.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ka.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();
this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ka.zpp_pool;Ka.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ka};var Te=function(){this.zpp_inner=null};e["nape.geom.GeomPolyList"]=Te;Te.__name__=["nape","geom","GeomPolyList"];Te.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ka.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Te};var Ue=function(){this.zpp_inner=null};e["nape.geom.Mat23"]=Ue;Ue.__name__=["nape","geom","Mat23"];Ue.prototype={toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},__class__:Ue};var Ve=function(){this.zpp_inner=null};e["nape.geom.MatMN"]=Ve;Ve.__name__=["nape",
"geom","MatMN"];Ve.prototype={toString:function(){for(var a="{ ",b=!0,c=0,d=this.zpp_inner.m;c<d;){var e=c++;b||(a+="; ");for(var b=!1,g=0,h=this.zpp_inner.n;g<h;)var i=g++,a=a+(this.zpp_inner.x[e*this.zpp_inner.n+i]+" ")}return a+"}"},__class__:Ve};var We=function(){this.zpp_inner=null};e["nape.geom.RayResult"]=We;We.__name__=["nape","geom","RayResult"];We.prototype={toString:function(){return"{ shape: "+w.string(this.zpp_inner.shape)+" distance: "+this.zpp_inner.toiDistance+" ?inner: "+w.string(this.zpp_inner.inner)+
" }"},__class__:We};var La=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.RayResultIterator"]=La;La.__name__=["nape","geom","RayResultIterator"];La.get=function(a){var b;null==La.zpp_pool?(ac.internal=!0,b=new La,ac.internal=!1):(b=La.zpp_pool,La.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};La.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<
a)return!0;this.zpp_next=La.zpp_pool;La.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:La};var Xe=function(){this.zpp_inner=null};e["nape.geom.RayResultList"]=Xe;Xe.__name__=["nape","geom","RayResultList"];Xe.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();
this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=La.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");
a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Xe};var ce=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=null;this.zpp_inner=Ma.get(a,b,null);this.zpp_inner.outer=this};e["nape.geom.Vec2"]=ce;ce.__name__=["nape","geom","Vec2"];ce.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:ce};var Na=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.geom.Vec2Iterator"]=Na;Na.__name__=["nape",
"geom","Vec2Iterator"];Na.get=function(a){var b;null==Na.zpp_pool?(bc.internal=!0,b=new Na,bc.internal=!1):(b=Na.zpp_pool,Na.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Na.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Na.zpp_pool;Na.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Na};
var Ye=function(){this.zpp_inner=null};e["nape.geom.Vec2List"]=Ye;Ye.__name__=["nape","geom","Vec2List"];Ye.prototype={zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();return Na.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:Ye};var Ze=function(){this.zpp_inner=
null};e["nape.geom.Vec3"]=Ze;Ze.__name__=["nape","geom","Vec3"];Ze.prototype={toString:function(){this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";this.zpp_inner.validate();a=a+this.zpp_inner.y+" z: ";this.zpp_inner.validate();return a+this.zpp_inner.z+" }"},__class__:Ze};var cc=function(){};e["nape.geom.Winding"]=cc;cc.__name__=["nape","geom","Winding"];cc.prototype={toString:function(){var a;null==g.Winding_UNDEFINED&&(g.internal=!0,g.Winding_UNDEFINED=new cc,g.internal=!1);this==
g.Winding_UNDEFINED?a="UNDEFINED":(null==g.Winding_CLOCKWISE&&(g.internal=!0,g.Winding_CLOCKWISE=new cc,g.internal=!1),this==g.Winding_CLOCKWISE?a="CLOCKWISE":(null==g.Winding_ANTICLOCKWISE&&(g.internal=!0,g.Winding_ANTICLOCKWISE=new cc,g.internal=!1),a=this==g.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""));return a},__class__:cc};var ab=function(){this.zpp_inner_i=null};e["nape.phys.Interactor"]=ab;ab.__name__=["nape","phys","Interactor"];ab.prototype={toString:function(){return""},__class__:ab};var de=
function(){this.zpp_inner=null};e["nape.phys.Body"]=de;de.__name__=["nape","phys","Body"];de.__super__=ab;de.prototype=s(ab.prototype,{toString:function(){return(this.zpp_inner.world?"(space::world":"("+(2==this.zpp_inner.type?"dynamic":1==this.zpp_inner.type?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:de});var Oa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.BodyIterator"]=Oa;Oa.__name__=["nape","phys","BodyIterator"];Oa.get=function(a){var b;
null==Oa.zpp_pool?(dc.internal=!0,b=new Oa,dc.internal=!1):(b=Oa.zpp_pool,Oa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Oa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Oa.zpp_pool;Oa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Oa};var $e=function(){this.zpp_inner=null};e["nape.phys.BodyList"]=
$e;$e.__name__=["nape","phys","BodyList"];$e.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=
a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Oa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:$e};var ec=function(){};e["nape.phys.BodyType"]=ec;ec.__name__=["nape","phys","BodyType"];ec.prototype={toString:function(){var a;null==g.BodyType_STATIC&&(g.internal=
!0,g.BodyType_STATIC=new ec,g.internal=!1);this==g.BodyType_STATIC?a="STATIC":(null==g.BodyType_DYNAMIC&&(g.internal=!0,g.BodyType_DYNAMIC=new ec,g.internal=!1),this==g.BodyType_DYNAMIC?a="DYNAMIC":(null==g.BodyType_KINEMATIC&&(g.internal=!0,g.BodyType_KINEMATIC=new ec,g.internal=!1),a=this==g.BodyType_KINEMATIC?"KINEMATIC":""));return a},__class__:ec};var ee=function(){};e["nape.phys.Compound"]=ee;ee.__name__=["nape","phys","Compound"];ee.__super__=ab;ee.prototype=s(ab.prototype,{toString:function(){return"Compound"+
this.zpp_inner_i.id},__class__:ee});var Pa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.CompoundIterator"]=Pa;Pa.__name__=["nape","phys","CompoundIterator"];Pa.get=function(a){var b;null==Pa.zpp_pool?(fc.internal=!0,b=new Pa,fc.internal=!1):(b=Pa.zpp_pool,Pa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Pa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=
!0;if(this.zpp_i<a)return!0;this.zpp_next=Pa.zpp_pool;Pa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Pa};var af=function(){this.zpp_inner=null};e["nape.phys.CompoundList"]=af;af.__name__=["nape","phys","CompoundList"];af.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},
at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Pa.get(this);c.hasNext();){var d;c.zpp_critical=
!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:af};var bf=function(){this.zpp_inner=null};e["nape.phys.FluidProperties"]=bf;bf.__name__=["nape","phys","FluidProperties"];bf.prototype={toString:function(){return"{ density: "+1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+w.string(this.zpp_inner.wrap_gravity)+" }"},__class__:bf};var gc=function(){};e["nape.phys.GravMassMode"]=gc;gc.__name__=["nape","phys","GravMassMode"];
gc.prototype={toString:function(){var a;null==g.GravMassMode_DEFAULT&&(g.internal=!0,g.GravMassMode_DEFAULT=new gc,g.internal=!1);this==g.GravMassMode_DEFAULT?a="DEFAULT":(null==g.GravMassMode_FIXED&&(g.internal=!0,g.GravMassMode_FIXED=new gc,g.internal=!1),this==g.GravMassMode_FIXED?a="FIXED":(null==g.GravMassMode_SCALED&&(g.internal=!0,g.GravMassMode_SCALED=new gc,g.internal=!1),a=this==g.GravMassMode_SCALED?"SCALED":""));return a},__class__:gc};var fd=function(){};e["nape.phys.InertiaMode"]=fd;
fd.__name__=["nape","phys","InertiaMode"];fd.prototype={toString:function(){var a;null==g.InertiaMode_DEFAULT&&(g.internal=!0,g.InertiaMode_DEFAULT=new fd,g.internal=!1);this==g.InertiaMode_DEFAULT?a="DEFAULT":(null==g.InertiaMode_FIXED&&(g.internal=!0,g.InertiaMode_FIXED=new fd,g.internal=!1),a=this==g.InertiaMode_FIXED?"FIXED":"");return a},__class__:fd};var Qa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.phys.InteractorIterator"]=Qa;Qa.__name__=["nape",
"phys","InteractorIterator"];Qa.get=function(a){var b;null==Qa.zpp_pool?(hc.internal=!0,b=new Qa,hc.internal=!1):(b=Qa.zpp_pool,Qa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Qa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Qa.zpp_pool;Qa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},
__class__:Qa};var cf=function(){this.zpp_inner=null};e["nape.phys.InteractorList"]=cf;cf.__name__=["nape","phys","InteractorList"];cf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=
a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Qa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:cf};var gd=function(){};e["nape.phys.MassMode"]=gd;gd.__name__=["nape",
"phys","MassMode"];gd.prototype={toString:function(){var a;null==g.MassMode_DEFAULT&&(g.internal=!0,g.MassMode_DEFAULT=new gd,g.internal=!1);this==g.MassMode_DEFAULT?a="DEFAULT":(null==g.MassMode_FIXED&&(g.internal=!0,g.MassMode_FIXED=new gd,g.internal=!1),a=this==g.MassMode_FIXED?"FIXED":"");return a},__class__:gd};var df=function(){this.zpp_inner=null};e["nape.phys.Material"]=df;df.__name__=["nape","phys","Material"];df.prototype={toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+
" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+this.zpp_inner.staticFriction+" density: "+1E3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:df};var ob=function(){this.zpp_inner=null};e["nape.shape.Shape"]=ob;ob.__name__=["nape","shape","Shape"];ob.__super__=ab;ob.prototype=s(ab.prototype,{toString:function(){return(0==this.zpp_inner.type?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:ob});var fe=function(){};e["nape.shape.Circle"]=
fe;fe.__name__=["nape","shape","Circle"];fe.__super__=ob;fe.prototype=s(ob.prototype,{__class__:fe});var ge=function(){this.zpp_inner=null};e["nape.shape.Edge"]=ge;ge.__name__=["nape","shape","Edge"];ge.prototype={toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";this.zpp_inner.polygon.validate_gaxi();
return"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:ge};var Ra=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};e["nape.shape.EdgeIterator"]=Ra;Ra.__name__=["nape","shape","EdgeIterator"];Ra.get=function(a){var b;null==Ra.zpp_pool?(ic.internal=!0,b=new Ra,ic.internal=!1):(b=Ra.zpp_pool,Ra.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=
a;b.zpp_critical=!1;return b};Ra.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ra.zpp_pool;Ra.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ra};var ef=function(){this.zpp_inner=null};e["nape.shape.EdgeList"]=ef;ef.__name__=["nape","shape","EdgeList"];ef.prototype={get_length:function(){this.zpp_inner.valmod();
this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;
return this.zpp_inner.at_ite.elt.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ra.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:ef};var he=function(){};e["nape.shape.Polygon"]=he;he.__name__=["nape","shape","Polygon"];he.__super__=ob;he.prototype=s(ob.prototype,{__class__:he});var Sa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=
null};e["nape.shape.ShapeIterator"]=Sa;Sa.__name__=["nape","shape","ShapeIterator"];Sa.get=function(a){var b;null==Sa.zpp_pool?(jc.internal=!0,b=new Sa,jc.internal=!1):(b=Sa.zpp_pool,Sa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Sa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Sa.zpp_pool;Sa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=
!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Sa};var ff=function(){this.zpp_inner=null};e["nape.shape.ShapeList"]=ff;ff.__name__=["nape","shape","ShapeList"];ff.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==
this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Sa.get(this);c.hasNext();){var d;c.zpp_critical=!1;d=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==d?a+"NULL":a+d.toString();b=!1}return a+"]"},__class__:ff};var hd=function(){};
e["nape.shape.ShapeType"]=hd;hd.__name__=["nape","shape","ShapeType"];hd.prototype={toString:function(){var a;null==g.ShapeType_CIRCLE&&(g.internal=!0,g.ShapeType_CIRCLE=new hd,g.internal=!1);this==g.ShapeType_CIRCLE?a="CIRCLE":(null==g.ShapeType_POLYGON&&(g.internal=!0,g.ShapeType_POLYGON=new hd,g.internal=!1),a=this==g.ShapeType_POLYGON?"POLYGON":"");return a},__class__:hd};var Fb=function(){};e["nape.shape.ValidationResult"]=Fb;Fb.__name__=["nape","shape","ValidationResult"];Fb.prototype={toString:function(){var a;
null==g.ValidationResult_VALID&&(g.internal=!0,g.ValidationResult_VALID=new Fb,g.internal=!1);this==g.ValidationResult_VALID?a="VALID":(null==g.ValidationResult_DEGENERATE&&(g.internal=!0,g.ValidationResult_DEGENERATE=new Fb,g.internal=!1),this==g.ValidationResult_DEGENERATE?a="DEGENERATE":(null==g.ValidationResult_CONCAVE&&(g.internal=!0,g.ValidationResult_CONCAVE=new Fb,g.internal=!1),this==g.ValidationResult_CONCAVE?a="CONCAVE":(null==g.ValidationResult_SELF_INTERSECTING&&(g.internal=!0,g.ValidationResult_SELF_INTERSECTING=
new Fb,g.internal=!1),a=this==g.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")));return a},__class__:Fb};var id=function(){};e["nape.space.Broadphase"]=id;id.__name__=["nape","space","Broadphase"];id.prototype={toString:function(){var a;null==g.Broadphase_DYNAMIC_AABB_TREE&&(g.internal=!0,g.Broadphase_DYNAMIC_AABB_TREE=new id,g.internal=!1);this==g.Broadphase_DYNAMIC_AABB_TREE?a="DYNAMIC_AABB_TREE":(null==g.Broadphase_SWEEP_AND_PRUNE&&(g.internal=!0,g.Broadphase_SWEEP_AND_PRUNE=new id,
g.internal=!1),a=this==g.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":"");return a},__class__:id};var gf=function(){};e["nape.space.Space"]=gf;gf.__name__=["nape","space","Space"];gf.prototype={__class__:gf};var jd=function(){};e["zpp_nape.ZPP_ID"]=jd;jd.__name__=["zpp_nape","ZPP_ID"];jd.CbType=function(){return jd._CbType++};var hf=function(){this.listener=this.int1=this.int2=this.wrap_arbiters=this.pre_arbiter=this.body=this.constraint=null;this.event=0};e["zpp_nape.callbacks.ZPP_Callback"]=hf;
hf.__name__=["zpp_nape","callbacks","ZPP_Callback"];hf.prototype={__class__:hf};var ie=function(){};e["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=ie;ie.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"];ie.prototype={__class__:ie};var je=function(){};e["zpp_nape.util.ZNPList_ZPP_BodyListener"]=je;je.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];je.prototype={__class__:je};var ke=function(){};e["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=ke;ke.__name__=["zpp_nape","util",
"ZNPList_ZPP_ConstraintListener"];ke.prototype={__class__:ke};var le=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Constraint"]=le;le.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];le.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:le};var me=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Interactor"]=me;me.__name__=["zpp_nape","util",
"ZNPList_ZPP_Interactor"];me.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:me};var ne=function(){};e["zpp_nape.util.ZNPList_ZPP_CbSet"]=ne;ne.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];ne.prototype={__class__:ne};var ta=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=null;this.id=jd.CbType();this.listeners=new ie;this.bodylisteners=new je;this.conlisteners=new ke;this.constraints=new le;
this.interactors=new me;this.cbsets=new ne};e["zpp_nape.callbacks.ZPP_CbType"]=ta;ta.__name__=["zpp_nape","callbacks","ZPP_CbType"];ta.prototype={__class__:ta};var g=function(){};e["zpp_nape.util.ZPP_Flags"]=g;g.__name__=["zpp_nape","util","ZPP_Flags"];var bb=function(){this.body=this.constraint=this.interaction=null;this.type=this.event=this.precedence=0;this.outer=null};e["zpp_nape.callbacks.ZPP_Listener"]=bb;bb.__name__=["zpp_nape","callbacks","ZPP_Listener"];bb.prototype={__class__:bb};var oe=
function(){this.outer_zn=this.options=null};e["zpp_nape.callbacks.ZPP_BodyListener"]=oe;oe.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];oe.__super__=bb;oe.prototype=s(bb.prototype,{__class__:oe});var pe=function(){this.outer_zn=this.options=null};e["zpp_nape.callbacks.ZPP_ConstraintListener"]=pe;pe.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];pe.__super__=bb;pe.prototype=s(bb.prototype,{__class__:pe});var qe=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};
e["zpp_nape.util.ZNPList_ZPP_CbType"]=qe;qe.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"];qe.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:qe};var re=function(){this.options1=this.options2=null;this.itype=0;this.outer_zni=this.outer_znp=null};e["zpp_nape.callbacks.ZPP_InteractionListener"]=re;re.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];re.__super__=bb;re.prototype=s(bb.prototype,{__class__:re});var jf=function(){this.outer=
this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=null};e["zpp_nape.callbacks.ZPP_OptionType"]=jf;jf.__name__=["zpp_nape","callbacks","ZPP_OptionType"];jf.prototype={setup_includes:function(){this.wrap_includes=Va.get(this.includes,!0)},setup_excludes:function(){this.wrap_excludes=Va.get(this.excludes,!0)},__class__:jf};var kf=function(){this.outer=null};e["zpp_nape.constraint.ZPP_Constraint"]=kf;kf.__name__=["zpp_nape","constraint","ZPP_Constraint"];kf.prototype={__class__:kf};var $=
function(){this.colarb=this.fluidarb=null;this.type=0;this.ws1=this.ws2=null;this.immState=0;this.active=this.cleared=!1;this.outer=null};e["zpp_nape.dynamics.ZPP_Arbiter"]=$;$.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];$.prototype={wrapper:function(){null==this.outer&&($.internal=!0,this.type==$.COL?(this.colarb.outer_zn=new dd,this.outer=this.colarb.outer_zn):this.type==$.FLUID?(this.fluidarb.outer_zn=new ed,this.outer=this.fluidarb.outer_zn):this.outer=new nb,this.outer.zpp_inner=this,$.internal=
!1);return this.outer},__class__:$};var se=function(){this.outer_zn=null};e["zpp_nape.dynamics.ZPP_FluidArbiter"]=se;se.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"];se.__super__=$;se.prototype=s($.prototype,{__class__:se});var te=function(){this.stat=!1;this.outer_zn=null};e["zpp_nape.dynamics.ZPP_ColArbiter"]=te;te.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];te.__super__=$;te.prototype=s($.prototype,{__class__:te});var kc=function(){this.modified=this.pushmod=!1;this.next=null;this.active=
!1;this.outer=this.arbiter=null};e["zpp_nape.dynamics.ZPP_Contact"]=kc;kc.__name__=["zpp_nape","dynamics","ZPP_Contact"];kc.prototype={wrapper:function(){null==this.outer&&(kc.internal=!0,this.outer=new be,kc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:kc};var lf=function(){this.ignore=!1;this.outer=null};e["zpp_nape.dynamics.ZPP_InteractionGroup"]=lf;lf.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];lf.prototype={__class__:lf};var mf=function(){this.minx=this.miny=
this.maxx=this.maxy=0;this._validate=null};e["zpp_nape.geom.ZPP_AABB"]=mf;mf.__name__=["zpp_nape","geom","ZPP_AABB"];mf.prototype={validate:function(){null!=this._validate&&this._validate()},toString:function(){return"{ x: "+this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},__class__:mf};var nf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Vec2"]=nf;nf.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"];nf.prototype=
{iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:nf};var of=function(){this.toiDistance=0;this.inner=!1;this.shape=null};e["zpp_nape.geom.ZPP_ConvexRayResult"]=of;of.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"];of.prototype={__class__:of};var pf=function(){this.next=null;this.x=this.y=0};e["zpp_nape.geom.ZPP_GeomVert"]=pf;pf.__name__=["zpp_nape","geom","ZPP_GeomVert"];pf.prototype={__class__:pf};var qf=function(){this.outer=this.vertices=null};e["zpp_nape.geom.ZPP_GeomPoly"]=
qf;qf.__name__=["zpp_nape","geom","ZPP_GeomPoly"];qf.prototype={__class__:qf};var rf=function(){this.a=this.b=this.c=this.d=this.tx=this.ty=0};e["zpp_nape.geom.ZPP_Mat23"]=rf;rf.__name__=["zpp_nape","geom","ZPP_Mat23"];rf.prototype={__class__:rf};var sf=function(){this.x=null;this.m=this.n=0};e["zpp_nape.geom.ZPP_MatMN"]=sf;sf.__name__=["zpp_nape","geom","ZPP_MatMN"];sf.prototype={__class__:sf};var Ma=function(){this.length=this.x=this.y=0;this.modified=this.pushmod=!1;this.next=null;this.weak=!1;
this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};e["zpp_nape.geom.ZPP_Vec2"]=Ma;Ma.__name__=["zpp_nape","geom","ZPP_Vec2"];Ma.get=function(a,b,c){null==c&&(c=!1);var d;null==Ma.zpp_pool?d=new Ma:(d=Ma.zpp_pool,Ma.zpp_pool=d.next,d.next=null);d.weak=!1;d._immutable=c;d.x=a;d.y=b;return d};Ma.prototype={validate:function(){null!=this._validate&&this._validate()},wrapper:function(){if(null==this.outer){this.outer=new ce;var a=this.outer.zpp_inner;null!=a.outer&&
(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=Ma.zpp_pool;Ma.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:Ma};var tf=function(){this._validate=null;this.x=this.y=this.z=0};e["zpp_nape.geom.ZPP_Vec3"]=tf;tf.__name__=["zpp_nape","geom","ZPP_Vec3"];
tf.prototype={validate:function(){null!=this._validate&&this._validate()},__class__:tf};var cb=function(){this.id=0;this.outer_i=null};e["zpp_nape.phys.ZPP_Interactor"]=cb;cb.__name__=["zpp_nape","phys","ZPP_Interactor"];cb.prototype={__class__:cb};var ue=function(){this.zip_axis=!1;this.type=this.posx=this.posy=this.rot=this.axisx=this.axisy=0;this.world=!1;this.outer=null};e["zpp_nape.phys.ZPP_Body"]=ue;ue.__name__=["zpp_nape","phys","ZPP_Body"];ue.__super__=cb;ue.prototype=s(cb.prototype,{validate_axis:function(){this.zip_axis&&
(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},__class__:ue});var ve=function(){this.outer=null};e["zpp_nape.phys.ZPP_Compound"]=ve;ve.__name__=["zpp_nape","phys","ZPP_Compound"];ve.__super__=cb;ve.prototype=s(cb.prototype,{__class__:ve});var uf=function(){this.wrap_gravity=null;this.viscosity=this.density=0};e["zpp_nape.phys.ZPP_FluidProperties"]=uf;uf.__name__=["zpp_nape","phys","ZPP_FluidProperties"];uf.prototype={__class__:uf};var vf=function(){this.dynamicFriction=
this.staticFriction=this.density=this.elasticity=this.rollingFriction=0};e["zpp_nape.phys.ZPP_Material"]=vf;vf.__name__=["zpp_nape","phys","ZPP_Material"];vf.prototype={__class__:vf};var pb=function(){this.circle=this.polygon=null;this.inertia=this.localCOMx=this.localCOMy=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null};e["zpp_nape.shape.ZPP_Shape"]=pb;pb.__name__=["zpp_nape","shape","ZPP_Shape"];pb.__super__=cb;pb.prototype=s(cb.prototype,{validate_area_inertia:function(){this.zip_area_inertia&&
(this.zip_area_inertia=!1,0==this.type?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},__class__:pb});var we=function(){this.radius=0};e["zpp_nape.shape.ZPP_Circle"]=we;we.__name__=["zpp_nape","shape","ZPP_Circle"];we.__super__=pb;we.prototype=s(pb.prototype,{__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=0.5*a+(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},__class__:we});var lc=function(){this.tp0=this.tp1=
0;this.lp0=this.gp0=this.lp1=this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.polygon=this.outer=null};e["zpp_nape.shape.ZPP_Edge"]=lc;lc.__name__=["zpp_nape","shape","ZPP_Edge"];lc.prototype={wrapper:function(){null==this.outer&&(lc.internal=!0,this.outer=new ge,lc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:lc};var xe=function(){this.reverse_flag=this.zip_lverts=
this.zip_laxi=this.zip_gverts=this.zip_gaxi=!1;this.edgeCnt=0;this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=this.edges=this.wrap_edges=null};e["zpp_nape.shape.ZPP_Polygon"]=xe;xe.__name__=["zpp_nape","shape","ZPP_Polygon"];xe.__super__=pb;xe.prototype=s(pb.prototype,{validate_lverts:function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),this.area=-this.area)))},reverse_vertices:function(){this.lverts.reverse();
this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();
for(var a=this.edges.head,b=this.lverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;e.lp0=c;e.lp1=d;var g=0,h=0,g=c.x-d.x,h=c.y-d.y,i=Math.sqrt(g*g+h*h);e.length=i;i=1/i;g*=i;h*=i;i=g;g=-h;h=i;e.lprojection=g*c.x+h*c.y;e.lnormx=g;e.lnormy=h;null!=e.wrap_lnorm&&(e.wrap_lnorm.zpp_inner.x=g,e.wrap_lnorm.zpp_inner.y=h);c=d;b=b.next}e=this.lverts.next;a=a.elt;a.lp0=c;a.lp1=e;d=b=0;b=c.x-e.x;d=c.y-e.y;e=Math.sqrt(b*b+d*d);a.length=e;e=1/e;g=b*e;b=-(d*e);d=g;a.lprojection=b*c.x+d*c.y;a.lnormx=b;
a.lnormy=d;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=d)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=b;){var c=b,d=a,a=a.next;c.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);c.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=
!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,c=b,b=b.next;null!=b;){var d=b,e=a.elt,a=a.next;e.gp0=c;e.gp1=d;e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy;e.gnormy=e.lnormx*this.body.axisx+e.lnormy*this.body.axisy;e.gprojection=this.body.posx*e.gnormx+this.body.posy*e.gnormy+e.lprojection;null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy);e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy;
e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy;c=d;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=c;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_area_inertia:function(){if(null==
this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=this.area=0;else{for(var a=this.area=0,b=0,c=this.lverts.next,d=c,e=c=c.next,c=c.next;null!=c;){var g=c,h=e.y*d.x-e.x*d.y,a=a+h*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y)),b=b+h;this.area+=e.x*(g.y-d.y);d=e;e=g;c=c.next}h=c=this.lverts.next;g=e.y*d.x-e.x*d.y;a+=g*(e.x*e.x+e.y*e.y+(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(h.y-d.y);d=e;e=h;c=c.next;h=e.y*d.x-e.x*d.y;a+=h*(e.x*e.x+e.y*e.y+
(e.x*d.x+e.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=e.x*(c.y-d.y);this.inertia=a/(6*(b+g+h));this.area*=0.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},__class__:xe});var wf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Shape"]=wf;wf.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];wf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:wf};var xf=function(){this.length=0;this.modified=
this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Body"]=xf;xf.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];xf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:xf};var yf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Compound"]=yf;yf.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];yf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:yf};
var zf=function(){this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Arbiter"]=zf;zf.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];zf.prototype={__class__:zf};var Af=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Edge"]=Af;Af.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];Af.prototype={insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==db.zpp_pool?c=new db:(c=db.zpp_pool,
db.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=db.zpp_pool;db.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},reverse:function(){for(var a=
this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Af};var Bf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_Listener"]=Bf;Bf.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];Bf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Bf};var Cf=function(){this.length=
0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=Cf;Cf.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];Cf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Cf};var Df=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ConvexResult"]=Df;Df.__name__=["zpp_nape","util","ZNPList_ConvexResult"];Df.prototype={iterator_at:function(a){for(var b=this.head;0<
a--&&null!=b;)b=b.next;return b},__class__:Df};var Ef=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=Ef;Ef.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"];Ef.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Ef};var Ff=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};e["zpp_nape.util.ZNPList_RayResult"]=Ff;Ff.__name__=["zpp_nape","util","ZNPList_RayResult"];Ff.prototype=
{iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Ff};var Gf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_CbType"]=Gf;Gf.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"];Gf.prototype={__class__:Gf};var Hf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Shape"]=Hf;Hf.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];Hf.prototype={__class__:Hf};var If=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Body"]=
If;If.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"];If.prototype={__class__:If};var Jf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Constraint"]=Jf;Jf.__name__=["zpp_nape","util","ZNPNode_ZPP_Constraint"];Jf.prototype={__class__:Jf};var Kf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Compound"]=Kf;Kf.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];Kf.prototype={__class__:Kf};var Lf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=
Lf;Lf.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];Lf.prototype={__class__:Lf};var Mf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Interactor"]=Mf;Mf.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"];Mf.prototype={__class__:Mf};var Nf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Vec2"]=Nf;Nf.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];Nf.prototype={__class__:Nf};var db=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Edge"]=db;
db.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"];db.prototype={__class__:db};var Of=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_Listener"]=Of;Of.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"];Of.prototype={__class__:Of};var Pf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=Pf;Pf.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"];Pf.prototype={__class__:Pf};var Qf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ConvexResult"]=
Qf;Qf.__name__=["zpp_nape","util","ZNPNode_ConvexResult"];Qf.prototype={__class__:Qf};var Rf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=Rf;Rf.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];Rf.prototype={__class__:Rf};var Sf=function(){this.next=this.elt=null};e["zpp_nape.util.ZNPNode_RayResult"]=Sf;Sf.__name__=["zpp_nape","util","ZNPNode_RayResult"];Sf.prototype={__class__:Sf};var Ub=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;
this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ConstraintList"]=Ub;Ub.__name__=["zpp_nape","util","ZPP_ConstraintList"];Ub.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Ub};var dc=
function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_BodyList"]=dc;dc.__name__=["zpp_nape","util","ZPP_BodyList"];dc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=
!1,null!=this._validate&&this._validate())},__class__:dc};var hc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_InteractorList"]=hc;hc.__name__=["zpp_nape","util","ZPP_InteractorList"];hc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=
!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:hc};var fc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_CompoundList"]=fc;fc.__name__=["zpp_nape","util","ZPP_CompoundList"];fc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&
(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:fc};var Tb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ListenerList"]=Tb;Tb.__name__=["zpp_nape","util","ZPP_ListenerList"];Tb.prototype=
{valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Tb};var Va=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;
this.inner=new qe;this._invalidated=!0};e["zpp_nape.util.ZPP_CbTypeList"]=Va;Va.__name__=["zpp_nape","util","ZPP_CbTypeList"];Va.get=function(a,b){null==b&&(b=!1);var c=new Vd;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};Va.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=
!1,null!=this._validate&&this._validate())},__class__:Va};var bc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_Vec2List"]=bc;bc.__name__=["zpp_nape","util","ZPP_Vec2List"];bc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=
!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:bc};var $b=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_GeomPolyList"]=$b;$b.__name__=["zpp_nape","util","ZPP_GeomPolyList"];$b.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),
this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:$b};var ac=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_RayResultList"]=ac;ac.__name__=["zpp_nape","util","ZPP_RayResultList"];ac.prototype={valmod:function(){this.validate();
this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:ac};var Zb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ConvexResultList"]=Zb;Zb.__name__=["zpp_nape",
"util","ZPP_ConvexResultList"];Zb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Zb};var ic=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=
!1;this.inner=null};e["zpp_nape.util.ZPP_EdgeList"]=ic;ic.__name__=["zpp_nape","util","ZPP_EdgeList"];ic.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:ic};var jc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=
0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ShapeList"]=jc;jc.__name__=["zpp_nape","util","ZPP_ShapeList"];jc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:jc};var Yb=function(){this.user_length=
0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_InteractionGroupList"]=Yb;Yb.__name__=["zpp_nape","util","ZPP_InteractionGroupList"];Yb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=
!1,null!=this._validate&&this._validate())},__class__:Yb};var Vb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ArbiterList"]=Vb;Vb.__name__=["zpp_nape","util","ZPP_ArbiterList"];Vb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,
this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Vb};var Xb=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};e["zpp_nape.util.ZPP_ContactList"]=Xb;Xb.__name__=["zpp_nape","util","ZPP_ContactList"];Xb.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=
null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Xb};var Tf,$f=0;e.Math=Math;String.prototype.__class__=e.String=String;String.__name__=["String"];e.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=e.Date=Date;Date.__name__=["Date"];var ag=e.Int={__name__:["Int"]},bg=e.Dynamic={__name__:["Dynamic"]},Yf=e.Float=Number;Yf.__name__=["Float"];
var Zf=e.Bool=Boolean;Zf.__ename__=["Bool"];var Wf=e.Class={__name__:["Class"]},Xf={},lb={},Ee=Function("return typeof ArrayBuffer != 'undefined' ? ArrayBuffer : null")()||za;null==Ee.prototype.slice&&(Ee.prototype.slice=za.sliceImpl);Function("return typeof DataView != 'undefined' ? DataView : null")();var Vf=Function("return typeof Uint8Array != 'undefined' ? Uint8Array : null")()||$a._new;p.Element=0;p.PCData=1;p.CData=2;p.Comment=3;p.DocType=4;p.ProcessingInstruction=5;p.Document=6;i.isEventsTraceOnly=
!1;i.apiURLPrefix="http://tools.funtomic.com/";i.gameOpsVersion="0.7.1";i.apiEventsLocation="v2/events/";i.status=ma.UNINITIALIZED;i.MAX_SAVED_UNSENT_EVENTS=1E3;i.localStorage={};i.firstSession=!1;i.levelsNumbers=[];i.deferredReportEvents=[];i.timers={};U.logLevel=0;E._prefix="";E._isErrorEventsSent=0;m.tileNamesArray="bamboo1,bamboo2,bamboo3,bamboo4,bamboo5,bamboo6,bamboo7,bamboo8,bamboo9,crack1,crack2,crack3,crack4,crack5,crack6,crack7,crack8,crack9,dot1,dot2,dot3,dot4,dot5,dot6,dot7,dot8,dot9,dragon_1,dragon_2,dragon_3,wind_e,wind_n,wind_s,wind_w,flower1,flower2,flower3,flower4,season1,season2,season3,season4".split(",");
m.interMatchedType=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,1,1,1,1];m.boardAnimationInitialized=!1;t.WIDTH=800;t.HEIGHT=600;t.CRAZYMODE=!0;t.SMALL_DEVICE_MODE=!1;t.MOBILE_BROWSER=!0;t.TOTAL_LEVELS=1;t.LEVEL_1=0;t.LEVEL_2=1;t.LEVEL_3=2;t.LEVEL_TIME=[720,600,1080];k.firstBoard=!0;k.STATE_PLAYING=0;k.gameState=0;k.STATE_DONE=1;v.LanguageAbbrevations="EN,NL,FR,DE,ES,RO".split(",");v.NO_MORE_MOVES="Out of moves!,Geen zetten meer!,Il n'y a plus de coup \u00e0 jouer !,Keine Z\u00fcge mehr,\u00a1No m\u00e1s jugadas!,Out of moves!".split(",");
v.PLAY_AGAIN=["Please try again","Nogmaals spelen?","Encore une fois ?","Noch einmal spielen?","\u00bfJugar de nuevo?"];v.PLAY_SHORT="Play,STARTEN,JOUER,Spielen,Jugar,Jucati".split(",");v.HINT="Hint,Hint,Hint,Hint,Hint,Hint".split(",");v.UNDO="UNDO,STAP TERUG,UNDO,UNDO,UNDO,UNDO".split(",");v.MIX="Mix,Husselen,Mix,Mix,Mix,Mix".split(",");v.YOU_DID_IT="YOU DID IT!,GOED GEDAAN!,BIEN JOU\u00c9,GUTE PARTIE!,\u00a1BUEN JUEGO!,BINE JUCAT,YOU DID IT!".split(",");v.YOU_FINISHED_THE_GAME="YOU FINISHED THE GAME!,JE HEBT DE PUZZEL OPGELOST,YOU FINISHED THE GAME!,DU HAST DAS PUZZLE GEL\u00d6ST!,\u00a1HAS ACABADO EL JUEGO!,YOU FINISHED THE GAME!".split(",");
v.PLAY="Play again,Nogmaals spelen?,Encore une fois ?,NOCH EINMAL,Jugar,Jucati".split(",");v.PLEASE_PRESS_SHUFFLE_BUTTON_TO_CONTINUE="PLEASE PRESS THE MIX BUTTON TO CONTINUE;DRUK OP DE ONDERSTAANDE KNOP OM VERDER TE GAAN;PLEASE PRESS THE MIX BUTTON TO CONTINUE;BITTE DR\u00dcCK DIE TASTE UNTEN, UM FORTZUFAHREN;POR FAVOR, PULSA EL BOT\u00d3N DE DEBAJO PARA CONTINUAR;PLEASE PRESS THE MIX BUTTON TO CONTINUE".split(";");N.gameOverStarted=!1;sb.gamePaused=!1;r.allowNextScreen=!1;A.allSoundArrayNames="SOUNDS/GAME_INTRO,SOUNDS/WON,SOUNDS/OUT_OF_MOVES,SOUNDS/CLICK_TILE,SOUNDS/MATCH,SOUNDS/SHUFFLE_NOTIFICATION,SOUNDS/NO_MATCH,SOUNDS/hint,SOUNDS/mouseclick,SOUNDS/SHUFFLE,SOUNDS/UNDO".split(",");
A.MAX_CACHED=[1,1,1,3,4,4,4,4,2,3,3,2,2,4];A.matchesInRow=0;ba.soundFlag=!0;Xa.instance=new Xa;W.DISPATCHING_SENTINEL=new wb(null,null);j.root=new z;j.uncaughtError=new O;j.hidden=new ha(!1);j.volume=new S(1);j._platform=Xa.instance;j._calledInit=!1;ja.__meta__={obj:{assets:[{bootstrap:[{bytes:184352,md5:"181359dc9a1ddd28de17d1f7f0ee37a5",name:"buttonfont/font.fnt"},{bytes:29143,md5:"1942837cfdcdd6ea74f571acf605bf91",name:"buttonfont/font.png"},{bytes:39936,md5:"6453da07841fd7f24d25ac93b60c85e3",
name:"buttonfont/Thumbs.db"},{bytes:3180,md5:"1d58dbda254d938792e1da675d2870f8",name:"button_menu.png"},{bytes:3407,md5:"994486d9bda64b3fdd5aeaf5cb287c84",name:"button_menu_over.png"},{bytes:5220,md5:"4263a3df80d4bd86677ba437880c02b4",name:"CLICK_TILE.mp3"},{bytes:5327,md5:"442242db26468dbda0932290052fe037",name:"CLICK_TILE.ogg"},{bytes:221196,md5:"5157b6f48546f944b2625714e7ea08fd",name:"game_bg_hd.png"},{bytes:3262,md5:"007eea92e1078342b6add8dd1e433e6a",name:"language.xml"},{bytes:168572,md5:"d5227eb587d27b27088820911759ac75",
name:"logo.png"},{bytes:11577,md5:"88c96182cb30ce58113189671df9ffdc",name:"squidbyte.png"},{bytes:73728,md5:"d50a04df86779a148bd5e6df0f61869f",name:"Thumbs.db"},{bytes:8374,md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"}],hd_assets:[{bytes:3180,md5:"1d58dbda254d938792e1da675d2870f8",name:"button_prompt.png"},{bytes:3407,md5:"994486d9bda64b3fdd5aeaf5cb287c84",name:"button_prompt_over.png"},{bytes:2668,md5:"dc4a837087fa7d889c0c0fd3aa496428",name:"button_r.png"},{bytes:2674,md5:"0fa98dbf3c2ab894b179736280338973",
name:"button_r_over.png"},{bytes:2168,md5:"b5ce8563e543f547431e74f0751f8842",name:"button_s.png"},{bytes:2136,md5:"839b93037537126c147fb81e9e861956",name:"button_soff.png"},{bytes:2131,md5:"2bf714bcaa206cdb7daa54519925dae0",name:"button_soff_over.png"},{bytes:2173,md5:"bfa7fd8897041e89ffb782609cf58c2d",name:"button_s_over.png"},{bytes:2710,md5:"c7adec89d41207d44f2e4392792a44cc",name:"confirm.png"},{bytes:2768,md5:"633ca4bcf591af65c908011c2f09a241",name:"confirm_over.png"},{bytes:182567,md5:"cabcef6c4544023eefae840f91687201",
name:"fontbold15/font.fnt"},{bytes:15662,md5:"a8e43dd3c78fd3058337726f23f575cb",name:"fontbold15/font.png"},{bytes:25600,md5:"f382d82b3c2723641e316ccdd6b4f714",name:"fontbold15/Thumbs.db"},{bytes:182778,md5:"0ba52bc7c1dd62628d9833c95071a697",name:"fontbold16/font.fnt"},{bytes:17061,md5:"a0ee6a42fe0954e0641c8f1bf848cf4f",name:"fontbold16/font.png"},{bytes:183519,md5:"0e16d63465cdf774bad4917e600a6e8b",name:"fontbold20/font.fnt"},{bytes:19997,md5:"4324c35ff2df419cee5b20e48d1efa9f",name:"fontbold20/font.png"},
{bytes:183519,md5:"0e16d63465cdf774bad4917e600a6e8b",name:"fontbold24/font.fnt"},{bytes:19997,md5:"4324c35ff2df419cee5b20e48d1efa9f",name:"fontbold24/font.png"},{bytes:199227,md5:"60102983c504de28f9d6ebf7f8090443",name:"fontbold36/font.fnt"},{bytes:37477,md5:"1f65f8b226e21c5b9287d00103416c3b",name:"fontbold36/font.png"},{bytes:6373,md5:"dc63692f826f3aa99bfad46ba6b20229",name:"prompt_bg.png"},{bytes:4236,md5:"31b74f0772c0c4f3d2b0edf2319f645a",name:"SOUNDS/CLICK_TILE.m4a"},{bytes:5220,md5:"4263a3df80d4bd86677ba437880c02b4",
name:"SOUNDS/CLICK_TILE.mp3"},{bytes:5327,md5:"442242db26468dbda0932290052fe037",name:"SOUNDS/CLICK_TILE.ogg"},{bytes:114068,md5:"6f5a2f0cdf71fad52978026c6085bac5",name:"SOUNDS/GAME_INTRO.m4a"},{bytes:73035,md5:"67956a30904d48ba384a171ad0bd8d23",name:"SOUNDS/GAME_INTRO.mp3"},{bytes:54929,md5:"42767e37dcb4822e30c7bd9c71885003",name:"SOUNDS/GAME_INTRO.ogg"},{bytes:39990,md5:"5f8e0990420a121862f9002ed4ffa170",name:"SOUNDS/hint.m4a"},{bytes:25949,md5:"3c3789724522c7677c7eca14794d3254",name:"SOUNDS/hint.mp3"},
{bytes:23045,md5:"f6184d9ed21049c100b154e36c3cad86",name:"SOUNDS/hint.ogg"},{bytes:41419,md5:"6e711a904cafcaf0edfbe02c939e1d18",name:"SOUNDS/MATCH.m4a"},{bytes:25748,md5:"3a12a476b5927c6a1da590b06fade75e",name:"SOUNDS/MATCH.mp3"},{bytes:26877,md5:"098c6ea96e82d59a4c6f2039fbe5c458",name:"SOUNDS/MATCH.ogg"},{bytes:3672,md5:"75641ba64af5ed9d437b56b35e789344",name:"SOUNDS/mouseclick.m4a"},{bytes:2132,md5:"ccba9725ea113a5a878966ef211da97c",name:"SOUNDS/mouseclick.mp3"},{bytes:5811,md5:"cf1d8083bb8ccc31d0afc61e3cbf69f2",
name:"SOUNDS/mouseclick.ogg"},{bytes:29974,md5:"821fc04f4810be8e4ca9a504f9016e73",name:"SOUNDS/NO_MATCH.m4a"},{bytes:18643,md5:"78914440c20cd6d07b24e635856a30e3",name:"SOUNDS/NO_MATCH.mp3"},{bytes:16959,md5:"ab16ada10e6848edb37fef30ab1d5cc5",name:"SOUNDS/NO_MATCH.ogg"},{bytes:67738,md5:"af80cc4454625c47298a32e3ee486350",name:"SOUNDS/OUT_OF_MOVES.m4a"},{bytes:107623,md5:"1ac15cb941e0803f83e3f95ced9ce86a",name:"SOUNDS/OUT_OF_MOVES.mp3"},{bytes:36745,md5:"4eab8e33f107cb8c1883554064412a85",name:"SOUNDS/OUT_OF_MOVES.ogg"},
{bytes:14529,md5:"833e7af8406de3b5b5efaa555a8cbc67",name:"SOUNDS/SHUFFLE.m4a"},{bytes:12283,md5:"432d80d05f97a59e53418aa31be501cc",name:"SOUNDS/SHUFFLE.mp3"},{bytes:10441,md5:"f24c2b0380e45fd4481bf423f3c94082",name:"SOUNDS/SHUFFLE.ogg"},{bytes:55342,md5:"c2ee0ee1fea58bda446c8dc1ef211735",name:"SOUNDS/SHUFFLE_NOTIFICATION.m4a"},{bytes:35361,md5:"31738e4bb7b3646c3bfb771653b7eaca",name:"SOUNDS/SHUFFLE_NOTIFICATION.mp3"},{bytes:28589,md5:"35e3eaacfc4a6880b9642f36183131ee",name:"SOUNDS/SHUFFLE_NOTIFICATION.ogg"},
{bytes:28070,md5:"da7e0b46d869430ad66178725fd711ed",name:"SOUNDS/UNDO.m4a"},{bytes:47982,md5:"be7d653663006901726d6b4366b3e6cc",name:"SOUNDS/UNDO.mp3"},{bytes:17584,md5:"2017837c7c7d1a4f56c2ee12f2c235d5",name:"SOUNDS/UNDO.ogg"},{bytes:175265,md5:"19980783c5dfe1e5880a400d7f76f3e5",name:"SOUNDS/WON.m4a"},{bytes:282121,md5:"166edf556deeded3f481f3cfe4c910e7",name:"SOUNDS/WON.mp3"},{bytes:96221,md5:"8b87e1c89497f363784e7e2f5aa615c0",name:"SOUNDS/WON.ogg"},{bytes:8280,md5:"415b2644b12b03968937c60a65a76cb9",
name:"tiles/bamboo1.png"},{bytes:6415,md5:"604e30e0c20b8a27af6aaf416e5fc0c2",name:"tiles/bamboo2.png"},{bytes:7041,md5:"7fa3ed11d3b917be89da1d8255f326c8",name:"tiles/bamboo3.png"},{bytes:7585,md5:"a8302e86232a890d0be9d828b50270a9",name:"tiles/bamboo4.png"},{bytes:7840,md5:"55bc8e9b99f99b714dc2eef9f6aa024a",name:"tiles/bamboo5.png"},{bytes:8476,md5:"24b3eb8da97e6a8ce109c5aaf9ccdbb4",name:"tiles/bamboo6.png"},{bytes:7575,md5:"6acad084e34a206c9d85e282e91710ad",name:"tiles/bamboo7.png"},{bytes:7900,md5:"7b82dea451c4c7b73c182404b4431f80",
name:"tiles/bamboo8.png"},{bytes:8407,md5:"260b144567a096f8c61ebf2232b1f670",name:"tiles/bamboo9.png"},{bytes:6911,md5:"51fac793d5d71eab5bae921ea418179e",name:"tiles/crack1.png"},{bytes:7143,md5:"1ac364b4020a615cfd8e6e9ebe21122b",name:"tiles/crack2.png"},{bytes:7302,md5:"532c2ad125794ec5ed2705bfe5d62424",name:"tiles/crack3.png"},{bytes:7222,md5:"8c6671e76d22290ca79a22e56c373b18",name:"tiles/crack4.png"},{bytes:7195,md5:"ce7958a70cb14588ae05a0a868c51454",name:"tiles/crack5.png"},{bytes:6980,md5:"52574c57d77ba3962abe0a0b0b0aef97",
name:"tiles/crack6.png"},{bytes:7007,md5:"7d84a508533cc1fbc60f1bad5dcd8b20",name:"tiles/crack7.png"},{bytes:6928,md5:"eb522b2a24bf296550bc78849b66f30f",name:"tiles/crack8.png"},{bytes:7150,md5:"0dc76dca71a85f898ada0aad863d03f9",name:"tiles/crack9.png"},{bytes:7953,md5:"dc2d35811da5085c08ca4d8bad312d18",name:"tiles/dot1.png"},{bytes:7740,md5:"b7737c17752d9d4c93db8ad57e15e9eb",name:"tiles/dot2.png"},{bytes:7751,md5:"36fabc0c17aca44645a11ce04a298027",name:"tiles/dot3.png"},{bytes:8278,md5:"4a322412772303c74b8328728d1e347b",
name:"tiles/dot4.png"},{bytes:8720,md5:"e92b8436312608df4517dde089f93fe9",name:"tiles/dot5.png"},{bytes:9136,md5:"64b72ce488c42db3006b889a9b81adc7",name:"tiles/dot6.png"},{bytes:8513,md5:"1f0a233b0a532626ed4ef80d3b85b613",name:"tiles/dot7.png"},{bytes:8929,md5:"67fa0723e4af4dfb733ac86ad910d3a6",name:"tiles/dot8.png"},{bytes:8972,md5:"61927991cead483477b1d5a03cb75c57",name:"tiles/dot9.png"},{bytes:6970,md5:"43f29eaeabb869ba13b57cb969cc0dcf",name:"tiles/dragon_1.png"},{bytes:6450,md5:"0a1fcae50d4eec34ae231c7e6d53d560",
name:"tiles/dragon_2.png"},{bytes:7431,md5:"f5b0ff6fd62e4f7bf5f561e5a373bf58",name:"tiles/dragon_3.png"},{bytes:7899,md5:"467e47c937bf160298ffe238b6a71846",name:"tiles/flower1.png"},{bytes:7829,md5:"0dec3bf38d6530370bc976e47c7de327",name:"tiles/flower2.png"},{bytes:8231,md5:"18c358351def6a2ae23776bfe008f7f5",name:"tiles/flower3.png"},{bytes:7399,md5:"1c0fcd330cfe20a58c67ad7d9879c86e",name:"tiles/flower4.png"},{bytes:1353,md5:"40872876eef41d1eb57a194b4d62bcf9",name:"tiles/hint.png"},{bytes:7445,md5:"9c8b30ca0176e5d8a7e5b1ec8407ac82",
name:"tiles/season1.png"},{bytes:7475,md5:"7499859bc7c71653485c76c00a764cdc",name:"tiles/season2.png"},{bytes:6755,md5:"0a068951a2c66cf2671d42cdb14f1943",name:"tiles/season3.png"},{bytes:6512,md5:"275c8e5c8e35891a2b0070c3db30896d",name:"tiles/season4.png"},{bytes:1356,md5:"102f1edf5ffa2fbd495d6abeaa4ecafb",name:"tiles/select.png"},{bytes:2569,md5:"4dc52627f4e0bdba4fc007eefb53f00e",name:"tiles/Shadow.png"},{bytes:7401,md5:"f26f7d92966b0b6a7911b052c386c47a",name:"tiles/TILES.png"},{bytes:7002,md5:"6568990987a620c94abfdca4afa65134",
name:"tiles/wind_e.png"},{bytes:6632,md5:"c501c269dd5c6adb662338e2ed311fff",name:"tiles/wind_n.png"},{bytes:7085,md5:"8e48c120c3fa3a85d81c7bbe78b8ba6c",name:"tiles/wind_s.png"},{bytes:7146,md5:"8510a5d1d839c0ea386da0769ba9b095",name:"tiles/wind_w.png"},{bytes:3558,md5:"92dd3a0025a60036585c58e60f941655",name:"tile_blank.png"},{bytes:4081,md5:"4cf786ee3deef6e3d0769a20bd1f563d",name:"tile_hint_blank.png"},{bytes:3982,md5:"3d4ca7a07c2c7a1a7996f433890e8d2b",name:"tile_selected_blank.png"},{bytes:8374,
md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"},{bytes:1985,md5:"a0d74b581d89e33e221dbd0ddd1bbe59",name:"ui/button.png"},{bytes:1966,md5:"eea8c0bca6d9b3c2d4213580de2154ed",name:"ui/button_over.png"},{bytes:2962,md5:"993e624cfa2dcc3d272679d4637358f7",name:"ui/button_pauze.png"},{bytes:3013,md5:"f8d7f906f78e1b5f2b36d613a2164580",name:"ui/button_pauze_over.png"},{bytes:3848,md5:"d49bfcada6a76fd1bacee060ca3c763b",name:"ui/display_matches.png"},{bytes:2751,md5:"50418777743188db91a427e400a1eb7f",
name:"ui/display_score.png"},{bytes:2984,md5:"48f12eb38b8ab4645baab331ad15a605",name:"ui/display_tiles.png"},{bytes:1951,md5:"2edbf025c9b815cfb56f2b4e77a5644d",name:"ui/display_time.png"},{bytes:2399,md5:"694b3c8fe44063d8d736212a6b6e8de0",name:"ui/fullscreen_under.png"},{bytes:22528,md5:"1483b18e56a354ab41e83bf6d36e7dbb",name:"ui/Thumbs.db"}]}]}};ja._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||
null;return a}();G._scratchPoint=new rd;ga.NEWLINE=new Oc(10);sa._sharedEvent=new wd;ia._sharedEvent=new xd;Y._sharedEvent=new yd;vb.CANVAS_TEXTURES=(new ua("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);K._mediaRefCount=0;K._detectBlobSupport=!0;B.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];B.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new ua("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);F._detectSupport=!0;wa.USE_CACHE=!1;wa.USE_ENUM_INDEX=!1;wa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
aa.DEFAULT_RESOLVER=P;aa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";mb.count=0;ya.i64tmp=new Nd(0,0);Wa.escapes=function(){var a=new ea;null!=lb.lt?a.setReserved("lt","<"):a.h.lt="<";null!=lb.gt?a.setReserved("gt",">"):a.h.gt=">";null!=lb.amp?a.setReserved("amp","&"):a.h.amp="&";null!=lb.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=lb.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);L.__toStr={}.toString;$a.BYTES_PER_ELEMENT=1;jd._CbType=0;ta.ANY_SHAPE=
new Cb;ta.ANY_BODY=new Cb;ta.ANY_COMPOUND=new Cb;ta.ANY_CONSTRAINT=new Cb;g.internal=!1;$.internal=!1;$.COL=1;$.FLUID=4;kc.internal=!1;lc.internal=!1;Ub.internal=!1;dc.internal=!1;hc.internal=!1;fc.internal=!1;Tb.internal=!1;Va.internal=!1;bc.internal=!1;$b.internal=!1;ac.internal=!1;Zb.internal=!1;ic.internal=!1;jc.internal=!1;Yb.internal=!1;Vb.internal=!1;Xb.internal=!1;h.main()})();
